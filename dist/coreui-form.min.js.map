{"version":3,"sources":["coreui.form.js","coreui.form.ejs.js","coreui.form.mask.js","coreui.form.utils.js","coreui.form.instance.js","coreui.form.templates.js","checkbox.js","color.js","custom.js","dataset.js","group.js","hidden.js","input.js","mask.js","modal.js","number.js","radio.js","range.js","select.js","switch.js","textarea.js","wysiwyg.js","button.js","link.js","submit.js","en.js","ru.js"],"names":["CoreUI","form","lang","fields","controls","_instances","_settings","labelWidth","class","errorMessageScrollOffset","create","options","let","instance","$","extend","this","formId","_init","Object","getId","get","id","hasOwnProperty","setSettings","settings","getSetting","name","value","f","exports","module","define","amd","window","global","self","ejs","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","1","fs","path","utils","scopeOptionWarned","_VERSION_STRING","version","_DEFAULT_LOCALS_NAME","_OPTS_PASSABLE_WITH_DATA","_OPTS_PASSABLE_WITH_DATA_EXPRESS","concat","_BOM","_JS_IDENTIFIER","resolvePaths","paths","filePath","some","v","resolveInclude","existsSync","handleCache","template","func","filename","hasTemplate","arguments","cache","fileLoader","toString","replace","compile","set","includeFile","opts","shallowCopy","createNullProtoObjWherePossible","includePath","views","match","exec","Array","isArray","root","includer","escapeFunction","includerResult","rethrow","err","str","flnm","lineno","esc","lines","split","start","Math","max","end","min","context","slice","map","line","curr","join","message","stripSemi","Template","text","templateText","mode","truncate","currentLine","source","client","escape","escapeXML","compileDebug","debug","openDelimiter","closeDelimiter","delimiter","strict","rmWhitespace","outputFunctionName","localsName","async","destructuredLocals","legacyInclude","_with","regex","createRegex","readFileSync","promiseImpl","Function","Promise","isDir","dirname","extname","resolve","scope","console","warn","render","d","data","shallowCopyFromList","renderFile","cb","result","args","prototype","shift","pop","viewOpts","reject","clearCache","reset","modes","EVAL","ESCAPED","RAW","COMMENT","LITERAL","delim","escapeRegExpChars","open","close","RegExp","fn","prepended","appended","escapeFn","sanitizedFilename","JSON","stringify","generateSource","test","destructuring","src","log","ctor","SyntaxError","returnedFn","apply","includeData","defineProperty","basename","writable","enumerable","configurable","matches","parseTemplateText","forEach","index","indexOf","closing","scanLine","firstPos","pat","arr","push","substring","_addOutput","newLineCount","lastIndexOf","__express","VERSION","../package.json","./utils","2","hasOwn","obj","key","regExpChars","_ENCODE_HTML_RULES","string","String","&","<",">","\"","'","_MATCH_HTML","encode_char","escapeXMLToString","markup","undefined","to","from","list","_data","val","remove","hyphenToCamel","toUpperCase","__proto__","3","4","process","normalizeArray","parts","allowAboveRoot","up","last","splice","unshift","filter","xs","res","resolvedPath","resolvedAbsolute","cwd","TypeError","charAt","normalize","isAbsolute","trailingSlash","substr","relative","trim","fromParts","toParts","samePartsLength","outputParts","sep","hasRoot","charCodeAt","matchedSlash","ext","startDot","startPart","preDotState","len","_process","5","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","setTimeout","clearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","runClearTimeout","marker","Item","array","noop","nextTick","title","browser","env","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","chdir","dir","umask","6","description","keywords","author","license","bin","main","jsdelivr","unpkg","repository","type","url","bugs","homepage","dependencies","jake","devDependencies","browserify","eslint","git-directory-deploy","jsdoc","lru-cache","mocha","uglify-js","engines","node","scripts","$jscomp","findInternal","k","b","ASSUME_ES5","ASSUME_NO_NATIVE_MAP","ASSUME_NO_NATIVE_SET","SIMPLE_FROUND_POLYFILL","defineProperties","getGlobal","polyfill","invalid","getCaret","h","document","selection","selectionStart","navigator","appVersion","createRange","moveStart","C","setCaret","g","is","setSelectionRange","createTextRange","collapse","moveEnd","select","B","events","keyCode","which","maskDigitPosMapOld","maskDigitPosMap","jMaskGlobals","useInput","behaviour","keydown","keyup","trigger","selectOnFocus","target","clearIfNotMatch","getRegexMask","l","translation","pattern","optional","recursive","digit","destroyEvents","calculateCaretPosition","getMasked","m","event","inArray","byPassKeys","keyStrokeCompensation","callbacks","x","A","z","w","reverse","y","q","fallback","mapMaskdigitPositions","mask","placeholder","removeAttr","getCleanVal","getMaskedVal","init","attr","maskWatchers","createElement","setAttribute","selector","watchInterval","watchInputs","each","clearInterval","setInterval","find","masked","unmask","removeData","cleanVal","applyDataMask","maskElements","dataMaskAttr","dataMask","userAgent","watchDataMask","0","9","#","S","jQuery","Zepto","Meteor","getFieldValue","fieldOptions","formRecord","getRecord","getFunctionByName","functionName","namespaces","mergeFieldOptions","defaultOptions","mergeAttr","width","unit","_options","fieldWidth","attr1","attr2","assign","getAttacheFields","field","initField","hash","_hash","direction","fieldsDirection","content","renderContent","formatDate","year","day","month","date","Date","getFullYear","getMonth","getDate","formatDateTime","getHours","getMinutes","getSeconds","formatDateMonth","date_months","formatDateWeek","week","date_week","isNumeric","num","isNaN","hashCode","crc32","getTime","random","round","number","precision","pow","parseInt","save","method","minWidth","maxWidth","controlsOffset","readonly","validate","errorClass","layout","onSubmit","record","_lock","_fieldsIndex","_groupsIndex","_controlsIndex","_groups","_fields","_controls","_events","initEvents","that","formContainer","send","_trigger","element","widthSizes","formAttr","matchAll","columns","columnsContent","column","initGroup","keys","fieldContents","control","initControl","show","html","tpl","domElement","getElementById","HTMLElement","innerHTML","lock","controlOptions","getOptions","unlock","isValid","onsubmit","getData","eval","onSubmitResult","results","isStopSend","ajax","beforeSend","xhr","success","hideError","error","textStatus","errorThrown","errorMessage","getLang","send_error","parsedResponse","parse","responseText","error_message","showError","complete","getValue","getFields","getControls","getGroups","getField","fieldInstance","isReadonly","hide","showControls","hideControls","formError","errorOptions","dismiss","prepend","scroll","scrollOffset","animate","scrollTop","offset","top","eventName","callback","singleExec","destruct","setValue","group","groupInstance","expand","controlInstance","params","_renderControl","checkbox","_id","_form","_index","_value","label","inline","outContent","errorText","required","duration","values","empty","selectedItems","option","prop","itemValue","container","lastInput","inputs","removeClass","addClass","validText","append","invalidText","required_field","attachFields","checkboxOptions","attributes","itemAttr","optionText","checked","color","attach","datalist","input","_renderContentReadonly","_renderContent","datalistId","style","itemAttributes","datalistAttr","custom","alloyComponents","components","component","dataset","_renderOptions","_initEvents","items","valueY","valueN","serializeArray","item","_renderRowReadonly","_eventAdd","removeItems","removeItem","itemId","rows","headers","row","_renderRow","click","rowOptions","itemOptions","cellValue","cellItemValue","selected","hashItem","optionValue","switch_yes","switch_no","showCollapsible","slideUp","slideDown","hidden","modal","_text","size","onHidden","onClear","onChange","elementValue","elementText","oldValue","textAttr","modalId","modalLoading","onShow","step","Number","shiftKey","ctrlKey","altKey","preventDefault","blur","radio","radioOptions","selectedItem","range","selectOptions","renderAttr","groupAttr","groupOptions","groupOption","_renderOption","selectedOptions","optionAttr","switch","switchContainer","textarea","wysiwyg","_editor","_editorHash","height","minHeight","maxHeight","getContent","setContent","editorHash","tinyMceOptions","than","textareaId","plugins","toolbar","menubar","branding","promotion","min_width","max_width","min_height","max_height","tinymce","then","button","href","onClick","link","submit","en","modal_select","modal_loading","dataset_add","ru"],"mappings":"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","file":"coreui-form.min.js","sourcesContent":["\r\nvar CoreUI = typeof CoreUI !== 'undefined' ? CoreUI : {};\r\n\r\nCoreUI.form = {\r\n\r\n    lang: {},\r\n    fields: {},\r\n    controls: {},\r\n\r\n    _instances: {},\r\n    _settings: {\r\n        labelWidth: 200,\r\n        lang: 'en',\r\n        class: '',\r\n        errorMessageScrollOffset: 70\r\n    },\r\n\r\n\r\n    /**\r\n     * Создание экземпляра формы\r\n     * @param {object} options\r\n     * @returns {CoreUI.form.instance}\r\n     */\r\n    create: function (options) {\r\n\r\n        let instance = $.extend(true, {}, this.instance);\r\n        instance._init(options instanceof Object ? options : {});\r\n\r\n        let formId = instance.getId();\r\n        this._instances[formId] = instance;\r\n\r\n        return instance;\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение экземпляра формы по id\r\n     * @param {string} id\r\n     * @returns {CoreUI.form.instance|null}\r\n     */\r\n    get: function (id) {\r\n\r\n        if ( ! this._instances.hasOwnProperty(id)) {\r\n            return null;\r\n        }\r\n\r\n        if ($('#coreui-form-' + this._instances[id])[0]) {\r\n            delete this._instances[id];\r\n            return null;\r\n        }\r\n\r\n        return this._instances[id];\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка настроек\r\n     * @param {object} settings\r\n     */\r\n    setSettings: function(settings) {\r\n\r\n        CoreUI.form._settings = $.extend({}, this._settings, settings);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение значения настройки\r\n     * @param {string} name\r\n     */\r\n    getSetting: function(name) {\r\n\r\n        let value = null;\r\n\r\n        if (CoreUI.form._settings.hasOwnProperty(name)) {\r\n            value = CoreUI.form._settings[name];\r\n        }\r\n\r\n        return value;\r\n    }\r\n}","(function() {\"use strict\";(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.ejs=f()}})(function(){var define,module,exports;return function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){\"use strict\";var fs=require(\"fs\");var path=require(\"path\");var utils=require(\"./utils\");var scopeOptionWarned=false;var _VERSION_STRING=require(\"../package.json\").version;var _DEFAULT_OPEN_DELIMITER=\"<\";var _DEFAULT_CLOSE_DELIMITER=\">\";var _DEFAULT_DELIMITER=\"%\";var _DEFAULT_LOCALS_NAME=\"locals\";var _NAME=\"ejs\";var _REGEX_STRING=\"(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)\";var _OPTS_PASSABLE_WITH_DATA=[\"delimiter\",\"scope\",\"context\",\"debug\",\"compileDebug\",\"client\",\"_with\",\"rmWhitespace\",\"strict\",\"filename\",\"async\"];var _OPTS_PASSABLE_WITH_DATA_EXPRESS=_OPTS_PASSABLE_WITH_DATA.concat(\"cache\");var _BOM=/^\\uFEFF/;var _JS_IDENTIFIER=/^[a-zA-Z_$][0-9a-zA-Z_$]*$/;exports.cache=utils.cache;exports.fileLoader=fs.readFileSync;exports.localsName=_DEFAULT_LOCALS_NAME;exports.promiseImpl=new Function(\"return this;\")().Promise;exports.resolveInclude=function(name,filename,isDir){var dirname=path.dirname;var extname=path.extname;var resolve=path.resolve;var includePath=resolve(isDir?filename:dirname(filename),name);var ext=extname(name);if(!ext){includePath+=\".ejs\"}return includePath};function resolvePaths(name,paths){var filePath;if(paths.some(function(v){filePath=exports.resolveInclude(name,v,true);return fs.existsSync(filePath)})){return filePath}}function getIncludePath(path,options){var includePath;var filePath;var views=options.views;var match=/^[A-Za-z]+:\\\\|^\\//.exec(path);if(match&&match.length){path=path.replace(/^\\/*/,\"\");if(Array.isArray(options.root)){includePath=resolvePaths(path,options.root)}else{includePath=exports.resolveInclude(path,options.root||\"/\",true)}}else{if(options.filename){filePath=exports.resolveInclude(path,options.filename);if(fs.existsSync(filePath)){includePath=filePath}}if(!includePath&&Array.isArray(views)){includePath=resolvePaths(path,views)}if(!includePath&&typeof options.includer!==\"function\"){throw new Error('Could not find the include file \"'+options.escapeFunction(path)+'\"')}}return includePath}function handleCache(options,template){var func;var filename=options.filename;var hasTemplate=arguments.length>1;if(options.cache){if(!filename){throw new Error(\"cache option requires a filename\")}func=exports.cache.get(filename);if(func){return func}if(!hasTemplate){template=fileLoader(filename).toString().replace(_BOM,\"\")}}else if(!hasTemplate){if(!filename){throw new Error(\"Internal EJS error: no file name or template \"+\"provided\")}template=fileLoader(filename).toString().replace(_BOM,\"\")}func=exports.compile(template,options);if(options.cache){exports.cache.set(filename,func)}return func}function tryHandleCache(options,data,cb){var result;if(!cb){if(typeof exports.promiseImpl==\"function\"){return new exports.promiseImpl(function(resolve,reject){try{result=handleCache(options)(data);resolve(result)}catch(err){reject(err)}})}else{throw new Error(\"Please provide a callback function\")}}else{try{result=handleCache(options)(data)}catch(err){return cb(err)}cb(null,result)}}function fileLoader(filePath){return exports.fileLoader(filePath)}function includeFile(path,options){var opts=utils.shallowCopy(utils.createNullProtoObjWherePossible(),options);opts.filename=getIncludePath(path,opts);if(typeof options.includer===\"function\"){var includerResult=options.includer(path,opts.filename);if(includerResult){if(includerResult.filename){opts.filename=includerResult.filename}if(includerResult.template){return handleCache(opts,includerResult.template)}}}return handleCache(opts)}function rethrow(err,str,flnm,lineno,esc){var lines=str.split(\"\\n\");var start=Math.max(lineno-3,0);var end=Math.min(lines.length,lineno+3);var filename=esc(flnm);var context=lines.slice(start,end).map(function(line,i){var curr=i+start+1;return(curr==lineno?\" >> \":\"    \")+curr+\"| \"+line}).join(\"\\n\");err.path=filename;err.message=(filename||\"ejs\")+\":\"+lineno+\"\\n\"+context+\"\\n\\n\"+err.message;throw err}function stripSemi(str){return str.replace(/;(\\s*$)/,\"$1\")}exports.compile=function compile(template,opts){var templ;if(opts&&opts.scope){if(!scopeOptionWarned){console.warn(\"`scope` option is deprecated and will be removed in EJS 3\");scopeOptionWarned=true}if(!opts.context){opts.context=opts.scope}delete opts.scope}templ=new Template(template,opts);return templ.compile()};exports.render=function(template,d,o){var data=d||utils.createNullProtoObjWherePossible();var opts=o||utils.createNullProtoObjWherePossible();if(arguments.length==2){utils.shallowCopyFromList(opts,data,_OPTS_PASSABLE_WITH_DATA)}return handleCache(opts,template)(data)};exports.renderFile=function(){var args=Array.prototype.slice.call(arguments);var filename=args.shift();var cb;var opts={filename:filename};var data;var viewOpts;if(typeof arguments[arguments.length-1]==\"function\"){cb=args.pop()}if(args.length){data=args.shift();if(args.length){utils.shallowCopy(opts,args.pop())}else{if(data.settings){if(data.settings.views){opts.views=data.settings.views}if(data.settings[\"view cache\"]){opts.cache=true}viewOpts=data.settings[\"view options\"];if(viewOpts){utils.shallowCopy(opts,viewOpts)}}utils.shallowCopyFromList(opts,data,_OPTS_PASSABLE_WITH_DATA_EXPRESS)}opts.filename=filename}else{data=utils.createNullProtoObjWherePossible()}return tryHandleCache(opts,data,cb)};exports.Template=Template;exports.clearCache=function(){exports.cache.reset()};function Template(text,opts){opts=opts||utils.createNullProtoObjWherePossible();var options=utils.createNullProtoObjWherePossible();this.templateText=text;this.mode=null;this.truncate=false;this.currentLine=1;this.source=\"\";options.client=opts.client||false;options.escapeFunction=opts.escape||opts.escapeFunction||utils.escapeXML;options.compileDebug=opts.compileDebug!==false;options.debug=!!opts.debug;options.filename=opts.filename;options.openDelimiter=opts.openDelimiter||exports.openDelimiter||_DEFAULT_OPEN_DELIMITER;options.closeDelimiter=opts.closeDelimiter||exports.closeDelimiter||_DEFAULT_CLOSE_DELIMITER;options.delimiter=opts.delimiter||exports.delimiter||_DEFAULT_DELIMITER;options.strict=opts.strict||false;options.context=opts.context;options.cache=opts.cache||false;options.rmWhitespace=opts.rmWhitespace;options.root=opts.root;options.includer=opts.includer;options.outputFunctionName=opts.outputFunctionName;options.localsName=opts.localsName||exports.localsName||_DEFAULT_LOCALS_NAME;options.views=opts.views;options.async=opts.async;options.destructuredLocals=opts.destructuredLocals;options.legacyInclude=typeof opts.legacyInclude!=\"undefined\"?!!opts.legacyInclude:true;if(options.strict){options._with=false}else{options._with=typeof opts._with!=\"undefined\"?opts._with:true}this.opts=options;this.regex=this.createRegex()}Template.modes={EVAL:\"eval\",ESCAPED:\"escaped\",RAW:\"raw\",COMMENT:\"comment\",LITERAL:\"literal\"};Template.prototype={createRegex:function(){var str=_REGEX_STRING;var delim=utils.escapeRegExpChars(this.opts.delimiter);var open=utils.escapeRegExpChars(this.opts.openDelimiter);var close=utils.escapeRegExpChars(this.opts.closeDelimiter);str=str.replace(/%/g,delim).replace(/</g,open).replace(/>/g,close);return new RegExp(str)},compile:function(){var src;var fn;var opts=this.opts;var prepended=\"\";var appended=\"\";var escapeFn=opts.escapeFunction;var ctor;var sanitizedFilename=opts.filename?JSON.stringify(opts.filename):\"undefined\";if(!this.source){this.generateSource();prepended+='  var __output = \"\";\\n'+\"  function __append(s) { if (s !== undefined && s !== null) __output += s }\\n\";if(opts.outputFunctionName){if(!_JS_IDENTIFIER.test(opts.outputFunctionName)){throw new Error(\"outputFunctionName is not a valid JS identifier.\")}prepended+=\"  var \"+opts.outputFunctionName+\" = __append;\"+\"\\n\"}if(opts.localsName&&!_JS_IDENTIFIER.test(opts.localsName)){throw new Error(\"localsName is not a valid JS identifier.\")}if(opts.destructuredLocals&&opts.destructuredLocals.length){var destructuring=\"  var __locals = (\"+opts.localsName+\" || {}),\\n\";for(var i=0;i<opts.destructuredLocals.length;i++){var name=opts.destructuredLocals[i];if(!_JS_IDENTIFIER.test(name)){throw new Error(\"destructuredLocals[\"+i+\"] is not a valid JS identifier.\")}if(i>0){destructuring+=\",\\n  \"}destructuring+=name+\" = __locals.\"+name}prepended+=destructuring+\";\\n\"}if(opts._with!==false){prepended+=\"  with (\"+opts.localsName+\" || {}) {\"+\"\\n\";appended+=\"  }\"+\"\\n\"}appended+=\"  return __output;\"+\"\\n\";this.source=prepended+this.source+appended}if(opts.compileDebug){src=\"var __line = 1\"+\"\\n\"+\"  , __lines = \"+JSON.stringify(this.templateText)+\"\\n\"+\"  , __filename = \"+sanitizedFilename+\";\"+\"\\n\"+\"try {\"+\"\\n\"+this.source+\"} catch (e) {\"+\"\\n\"+\"  rethrow(e, __lines, __filename, __line, escapeFn);\"+\"\\n\"+\"}\"+\"\\n\"}else{src=this.source}if(opts.client){src=\"escapeFn = escapeFn || \"+escapeFn.toString()+\";\"+\"\\n\"+src;if(opts.compileDebug){src=\"rethrow = rethrow || \"+rethrow.toString()+\";\"+\"\\n\"+src}}if(opts.strict){src='\"use strict\";\\n'+src}if(opts.debug){console.log(src)}if(opts.compileDebug&&opts.filename){src=src+\"\\n\"+\"//# sourceURL=\"+sanitizedFilename+\"\\n\"}try{if(opts.async){try{ctor=new Function(\"return (async function(){}).constructor;\")()}catch(e){if(e instanceof SyntaxError){throw new Error(\"This environment does not support async/await\")}else{throw e}}}else{ctor=Function}fn=new ctor(opts.localsName+\", escapeFn, include, rethrow\",src)}catch(e){if(e instanceof SyntaxError){if(opts.filename){e.message+=\" in \"+opts.filename}e.message+=\" while compiling ejs\\n\\n\";e.message+=\"If the above error is not helpful, you may want to try EJS-Lint:\\n\";e.message+=\"https://github.com/RyanZim/EJS-Lint\";if(!opts.async){e.message+=\"\\n\";e.message+=\"Or, if you meant to create an async function, pass `async: true` as an option.\"}}throw e}var returnedFn=opts.client?fn:function anonymous(data){var include=function(path,includeData){var d=utils.shallowCopy(utils.createNullProtoObjWherePossible(),data);if(includeData){d=utils.shallowCopy(d,includeData)}return includeFile(path,opts)(d)};return fn.apply(opts.context,[data||utils.createNullProtoObjWherePossible(),escapeFn,include,rethrow])};if(opts.filename&&typeof Object.defineProperty===\"function\"){var filename=opts.filename;var basename=path.basename(filename,path.extname(filename));try{Object.defineProperty(returnedFn,\"name\",{value:basename,writable:false,enumerable:false,configurable:true})}catch(e){}}return returnedFn},generateSource:function(){var opts=this.opts;if(opts.rmWhitespace){this.templateText=this.templateText.replace(/[\\r\\n]+/g,\"\\n\").replace(/^\\s+|\\s+$/gm,\"\")}this.templateText=this.templateText.replace(/[ \\t]*<%_/gm,\"<%_\").replace(/_%>[ \\t]*/gm,\"_%>\");var self=this;var matches=this.parseTemplateText();var d=this.opts.delimiter;var o=this.opts.openDelimiter;var c=this.opts.closeDelimiter;if(matches&&matches.length){matches.forEach(function(line,index){var closing;if(line.indexOf(o+d)===0&&line.indexOf(o+d+d)!==0){closing=matches[index+2];if(!(closing==d+c||closing==\"-\"+d+c||closing==\"_\"+d+c)){throw new Error('Could not find matching close tag for \"'+line+'\".')}}self.scanLine(line)})}},parseTemplateText:function(){var str=this.templateText;var pat=this.regex;var result=pat.exec(str);var arr=[];var firstPos;while(result){firstPos=result.index;if(firstPos!==0){arr.push(str.substring(0,firstPos));str=str.slice(firstPos)}arr.push(result[0]);str=str.slice(result[0].length);result=pat.exec(str)}if(str){arr.push(str)}return arr},_addOutput:function(line){if(this.truncate){line=line.replace(/^(?:\\r\\n|\\r|\\n)/,\"\");this.truncate=false}if(!line){return line}line=line.replace(/\\\\/g,\"\\\\\\\\\");line=line.replace(/\\n/g,\"\\\\n\");line=line.replace(/\\r/g,\"\\\\r\");line=line.replace(/\"/g,'\\\\\"');this.source+='    ; __append(\"'+line+'\")'+\"\\n\"},scanLine:function(line){var self=this;var d=this.opts.delimiter;var o=this.opts.openDelimiter;var c=this.opts.closeDelimiter;var newLineCount=0;newLineCount=line.split(\"\\n\").length-1;switch(line){case o+d:case o+d+\"_\":this.mode=Template.modes.EVAL;break;case o+d+\"=\":this.mode=Template.modes.ESCAPED;break;case o+d+\"-\":this.mode=Template.modes.RAW;break;case o+d+\"#\":this.mode=Template.modes.COMMENT;break;case o+d+d:this.mode=Template.modes.LITERAL;this.source+='    ; __append(\"'+line.replace(o+d+d,o+d)+'\")'+\"\\n\";break;case d+d+c:this.mode=Template.modes.LITERAL;this.source+='    ; __append(\"'+line.replace(d+d+c,d+c)+'\")'+\"\\n\";break;case d+c:case\"-\"+d+c:case\"_\"+d+c:if(this.mode==Template.modes.LITERAL){this._addOutput(line)}this.mode=null;this.truncate=line.indexOf(\"-\")===0||line.indexOf(\"_\")===0;break;default:if(this.mode){switch(this.mode){case Template.modes.EVAL:case Template.modes.ESCAPED:case Template.modes.RAW:if(line.lastIndexOf(\"//\")>line.lastIndexOf(\"\\n\")){line+=\"\\n\"}}switch(this.mode){case Template.modes.EVAL:this.source+=\"    ; \"+line+\"\\n\";break;case Template.modes.ESCAPED:this.source+=\"    ; __append(escapeFn(\"+stripSemi(line)+\"))\"+\"\\n\";break;case Template.modes.RAW:this.source+=\"    ; __append(\"+stripSemi(line)+\")\"+\"\\n\";break;case Template.modes.COMMENT:break;case Template.modes.LITERAL:this._addOutput(line);break}}else{this._addOutput(line)}}if(self.opts.compileDebug&&newLineCount){this.currentLine+=newLineCount;this.source+=\"    ; __line = \"+this.currentLine+\"\\n\"}}};exports.escapeXML=utils.escapeXML;exports.__express=exports.renderFile;exports.VERSION=_VERSION_STRING;exports.name=_NAME;if(typeof window!=\"undefined\"){window.ejs=exports}},{\"../package.json\":6,\"./utils\":2,fs:3,path:4}],2:[function(require,module,exports){\"use strict\";var regExpChars=/[|\\\\{}()[\\]^$+*?.]/g;var hasOwnProperty=Object.prototype.hasOwnProperty;var hasOwn=function(obj,key){return hasOwnProperty.apply(obj,[key])};exports.escapeRegExpChars=function(string){if(!string){return\"\"}return String(string).replace(regExpChars,\"\\\\$&\")};var _ENCODE_HTML_RULES={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&#34;\",\"'\":\"&#39;\"};var _MATCH_HTML=/[&<>'\"]/g;function encode_char(c){return _ENCODE_HTML_RULES[c]||c}var escapeFuncStr=\"var _ENCODE_HTML_RULES = {\\n\"+'      \"&\": \"&amp;\"\\n'+'    , \"<\": \"&lt;\"\\n'+'    , \">\": \"&gt;\"\\n'+'    , \\'\"\\': \"&#34;\"\\n'+'    , \"\\'\": \"&#39;\"\\n'+\"    }\\n\"+\"  , _MATCH_HTML = /[&<>'\\\"]/g;\\n\"+\"function encode_char(c) {\\n\"+\"  return _ENCODE_HTML_RULES[c] || c;\\n\"+\"};\\n\";exports.escapeXML=function(markup){return markup==undefined?\"\":String(markup).replace(_MATCH_HTML,encode_char)};function escapeXMLToString(){return Function.prototype.toString.call(this)+\";\\n\"+escapeFuncStr}try{if(typeof Object.defineProperty===\"function\"){Object.defineProperty(exports.escapeXML,\"toString\",{value:escapeXMLToString})}else{exports.escapeXML.toString=escapeXMLToString}}catch(err){console.warn(\"Unable to set escapeXML.toString (is the Function prototype frozen?)\")}exports.shallowCopy=function(to,from){from=from||{};if(to!==null&&to!==undefined){for(var p in from){if(!hasOwn(from,p)){continue}if(p===\"__proto__\"||p===\"constructor\"){continue}to[p]=from[p]}}return to};exports.shallowCopyFromList=function(to,from,list){list=list||[];from=from||{};if(to!==null&&to!==undefined){for(var i=0;i<list.length;i++){var p=list[i];if(typeof from[p]!=\"undefined\"){if(!hasOwn(from,p)){continue}if(p===\"__proto__\"||p===\"constructor\"){continue}to[p]=from[p]}}}return to};exports.cache={_data:{},set:function(key,val){this._data[key]=val},get:function(key){return this._data[key]},remove:function(key){delete this._data[key]},reset:function(){this._data={}}};exports.hyphenToCamel=function(str){return str.replace(/-[a-z]/g,function(match){return match[1].toUpperCase()})};exports.createNullProtoObjWherePossible=function(){if(typeof Object.create==\"function\"){return function(){return Object.create(null)}}if(!({__proto__:null}instanceof Object)){return function(){return{__proto__:null}}}return function(){return{}}}()},{}],3:[function(require,module,exports){},{}],4:[function(require,module,exports){(function(process){function normalizeArray(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last===\".\"){parts.splice(i,1)}else if(last===\"..\"){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up--;up){parts.unshift(\"..\")}}return parts}exports.resolve=function(){var resolvedPath=\"\",resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();if(typeof path!==\"string\"){throw new TypeError(\"Arguments to path.resolve must be strings\")}else if(!path){continue}resolvedPath=path+\"/\"+resolvedPath;resolvedAbsolute=path.charAt(0)===\"/\"}resolvedPath=normalizeArray(filter(resolvedPath.split(\"/\"),function(p){return!!p}),!resolvedAbsolute).join(\"/\");return(resolvedAbsolute?\"/\":\"\")+resolvedPath||\".\"};exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash=substr(path,-1)===\"/\";path=normalizeArray(filter(path.split(\"/\"),function(p){return!!p}),!isAbsolute).join(\"/\");if(!path&&!isAbsolute){path=\".\"}if(path&&trailingSlash){path+=\"/\"}return(isAbsolute?\"/\":\"\")+path};exports.isAbsolute=function(path){return path.charAt(0)===\"/\"};exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p,index){if(typeof p!==\"string\"){throw new TypeError(\"Arguments to path.join must be strings\")}return p}).join(\"/\"))};exports.relative=function(from,to){from=exports.resolve(from).substr(1);to=exports.resolve(to).substr(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!==\"\")break}var end=arr.length-1;for(;end>=0;end--){if(arr[end]!==\"\")break}if(start>end)return[];return arr.slice(start,end-start+1)}var fromParts=trim(from.split(\"/\"));var toParts=trim(to.split(\"/\"));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push(\"..\")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join(\"/\")};exports.sep=\"/\";exports.delimiter=\":\";exports.dirname=function(path){if(typeof path!==\"string\")path=path+\"\";if(path.length===0)return\".\";var code=path.charCodeAt(0);var hasRoot=code===47;var end=-1;var matchedSlash=true;for(var i=path.length-1;i>=1;--i){code=path.charCodeAt(i);if(code===47){if(!matchedSlash){end=i;break}}else{matchedSlash=false}}if(end===-1)return hasRoot?\"/\":\".\";if(hasRoot&&end===1){return\"/\"}return path.slice(0,end)};function basename(path){if(typeof path!==\"string\")path=path+\"\";var start=0;var end=-1;var matchedSlash=true;var i;for(i=path.length-1;i>=0;--i){if(path.charCodeAt(i)===47){if(!matchedSlash){start=i+1;break}}else if(end===-1){matchedSlash=false;end=i+1}}if(end===-1)return\"\";return path.slice(start,end)}exports.basename=function(path,ext){var f=basename(path);if(ext&&f.substr(-1*ext.length)===ext){f=f.substr(0,f.length-ext.length)}return f};exports.extname=function(path){if(typeof path!==\"string\")path=path+\"\";var startDot=-1;var startPart=0;var end=-1;var matchedSlash=true;var preDotState=0;for(var i=path.length-1;i>=0;--i){var code=path.charCodeAt(i);if(code===47){if(!matchedSlash){startPart=i+1;break}continue}if(end===-1){matchedSlash=false;end=i+1}if(code===46){if(startDot===-1)startDot=i;else if(preDotState!==1)preDotState=1}else if(startDot!==-1){preDotState=-1}}if(startDot===-1||end===-1||preDotState===0||preDotState===1&&startDot===end-1&&startDot===startPart+1){return\"\"}return path.slice(startDot,end)};function filter(xs,f){if(xs.filter)return xs.filter(f);var res=[];for(var i=0;i<xs.length;i++){if(f(xs[i],i,xs))res.push(xs[i])}return res}var substr=\"ab\".substr(-1)===\"b\"?function(str,start,len){return str.substr(start,len)}:function(str,start,len){if(start<0)start=str.length+start;return str.substr(start,len)}}).call(this,require(\"_process\"))},{_process:5}],5:[function(require,module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error(\"setTimeout has not been defined\")}function defaultClearTimeout(){throw new Error(\"clearTimeout has not been defined\")}(function(){try{if(typeof setTimeout===\"function\"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout===\"function\"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title=\"browser\";process.browser=true;process.env={};process.argv=[];process.version=\"\";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(name){return[]};process.binding=function(name){throw new Error(\"process.binding is not supported\")};process.cwd=function(){return\"/\"};process.chdir=function(dir){throw new Error(\"process.chdir is not supported\")};process.umask=function(){return 0}},{}],6:[function(require,module,exports){module.exports={name:\"ejs\",description:\"Embedded JavaScript templates\",keywords:[\"template\",\"engine\",\"ejs\"],version:\"3.1.8\",author:\"Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)\",license:\"Apache-2.0\",bin:{ejs:\"./bin/cli.js\"},main:\"./lib/ejs.js\",jsdelivr:\"ejs.min.js\",unpkg:\"ejs.min.js\",repository:{type:\"git\",url:\"git://github.com/mde/ejs.git\"},bugs:\"https://github.com/mde/ejs/issues\",homepage:\"https://github.com/mde/ejs\",dependencies:{jake:\"^10.8.5\"},devDependencies:{browserify:\"^16.5.1\",eslint:\"^6.8.0\",\"git-directory-deploy\":\"^1.5.1\",jsdoc:\"^4.0.2\",\"lru-cache\":\"^4.0.1\",mocha:\"^10.2.0\",\"uglify-js\":\"^3.3.16\"},engines:{node:\">=0.10.0\"},scripts:{test:\"mocha -u tdd\"}}},{}]},{},[1])(1)});\n;CoreUI.form.ejs = ejs;})();","(function() {// jQuery Mask Plugin v1.14.16\n// github.com/igorescobar/jQuery-Mask-Plugin\nvar $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,n,f){a instanceof String&&(a=String(a));for(var p=a.length,k=0;k<p;k++){var b=a[k];if(n.call(f,b,k,a))return{i:k,v:b}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;\n$jscomp.defineProperty=$jscomp.ASSUME_ES5||\"function\"==typeof Object.defineProperties?Object.defineProperty:function(a,n,f){a!=Array.prototype&&a!=Object.prototype&&(a[n]=f.value)};$jscomp.getGlobal=function(a){return\"undefined\"!=typeof window&&window===a?a:\"undefined\"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);\n$jscomp.polyfill=function(a,n,f,p){if(n){f=$jscomp.global;a=a.split(\".\");for(p=0;p<a.length-1;p++){var k=a[p];k in f||(f[k]={});f=f[k]}a=a[a.length-1];p=f[a];n=n(p);n!=p&&null!=n&&$jscomp.defineProperty(f,a,{configurable:!0,writable:!0,value:n})}};$jscomp.polyfill(\"Array.prototype.find\",function(a){return a?a:function(a,f){return $jscomp.findInternal(this,a,f).v}},\"es6\",\"es3\");\n(function(a,n,f){\"function\"===typeof define&&define.amd?define([\"jquery\"],a):\"object\"===typeof exports&&\"undefined\"===typeof Meteor?module.exports=a(require(\"jquery\")):a(n||f)})(function(a){var n=function(b,d,e){var c={invalid:[],getCaret:function(){try{var a=0,r=b.get(0),h=document.selection,d=r.selectionStart;if(h&&-1===navigator.appVersion.indexOf(\"MSIE 10\")){var e=h.createRange();e.moveStart(\"character\",-c.val().length);a=e.text.length}else if(d||\"0\"===d)a=d;return a}catch(C){}},setCaret:function(a){try{if(b.is(\":focus\")){var c=\nb.get(0);if(c.setSelectionRange)c.setSelectionRange(a,a);else{var g=c.createTextRange();g.collapse(!0);g.moveEnd(\"character\",a);g.moveStart(\"character\",a);g.select()}}}catch(B){}},events:function(){b.on(\"keydown.mask\",function(a){b.data(\"mask-keycode\",a.keyCode||a.which);b.data(\"mask-previus-value\",b.val());b.data(\"mask-previus-caret-pos\",c.getCaret());c.maskDigitPosMapOld=c.maskDigitPosMap}).on(a.jMaskGlobals.useInput?\"input.mask\":\"keyup.mask\",c.behaviour).on(\"paste.mask drop.mask\",function(){setTimeout(function(){b.keydown().keyup()},\n100)}).on(\"change.mask\",function(){b.data(\"changed\",!0)}).on(\"blur.mask\",function(){f===c.val()||b.data(\"changed\")||b.trigger(\"change\");b.data(\"changed\",!1)}).on(\"blur.mask\",function(){f=c.val()}).on(\"focus.mask\",function(b){!0===e.selectOnFocus&&a(b.target).select()}).on(\"focusout.mask\",function(){e.clearIfNotMatch&&!k.test(c.val())&&c.val(\"\")})},getRegexMask:function(){for(var a=[],b,c,e,t,f=0;f<d.length;f++)(b=l.translation[d.charAt(f)])?(c=b.pattern.toString().replace(/.{1}$|^.{1}/g,\"\"),e=b.optional,\n(b=b.recursive)?(a.push(d.charAt(f)),t={digit:d.charAt(f),pattern:c}):a.push(e||b?c+\"?\":c)):a.push(d.charAt(f).replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,\"\\\\$&\"));a=a.join(\"\");t&&(a=a.replace(new RegExp(\"(\"+t.digit+\"(.*\"+t.digit+\")?)\"),\"($1)?\").replace(new RegExp(t.digit,\"g\"),t.pattern));return new RegExp(a)},destroyEvents:function(){b.off(\"input keydown keyup paste drop blur focusout \".split(\" \").join(\".mask \"))},val:function(a){var c=b.is(\"input\")?\"val\":\"text\";if(0<arguments.length){if(b[c]()!==a)b[c](a);\nc=b}else c=b[c]();return c},calculateCaretPosition:function(a){var d=c.getMasked(),h=c.getCaret();if(a!==d){var e=b.data(\"mask-previus-caret-pos\")||0;d=d.length;var g=a.length,f=a=0,l=0,k=0,m;for(m=h;m<d&&c.maskDigitPosMap[m];m++)f++;for(m=h-1;0<=m&&c.maskDigitPosMap[m];m--)a++;for(m=h-1;0<=m;m--)c.maskDigitPosMap[m]&&l++;for(m=e-1;0<=m;m--)c.maskDigitPosMapOld[m]&&k++;h>g?h=10*d:e>=h&&e!==g?c.maskDigitPosMapOld[h]||(e=h,h=h-(k-l)-a,c.maskDigitPosMap[h]&&(h=e)):h>e&&(h=h+(l-k)+f)}return h},behaviour:function(d){d=\nd||window.event;c.invalid=[];var e=b.data(\"mask-keycode\");if(-1===a.inArray(e,l.byPassKeys)){e=c.getMasked();var h=c.getCaret(),g=b.data(\"mask-previus-value\")||\"\";setTimeout(function(){c.setCaret(c.calculateCaretPosition(g))},a.jMaskGlobals.keyStrokeCompensation);c.val(e);c.setCaret(h);return c.callbacks(d)}},getMasked:function(a,b){var h=[],f=void 0===b?c.val():b+\"\",g=0,k=d.length,n=0,p=f.length,m=1,r=\"push\",u=-1,w=0;b=[];if(e.reverse){r=\"unshift\";m=-1;var x=0;g=k-1;n=p-1;var A=function(){return-1<\ng&&-1<n}}else x=k-1,A=function(){return g<k&&n<p};for(var z;A();){var y=d.charAt(g),v=f.charAt(n),q=l.translation[y];if(q)v.match(q.pattern)?(h[r](v),q.recursive&&(-1===u?u=g:g===x&&g!==u&&(g=u-m),x===u&&(g-=m)),g+=m):v===z?(w--,z=void 0):q.optional?(g+=m,n-=m):q.fallback?(h[r](q.fallback),g+=m,n-=m):c.invalid.push({p:n,v:v,e:q.pattern}),n+=m;else{if(!a)h[r](y);v===y?(b.push(n),n+=m):(z=y,b.push(n+w),w++);g+=m}}a=d.charAt(x);k!==p+1||l.translation[a]||h.push(a);h=h.join(\"\");c.mapMaskdigitPositions(h,\nb,p);return h},mapMaskdigitPositions:function(a,b,d){a=e.reverse?a.length-d:0;c.maskDigitPosMap={};for(d=0;d<b.length;d++)c.maskDigitPosMap[b[d]+a]=1},callbacks:function(a){var g=c.val(),h=g!==f,k=[g,a,b,e],l=function(a,b,c){\"function\"===typeof e[a]&&b&&e[a].apply(this,c)};l(\"onChange\",!0===h,k);l(\"onKeyPress\",!0===h,k);l(\"onComplete\",g.length===d.length,k);l(\"onInvalid\",0<c.invalid.length,[g,a,b,c.invalid,e])}};b=a(b);var l=this,f=c.val(),k;d=\"function\"===typeof d?d(c.val(),void 0,b,e):d;l.mask=\nd;l.options=e;l.remove=function(){var a=c.getCaret();l.options.placeholder&&b.removeAttr(\"placeholder\");b.data(\"mask-maxlength\")&&b.removeAttr(\"maxlength\");c.destroyEvents();c.val(l.getCleanVal());c.setCaret(a);return b};l.getCleanVal=function(){return c.getMasked(!0)};l.getMaskedVal=function(a){return c.getMasked(!1,a)};l.init=function(g){g=g||!1;e=e||{};l.clearIfNotMatch=a.jMaskGlobals.clearIfNotMatch;l.byPassKeys=a.jMaskGlobals.byPassKeys;l.translation=a.extend({},a.jMaskGlobals.translation,e.translation);\nl=a.extend(!0,{},l,e);k=c.getRegexMask();if(g)c.events(),c.val(c.getMasked());else{e.placeholder&&b.attr(\"placeholder\",e.placeholder);b.data(\"mask\")&&b.attr(\"autocomplete\",\"off\");g=0;for(var f=!0;g<d.length;g++){var h=l.translation[d.charAt(g)];if(h&&h.recursive){f=!1;break}}f&&b.attr(\"maxlength\",d.length).data(\"mask-maxlength\",!0);c.destroyEvents();c.events();g=c.getCaret();c.val(c.getMasked());c.setCaret(g)}};l.init(!b.is(\"input\"))};a.maskWatchers={};var f=function(){var b=a(this),d={},e=b.attr(\"data-mask\");\nb.attr(\"data-mask-reverse\")&&(d.reverse=!0);b.attr(\"data-mask-clearifnotmatch\")&&(d.clearIfNotMatch=!0);\"true\"===b.attr(\"data-mask-selectonfocus\")&&(d.selectOnFocus=!0);if(p(b,e,d))return b.data(\"mask\",new n(this,e,d))},p=function(b,d,e){e=e||{};var c=a(b).data(\"mask\"),f=JSON.stringify;b=a(b).val()||a(b).text();try{return\"function\"===typeof d&&(d=d(b)),\"object\"!==typeof c||f(c.options)!==f(e)||c.mask!==d}catch(w){}},k=function(a){var b=document.createElement(\"div\");a=\"on\"+a;var e=a in b;e||(b.setAttribute(a,\n\"return;\"),e=\"function\"===typeof b[a]);return e};a.fn.mask=function(b,d){d=d||{};var e=this.selector,c=a.jMaskGlobals,f=c.watchInterval;c=d.watchInputs||c.watchInputs;var k=function(){if(p(this,b,d))return a(this).data(\"mask\",new n(this,b,d))};a(this).each(k);e&&\"\"!==e&&c&&(clearInterval(a.maskWatchers[e]),a.maskWatchers[e]=setInterval(function(){a(document).find(e).each(k)},f));return this};a.fn.masked=function(a){return this.data(\"mask\").getMaskedVal(a)};a.fn.unmask=function(){clearInterval(a.maskWatchers[this.selector]);\ndelete a.maskWatchers[this.selector];return this.each(function(){var b=a(this).data(\"mask\");b&&b.remove().removeData(\"mask\")})};a.fn.cleanVal=function(){return this.data(\"mask\").getCleanVal()};a.applyDataMask=function(b){b=b||a.jMaskGlobals.maskElements;(b instanceof a?b:a(b)).filter(a.jMaskGlobals.dataMaskAttr).each(f)};k={maskElements:\"input,td,span,div\",dataMaskAttr:\"*[data-mask]\",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&\nk(\"input\"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\\d/},9:{pattern:/\\d/,optional:!0},\"#\":{pattern:/\\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};a.jMaskGlobals=a.jMaskGlobals||{};k=a.jMaskGlobals=a.extend(!0,{},k,a.jMaskGlobals);k.dataMask&&a.applyDataMask();setInterval(function(){a.jMaskGlobals.watchDataMask&&a.applyDataMask()},k.watchInterval)},window.jQuery,window.Zepto);\n;})();","\r\nCoreUI.form.utils = {\r\n\r\n    /**\r\n     * Получение значения поля\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               fieldOptions\r\n     * @returns {string|number|null}\r\n     */\r\n    getFieldValue: function (form, fieldOptions) {\r\n\r\n        let formRecord = form.getRecord();\r\n\r\n        if (fieldOptions &&\r\n            formRecord &&\r\n            typeof fieldOptions.name === 'string' &&\r\n            typeof formRecord === 'object' &&\r\n            formRecord.hasOwnProperty(fieldOptions.name) &&\r\n            ['string', 'number', 'object'].indexOf(typeof formRecord[fieldOptions.name]) >= 0\r\n        ) {\r\n            return formRecord[fieldOptions.name];\r\n        }\r\n\r\n        return '';\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение функции из указанного текста\r\n     * @param functionName\r\n     * @param context\r\n     * @returns {null|Window}\r\n     * @private\r\n     */\r\n    getFunctionByName: function(functionName, context) {\r\n\r\n        let namespaces = functionName.split(\".\");\r\n        let func       = namespaces.pop();\r\n\r\n        context = context || window;\r\n\r\n        for (let i = 0; i < namespaces.length; i++) {\r\n            if (context.hasOwnProperty(namespaces[i])) {\r\n                context = context[namespaces[i]];\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n\r\n        if (typeof context[func] === 'function') {\r\n            return context[func];\r\n        }\r\n\r\n        return null;\r\n    },\r\n\r\n\r\n    /**\r\n     * Обработка полей в полях\r\n     * @param form\r\n     * @param defaultOptions\r\n     * @param fieldOptions\r\n     */\r\n    mergeFieldOptions: function (form, defaultOptions, fieldOptions) {\r\n\r\n        let options = $.extend(true, {}, defaultOptions);\r\n\r\n        if (fieldOptions) {\r\n            if (options.hasOwnProperty('attr') && typeof options.attr === 'object' &&\r\n                fieldOptions.hasOwnProperty('attr') && typeof fieldOptions.attr === 'object'\r\n            ) {\r\n                fieldOptions.attr = this.mergeAttr(options.attr, fieldOptions.attr);\r\n            }\r\n\r\n            options = $.extend(true, {}, options, fieldOptions);\r\n        }\r\n\r\n        if (options.hasOwnProperty('width')) {\r\n            if (options.width) {\r\n                let unit = typeof options.width === 'number' ? 'px' : '';\r\n                options.width = options.width + unit;\r\n\r\n            } else if (form._options.fieldWidth && options.type !== 'color') {\r\n                let unit = typeof form._options.fieldWidth === 'number' ? 'px' : '';\r\n                options.width = form._options.fieldWidth + unit;\r\n            }\r\n        }\r\n\r\n        if (options.hasOwnProperty('labelWidth')) {\r\n            if (options.labelWidth >= 0 && options.labelWidth !== null) {\r\n                let unit = typeof options.labelWidth === 'number' ? 'px' : '';\r\n                options.labelWidth = options.labelWidth + unit;\r\n\r\n            } else if (form._options.labelWidth) {\r\n                let unit = typeof form._options.labelWidth === 'number' ? 'px' : '';\r\n                options.labelWidth = form._options.labelWidth + unit;\r\n            }\r\n        }\r\n\r\n        return options\r\n    },\r\n\r\n\r\n    /**\r\n     * Объединение атрибутов\r\n     * @param attr1\r\n     * @param attr2\r\n     * @returns {object}\r\n     */\r\n    mergeAttr: function (attr1, attr2) {\r\n\r\n        let mergeAttr = Object.assign({}, attr1);\r\n\r\n        if (typeof attr2 === 'object') {\r\n            $.each(attr2, function (name, value) {\r\n                if (mergeAttr.hasOwnProperty(name)) {\r\n                    if (name === 'class') {\r\n                        mergeAttr[name] += ' ' + value;\r\n\r\n                    } else if (name === 'style') {\r\n                        mergeAttr[name] += ';' + value;\r\n\r\n                    } else {\r\n                        mergeAttr[name] = value;\r\n                    }\r\n\r\n                } else {\r\n                    mergeAttr[name] = value;\r\n                }\r\n            });\r\n        }\r\n\r\n        return mergeAttr;\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация и рендер дополнительных полей\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @returns {object}\r\n     * @private\r\n     */\r\n    getAttacheFields: function(form, options) {\r\n\r\n        let fields = [];\r\n\r\n        if (typeof options === 'object' &&\r\n            typeof(options.fields) === 'object' &&\r\n            Array.isArray(options.fields)\r\n        ) {\r\n            $.each(options.fields, function (key, field) {\r\n                let instance = form.initField(field);\r\n\r\n                if (typeof instance !== 'object') {\r\n                    return;\r\n                }\r\n\r\n                fields.push({\r\n                    hash: instance._hash,\r\n                    direction: options.hasOwnProperty('fieldsDirection') ? options.fieldsDirection : 'row',\r\n                    content: instance.renderContent()\r\n                });\r\n            });\r\n        }\r\n\r\n        return fields;\r\n    },\r\n\r\n\r\n    /**\r\n     * Форматирование даты\r\n     * @param {string} value\r\n     * @return {string}\r\n     */\r\n    formatDate: function (value) {\r\n\r\n        if (value && value.length === 10) {\r\n            let date  = new Date(value);\r\n            let year  = date.getFullYear();\r\n            let month = date.getMonth() + 1;\r\n            let day   = date.getDate();\r\n\r\n            day   = day < 10 ? '0' + day : day;\r\n            month = month < 10 ? '0' + month : month;\r\n\r\n            value = day + '.' + month + '.' + year;\r\n        }\r\n\r\n        return value;\r\n    },\r\n\r\n\r\n    /**\r\n     * Форматирование даты со временем\r\n     * @param {string} value\r\n     * @return {string}\r\n     */\r\n    formatDateTime: function (value) {\r\n\r\n        if (value && value.length >= 10) {\r\n            let date  = new Date(value);\r\n            let year  = date.getFullYear();\r\n            let month = date.getMonth() + 1;\r\n            let day   = date.getDate();\r\n            let hour  = (\"00\" + date.getHours()).slice(-2);\r\n            let min   = (\"00\" + date.getMinutes()).slice(-2);\r\n            let sec   = (\"00\" + date.getSeconds()).slice(-2);\r\n\r\n            day   = day < 10 ? '0' + day : day;\r\n            month = month < 10 ? '0' + month : month;\r\n\r\n            value = day + '.' + month + '.' + year + ' ' + hour + ':' + min + ':' + sec;\r\n        }\r\n\r\n        return value;\r\n    },\r\n\r\n\r\n    /**\r\n     * Форматирование даты со временем\r\n     * @param {string} value\r\n     * @param {object} lang\r\n     * @return {string}\r\n     */\r\n    formatDateMonth: function (value, lang) {\r\n\r\n        if (value && value.length === 7) {\r\n            let date  = new Date(value);\r\n            let year  = date.getFullYear();\r\n            let month = date.getMonth();\r\n\r\n            let monthLang = lang.date_months.hasOwnProperty(month) ? lang.date_months[month] : '';\r\n\r\n            value = monthLang + ' ' + year;\r\n        }\r\n\r\n        return value;\r\n    },\r\n\r\n\r\n    /**\r\n     * Форматирование даты со временем\r\n     * @param {string} value\r\n     * @param {object} lang\r\n     * @return {string}\r\n     */\r\n    formatDateWeek: function (value, lang) {\r\n\r\n        if (value && value.length >= 7) {\r\n            let year = value.substring(0, 4);\r\n            let week = value.substring(6);\r\n\r\n            value = year + ' ' + lang.date_week + ' ' + week;\r\n        }\r\n\r\n        return value;\r\n    },\r\n\r\n\r\n    /**\r\n     * Проверка на число\r\n     * @param num\r\n     * @returns {boolean}\r\n     * @private\r\n     */\r\n    isNumeric: function(num) {\r\n        return (typeof(num) === 'number' || typeof(num) === \"string\" && num.trim() !== '') && ! isNaN(num);\r\n    },\r\n\r\n\r\n    /**\r\n     * @returns {string}\r\n     * @private\r\n     */\r\n    hashCode: function() {\r\n        return this.crc32((new Date().getTime() + Math.random()).toString()).toString(16);\r\n    },\r\n\r\n\r\n    /**\r\n     * Hash crc32\r\n     * @param str\r\n     * @returns {number}\r\n     * @private\r\n     */\r\n    crc32: function (str) {\r\n\r\n        for (var a, o = [], c = 0; c < 256; c++) {\r\n            a = c;\r\n            for (var f = 0; f < 8; f++) {\r\n                a = 1 & a ? 3988292384 ^ a >>> 1 : a >>> 1\r\n            }\r\n            o[c] = a\r\n        }\r\n\r\n        for (var n = -1, t = 0; t < str.length; t++) {\r\n            n = n >>> 8 ^ o[255 & (n ^ str.charCodeAt(t))]\r\n        }\r\n\r\n        return (-1 ^ n) >>> 0;\r\n    },\r\n\r\n\r\n    /**\r\n     * Округление\r\n     * @param number\r\n     * @param precision\r\n     * @returns {number}\r\n     */\r\n    round: function (number, precision) {\r\n\r\n        precision = typeof precision !== 'undefined' ? parseInt(precision) : 0;\r\n\r\n        if (precision === 0) {\r\n            return Math.round(number);\r\n\r\n        } else if (precision > 0) {\r\n            let pow = Math.pow(10, precision);\r\n            return Math.round(number * pow) / pow;\r\n\r\n        } else {\r\n            let pow = Math.pow(10, precision);\r\n            return Math.round(number / pow) * pow;\r\n        }\r\n    }\r\n}","\r\nCoreUI.form.instance = {\r\n\r\n    _options: {\r\n        id: null,\r\n        title: '',\r\n        lang: 'en',\r\n        save: {\r\n            url: '',\r\n            method: 'POST'\r\n        },\r\n        width: null,\r\n        minWidth: null,\r\n        maxWidth: null,\r\n        labelWidth: 200,\r\n        controlsOffset: null,\r\n        readonly: false,\r\n        validate: false,\r\n        errorClass: '',\r\n        layout: '[column_default]',\r\n        onSubmit: null,\r\n        record: {},\r\n        fields: [],\r\n        controls: []\r\n    },\r\n\r\n    _lock: false,\r\n    _fieldsIndex: 0,\r\n    _groupsIndex: 0,\r\n    _controlsIndex: 0,\r\n    _groups: [],\r\n    _fields: [],\r\n    _controls: [],\r\n    _events: {},\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {object} options\r\n     * @private\r\n     */\r\n    _init: function (options) {\r\n\r\n        this._options.labelWidth = CoreUI.form.getSetting('labelWidth');\r\n        this._options.lang       = CoreUI.form.getSetting('lang');\r\n        this._options.errorClass = CoreUI.form.getSetting('errorClass');\r\n\r\n        this._options = $.extend(true, {}, this._options, options);\r\n\r\n        if ( ! this._options.id) {\r\n            this._options.id = CoreUI.form.utils.hashCode();\r\n        }\r\n\r\n        if (this._options.hasOwnProperty('labelWidth')) {\r\n            if (this._options.labelWidth >= 0 && this._options.labelWidth !== null) {\r\n                let unit = typeof this._options.labelWidth === 'number' ? 'px' : '';\r\n                this._options.labelWidth = this._options.labelWidth + unit;\r\n            }\r\n        }\r\n\r\n        if ( ! this._options.hasOwnProperty('controlsOffset') || this._options.controlsOffset === null) {\r\n            this._options.controlsOffset = this._options.labelWidth;\r\n        } else {\r\n            if (this._options.controlsOffset >= 0) {\r\n                let unit = typeof this._options.controlsOffset === 'number' ? 'px' : '';\r\n                this._options.controlsOffset = this._options.controlsOffset + unit;\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     */\r\n    initEvents: function () {\r\n\r\n        let that          = this;\r\n        let formContainer = '#coreui-form-' + this._options.id + ' > form';\r\n\r\n        $(formContainer).on('submit', function () {\r\n            that.send();\r\n\r\n            return false;\r\n        });\r\n\r\n        this._trigger('shown.coreui.form');\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение id формы\r\n     * @return {string|null}\r\n     */\r\n    getId: function () {\r\n\r\n        return this._options.hasOwnProperty('id') ? this._options.id : null;\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     * @param element\r\n     * @returns {*}\r\n     */\r\n    render: function(element) {\r\n\r\n        let that       = this;\r\n        let widthSizes = [];\r\n        let layout     = this._options.layout;\r\n        let controls   = [];\r\n        let formAttr   = [];\r\n\r\n\r\n\r\n        if (this._options.width) {\r\n            let unit = typeof this._options.width === 'number' ? 'px' : '';\r\n            widthSizes.push('width:' + this._options.width + unit);\r\n        }\r\n\r\n        if (this._options.minWidth) {\r\n            let unit = typeof this._options.minWidth === 'number' ? 'px' : '';\r\n            widthSizes.push('min-width:' + this._options.minWidth + unit);\r\n        }\r\n\r\n        if (this._options.maxWidth) {\r\n            let unit = typeof this._options.maxWidth === 'number' ? 'px' : '';\r\n            widthSizes.push('max-width:' + this._options.maxWidth + unit);\r\n        }\r\n\r\n\r\n\r\n        // Поля\r\n        if (typeof this._options.fields === 'object' &&\r\n            Array.isArray(this._options.fields) &&\r\n            this._options.fields.length > 0 &&\r\n            layout &&\r\n            typeof layout === 'string'\r\n        ) {\r\n            let matches        = Array.from(layout.matchAll(/\\[column_([\\w_\\d]+)\\]/g));\r\n            let columns        = [];\r\n            let columnsContent = {};\r\n\r\n            if (matches.length > 0) {\r\n                $.each(matches, function (key, match) {\r\n                    columns.push(match[1]);\r\n                });\r\n            }\r\n\r\n            if (columns.length > 0) {\r\n                $.each(this._options.fields, function (key, field) {\r\n                    let column = field.hasOwnProperty('column') && (typeof field.column === 'string' || typeof field.column === 'number')\r\n                        ? (columns.indexOf(field.column) >= 0 ? field.column : null)\r\n                        : 'default';\r\n\r\n                    if (typeof column !== 'string') {\r\n                        return;\r\n                    }\r\n\r\n                    let type     = field.hasOwnProperty('type') && typeof field.type === 'string' ? field.type : '';\r\n                    let instance = null;\r\n\r\n                    if (type === 'group') {\r\n                        instance = that.initGroup(field);\r\n\r\n                    } else {\r\n                        instance = that.initField(field);\r\n                    }\r\n\r\n\r\n                    if ( ! instance || typeof instance !== 'object') {\r\n                        return;\r\n                    }\r\n\r\n                    if ( ! columnsContent.hasOwnProperty(column)) {\r\n                        columnsContent[column] = [];\r\n                    }\r\n                    columnsContent[column].push(instance.render());\r\n                });\r\n            }\r\n\r\n            if (Object.keys(columnsContent).length >= 0) {\r\n                $.each(columnsContent, function (name, fieldContents) {\r\n\r\n                    layout = layout.replace('[column_' + name + ']', fieldContents.join(''));\r\n                });\r\n            }\r\n        }\r\n\r\n\r\n        // Элементы управления\r\n        if (typeof this._options.controls === 'object' &&\r\n            Array.isArray(this._options.controls) &&\r\n            this._options.controls.length > 0\r\n        ) {\r\n            $.each(this._options.controls, function (key, control) {\r\n                let instance = that.initControl(control);\r\n\r\n                if ( ! instance || typeof instance !== 'object') {\r\n                    return;\r\n                }\r\n\r\n                controls.push({\r\n                    show: ! control.hasOwnProperty('show') || control.show,\r\n                    index: that._controlsIndex - 1,\r\n                    content: instance.render()\r\n                });\r\n            });\r\n        }\r\n\r\n        if (typeof this._options.validate === 'boolean' && this._options.validate) {\r\n            formAttr.push('novalidate');\r\n        }\r\n\r\n\r\n        let html = CoreUI.form.ejs.render(CoreUI.form.tpl['form.html'], {\r\n            form: this._options,\r\n            formAttr: formAttr ? ' ' + formAttr.join(' ') : '',\r\n            widthSizes: widthSizes,\r\n            layout: layout,\r\n            controls: controls,\r\n        });\r\n\r\n        if (element === undefined) {\r\n            return html;\r\n        }\r\n\r\n        // Dom element\r\n        let domElement = {};\r\n\r\n        if (typeof element === 'string') {\r\n            domElement = document.getElementById(element);\r\n\r\n            if ( ! domElement) {\r\n                return '';\r\n            }\r\n\r\n        } else if (element instanceof HTMLElement) {\r\n            domElement = element;\r\n        }\r\n\r\n\r\n        domElement.innerHTML = html;\r\n\r\n        this.initEvents();\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     */\r\n    lock: function () {\r\n\r\n        this._lock = true;\r\n\r\n        $.each(this._controls, function (key, control) {\r\n            let controlOptions = control.getOptions();\r\n\r\n            if (controlOptions.hasOwnProperty('type') && controlOptions.type === 'submit') {\r\n                control.lock();\r\n            }\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Разблокировка\r\n     */\r\n    unlock: function () {\r\n\r\n        this._lock = false;\r\n\r\n        $.each(this._controls, function (key, control) {\r\n            let controlOptions = control.getOptions();\r\n\r\n            if (controlOptions.hasOwnProperty('type') && controlOptions.type === 'submit') {\r\n                control.unlock();\r\n            }\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Отправка данных формы\r\n     */\r\n    send: function () {\r\n\r\n        if (this._lock) {\r\n            return;\r\n        }\r\n\r\n\r\n        if (typeof this._options.validate === 'boolean' && this._options.validate) {\r\n            let isValid = this.validate();\r\n\r\n            if ( ! isValid) {\r\n                return;\r\n            }\r\n        }\r\n\r\n\r\n        let onsubmit = null;\r\n        let data     = this.getData();\r\n\r\n        if (typeof this._options.onSubmit === 'function') {\r\n            onsubmit = this._options.onSubmit;\r\n\r\n        } else if (typeof this._options.onSubmit === 'string') {\r\n            let func = CoreUI.form.utils.getFunctionByName(this._options.onSubmit);\r\n            if (typeof func === 'function') {\r\n                onsubmit = func;\r\n            } else if (typeof func === 'string') {\r\n                eval(func);\r\n            }\r\n        }\r\n\r\n        if (typeof onsubmit === 'function') {\r\n            let onSubmitResult = onsubmit(this, data);\r\n\r\n            if (onSubmitResult === false) {\r\n                return;\r\n            }\r\n        }\r\n\r\n\r\n        let results    = this._trigger('send.coreui.form', this, [ this, data ]);\r\n        let isStopSend = false;\r\n\r\n        $.each(results, function(key, result) {\r\n            if (result === false) {\r\n                isStopSend = true;\r\n                return false;\r\n            }\r\n        });\r\n\r\n        if (isStopSend) {\r\n            return;\r\n        }\r\n\r\n\r\n        this.lock();\r\n\r\n        let that = this;\r\n\r\n        $.ajax({\r\n            url: this._options.save.url,\r\n            method: this._options.save.method,\r\n            data: data,\r\n            beforeSend: function(xhr) {\r\n                that._trigger('start-send.coreui.form', that, [ that, xhr ]);\r\n            },\r\n            success: function (result) {\r\n                that.hideError();\r\n\r\n                that._trigger('success-send.coreui.form', that, [ that, result ]);\r\n            },\r\n            error: function(xhr, textStatus, errorThrown) {\r\n                let errorMessage = that.getLang().send_error || '';\r\n                let data         = {};\r\n\r\n                try {\r\n                    let parsedResponse = JSON.parse(xhr.responseText);\r\n                    if (typeof parsedResponse === 'object' &&\r\n                        parsedResponse !== null &&\r\n                        ! Array.isArray(parsedResponse)\r\n                    ) {\r\n                        data = parsedResponse;\r\n                    }\r\n\r\n                } catch (e) {\r\n                    // ignore\r\n                }\r\n\r\n                if (data.hasOwnProperty('error_message') &&\r\n                    typeof data.error_message === 'string' &&\r\n                    data.error_message !== ''\r\n                ) {\r\n                    errorMessage = data.error_message;\r\n                }\r\n\r\n                that.showError(errorMessage);\r\n                that._trigger('error-send.coreui.form', that, [ that, xhr, textStatus, errorThrown ]);\r\n            },\r\n            complete: function(xhr, textStatus) {\r\n                that.unlock();\r\n                that._trigger('end-send.coreui.form', that, [ that, xhr, textStatus ]);\r\n            },\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return this._options;\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение записи\r\n     * @returns {object}\r\n     */\r\n    getRecord: function () {\r\n\r\n        if (this._options.hasOwnProperty('record') && typeof this._options.record === 'object') {\r\n            return this._options.record;\r\n        }\r\n\r\n        return {};\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение данных с формы\r\n     * @returns {object}\r\n     */\r\n    getData: function () {\r\n\r\n        let data = {};\r\n\r\n        $.each(this._fields, function (key, field) {\r\n            let fieldOptions = field.getOptions();\r\n\r\n            if (fieldOptions.hasOwnProperty('name') && fieldOptions.name) {\r\n                data[fieldOptions.name] = field.getValue();\r\n            }\r\n        });\r\n\r\n        return data;\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение полей\r\n     * @returns {object}\r\n     */\r\n    getFields: function () {\r\n        return this._fields;\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение элементов управления\r\n     * @returns {object}\r\n     */\r\n    getControls: function () {\r\n        return this._controls;\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение групп полей\r\n     * @returns {object}\r\n     */\r\n    getGroups: function () {\r\n        return this._groups;\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение поля\r\n     * @param {string} name\r\n     * @returns {object}\r\n     */\r\n    getField: function (name) {\r\n\r\n        let field = {};\r\n\r\n        $.each(this._fields, function (key, fieldInstance) {\r\n            let fieldOptions = fieldInstance.getOptions();\r\n\r\n            if (fieldOptions.hasOwnProperty('name') && fieldOptions.name === name) {\r\n                field = fieldInstance;\r\n            }\r\n        });\r\n\r\n        return field;\r\n    },\r\n\r\n\r\n    /**\r\n     * Смена состояний полей формы\r\n     */\r\n    readonly: function (isReadonly) {\r\n\r\n        $.each(this._fields, function (key, fieldInstance) {\r\n            fieldInstance.readonly(isReadonly);\r\n        });\r\n\r\n\r\n        $.each(this._controls, function (key, control) {\r\n            let controlOptions = control.getOptions();\r\n\r\n            if (controlOptions.hasOwnProperty('type') && controlOptions.type === 'submit') {\r\n                if (isReadonly) {\r\n                    control.hide();\r\n                } else {\r\n                    control.show();\r\n                }\r\n            }\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ всех элементов управления\r\n     */\r\n    showControls: function () {\r\n\r\n        $.each(this._controls, function (key, control) {\r\n            control.show();\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие всех элементов управления\r\n     */\r\n    hideControls: function () {\r\n\r\n        $.each(this._controls, function (key, control) {\r\n            control.hide();\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Валидация полей\r\n     * @return {boolean}\r\n     */\r\n    validate: function () {\r\n\r\n        let isValid = true;\r\n\r\n        $.each(this._fields, function (key, field) {\r\n\r\n            if (field.isValid() === false) {\r\n                field.validate(false);\r\n                isValid = false;\r\n\r\n            } else {\r\n                field.validate(null);\r\n            }\r\n        });\r\n\r\n        return isValid;\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ сообщения с ошибкой\r\n     * @param {string} message\r\n     * @param {object} options\r\n     */\r\n    showError: function (message, options) {\r\n\r\n        let formContainer = $('#coreui-form-' + this._options.id + ' > form');\r\n        let formError     = formContainer.find('> .coreui-form__error');\r\n\r\n        if (formError[0]) {\r\n            formError.remove();\r\n        }\r\n\r\n        options = typeof options === 'object' && ! Array.isArray(options) && options !== null ? options : {};\r\n\r\n        if (typeof this._options.errorClass === 'string' && this._options.errorClass !== '') {\r\n            options.class = options.hasOwnProperty('class') ? options.class : '';\r\n            options.class += ' ' + this._options.errorClass;\r\n        }\r\n\r\n        let errorOptions = {\r\n            class:   options.hasOwnProperty('class') && typeof options.class === 'string' ? options.class : '',\r\n            dismiss: options.hasOwnProperty('dismiss') ? !! options.dismiss : true,\r\n        };\r\n\r\n        formContainer.prepend(\r\n            CoreUI.form.ejs.render(CoreUI.form.tpl['form-error.html'], {\r\n                message: message,\r\n                options: errorOptions,\r\n            })\r\n        );\r\n\r\n\r\n        if ( ! options.hasOwnProperty('scroll') || options.scroll) {\r\n            let scrollOffset = CoreUI.form.getSetting('errorMessageScrollOffset');\r\n\r\n            $('html,body').animate({\r\n                scrollTop : formContainer.offset().top - scrollOffset\r\n            }, 'fast');\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие сообщения с ошибкой\r\n     */\r\n    hideError: function () {\r\n\r\n        $('#coreui-form-' + this._options.id + ' > form > .coreui-form__error').remove();\r\n    },\r\n\r\n\r\n    /**\r\n     * @param eventName\r\n     * @param callback\r\n     * @param context\r\n     * @param singleExec\r\n     */\r\n    on: function(eventName, callback, context, singleExec) {\r\n        if (typeof this._events[eventName] !== 'object') {\r\n            this._events[eventName] = [];\r\n        }\r\n        this._events[eventName].push({\r\n            context : context || this,\r\n            callback: callback,\r\n            singleExec: !! singleExec,\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Удаление формы\r\n     */\r\n    destruct: function () {\r\n\r\n        $('#coreui-form-' + this._options.id).remove();\r\n        delete CoreUI.form._instances[this.getId()];\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация поля\r\n     * @param field\r\n     * @return {object|null}\r\n     * @private\r\n     */\r\n    initField: function (field) {\r\n\r\n        if (typeof field !== 'object') {\r\n            return null;\r\n        }\r\n\r\n        let type = field.hasOwnProperty('type') && typeof field.type === 'string' ? field.type : 'input';\r\n\r\n        if (type === 'group') {\r\n            return null;\r\n        }\r\n\r\n        if ( ! CoreUI.form.fields.hasOwnProperty(type)) {\r\n            type = 'input';\r\n        }\r\n\r\n        if (this._options.readonly) {\r\n            field.readonly = true;\r\n        }\r\n\r\n\r\n        let fieldInstance = $.extend(true, {\r\n            render:        function () {},\r\n            renderContent: function () {},\r\n            init:          function () {},\r\n            getValue:      function () {},\r\n            setValue:      function () {},\r\n            getOptions:    function () {},\r\n            show:          function () {},\r\n            hide:          function () {},\r\n            readonly:      function () {},\r\n            validate:      function () {},\r\n            isValid:       function () {},\r\n        }, CoreUI.form.fields[type]);\r\n\r\n        fieldInstance.init(this, field, this._fieldsIndex++);\r\n\r\n        this._fields.push(fieldInstance);\r\n\r\n        return fieldInstance;\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация группы\r\n     * @param group\r\n     * @return {object|null}\r\n     * @private\r\n     */\r\n    initGroup: function (group) {\r\n\r\n        if (typeof group !== 'object') {\r\n            return null;\r\n        }\r\n\r\n        let type = group.hasOwnProperty('type') && typeof group.type === 'string' ? group.type : '';\r\n\r\n        if (type !== 'group') {\r\n            return null;\r\n        }\r\n\r\n        let groupInstance = $.extend(true, {\r\n            render:     function () {},\r\n            init:       function () {},\r\n            getOptions: function () {},\r\n            expand:     function () {},\r\n            collapse:   function () {},\r\n        }, CoreUI.form.fields[type]);\r\n\r\n        groupInstance.init(this, group, this._groupsIndex++);\r\n\r\n        this._groups.push(groupInstance);\r\n\r\n        return groupInstance;\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация контролов\r\n     * @param control\r\n     * @return {object|null}\r\n     * @private\r\n     */\r\n    initControl: function (control) {\r\n\r\n        if (typeof control !== 'object') {\r\n            return null;\r\n        }\r\n\r\n        let type = control.hasOwnProperty('type') && typeof control.type === 'string' ? control.type : null;\r\n\r\n        if ( ! type || ! CoreUI.form.controls.hasOwnProperty(type)) {\r\n            return null;\r\n        }\r\n\r\n        if (type === 'submit' && this._options.readonly) {\r\n            control.show = false;\r\n        }\r\n\r\n\r\n        let controlInstance = $.extend(true, {\r\n            render:     function () {},\r\n            init:       function () {},\r\n            getOptions: function () {},\r\n            show:       function () {},\r\n            hide:       function () {},\r\n        }, CoreUI.form.controls[type]);\r\n\r\n        controlInstance.init(this, control, this._controlsIndex++);\r\n\r\n        this._controls.push(controlInstance);\r\n\r\n        return controlInstance;\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение настроек языка\r\n     * @private\r\n     */\r\n    getLang: function () {\r\n\r\n        return CoreUI.form.lang.hasOwnProperty(this._options.lang)\r\n            ? CoreUI.form.lang[this._options.lang]\r\n            : CoreUI.form.lang['ru'];\r\n    },\r\n\r\n\r\n    /**\r\n     * @param name\r\n     * @param context\r\n     * @param params\r\n     * @return {object}\r\n     * @private\r\n     */\r\n    _trigger: function(name, context, params) {\r\n\r\n        params = params || [];\r\n        let results = [];\r\n\r\n        if (this._events[name] instanceof Object && this._events[name].length > 0) {\r\n            for (var i = 0; i < this._events[name].length; i++) {\r\n                let callback = this._events[name][i].callback;\r\n\r\n                context = context || this._events[name][i].context;\r\n\r\n                results.push(\r\n                    callback.apply(context, params)\r\n                );\r\n\r\n                if (this._events[name][i].singleExec) {\r\n                    this._events[name].splice(i, 1);\r\n                }\r\n            }\r\n        }\r\n\r\n        return results;\r\n    },\r\n\r\n\r\n    /**\r\n     * @param {object} control\r\n     * @return {string}\r\n     * @private\r\n     */\r\n    _renderControl: function (control) {\r\n\r\n        let content = '';\r\n        let type    = control.hasOwnProperty('type') && typeof control.type === 'string' ? control.type : 'text';\r\n\r\n        if (CoreUI.form.control.hasOwnProperty(type)) {\r\n            content = CoreUI.form.control[type].render(control);\r\n        }\r\n\r\n        return content;\r\n    }\r\n}","//HEAD \nwindow[\"CoreUI\"][\"form\"][\"tpl\"] = {};\n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"form-error.html\"] = \"<div class=\\\"coreui-form__error alert alert-danger alert-dismissible fade show mb-3 <%= options.class %>\\\">\\n\" +\n    \"    <%- message %>\\n\" +\n    \"    <% if (options.dismiss) { %>\\n\" +\n    \"    <button type=\\\"button\\\" class=\\\"btn-close\\\" data-bs-dismiss=\\\"alert\\\"></button>\\n\" +\n    \"    <% } %>\\n\" +\n    \"</div>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"form-field-content.html\"] = \"<%- content %>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"form-field-group.html\"] = \"<div id=\\\"coreui-form-<%= id %>\\\" class=\\\"coreui-form__group_container mb-3\\\">\\n\" +\n    \"    <div class=\\\"coreui-form__group_label pe-2\\\">\\n\" +\n    \"        <h6 class=\\\"coreui-form__field_label_text col-form-label-sm\\\">\\n\" +\n    \"            <%- group.label %>\\n\" +\n    \"            <% if (group.showCollapsible) { %>\\n\" +\n    \"                <button type=\\\"button\\\" class=\\\"btn btn-sm btn-link btn-collapsible text-dark\\\">\\n\" +\n    \"                    <% if ( ! group.show) { %>\\n\" +\n    \"                    <i class=\\\"bi bi-chevron-right\\\"></i>\\n\" +\n    \"                    <% } else { %>\\n\" +\n    \"                    <i class=\\\"bi bi-chevron-down\\\"></i>\\n\" +\n    \"                    <% } %>\\n\" +\n    \"                </button>\\n\" +\n    \"            <% } %>\\n\" +\n    \"        </h6>\\n\" +\n    \"    </div>\\n\" +\n    \"    <div class=\\\"coreui-form__group_content\\\"<% if ( ! group.show) { %> style=\\\"display:none\\\"<% } %>>\\n\" +\n    \"        <%- content %>\\n\" +\n    \"    </div>\\n\" +\n    \"</div>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"form-field-label.html\"] = \"<div id=\\\"coreui-form-<%= id %>\\\" class=\\\"coreui-form__field_container d-flex flex-column flex-md-row mb-3\\\"\\n\" +\n    \"     <% if ( ! field.show) { %> style=\\\"display:none\\\"<% } %>>\\n\" +\n    \"    <% if (field.labelWidth !== 0 && field.labelWidth !== '0px') { %>\\n\" +\n    \"    <div class=\\\"coreui-form__field_label text-md-end text-sm-start pe-2\\\"<% if (field.labelWidth) { %> style=\\\"min-width:<%= field.labelWidth %>;width:<%= field.labelWidth %>\\\"<% } %>>\\n\" +\n    \"        <div class=\\\"coreui-form__field_label_text col-form-label-sm\\\">\\n\" +\n    \"            <% if (field.required) { %>\\n\" +\n    \"            <span class=\\\"coreui-form__field_label_req text-danger\\\">*</span>\\n\" +\n    \"            <% } %>\\n\" +\n    \"            <span><%- field.label %></span>\\n\" +\n    \"        </div>\\n\" +\n    \"\\n\" +\n    \"        <% if (field.description) { %>\\n\" +\n    \"        <div class=\\\"coreui-form__field_label_description text-muted\\\">\\n\" +\n    \"            <small><%- field.description %></small>\\n\" +\n    \"        </div>\\n\" +\n    \"        <% } %>\\n\" +\n    \"    </div>\\n\" +\n    \"    <% } %>\\n\" +\n    \"    <div class=\\\"coreui-form__field_content flex-fill pt-1\\\">\\n\" +\n    \"        <div class=\\\"d-inline-block content-<%= hash %>\\\">\\n\" +\n    \"            <%- content %>\\n\" +\n    \"        </div>\\n\" +\n    \"\\n\" +\n    \"        <% if (field.outContent) { %>\\n\" +\n    \"        <span class=\\\"coreui-form__field-content-out d-inline-block align-top pt-1 ps-1\\\">\\n\" +\n    \"            <%- field.outContent %>\\n\" +\n    \"        </span>\\n\" +\n    \"        <% } %>\\n\" +\n    \"\\n\" +\n    \"        <% if (attachFields && attachFields.length > 0) { %>\\n\" +\n    \"            <% $.each(attachFields, function(key, attachField) { %>\\n\" +\n    \"                <div class=\\\"<% if (attachField.hasOwnProperty('direction') && attachField.direction === 'column') { %>d-block mt-2<% } else { %>d-inline-block<% } %> content-<%= attachField.hash %>\\\">\\n\" +\n    \"                    <%- attachField.content %>\\n\" +\n    \"                </div>\\n\" +\n    \"            <% }); %>\\n\" +\n    \"        <% } %>\\n\" +\n    \"    </div>\\n\" +\n    \"</div>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"form.html\"] = \"<div id=\\\"coreui-form-<%= form.id %>\\\" class=\\\"coreui-form mb-2\\\"\\n\" +\n    \"    <% if (widthSizes) { %>style=\\\"<%= widthSizes.join(';') %>\\\"<% } %>>\\n\" +\n    \"    <% if (form.title) { %>\\n\" +\n    \"    <h5 class=\\\"mb-4\\\"><%- form.title %></h5>\\n\" +\n    \"    <% } %>\\n\" +\n    \"\\n\" +\n    \"    <form action=\\\"<%= form.save.url %>\\\" method=\\\"<%= form.save.method %>\\\"<%- formAttr %>>\\n\" +\n    \"        <div class=\\\"coreui-form__fields d-flex justify-content-start flex-column flex-wrap\\\">\\n\" +\n    \"            <%- layout %>\\n\" +\n    \"        </div>\\n\" +\n    \"\\n\" +\n    \"        <% if (controls) { %>\\n\" +\n    \"        <div class=\\\"coreui-form__controls d-flex justify-content-start flex-sm-wrap flex-md-nowrap\\\">\\n\" +\n    \"            <% if (form.controlsOffset !== 0 && form.controlsOffset !== '0px') { %>\\n\" +\n    \"            <div class=\\\"d-none d-md-block\\\" style=\\\"width:<%= form.controlsOffset %>;min-width:<%= form.controlsOffset %>\\\"></div>\\n\" +\n    \"            <% } %>\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"d-flex justify-content-start flex-wrap gap-2\\\">\\n\" +\n    \"                <% $.each(controls, function(key, control) { %>\\n\" +\n    \"                <div id=\\\"coreui-form-<%= form.id %>-control-<%= control.index %>\\\" class=\\\"coreui-form__control_container\\\"\\n\" +\n    \"                     <% if ( ! control.show) { %>style=\\\"display:none\\\"<% } %>>\\n\" +\n    \"                    <%- control.content %>\\n\" +\n    \"                </div>\\n\" +\n    \"                <% }); %>\\n\" +\n    \"            </div>\\n\" +\n    \"        </div>\\n\" +\n    \"        <% } %>\\n\" +\n    \"    </form>\\n\" +\n    \"</div>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"controls/button.html\"] = \"<button <%- render.attr %>><%- control.content %></button>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"controls/link.html\"] = \"<a href=\\\"<%- control.href %>\\\"<%- render.attr %>><%- control.content %></a>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"fields/checkbox.html\"] = \"<% if (field.readonly) { %>\\n\" +\n    \"    <%- render.selectedItems.join(', ') %>\\n\" +\n    \"<% } else { %>\\n\" +\n    \"    <% $.each(render.options, function(key, option) { %>\\n\" +\n    \"    <div class=\\\"form-check<% if (field.inline) { %> form-check-inline<% } %>\\\">\\n\" +\n    \"        <input <%- option.attr %>>\\n\" +\n    \"        <label class=\\\"form-check-label\\\" for=\\\"<%= option.id %>\\\"><%= option.text %></label>\\n\" +\n    \"    </div>\\n\" +\n    \"    <% }); %>\\n\" +\n    \"<% } %>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"fields/color.html\"] = \"<% if (field.readonly) { %>\\n\" +\n    \"    <div class=\\\"rounded-1\\\" style=\\\"width: 14px;height: 14px;background-color: <%= value %>\\\"></div>\\n\" +\n    \"<% } else { %>\\n\" +\n    \"    <input <%- render.attr %>>\\n\" +\n    \"\\n\" +\n    \"    <% if (render.datalist.length > 0) { %>\\n\" +\n    \"    <datalist id=\\\"<%= datalistId %>\\\">\\n\" +\n    \"        <% $.each(render.datalist, function(key, item) { %>\\n\" +\n    \"        <option <%- item.attr %>>\\n\" +\n    \"        <% }); %>\\n\" +\n    \"    </datalist>\\n\" +\n    \"    <% } %>\\n\" +\n    \"<% } %>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"fields/custom.html\"] = \"<%- content %>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"fields/dataset-row-readonly.html\"] = \"<tr class=\\\"coreui-form__field-dataset-item\\\">\\n\" +\n    \"    <% $.each(options, function(key, option) { %>\\n\" +\n    \"        <td class=\\\"pe-2 pb-1\\\">\\n\" +\n    \"            <%- option.value %>\\n\" +\n    \"        </td>\\n\" +\n    \"    <% }); %>\\n\" +\n    \"</tr>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"fields/dataset-row.html\"] = \"<tr class=\\\"coreui-form__field-dataset-item\\\" id=\\\"dataset-item-<%= hashItem %>\\\">\\n\" +\n    \"    <% $.each(options, function(key, option) { %>\\n\" +\n    \"        <td class=\\\"pe-1 pb-1\\\">\\n\" +\n    \"        <% if (option.type === 'select') { %>\\n\" +\n    \"            <select <%- option.attr %>>\\n\" +\n    \"                <% $.each(option.items, function(key, item) { %>\\n\" +\n    \"                <option <%- item.attr %>><%- item.title %></option>\\n\" +\n    \"                <% }); %>\\n\" +\n    \"            </select>\\n\" +\n    \"        <% } else if (option.type === 'switch') { %>\\n\" +\n    \"            <div class=\\\"form-check form-switch\\\">\\n\" +\n    \"                <input <%- option.attr %>>\\n\" +\n    \"            </div>\\n\" +\n    \"        <% } else { %>\\n\" +\n    \"            <input <%- option.attr %>>\\n\" +\n    \"        <% } %>\\n\" +\n    \"        </td>\\n\" +\n    \"    <% }); %>\\n\" +\n    \"\\n\" +\n    \"    <td class=\\\"pb-1\\\">\\n\" +\n    \"        <button type=\\\"button\\\" class=\\\"btn btn-sm btn-link btn-dataset-remove\\\" data-item-id=\\\"dataset-item-<%= hashItem %>\\\">\\n\" +\n    \"            <i class=\\\"bi bi-x text-muted\\\"></i>\\n\" +\n    \"        </button>\\n\" +\n    \"    </td>\\n\" +\n    \"</tr>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"fields/dataset.html\"] = \"<% if (field.readonly) { %>\\n\" +\n    \"    <table class=\\\"coreui-form__field-dataset-container\\\" <% if (render.rows.length == 0) { %> style=\\\"display:none\\\"<% } %>>\\n\" +\n    \"        <thead>\\n\" +\n    \"            <tr>\\n\" +\n    \"                <% $.each(render.headers, function(key, item) { %>\\n\" +\n    \"                <td class=\\\"text-muted pe-2\\\"><small><%= item.title %></small></td>\\n\" +\n    \"                <% }); %>\\n\" +\n    \"            </tr>\\n\" +\n    \"        </thead>\\n\" +\n    \"        <tbody class=\\\"coreui-form__field-dataset-list\\\">\\n\" +\n    \"            <% $.each(render.rows, function(key, row) { %>\\n\" +\n    \"            <%- row %>\\n\" +\n    \"            <% }); %>\\n\" +\n    \"        </tbody>\\n\" +\n    \"    </table>\\n\" +\n    \"\\n\" +\n    \"<% } else { %>\\n\" +\n    \"    <table class=\\\"coreui-form__field-dataset-container\\\" <% if (render.rows.length == 0) { %> style=\\\"display:none\\\"<% } %>>\\n\" +\n    \"        <thead>\\n\" +\n    \"            <tr>\\n\" +\n    \"                <% $.each(render.headers, function(key, item) { %>\\n\" +\n    \"                <td class=\\\"text-muted\\\"><small><%= item.title %></small></td>\\n\" +\n    \"                <% }); %>\\n\" +\n    \"                <td></td>\\n\" +\n    \"            </tr>\\n\" +\n    \"        </thead>\\n\" +\n    \"        <tbody class=\\\"coreui-form__field-dataset-list\\\">\\n\" +\n    \"            <% $.each(render.rows, function(key, row) { %>\\n\" +\n    \"                <%- row %>\\n\" +\n    \"            <% }); %>\\n\" +\n    \"        </tbody>\\n\" +\n    \"    </table>\\n\" +\n    \"\\n\" +\n    \"    <button type=\\\"button\\\" class=\\\"btn btn-sm btn-link btn-dataset-add\\\"><%= lang.dataset_add %></button>\\n\" +\n    \"<% } %>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"fields/hidden.html\"] = \"<% if ( ! field.readonly) { %>\\n\" +\n    \"    <input <%- render.attr %>>\\n\" +\n    \"<% } %>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"fields/input.html\"] = \"<% if (field.readonly) { %>\\n\" +\n    \"    <%- value %>\\n\" +\n    \"<% } else { %>\\n\" +\n    \"    <input <%- render.attr %>>\\n\" +\n    \"\\n\" +\n    \"    <% if (render.datalist.length > 0) { %>\\n\" +\n    \"    <datalist id=\\\"<%= datalistId %>\\\">\\n\" +\n    \"        <% $.each(render.datalist, function(key, item) { %>\\n\" +\n    \"        <option <%- item.attr %>>\\n\" +\n    \"        <% }); %>\\n\" +\n    \"    </datalist>\\n\" +\n    \"    <% } %>\\n\" +\n    \"<% } %>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"fields/modal-loading.html\"] = \"<div class=\\\"py-4 d-flex justify-content-center align-items-center gap-2\\\">\\n\" +\n    \"    <div class=\\\"spinner-border mr-2\\\"></div> <%= lang.modal_loading %>\\n\" +\n    \"</div>\\n\" +\n    \"\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"fields/modal.html\"] = \"<% if (field.readonly) { %>\\n\" +\n    \"    <%= text %>\\n\" +\n    \"<% } else { %>\\n\" +\n    \"    <div class=\\\"input-group\\\"<% if (render.width) { %> style=\\\"width:<%= render.width %>\\\"<% } %>>\\n\" +\n    \"        <input <%- render.attr %>>\\n\" +\n    \"        <input type=\\\"hidden\\\" name=\\\"<%= field.name %>\\\" value=\\\"<%= value %>\\\" class=\\\"coreui-form-modal-value\\\">\\n\" +\n    \"        <% if ( ! field.required) { %>\\n\" +\n    \"        <button class=\\\"btn btn-sm btn-outline-secondary btn-modal-clear border-secondary-subtle\\\" type=\\\"button\\\">\\n\" +\n    \"            <i class=\\\"bi bi-x\\\"></i>\\n\" +\n    \"        </button>\\n\" +\n    \"        <% } %>\\n\" +\n    \"        <button class=\\\"btn btn-sm btn-outline-secondary btn-modal-select border-secondary-subtle\\\" type=\\\"button\\\"><%= lang.modal_select %></button>\\n\" +\n    \"    </div>\\n\" +\n    \"<% } %>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"fields/radio.html\"] = \"<% if (field.readonly) { %>\\n\" +\n    \"    <%- render.selectedItem %>\\n\" +\n    \"<% } else { %>\\n\" +\n    \"    <% $.each(render.options, function(key, option) { %>\\n\" +\n    \"    <div class=\\\"form-check<% if (field.inline) { %> form-check-inline<% } %>\\\">\\n\" +\n    \"        <input <%- option.attr %>>\\n\" +\n    \"        <label class=\\\"form-check-label\\\" for=\\\"<%= option.id %>\\\"><%= option.text %></label>\\n\" +\n    \"    </div>\\n\" +\n    \"    <% }); %>\\n\" +\n    \"<% } %>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"fields/select.html\"] = \"<% if (field.readonly) { %>\\n\" +\n    \"    <%= render.selectedOptions.join(', ') %>\\n\" +\n    \"<% } else { %>\\n\" +\n    \"    <select <%- render.attr %>>\\n\" +\n    \"        <% $.each(render.options, function(key, option) { %>\\n\" +\n    \"            <% if (option.type === 'group') { %>\\n\" +\n    \"                <optgroup<%- option.attr %>>\\n\" +\n    \"                <% $.each(option.options, function(key, groupOption) { %>\\n\" +\n    \"                    <option <%- groupOption.attr %>><%= groupOption.text %>\\n\" +\n    \"                <% }); %>\\n\" +\n    \"                \\n\" +\n    \"            <% } else { %>\\n\" +\n    \"            <option <%- option.attr %>><%= option.text %>\\n\" +\n    \"            <% } %>\\n\" +\n    \"        <% }); %>\\n\" +\n    \"    </select>\\n\" +\n    \"<% } %>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"fields/switch.html\"] = \"<% if (field.readonly) { %>\\n\" +\n    \"    <%= field.valueY == value ? lang.switch_yes : lang.switch_no %>\\n\" +\n    \"<% } else { %>\\n\" +\n    \"    <div class=\\\"form-check form-switch\\\">\\n\" +\n    \"        <input <%- render.attr %>>\\n\" +\n    \"    </div>\\n\" +\n    \"<% } %>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"fields/textarea.html\"] = \"<% if (field.readonly) { %>\\n\" +\n    \"    <%- value %>\\n\" +\n    \"<% } else { %>\\n\" +\n    \"    <textarea <%- render.attr %>><%- value %></textarea>\\n\" +\n    \"<% } %>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"fields/wysiwyg.html\"] = \"<% if (field.readonly) { %>\\n\" +\n    \"    <%- value %>\\n\" +\n    \"<% } else { %>\\n\" +\n    \"    <textarea name=\\\"<%= field.name %>\\\" id=\\\"editor-<%= editorHash %>\\\"><%- value %></textarea>\\n\" +\n    \"<% } %>\"; \n// END ","\r\nCoreUI.form.fields.checkbox = {\r\n\r\n    _id: '',\r\n    _hash: '',\r\n    _form: null,\r\n    _index: 0,\r\n    _value: [],\r\n    _options: {\r\n        type: 'checkbox',\r\n        name: null,\r\n        label: null,\r\n        labelWidth: null,\r\n        inline: false,\r\n        outContent: null,\r\n        description: null,\r\n        errorText: null,\r\n        options: [],\r\n        fields: null,\r\n        required: null,\r\n        readonly: null,\r\n        show: true,\r\n        column: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._form    = form;\r\n        this._id      = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\r\n        this._hash    = CoreUI.form.utils.hashCode();\r\n        this._value   = CoreUI.form.utils.getFieldValue(form, options);\r\n        this._options = CoreUI.form.utils.mergeFieldOptions(form, this._options, options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\r\n    readonly: function (isReadonly) {\r\n\r\n        this._value            = this.getValue();\r\n        this._options.readonly = !! isReadonly;\r\n\r\n        $('.content-' + this._hash).html(\r\n            this.renderContent()\r\n        );\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).hide(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).show(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение значения в поле\r\n     * @returns {object}\r\n     */\r\n    getValue: function () {\r\n\r\n        if (this._options.readonly) {\r\n            return this._value;\r\n\r\n        } else {\r\n            let values = [];\r\n\r\n            $('.content-' + this._hash + ' input[type=checkbox]:checked').each(function () {\r\n                values.push($(this).val());\r\n            });\r\n\r\n            return values;\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка значений в поле\r\n     * @param {object|null|string|number} value\r\n     */\r\n    setValue: function (value) {\r\n\r\n        if (['string', 'number', 'object'].indexOf(typeof value) < 0) {\r\n            return;\r\n        }\r\n\r\n        if (typeof value === 'object') {\r\n            if (value !== null && ! Array.isArray(value)) {\r\n                return;\r\n            }\r\n\r\n        } else {\r\n            value = [ value ];\r\n        }\r\n\r\n        let that    = this;\r\n        this._value = [];\r\n\r\n        if (this._options.readonly) {\r\n            $('.content-' + that._hash).empty();\r\n\r\n            let fieldOptions = this.getOptions();\r\n\r\n            if (fieldOptions.hasOwnProperty('options') &&\r\n                typeof fieldOptions.options === 'object' &&\r\n                Array.isArray(fieldOptions.options) &&\r\n                Array.isArray(value)\r\n            ) {\r\n                let selectedItems = [];\r\n\r\n                $.each(fieldOptions.options, function (key, option) {\r\n\r\n                    if (option.hasOwnProperty('value')) {\r\n                        $.each(value, function (key, val) {\r\n\r\n                            if (option.value == val) {\r\n                                if (option.hasOwnProperty('text') && ['string', 'number'].indexOf(typeof(option.text)) >= 0) {\r\n                                    selectedItems.push(option.text);\r\n                                }\r\n\r\n                                that._value.push(val);\r\n                                return false;\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n\r\n\r\n                $('.content-' + that._hash).text(selectedItems.join(', '));\r\n            }\r\n\r\n        } else {\r\n            $('.content-' + this._hash + ' input[type=radio]').prop('checked', false);\r\n\r\n            if (Array.isArray(value)) {\r\n                $('.content-' + this._hash + ' input[type=radio]').each(function (key, itemValue) {\r\n                    $.each(value, function (key, val) {\r\n                        if (val == $(itemValue).val()) {\r\n                            $(itemValue).prop('checked', true);\r\n                            that._value.push(val);\r\n\r\n                            return false;\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\r\n    validate: function (isValid, text) {\r\n\r\n        if (this._options.readonly) {\r\n            return;\r\n        }\r\n\r\n        let container = $('.content-' + this._hash);\r\n        let lastInput = $('.form-check:last-child', container);\r\n        let inputs    = $('input', container);\r\n\r\n        container.find('.valid-feedback').remove();\r\n        container.find('.invalid-feedback').remove();\r\n\r\n        if (isValid === null) {\r\n            inputs.removeClass('is-invalid');\r\n            inputs.removeClass('is-valid');\r\n\r\n        } else if (isValid) {\r\n            inputs.removeClass('is-invalid');\r\n            inputs.addClass('is-valid');\r\n\r\n            if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\r\n                text = this._options.validText;\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                lastInput.append('<div class=\"valid-feedback\">' + text + '</div>');\r\n            }\r\n\r\n        } else {\r\n            inputs.removeClass('is-valid');\r\n            inputs.addClass('is-invalid');\r\n\r\n            if (typeof text === 'undefined') {\r\n                if (typeof this._options.invalidText === 'string') {\r\n                    text = this._options.invalidText;\r\n\r\n                } else if ( ! text && this._options.required) {\r\n                    text = this._form.getLang().required_field;\r\n                }\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                lastInput.append('<div class=\"invalid-feedback\">' + text + '</div>');\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\r\n    isValid: function () {\r\n\r\n        if (this._options.required && ! this._options.readonly) {\r\n            return this.getValue().length > 0;\r\n        }\r\n\r\n        return true;\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let options      = this.getOptions();\r\n        let attachFields = CoreUI.form.utils.getAttacheFields(this._form, options);\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['form-field-label.html'], {\r\n            id: this._id,\r\n            form:  this._form,\r\n            hash: this._hash,\r\n            field: this._options,\r\n            content: this.renderContent(),\r\n            attachFields: attachFields,\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\r\n    renderContent: function () {\r\n\r\n        let that            = this;\r\n        let checkboxOptions = [];\r\n        let fieldOptions    = this.getOptions();\r\n        let selectedItems   = [];\r\n\r\n        if (fieldOptions.hasOwnProperty('options') &&\r\n            typeof fieldOptions.options === 'object' &&\r\n            Array.isArray(fieldOptions.options)\r\n        ) {\r\n            $.each(fieldOptions.options, function (key, option) {\r\n                let attributes = [];\r\n                let itemAttr = {\r\n                    type: 'checkbox',\r\n                    class: 'form-check-input'\r\n                };\r\n                let optionText = option.hasOwnProperty('text') && ['string', 'number'].indexOf(typeof(option.text)) >= 0\r\n                    ? option.text\r\n                    : '';\r\n\r\n                if (fieldOptions.name) {\r\n                    itemAttr.name = that._options.name;\r\n                }\r\n\r\n                if (fieldOptions.required) {\r\n                    itemAttr.required = 'required';\r\n                }\r\n\r\n                $.each(option, function (name, value) {\r\n                    if (name !== 'text') {\r\n                        if (name === 'class') {\r\n                            itemAttr[name] = itemAttr[name] + ' ' + value;\r\n                        } else {\r\n                            itemAttr[name] = value;\r\n                        }\r\n                    }\r\n                });\r\n\r\n                itemAttr.id = CoreUI.form.utils.hashCode();\r\n\r\n                if (typeof(that._value) === 'object' &&\r\n                    Array.isArray(that._value)\r\n                ) {\r\n                    $.each(that._value, function (key, itemValue) {\r\n                        if (itemValue == option.value) {\r\n                            itemAttr.checked = 'checked';\r\n                            if (option.hasOwnProperty('text') && option.text) {\r\n                                selectedItems.push(option.text);\r\n                            }\r\n                            return false;\r\n                        }\r\n                    });\r\n\r\n                } else if (that._value == option.value) {\r\n                    if (option.hasOwnProperty('text') && option.text) {\r\n                        selectedItems.push(option.text);\r\n                    }\r\n                    itemAttr.checked = 'checked';\r\n                }\r\n\r\n                $.each(itemAttr, function (name, value) {\r\n                    attributes.push(name + '=\"' + value + '\"');\r\n                });\r\n\r\n\r\n                checkboxOptions.push({\r\n                    id: itemAttr.id,\r\n                    text: optionText,\r\n                    attr: attributes.length > 0 ? (' ' + attributes.join(' ')) : ''\r\n                })\r\n            });\r\n        }\r\n\r\n        let value = typeof this._value === 'object' && Array.isArray(this._value)\r\n            ? this._value.join(', ')\r\n            : this._value\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/checkbox.html'], {\r\n            field: fieldOptions,\r\n            value: value,\r\n            render: {\r\n                options: checkboxOptions,\r\n                selectedItems: selectedItems\r\n            },\r\n        });\r\n    }\r\n}","\r\nCoreUI.form.fields.color = {\r\n\r\n    _id: '',\r\n    _hash: '',\r\n    _form: null,\r\n    _index: 0,\r\n    _value: '',\r\n    _options: {\r\n        type: 'color',\r\n        name: null,\r\n        label: null,\r\n        labelWidth: null,\r\n        width: null,\r\n        outContent: null,\r\n        description: null,\r\n        errorText: null,\r\n        attach: null,\r\n        attr: {\r\n            class: 'form-control form-control-color d-inline-block'\r\n        },\r\n        required: null,\r\n        readonly: null,\r\n        datalist: null,\r\n        show: true,\r\n        column: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._form    = form;\r\n        this._id      = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\r\n        this._hash    = CoreUI.form.utils.hashCode();\r\n        this._value   = CoreUI.form.utils.getFieldValue(form, options);\r\n        this._options = CoreUI.form.utils.mergeFieldOptions(form, this._options, options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\r\n    readonly: function (isReadonly) {\r\n\r\n        this._value            = this.getValue();\r\n        this._options.readonly = !! isReadonly;\r\n\r\n        $('.content-' + this._hash).html(\r\n            this.renderContent()\r\n        );\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).hide(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).show(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение значения в поле\r\n     * @returns {string}\r\n     */\r\n    getValue: function () {\r\n\r\n        return this._options.readonly\r\n            ? this._value\r\n            : $('.content-' + this._hash + ' input').val();\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\r\n    setValue: function (value) {\r\n\r\n        if (['string', 'number'].indexOf(typeof value) < 0) {\r\n            return;\r\n        }\r\n\r\n        this._value = value;\r\n\r\n        if (this._options.readonly) {\r\n            $('.content-' + this._hash).text(value);\r\n        } else {\r\n            $('.content-' + this._hash + ' input').val(value);\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\r\n    validate: function (isValid, text) {\r\n\r\n        if (this._options.readonly) {\r\n            return;\r\n        }\r\n\r\n        let container = $('.content-' + this._hash);\r\n        let input     = $('input', container);\r\n\r\n        container.find('.valid-feedback').remove();\r\n        container.find('.invalid-feedback').remove();\r\n\r\n        if (isValid === null) {\r\n            input.removeClass('is-invalid');\r\n            input.removeClass('is-valid');\r\n\r\n        } else if (isValid) {\r\n            input.removeClass('is-invalid');\r\n            input.addClass('is-valid');\r\n\r\n            if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\r\n                text = this._options.validText;\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"valid-feedback\">' + text + '</div>');\r\n            }\r\n        } else {\r\n            input.removeClass('is-valid');\r\n            input.addClass('is-invalid');\r\n\r\n            if (typeof text === 'undefined') {\r\n                if (typeof this._options.invalidText === 'string') {\r\n                    text = this._options.invalidText;\r\n\r\n                } else if ( ! text && this._options.required) {\r\n                    text = this._form.getLang().required_field;\r\n                }\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"invalid-feedback\">' + text + '</div>');\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\r\n    isValid: function () {\r\n\r\n        let input = $('.content-' + this._hash + ' input');\r\n\r\n        if (input[0]) {\r\n            return input.is(':valid');\r\n        }\r\n\r\n        return null;\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let options      = this.getOptions();\r\n        let attachFields = CoreUI.form.utils.getAttacheFields(this._form, options);\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['form-field-label.html'], {\r\n            id: this._id,\r\n            form:  this._form,\r\n            hash: this._hash,\r\n            field: options,\r\n            content: this.renderContent(),\r\n            attachFields: attachFields,\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\r\n    renderContent: function () {\r\n\r\n        return this._options.readonly\r\n            ? this._renderContentReadonly()\r\n            : this._renderContent();\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     * @return {*}\r\n     * @private\r\n     */\r\n    _renderContent: function () {\r\n\r\n        let attributes   = [];\r\n        let datalist     = [];\r\n        let options      = this.getOptions();\r\n        let datalistId   = CoreUI.form.utils.hashCode();\r\n\r\n        if ( ! options.hasOwnProperty('attr') ||\r\n            typeof options.attr !== 'object' ||\r\n            options.attr === null ||\r\n            Array.isArray(options.attr)\r\n        ) {\r\n            options.attr = {};\r\n        }\r\n\r\n        if (options.name) {\r\n            options.attr.name = this._options.name;\r\n        }\r\n\r\n        options.attr.type  = options.type;\r\n        options.attr.value = this._value;\r\n\r\n        if (options.width) {\r\n            options.attr = CoreUI.form.utils.mergeAttr(\r\n                { style: 'width:' + options.width },\r\n                options.attr\r\n            );\r\n        }\r\n        if (options.required) {\r\n            options.attr.required = 'required';\r\n        }\r\n\r\n\r\n        if (options.hasOwnProperty('datalist') &&\r\n            typeof options.datalist === 'object' &&\r\n            Array.isArray(options.datalist)\r\n        ) {\r\n            options.attr.list = datalistId;\r\n\r\n            $.each(options.datalist, function (key, itemAttributes) {\r\n                let datalistAttr = [];\r\n\r\n                $.each(itemAttributes, function (name, value) {\r\n                    datalistAttr.push(name + '=\"' + value + '\"');\r\n                });\r\n\r\n                datalist.push({\r\n                    attr: datalistAttr.length > 0 ? (' ' + datalistAttr.join(' ')) : ''\r\n                })\r\n            });\r\n        }\r\n\r\n        $.each(options.attr, function (name, value) {\r\n            attributes.push(name + '=\"' + value + '\"');\r\n        });\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/color.html'], {\r\n            field: options,\r\n            datalistId: datalistId,\r\n            value: this._value,\r\n            render: {\r\n                attr: attributes.length > 0 ? (' ' + attributes.join(' ')) : '',\r\n                datalist: datalist,\r\n            },\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     * @return {*}\r\n     * @private\r\n     */\r\n    _renderContentReadonly: function () {\r\n\r\n        let options = this.getOptions();\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/color.html'], {\r\n            field: options,\r\n            value: this._value\r\n        });\r\n    }\r\n}","\r\nCoreUI.form.controls.custom = {\r\n\r\n    _form: null,\r\n    _index: null,\r\n    _options: {\r\n        type: 'custom',\r\n        content: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object} options\r\n     * @param {int} index\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._options = $.extend({}, this._options, options);\r\n        this._form   = form;\r\n        this._index   = index;\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ контрола\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + form.getId() + '-control-' + this._index).show(duration || 0)\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие контрола\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + form.getId() + '-control-' + this._index).hide(duration || 0)\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента для размещения на странице\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        return this._options.content;\r\n    }\r\n}","\r\nCoreUI.form.fields.dataset = {\r\n\r\n    _id: '',\r\n    _hash: '',\r\n    _form: null,\r\n    _value: [],\r\n    _renderOptions: [],\r\n    _options: {\r\n        type: 'dataset',\r\n        name: null,\r\n        label: null,\r\n        labelWidth: null,\r\n        width: null,\r\n        outContent: null,\r\n        description: null,\r\n        errorText: null,\r\n        attach: null,\r\n        attr: {\r\n            class: 'form-select form-select-sm d-inline-block'\r\n        },\r\n        required: null,\r\n        readonly: null,\r\n        datalist: null,\r\n        show: true,\r\n        column: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._form    = form;\r\n        this._id      = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\r\n        this._value   = CoreUI.form.utils.getFieldValue(form, options);\r\n        this._options = CoreUI.form.utils.mergeFieldOptions(form, this._options, options);\r\n        this._hash    = CoreUI.form.utils.hashCode();\r\n\r\n        let that = this;\r\n\r\n        form.on('shown.coreui.form', function () {\r\n            if ( ! that._options.readonly) {\r\n                that._initEvents();\r\n            }\r\n        });\r\n\r\n        if (options.hasOwnProperty('options') &&\r\n            typeof options.options === 'object' &&\r\n            Array.isArray(options.options)\r\n        ) {\r\n            $.each(options.options, function (key, option) {\r\n                let name = option.hasOwnProperty('name') && ['string', 'number'].indexOf(typeof (option.name)) >= 0\r\n                    ? option.name\r\n                    : '';\r\n                let type = option.hasOwnProperty('type') && typeof (option.type) === 'string'\r\n                    ? option.type\r\n                    : 'text';\r\n                let attributes = option.hasOwnProperty('attr') && typeof (option.attr) === 'object' && ! Array.isArray(option.attr)\r\n                    ? option.attr\r\n                    : {};\r\n                let items = option.hasOwnProperty('items') && typeof (option.items) === 'object' && Array.isArray(option.items)\r\n                    ? option.items\r\n                    : [];\r\n                let valueY = option.hasOwnProperty('valueY') && ['string', 'numeric'].indexOf(typeof (option.valueY)) >= 0\r\n                    ? option.valueY\r\n                    : 'Y';\r\n                let valueN = option.hasOwnProperty('valueN') && ['string', 'numeric'].indexOf(typeof (option.valueN)) >= 0\r\n                    ? option.valueN\r\n                    : 'N';\r\n\r\n                if (name) {\r\n                    attributes.name = name;\r\n                }\r\n                if (options.required) {\r\n                    attributes.required = 'required';\r\n                }\r\n\r\n                if (type === 'select') {\r\n                    attributes.class = attributes.hasOwnProperty('class')\r\n                        ? 'form-select form-select-sm ' + attributes.class\r\n                        : 'form-select form-select-sm';\r\n\r\n                } else if (type === 'switch') {\r\n                    attributes.class = attributes.hasOwnProperty('class')\r\n                        ? 'form-check-input ' + attributes.class\r\n                        : 'form-check-input';\r\n\r\n                    attributes.type = 'checkbox';\r\n                    attributes.value = valueY;\r\n\r\n                } else {\r\n                    attributes.class = attributes.hasOwnProperty('class')\r\n                        ? 'form-control form-control-sm ' + attributes.class\r\n                        : 'form-control form-control-sm';\r\n\r\n                    attributes.type = type;\r\n                }\r\n\r\n\r\n                that._renderOptions.push({\r\n                    type  : type,\r\n                    name  : name,\r\n                    attr  : attributes,\r\n                    items : items,\r\n                    valueY: valueY,\r\n                    valueN: valueN,\r\n                });\r\n            });\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\r\n    readonly: function (isReadonly) {\r\n\r\n        this._value            = this.getValue();\r\n        this._options.readonly = !! isReadonly;\r\n\r\n        $('.content-' + this._hash).html(\r\n            this.renderContent()\r\n        );\r\n\r\n        if ( ! this._options.readonly) {\r\n            this._initEvents();\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).hide(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).show(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение значения в поле\r\n     * @returns {array}\r\n     */\r\n    getValue: function () {\r\n\r\n        if (this._options.readonly) {\r\n            return this._value;\r\n\r\n        } else {\r\n            let container = $('.content-' + this._hash);\r\n            let data      = [];\r\n\r\n            $('.coreui-form__field-dataset-list .coreui-form__field-dataset-item', container).each(function () {\r\n                let items = {};\r\n\r\n                $.each($(this).find('input, select').serializeArray(), function (key, item) {\r\n                    if (item.name) {\r\n                        items[item.name] = item.value;\r\n                    }\r\n                });\r\n\r\n                data.push(items);\r\n            })\r\n\r\n            return data;\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка значения в поле\r\n     * @param {object} value\r\n     */\r\n    setValue: function (value) {\r\n\r\n        if (typeof value !== 'object' ||\r\n            Array.isArray(value) ||\r\n            value === null\r\n        ) {\r\n            return;\r\n        }\r\n\r\n        this._value.push(value);\r\n\r\n        if (this._options.readonly) {\r\n            $('.content-' + this._hash + ' .coreui-form__field-dataset-list').append(\r\n                this._renderRowReadonly(value)\r\n            );\r\n        } else {\r\n            this._eventAdd(value);\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\r\n    validate: function (isValid, text) {\r\n\r\n        if (this._options.readonly) {\r\n            return;\r\n        }\r\n\r\n        let container = $('.content-' + this._hash);\r\n\r\n        container.find('.text-success').remove();\r\n        container.find('.text-danger').remove();\r\n\r\n        if (isValid === null) {\r\n            return;\r\n        }\r\n\r\n        if (isValid) {\r\n            if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\r\n                text = this._options.validText;\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"ps-2 text-success\">' + text + '</div>');\r\n            }\r\n\r\n        } else {\r\n            if (typeof text === 'undefined') {\r\n                if (typeof this._options.invalidText === 'string') {\r\n                    text = this._options.invalidText;\r\n\r\n                } else if ( ! text && this._options.required) {\r\n                    text = this._form.getLang().required_field;\r\n                }\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"ps-2 text-danger\">' + text + '</div>');\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\r\n    isValid: function () {\r\n\r\n        if (this._options.required && ! this._options.readonly) {\r\n            return this.getValue().length > 0;\r\n        }\r\n\r\n        return true;\r\n    },\r\n\r\n\r\n    /**\r\n     * Удаление всех строк\r\n     */\r\n    removeItems: function () {\r\n\r\n        $('#coreui-form-' + this._id + ' .content-' + this._hash + ' .coreui-form__field-dataset-list').empty();\r\n    },\r\n\r\n\r\n    /**\r\n     * Удаление строки по id\r\n     * @param {int} itemId\r\n     */\r\n    removeItem: function (itemId) {\r\n\r\n        let element = '#coreui-form-' + this._id + ' .content-' + this._hash;\r\n\r\n        $('#' + itemId).hide('fast', function () {\r\n            $('#' + itemId).remove();\r\n\r\n            if ($(element + ' .coreui-form__field-dataset-item').length === 0) {\r\n                $(element + ' .coreui-form__field-dataset-container').hide();\r\n            }\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let options      = this.getOptions();\r\n        let attachFields = CoreUI.form.utils.getAttacheFields(this._form, options);\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['form-field-label.html'], {\r\n            id: this._id,\r\n            form:  this._form,\r\n            hash: this._hash,\r\n            field: options,\r\n            content: this.renderContent(),\r\n            attachFields: attachFields\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\r\n    renderContent: function () {\r\n\r\n        return this._options.readonly\r\n            ? this._renderContentReadonly()\r\n            : this._renderContent();\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\r\n    _renderContent: function () {\r\n\r\n        let options = this.getOptions();\r\n        let rows    = [];\r\n        let headers = [];\r\n        let that    = this;\r\n\r\n\r\n        if (options.hasOwnProperty('options') &&\r\n            typeof options.options === 'object' &&\r\n            Array.isArray(options.options)\r\n        ) {\r\n            // Заголовок\r\n            $.each(options.options, function (key, option) {\r\n                let title = option.hasOwnProperty('title') && ['string', 'numeric'].indexOf(typeof(option.title)) >= 0\r\n                    ? option.title\r\n                    : '';\r\n\r\n                headers.push({\r\n                    title: title\r\n                });\r\n            });\r\n\r\n            // Строки\r\n            if (typeof this._value === 'object' && Array.isArray(this._value)) {\r\n                $.each(this._value, function (key, row) {\r\n                    if (typeof row !== 'object' || Array.isArray(row)) {\r\n                        return;\r\n                    }\r\n\r\n                    rows.push(that._renderRow(row));\r\n                });\r\n            }\r\n        }\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/dataset.html'], {\r\n            field: options,\r\n            value: this._value,\r\n            lang: this._form.getLang(),\r\n            render: {\r\n                headers: headers,\r\n                rows: rows,\r\n            },\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     * @private\r\n     */\r\n    _renderContentReadonly: function () {\r\n\r\n        let options = this.getOptions();\r\n        let rows    = [];\r\n        let headers = [];\r\n        let that    = this;\r\n\r\n\r\n        if (options.hasOwnProperty('options') &&\r\n            typeof options.options === 'object' &&\r\n            Array.isArray(options.options)\r\n        ) {\r\n            // Заголовок\r\n            $.each(options.options, function (key, option) {\r\n                let title = option.hasOwnProperty('title') && ['string', 'numeric'].indexOf(typeof(option.title)) >= 0\r\n                    ? option.title\r\n                    : '';\r\n\r\n                headers.push({\r\n                    title: title\r\n                });\r\n            });\r\n\r\n            // Строки\r\n            if (typeof this._value === 'object' && Array.isArray(this._value)) {\r\n                $.each(this._value, function (key, row) {\r\n                    if (typeof row !== 'object' || Array.isArray(row)) {\r\n                        return;\r\n                    }\r\n\r\n                    rows.push(that._renderRowReadonly(row));\r\n                });\r\n            }\r\n        }\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/dataset.html'], {\r\n            field: options,\r\n            value: this._value,\r\n            lang: this._form.getLang(),\r\n            render: {\r\n                headers: headers,\r\n                rows: rows,\r\n            },\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация событий\r\n     * @private\r\n     */\r\n    _initEvents: function () {\r\n\r\n        let that    = this;\r\n        let element = '#coreui-form-' + this._id + ' .content-' + this._hash;\r\n\r\n        // Кнопка удаления\r\n        $(element + ' .btn-dataset-remove').click(function () {\r\n            that.removeItem($(this).data('item-id'));\r\n        });\r\n\r\n        // Кнопка добавления\r\n        $(element + ' .btn-dataset-add').click(function () {\r\n            that._eventAdd();\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Событие добавления\r\n     */\r\n    _eventAdd: function (row) {\r\n\r\n        let that    = this;\r\n        let element = '#coreui-form-' + this._id + ' .content-' + this._hash;\r\n        row = row || {};\r\n\r\n        if ($(element + ' .coreui-form__field-dataset-item').length === 0) {\r\n            $(element + ' .coreui-form__field-dataset-container').show();\r\n        }\r\n\r\n        $(element + ' .coreui-form__field-dataset-list').append(this._renderRow(row));\r\n        $(element + ' .coreui-form__field-dataset-item:last-child .btn-dataset-remove').click(function () {\r\n            that.removeItem($(this).data('item-id'))\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование строки\r\n     * @param {object} row\r\n     * @private\r\n     */\r\n    _renderRow: function (row) {\r\n\r\n        let rowOptions  = [];\r\n        let itemOptions = [];\r\n\r\n        $.each(this._renderOptions, function (key, option) {\r\n\r\n            let cellValue = row.hasOwnProperty(option.name) ? row[option.name] : '';\r\n\r\n            if (option.type === 'select') {\r\n                $.each(option.items, function (key, item) {\r\n                    let title = item.hasOwnProperty('title') && ['string', 'numeric'].indexOf(typeof(item.title)) >= 0\r\n                        ? item.title\r\n                        : '';\r\n                    let itemValue = item.hasOwnProperty('value') && ['string', 'numeric'].indexOf(typeof(item.value)) >= 0\r\n                        ? item.value\r\n                        : '';\r\n                    let itemAttr = {};\r\n\r\n\r\n                    $.each(item, function (name, value) {\r\n                        if (name !== 'title') {\r\n                            itemAttr[name] = value;\r\n                        }\r\n                    });\r\n\r\n\r\n                    if (typeof(cellValue) === 'object' && Array.isArray(cellValue)) {\r\n                        $.each(cellValue, function (key, cellItemValue) {\r\n                            if (cellItemValue == itemValue) {\r\n                                itemAttr.selected = 'selected';\r\n                                return false;\r\n                            }\r\n                        });\r\n\r\n                    } else if (cellValue == item.value) {\r\n                        itemAttr.selected = 'selected';\r\n                    }\r\n\r\n                    let attributes = [];\r\n                    $.each(itemAttr, function (name, value) {\r\n                        attributes.push(name + '=\"' + value + '\"');\r\n                    });\r\n\r\n                    itemOptions.push({\r\n                        attr: attributes.length > 0 ? (' ' + attributes.join(' ')) : '',\r\n                        title: title\r\n                    })\r\n                });\r\n\r\n            } else if (option.type === 'switch') {\r\n                if (cellValue == option.valueY) {\r\n                    option.attr.checked = 'checked';\r\n                }\r\n\r\n            } else {\r\n                if (['string', 'number'].indexOf(typeof(cellValue)) >= 0) {\r\n                    option.attr.value = cellValue;\r\n                }\r\n            }\r\n\r\n            let attributes = [];\r\n\r\n            $.each(option.attr, function (name, value) {\r\n                attributes.push(name + '=\"' + value + '\"');\r\n            });\r\n\r\n            rowOptions.push({\r\n                type: option.type,\r\n                attr: attributes.length > 0 ? (' ' + attributes.join(' ')) : '',\r\n                items: itemOptions\r\n            });\r\n        });\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/dataset-row.html'], {\r\n            hashItem: CoreUI.form.utils.hashCode(),\r\n            options: rowOptions,\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование строки\r\n     * @param {object} row\r\n     * @private\r\n     */\r\n    _renderRowReadonly: function (row) {\r\n\r\n        let rowOptions = [];\r\n        let lang       = this._form.getLang();\r\n\r\n        $.each(this._renderOptions, function (key, option) {\r\n\r\n            let optionValue = '';\r\n            let cellValue   = row.hasOwnProperty(option.name) ? row[option.name] : '';\r\n\r\n            if (option.type === 'select') {\r\n                let itemOptions = [];\r\n\r\n                $.each(option.items, function (key, item) {\r\n                    let title = item.hasOwnProperty('title') && ['string', 'numeric'].indexOf(typeof(item.title)) >= 0\r\n                        ? item.title\r\n                        : '';\r\n                    let itemValue = item.hasOwnProperty('value') && ['string', 'numeric'].indexOf(typeof(item.value)) >= 0\r\n                        ? item.value\r\n                        : '';\r\n\r\n                    if (typeof(cellValue) === 'object' && Array.isArray(cellValue)) {\r\n                        $.each(cellValue, function (key, cellItemValue) {\r\n                            if (cellItemValue == itemValue) {\r\n                                itemOptions.push(itemValue);\r\n                                return false;\r\n                            }\r\n                        });\r\n\r\n                    } else if (cellValue == item.value) {\r\n                        itemOptions.push(cellValue);\r\n                    }\r\n                });\r\n\r\n            } else if (option.type === 'switch') {\r\n                let valueY = 'Y';\r\n\r\n                if (option.hasOwnProperty('valueY')) {\r\n                    valueY = option.valueY;\r\n                }\r\n\r\n                optionValue = cellValue == valueY\r\n                    ? lang.switch_yes\r\n                    : lang.switch_no;\r\n\r\n            } else {\r\n                if (['string', 'number'].indexOf(typeof(cellValue)) >= 0) {\r\n                    optionValue = cellValue;\r\n\r\n                    switch (option.type) {\r\n                        case 'date':           optionValue = CoreUI.form.utils.formatDate(optionValue); break;\r\n                        case 'datetime-local': optionValue = CoreUI.form.utils.formatDateTime(optionValue); break;\r\n                        case 'month':          optionValue = CoreUI.form.utils.formatDateMonth(optionValue, lang); break;\r\n                        case 'week':           optionValue = CoreUI.form.utils.formatDateWeek(optionValue, lang); break;\r\n                        default: optionValue = cellValue;\r\n                    }\r\n                }\r\n            }\r\n\r\n            rowOptions.push({\r\n                value: optionValue\r\n            });\r\n        });\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/dataset-row-readonly.html'], {\r\n            options: rowOptions,\r\n        });\r\n    }\r\n}","\r\nCoreUI.form.fields.group = {\r\n\r\n    _id: '',\r\n    _form: null,\r\n    _index: 0,\r\n    _options: {\r\n        type: 'group',\r\n        label: '',\r\n        show: true,\r\n        showCollapsible: true,\r\n        fields: [],\r\n        column: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._form    = form;\r\n        this._index   = index;\r\n        this._id      = form.getId() + \"-group-\" + index;\r\n        this._options = $.extend(true, {}, this._options, options);\r\n\r\n        let that = this;\r\n\r\n        form.on('shown.coreui.form', function () {\r\n            that._initEvents();\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options, options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие группы\r\n     * @param {int} duration\r\n     */\r\n    collapse: function (duration) {\r\n\r\n        let container = '#coreui-form-' + this._id;\r\n\r\n        $(container + ' > .coreui-form__group_label .btn-collapsible .bi').removeClass('bi-chevron-down');\r\n        $(container + ' > .coreui-form__group_label .btn-collapsible .bi').addClass('bi-chevron-right');\r\n\r\n        $(container + ' .coreui-form__group_content').slideUp(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ группы\r\n     * @param {int} duration\r\n     */\r\n    expand: function (duration) {\r\n\r\n        let container = '#coreui-form-' + this._id;\r\n\r\n        $(container + ' > .coreui-form__group_label .btn-collapsible .bi').removeClass('bi-chevron-right');\r\n        $(container + ' > .coreui-form__group_label .btn-collapsible .bi').addClass('bi-chevron-down');\r\n\r\n        $(container + ' .coreui-form__group_content').slideDown(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['form-field-group.html'], {\r\n            id: this._id,\r\n            form:  this._form,\r\n            group: this._options,\r\n            content: this.renderContent(),\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {string}\r\n     */\r\n    renderContent: function () {\r\n\r\n        let fields = [];\r\n        let that   = this;\r\n\r\n        $.each(this._options.fields, function (key, field) {\r\n\r\n            let fieldInstance = that._form.initField(field);\r\n\r\n            if (typeof fieldInstance !== 'object') {\r\n                return;\r\n            }\r\n\r\n            fields.push(fieldInstance.render());\r\n        });\r\n\r\n        return fields.join('');\r\n    },\r\n\r\n\r\n\r\n    /**\r\n     * Инициализация событий\r\n     * @private\r\n     */\r\n    _initEvents: function () {\r\n\r\n        if (this._options.showCollapsible) {\r\n            let that      = this;\r\n            let container = '#coreui-form-' + this._id;\r\n\r\n            $(container + ' > .coreui-form__group_label .btn-collapsible').click(function () {\r\n\r\n                if ($(container + ' > .coreui-form__group_content').is(':visible')) {\r\n                    that.collapse(80);\r\n                } else {\r\n                    that.expand(80);\r\n                }\r\n            });\r\n        }\r\n    }\r\n}","\r\nCoreUI.form.fields.hidden = {\r\n\r\n    _id: '',\r\n    _form: null,\r\n    _index: 0,\r\n    _value: '',\r\n    _options: {\r\n        type: 'hidden',\r\n        name: null,\r\n        attr: {},\r\n        required: null,\r\n        column: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._form    = form;\r\n        this._id      = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\r\n        this._value   = CoreUI.form.utils.getFieldValue(form, options);\r\n        this._options = CoreUI.form.utils.mergeFieldOptions(form, this._options, options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение значения в поле\r\n     * @returns {string}\r\n     */\r\n    getValue: function () {\r\n\r\n        return this._options.readonly\r\n            ? this._value\r\n            : $('#coreui-form-' + this._id).val();\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\r\n    setValue: function (value) {\r\n\r\n        if (['string', 'number'].indexOf(typeof value) < 0) {\r\n            return;\r\n        }\r\n\r\n        this._value = value;\r\n\r\n        if ( ! this._options.readonly) {\r\n            $('#coreui-form-' + this._id).val(value);\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['form-field-content.html'], {\r\n            content: this.renderContent(),\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\r\n    renderContent: function () {\r\n\r\n        let attributes = [];\r\n        let options    = this.getOptions();\r\n\r\n        if ( ! options.hasOwnProperty('attr') ||\r\n            typeof options.attr !== 'object' ||\r\n            options.attr === null ||\r\n            Array.isArray(options.attr)\r\n        ) {\r\n            options.attr = {};\r\n        }\r\n\r\n\r\n        options.attr.id = 'coreui-form-' + this._id;\r\n\r\n        if (options.name) {\r\n            options.attr.name = options.name;\r\n        }\r\n\r\n        options.attr.type  = 'hidden';\r\n        options.attr.value = this._value;\r\n\r\n\r\n        $.each(options.attr, function (name, value) {\r\n            attributes.push(name + '=\"' + value + '\"');\r\n        });\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/hidden.html'], {\r\n            value: this._value,\r\n            field: options,\r\n            render: {\r\n                attr: attributes.length > 0 ? (' ' + attributes.join(' ')) : '',\r\n            },\r\n        });\r\n    }\r\n}","\r\nCoreUI.form.fields.input = {\r\n\r\n    _id: '',\r\n    _hash: '',\r\n    _form: null,\r\n    _index: 0,\r\n    _value: '',\r\n    _options: {\r\n        type: 'text',\r\n        name: null,\r\n        label: null,\r\n        labelWidth: null,\r\n        width: null,\r\n        outContent: null,\r\n        description: null,\r\n        errorText: null,\r\n        attach: null,\r\n        attr: {\r\n            class: 'form-control form-control-sm d-inline-block'\r\n        },\r\n        required: null,\r\n        invalidText: null,\r\n        validText: null,\r\n        readonly: null,\r\n        datalist: null,\r\n        show: true,\r\n        column: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._form    = form;\r\n        this._index   = index;\r\n        this._id      = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\r\n        this._hash    = CoreUI.form.utils.hashCode();\r\n        this._value   = CoreUI.form.utils.getFieldValue(form, options);\r\n        this._options = CoreUI.form.utils.mergeFieldOptions(form, this._options, options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\r\n    readonly: function (isReadonly) {\r\n\r\n        this._value            = this.getValue();\r\n        this._options.readonly = !! isReadonly;\r\n\r\n        $('.content-' + this._hash).html(\r\n            this.renderContent()\r\n        );\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).hide(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).show(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение значения в поле\r\n     * @returns {string}\r\n     */\r\n    getValue: function () {\r\n\r\n        return this._options.readonly\r\n            ? this._value\r\n            : $('.content-' + this._hash + ' input').val();\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\r\n    setValue: function (value) {\r\n\r\n        if (['string', 'number'].indexOf(typeof value) < 0) {\r\n            return;\r\n        }\r\n\r\n        this._value = value;\r\n\r\n        if (this._options.readonly) {\r\n            $('.content-' + this._hash).text(value);\r\n        } else {\r\n            $('.content-' + this._hash + ' input').val(value);\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\r\n    validate: function (isValid, text) {\r\n\r\n        if (this._options.readonly) {\r\n            return;\r\n        }\r\n\r\n        let container = $('.content-' + this._hash);\r\n        let input     = $('input', container);\r\n\r\n        container.find('.valid-feedback').remove();\r\n        container.find('.invalid-feedback').remove();\r\n\r\n        if (isValid === null) {\r\n            input.removeClass('is-invalid');\r\n            input.removeClass('is-valid');\r\n\r\n        } else if (isValid) {\r\n            input.removeClass('is-invalid');\r\n            input.addClass('is-valid');\r\n\r\n            if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\r\n                text = this._options.validText;\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"valid-feedback\">' + text + '</div>');\r\n            }\r\n        } else {\r\n            input.removeClass('is-valid');\r\n            input.addClass('is-invalid');\r\n\r\n            if (typeof text === 'undefined') {\r\n                if (typeof this._options.invalidText === 'string') {\r\n                    text = this._options.invalidText;\r\n\r\n                } else if ( ! text && this._options.required) {\r\n                    text = this._form.getLang().required_field;\r\n                }\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"invalid-feedback\">' + text + '</div>');\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean|null}\r\n     */\r\n    isValid: function () {\r\n\r\n        let input = $('.content-' + this._hash + ' input');\r\n\r\n        if (input[0]) {\r\n            return input.is(':valid');\r\n        }\r\n\r\n        return null;\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let options      = this.getOptions();\r\n        let attachFields = CoreUI.form.utils.getAttacheFields(this._form, options);\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['form-field-label.html'], {\r\n            id: this._id,\r\n            form: this._form,\r\n            hash: this._hash,\r\n            field: options,\r\n            content: this.renderContent(),\r\n            attachFields: attachFields\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\r\n    renderContent: function () {\r\n\r\n        return this._options.readonly\r\n            ? this._renderContentReadonly()\r\n            : this._renderContent();\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     * @private\r\n     */\r\n    _renderContent: function () {\r\n\r\n        let attributes   = [];\r\n        let datalist     = [];\r\n        let options      = this.getOptions();\r\n        let datalistId   = CoreUI.form.utils.hashCode();\r\n\r\n        if ( ! options.hasOwnProperty('attr') ||\r\n            typeof options.attr !== 'object' ||\r\n            options.attr === null ||\r\n            Array.isArray(options.attr)\r\n        ) {\r\n            options.attr = {};\r\n        }\r\n\r\n        if (options.name) {\r\n            options.attr.name = this._options.name;\r\n        }\r\n\r\n        options.attr.type  = options.type;\r\n        options.attr.value = this._value;\r\n\r\n        if (options.width) {\r\n            options.attr = CoreUI.form.utils.mergeAttr(\r\n                { style: 'width:' + options.width },\r\n                options.attr\r\n            );\r\n        }\r\n\r\n        if (options.required) {\r\n            options.attr.required = 'required';\r\n        }\r\n\r\n\r\n        if (options.hasOwnProperty('datalist') &&\r\n            typeof options.datalist === 'object' &&\r\n            Array.isArray(options.datalist)\r\n        ) {\r\n            options.attr.list = datalistId;\r\n\r\n            $.each(options.datalist, function (key, itemAttributes) {\r\n                let datalistAttr = [];\r\n\r\n                $.each(itemAttributes, function (name, value) {\r\n                    datalistAttr.push(name + '=\"' + value + '\"');\r\n                });\r\n\r\n                datalist.push({\r\n                    attr: datalistAttr.length > 0 ? (' ' + datalistAttr.join(' ')) : ''\r\n                })\r\n            });\r\n        }\r\n\r\n        $.each(options.attr, function (name, value) {\r\n            attributes.push(name + '=\"' + value + '\"');\r\n        });\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/input.html'], {\r\n            field: options,\r\n            datalistId: datalistId,\r\n            value: this._value,\r\n            render: {\r\n                attr: attributes.length > 0 ? (' ' + attributes.join(' ')) : '',\r\n                datalist: datalist\r\n            },\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     * @private\r\n     */\r\n    _renderContentReadonly: function () {\r\n\r\n        let options = this.getOptions();\r\n        let type    = 'text';\r\n        let value   = this._value;\r\n        let lang    = this._form.getLang();\r\n\r\n        if (options.hasOwnProperty('type') && typeof options.type === 'string') {\r\n            type = options.type;\r\n        }\r\n\r\n        try {\r\n            switch (type) {\r\n                case 'date':           value = CoreUI.form.utils.formatDate(value); break;\r\n                case 'datetime-local': value = CoreUI.form.utils.formatDateTime(value); break;\r\n                case 'month':          value = CoreUI.form.utils.formatDateMonth(value, lang); break;\r\n                case 'week':           value = CoreUI.form.utils.formatDateWeek(value, lang); break;\r\n            }\r\n\r\n        } catch (e) {\r\n            console.error(e);\r\n            // ignore\r\n        }\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/input.html'], {\r\n            field: options,\r\n            value: value,\r\n            hash: this._hash\r\n        });\r\n    }\r\n}","\r\nCoreUI.form.fields.mask = {\r\n\r\n    _id: '',\r\n    _hash: '',\r\n    _form: null,\r\n    _index: 0,\r\n    _value: '',\r\n    _options: {\r\n        type: 'mask',\r\n        name: null,\r\n        label: null,\r\n        labelWidth: null,\r\n        width: null,\r\n        outContent: null,\r\n        description: null,\r\n        errorText: null,\r\n        attach: null,\r\n        attr: {\r\n            class: 'form-control form-control-sm d-inline-block'\r\n        },\r\n        required: null,\r\n        readonly: null,\r\n        datalist: null,\r\n        show: true,\r\n        column: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._form    = form;\r\n        this._index   = index;\r\n        this._id      = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\r\n        this._value   = CoreUI.form.utils.getFieldValue(form, options);\r\n        this._options = CoreUI.form.utils.mergeFieldOptions(form, this._options, options);\r\n        this._hash    = CoreUI.form.utils.hashCode();\r\n        let that      = this;\r\n\r\n        form.on('shown.coreui.form', function () {\r\n            if ( ! that._options.readonly) {\r\n                that._initEvents();\r\n            }\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\r\n    readonly: function (isReadonly) {\r\n\r\n        this._value            = this.getValue();\r\n        this._options.readonly = !! isReadonly;\r\n\r\n        $('.content-' + this._hash).html(\r\n            this.renderContent()\r\n        );\r\n\r\n        if ( ! this._options.readonly) {\r\n            this._initEvents();\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).hide(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).show(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение значения в поле\r\n     * @returns {string}\r\n     */\r\n    getValue: function () {\r\n\r\n        return this._options.readonly\r\n            ? this._value\r\n            : $('.content-' + this._hash + ' input').val();\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\r\n    setValue: function (value) {\r\n\r\n        if (['string', 'number'].indexOf(typeof value) < 0) {\r\n            return;\r\n        }\r\n\r\n        value = value.replace(/[^\\d\\w]/g, '');\r\n\r\n        this._value = value;\r\n\r\n        if (this._options.readonly) {\r\n            $('.content-' + this._hash).text(value);\r\n        } else {\r\n            $('.content-' + this._hash + ' input').val(value);\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\r\n    validate: function (isValid, text) {\r\n\r\n        if (this._options.readonly) {\r\n            return;\r\n        }\r\n\r\n        let container = $('.content-' + this._hash);\r\n        let input     = $('input', container);\r\n\r\n        container.find('.valid-feedback').remove();\r\n        container.find('.invalid-feedback').remove();\r\n\r\n        if (isValid === null) {\r\n            input.removeClass('is-invalid');\r\n            input.removeClass('is-valid');\r\n\r\n        } else if (isValid) {\r\n            input.removeClass('is-invalid');\r\n            input.addClass('is-valid');\r\n\r\n            if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\r\n                text = this._options.validText;\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"valid-feedback\">' + text + '</div>');\r\n            }\r\n        } else {\r\n            input.removeClass('is-valid');\r\n            input.addClass('is-invalid');\r\n\r\n            if (typeof text === 'undefined') {\r\n                if (typeof this._options.invalidText === 'string') {\r\n                    text = this._options.invalidText;\r\n\r\n                } else if ( ! text && this._options.required) {\r\n                    text = this._form.getLang().required_field;\r\n                }\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"invalid-feedback\">' + text + '</div>');\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\r\n    isValid: function () {\r\n\r\n        let input = $('.content-' + this._hash + ' input');\r\n\r\n        if (input[0]) {\r\n            return input.is(':valid');\r\n        }\r\n\r\n        return null;\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let options      = this.getOptions();\r\n        let attachFields = CoreUI.form.utils.getAttacheFields(this._form, options);\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['form-field-label.html'], {\r\n            id: this._id,\r\n            form:  this._form,\r\n            hash: this._hash,\r\n            field: options,\r\n            content: this.renderContent(),\r\n            attachFields: attachFields,\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\r\n    renderContent: function () {\r\n\r\n        return this._options.readonly\r\n            ? this._renderContentReadonly()\r\n            : this._renderContent();\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     * @return {*}\r\n     * @private\r\n     */\r\n    _renderContent: function () {\r\n\r\n        let attributes = [];\r\n        let datalist   = [];\r\n        let options    = this.getOptions();\r\n        let datalistId = CoreUI.form.utils.hashCode();\r\n\r\n        if ( ! options.hasOwnProperty('attr') ||\r\n            typeof options.attr !== 'object' ||\r\n            options.attr === null ||\r\n            Array.isArray(options.attr)\r\n        ) {\r\n            options.attr = {};\r\n        }\r\n\r\n        if (options.name) {\r\n            options.attr.name = this._options.name;\r\n        }\r\n\r\n        options.attr.type  = 'text';\r\n        options.attr.value = this._value;\r\n\r\n        if (options.width) {\r\n            options.attr = CoreUI.form.utils.mergeAttr(\r\n                { style: 'width:' + options.width },\r\n                options.attr\r\n            );\r\n        }\r\n        if (options.required) {\r\n            options.attr.required = 'required';\r\n        }\r\n\r\n\r\n        if (options.hasOwnProperty('datalist') &&\r\n            typeof options.datalist === 'object' &&\r\n            Array.isArray(options.datalist)\r\n        ) {\r\n            options.attr.list = datalistId;\r\n\r\n            $.each(options.datalist, function (key, itemAttributes) {\r\n                let datalistAttr = [];\r\n\r\n                $.each(itemAttributes, function (name, value) {\r\n                    datalistAttr.push(name + '=\"' + value + '\"');\r\n                });\r\n\r\n                datalist.push({\r\n                    attr: datalistAttr.length > 0 ? (' ' + datalistAttr.join(' ')) : ''\r\n                })\r\n            });\r\n        }\r\n\r\n        $.each(options.attr, function (name, value) {\r\n            attributes.push(name + '=\"' + value + '\"');\r\n        });\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/input.html'], {\r\n            field: options,\r\n            datalistId: datalistId,\r\n            value: this._value,\r\n            render: {\r\n                attr: attributes.length > 0 ? (' ' + attributes.join(' ')) : '',\r\n                datalist: datalist\r\n            },\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     * @private\r\n     */\r\n    _renderContentReadonly: function () {\r\n\r\n        let options = this.getOptions();\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/input.html'], {\r\n            field: options,\r\n            value: this._value\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация событий\r\n     * @private\r\n     */\r\n    _initEvents: function () {\r\n\r\n        $('#coreui-form-' + this._id + ' .content-' + this._hash + ' input')\r\n            .mask(this._options.mask, this._options.options)\r\n    }\r\n}","\r\nCoreUI.form.fields.modal = {\r\n\r\n    _id: '',\r\n    _hash: '',\r\n    _form: null,\r\n    _value: '',\r\n    _text: '',\r\n    _options: {\r\n        type: 'modal',\r\n        name: null,\r\n        label: null,\r\n        labelWidth: null,\r\n        width: null,\r\n        outContent: null,\r\n        description: null,\r\n        errorText: null,\r\n        fields: [],\r\n        options: {\r\n            title: '',\r\n            size: 'lg',\r\n            url: '',\r\n            onHidden: null,\r\n            onClear: null,\r\n            onChange: null,\r\n        },\r\n        required: null,\r\n        readonly: null,\r\n        show: true,\r\n        column: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        let formRecord = form.getRecord();\r\n\r\n        this._form    = form;\r\n        this._id      = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\r\n        this._options = CoreUI.form.utils.mergeFieldOptions(form, this._options, options);\r\n        this._hash    = CoreUI.form.utils.hashCode();\r\n\r\n        if (typeof options.name === 'string' &&\r\n            formRecord.hasOwnProperty(options.name) &&\r\n            ['object'].indexOf(typeof formRecord[options.name]) >= 0\r\n        ) {\r\n            let record = formRecord[options.name];\r\n\r\n            this._value = record.hasOwnProperty('value') && ['number', 'string'].indexOf(typeof(record.value)) >= 0 ? record.value : '';\r\n            this._text  = record.hasOwnProperty('text') && ['number', 'string'].indexOf(typeof(record.text)) >= 0 ? record.text : '';\r\n        }\r\n\r\n\r\n        let that = this;\r\n\r\n        form.on('shown.coreui.form', function () {\r\n            that._initEvents();\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\r\n    readonly: function (isReadonly) {\r\n\r\n        this._value            = this.getValue();\r\n        this._options.readonly = !! isReadonly;\r\n\r\n        $('.content-' + this._hash).html(\r\n            this.renderContent()\r\n        );\r\n\r\n        if ( ! this._options.readonly) {\r\n            this._initEvents();\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).hide(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).show(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение значения в поле\r\n     * @returns {string}\r\n     */\r\n    getValue: function () {\r\n\r\n        return this._options.readonly\r\n            ? this._value\r\n            : $('.content-' + this._hash + ' input.coreui-form-modal-value').val();\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     * @param {string} text\r\n     */\r\n    setValue: function (value, text) {\r\n\r\n        if (['string', 'number'].indexOf(typeof value) < 0) {\r\n            return;\r\n        }\r\n\r\n        this._value = value;\r\n\r\n        if (this._options.readonly) {\r\n            $('.content-' + this._hash).text(text);\r\n\r\n        } else {\r\n            let elementValue = $('.content-' + this._hash + ' .coreui-form-modal-value');\r\n            let elementText  = $('.content-' + this._hash + ' .coreui-form-modal-text');\r\n            let oldValue     = elementValue.val();\r\n\r\n            elementValue.val(value);\r\n            elementText.val(text);\r\n\r\n\r\n            if (oldValue != value) {\r\n                let modal = this._options.hasOwnProperty('options') && typeof (this._options.options) === 'object'\r\n                    ? this._options.options\r\n                    : {};\r\n\r\n                if (modal.hasOwnProperty('onChange')) {\r\n                    if (typeof(modal.onChange) === 'function') {\r\n                        modal.onChange(this);\r\n\r\n                    } else if (typeof(modal.onChange) === 'string') {\r\n                        let func = CoreUI.form.utils.getFunctionByName(modal.onChange);\r\n\r\n                        if (typeof func === 'function') {\r\n                            func(this);\r\n                        } else {\r\n                            eval(modal.onChange);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                this._form._trigger('change-modal.coreui.form', this, [this]);\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\r\n    validate: function (isValid, text) {\r\n\r\n        if (this._options.readonly) {\r\n            return;\r\n        }\r\n\r\n        let container = $('.content-' + this._hash);\r\n\r\n        container.find('.text-success').remove();\r\n        container.find('.text-danger').remove();\r\n\r\n        if (isValid === null) {\r\n            return;\r\n        }\r\n\r\n        if (isValid) {\r\n            if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\r\n                text = this._options.validText;\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"ps-2 text-success\">' + text + '</div>');\r\n            }\r\n\r\n        } else {\r\n            if (typeof text === 'undefined') {\r\n                if (typeof this._options.invalidText === 'string') {\r\n                    text = this._options.invalidText;\r\n\r\n                } else if ( ! text && this._options.required) {\r\n                    text = this._form.getLang().required_field;\r\n                }\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"ps-2 text-danger\">' + text + '</div>');\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\r\n    isValid: function () {\r\n\r\n        if (this._options.required && ! this._options.readonly) {\r\n            return !! this.getValue();\r\n        }\r\n\r\n        return true;\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let options      = this.getOptions();\r\n        let attachFields = CoreUI.form.utils.getAttacheFields(this._form, options);\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['form-field-label.html'], {\r\n            id: this._id,\r\n            form:  this._form,\r\n            hash: this._hash,\r\n            field: options,\r\n            content: this.renderContent(),\r\n            attachFields: attachFields\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\r\n    renderContent: function () {\r\n\r\n        let fieldOptions = this.getOptions();\r\n        let attributes   = [];\r\n        let textAttr     = {\r\n            type: 'text',\r\n            readonly: 'readonly',\r\n            class: 'form-control form-control-sm coreui-form-modal-text',\r\n            value: this._text\r\n        };\r\n\r\n        if (fieldOptions.required) {\r\n            textAttr.required = 'required';\r\n        }\r\n\r\n        if (fieldOptions.hasOwnProperty('attr') &&\r\n            typeof fieldOptions.attr === 'object' &&\r\n            Array.isArray(fieldOptions.attr)\r\n        ) {\r\n            textAttr = CoreUI.form.utils.mergeAttr(textAttr, fieldOptions.attr);\r\n        }\r\n\r\n        $.each(textAttr, function (name, value) {\r\n            attributes.push(name + '=\"' + value + '\"');\r\n        });\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/modal.html'], {\r\n            field: fieldOptions,\r\n            value: this._value,\r\n            text: this._text,\r\n            lang: this._form.getLang(),\r\n            render: {\r\n                width: this._options.width,\r\n                attr: attributes.length > 0 ? attributes.join(' ') : ''\r\n            },\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация событий\r\n     * @private\r\n     */\r\n    _initEvents: function () {\r\n\r\n        let that  = this;\r\n        let modal = this._options.hasOwnProperty('options') && typeof(this._options.options) === 'object'\r\n            ? this._options.options\r\n            : {};\r\n\r\n\r\n        // Очистка\r\n        $('.content-' + this._hash + ' .btn-modal-clear').click(function (e) {\r\n            if (modal.hasOwnProperty('onClear')) {\r\n                if (typeof(modal.onClear) === 'function') {\r\n                    modal.onClear(that);\r\n\r\n                } else if (typeof(modal.onClear) === 'string') {\r\n                    let func = CoreUI.form.utils.getFunctionByName(modal.onClear);\r\n\r\n                    if (typeof func === 'function') {\r\n                        func(that);\r\n                    } else {\r\n                        eval(modal.onClear);\r\n                    }\r\n                }\r\n            }\r\n\r\n            that._form._trigger('clear-modal.coreui.form', that, [ that, e ]);\r\n\r\n            that.setValue('', '');\r\n        });\r\n\r\n        // Выбор\r\n        $('.content-' + this._hash + ' .btn-modal-select').click(function (e) {\r\n            let title = modal.hasOwnProperty('title') && typeof(modal.title) === 'string'\r\n                ? modal.title\r\n                : '';\r\n\r\n            let size = modal.hasOwnProperty('size') && typeof(modal.size) === 'string'\r\n                ? modal.size\r\n                : 'lg';\r\n\r\n            let url = modal.hasOwnProperty('url') && typeof(modal.url) === 'string'\r\n                ? modal.url\r\n                : '';\r\n\r\n            if ( ! url) {\r\n                return;\r\n            }\r\n\r\n\r\n            let modalId      = CoreUI.form.utils.hashCode();\r\n            let modalLoading = CoreUI.form.ejs.render(CoreUI.form.tpl['fields/modal-loading.html'], {\r\n                lang: that._form.getLang(),\r\n            });\r\n\r\n\r\n            if (CoreUI.hasOwnProperty('modal')) {\r\n                let onShow   = null;\r\n                let onHidden = null;\r\n\r\n                if (modal.hasOwnProperty('onHidden')) {\r\n                    if (typeof(modal.onHidden) === 'function') {\r\n                        onHidden = modal.onHidden;\r\n\r\n                    } else if (typeof(modal.onHidden) === 'string') {\r\n                        let func = CoreUI.form.utils.getFunctionByName(modal.onHidden);\r\n\r\n                        if (typeof func === 'function') {\r\n                            onHidden = func;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (modal.hasOwnProperty('onShow')) {\r\n                    if (typeof(modal.onShow) === 'function') {\r\n                        onShow = modal.onShow;\r\n\r\n                    } else if (typeof(modal.onShow) === 'string') {\r\n                        let func = CoreUI.form.utils.getFunctionByName(modal.onShow);\r\n\r\n                        if (typeof func === 'function') {\r\n                            onShow = func;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                CoreUI.modal.show(title, modalLoading, {\r\n                    id: modalId,\r\n                    size: size,\r\n                    onShow: onShow,\r\n                    onHidden: onHidden\r\n                });\r\n            }\r\n\r\n            $.ajax({\r\n                url: url,\r\n                method: 'GET',\r\n                beforeSend: function(xhr) {\r\n                    that._form._trigger('before-load-modal.coreui.form', that, [ that, xhr ]);\r\n                },\r\n                success: function (result) {\r\n                    $('#modal-' + modalId + ' .modal-body').html(result);\r\n                    that._form._trigger('success-load-modal.coreui.form', that, [ that, result ]);\r\n                },\r\n                error: function(xhr, textStatus, errorThrown) {\r\n                    that._form._trigger('error-load-modal.coreui.form', that, [ that, xhr, textStatus, errorThrown ]);\r\n                },\r\n                complete: function(xhr, textStatus) {\r\n                    that._form._trigger('complete-load-modal.coreui.form', that, [ that, xhr, textStatus ]);\r\n                },\r\n            });\r\n\r\n\r\n            that._form._trigger('select-modal.coreui.form', that, [ that, e ]);\r\n        });\r\n    }\r\n}","\r\nCoreUI.form.fields.number = {\r\n\r\n    _id: '',\r\n    _hash: '',\r\n    _form: null,\r\n    _index: 0,\r\n    _value: '',\r\n    _options: {\r\n        type: 'number',\r\n        name: null,\r\n        label: null,\r\n        labelWidth: null,\r\n        width: null,\r\n        outContent: null,\r\n        description: null,\r\n        errorText: null,\r\n        attach: null,\r\n        attr: {\r\n            class: 'form-control form-control-sm d-inline-block',\r\n            step: 'any'\r\n        },\r\n        required: null,\r\n        readonly: null,\r\n        datalist: null,\r\n        show: true,\r\n        column: null,\r\n        precision: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._form    = form;\r\n        this._index   = index;\r\n        this._id      = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\r\n        this._hash    = CoreUI.form.utils.hashCode();\r\n        this._value   = CoreUI.form.utils.getFieldValue(form, options);\r\n        this._options = CoreUI.form.utils.mergeFieldOptions(form, this._options, options);\r\n\r\n\r\n        // Установка точности\r\n        if (this._options.precision === null) {\r\n            let precision = 0;\r\n\r\n            if (this._options.attr.hasOwnProperty('step') &&\r\n                this._options.attr.step !== 'any' &&\r\n                ['string', 'number'].indexOf(typeof this._options.attr.step) >= 0\r\n            ) {\r\n                let match = $.trim(this._options.attr.step.toString()).match(/\\.(\\d+)$/);\r\n\r\n                if (match && match.hasOwnProperty(1)) {\r\n                    precision = match ? match[1].length : precision;\r\n                }\r\n            }\r\n\r\n            this._options.precision = precision\r\n        }\r\n\r\n\r\n        let that = this;\r\n\r\n        form.on('shown.coreui.form', function () {\r\n            if ( ! that._options.readonly) {\r\n                that._initEvents();\r\n            }\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\r\n    readonly: function (isReadonly) {\r\n\r\n        this._value            = this.getValue();\r\n        this._options.readonly = !! isReadonly;\r\n\r\n        $('.content-' + this._hash).html(\r\n            this.renderContent()\r\n        );\r\n\r\n        if ( ! this._options.readonly) {\r\n            this._initEvents();\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).hide(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).show(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение значения в поле\r\n     * @returns {string}\r\n     */\r\n    getValue: function () {\r\n\r\n        return this._options.readonly\r\n            ? this._value\r\n            : $('.content-' + this._hash + ' input').val();\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\r\n    setValue: function (value) {\r\n\r\n        if (['string', 'number'].indexOf(typeof value) < 0 ||\r\n            ! value.toString().match(/^\\-?\\d+\\.?\\d*$/)\r\n        ) {\r\n            return;\r\n        }\r\n\r\n        if (this._options.precision >= 0) {\r\n            value = CoreUI.form.utils.round(value, this._options.precision);\r\n        }\r\n\r\n        if (this._options.attr.hasOwnProperty('min')) {\r\n            value = value < Number(this._options.attr.min)\r\n                ? Number(this._options.attr.min)\r\n                : value;\r\n        }\r\n\r\n        if (this._options.attr.hasOwnProperty('max')) {\r\n            value = value > Number(this._options.attr.max)\r\n                ? Number(this._options.attr.max)\r\n                : value;\r\n        }\r\n\r\n        this._value = value;\r\n\r\n        if (this._options.readonly) {\r\n            $('.content-' + this._hash).text(value);\r\n        } else {\r\n            $('.content-' + this._hash + ' input').val(value);\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\r\n    validate: function (isValid, text) {\r\n\r\n        if (this._options.readonly) {\r\n            return;\r\n        }\r\n\r\n        let container = $('.content-' + this._hash);\r\n        let input     = $('input', container);\r\n\r\n        container.find('.valid-feedback').remove();\r\n        container.find('.invalid-feedback').remove();\r\n\r\n        if (isValid === null) {\r\n            input.removeClass('is-invalid');\r\n            input.removeClass('is-valid');\r\n\r\n        } else if (isValid) {\r\n            input.removeClass('is-invalid');\r\n            input.addClass('is-valid');\r\n\r\n            if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\r\n                text = this._options.validText;\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"valid-feedback\">' + text + '</div>');\r\n            }\r\n        } else {\r\n            input.removeClass('is-valid');\r\n            input.addClass('is-invalid');\r\n\r\n            if (typeof text === 'undefined') {\r\n                if (typeof this._options.invalidText === 'string') {\r\n                    text = this._options.invalidText;\r\n\r\n                } else if ( ! text && this._options.required) {\r\n                    text = this._form.getLang().required_field;\r\n                }\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"invalid-feedback\">' + text + '</div>');\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\r\n    isValid: function () {\r\n\r\n        let input = $('.content-' + this._hash + ' input');\r\n\r\n        if (input[0]) {\r\n            return input.is(':valid');\r\n        }\r\n\r\n        return null;\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let options      = $.extend(true, {}, this._options);\r\n        let attachFields = CoreUI.form.utils.getAttacheFields(this._form, options);\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['form-field-label.html'], {\r\n            id: this._id,\r\n            form:  this._form,\r\n            hash: this._hash,\r\n            field: options,\r\n            content: this.renderContent(),\r\n            attachFields: attachFields,\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\r\n    renderContent: function () {\r\n\r\n        let attributes = [];\r\n        let datalist   = [];\r\n        let options    = this.getOptions();\r\n        let datalistId = CoreUI.form.utils.hashCode();\r\n\r\n\r\n        if ( ! options.hasOwnProperty('attr') ||\r\n            typeof options.attr !== 'object' ||\r\n            options.attr === null ||\r\n            Array.isArray(options.attr)\r\n        ) {\r\n            options.attr = {};\r\n        }\r\n\r\n        if (options.name) {\r\n            options.attr.name = this._options.name;\r\n        }\r\n\r\n        options.attr.type  = 'number';\r\n        options.attr.value = this._value;\r\n\r\n        if (options.width) {\r\n            options.attr = CoreUI.form.utils.mergeAttr(\r\n                { style: 'width:' + options.width },\r\n                options.attr\r\n            );\r\n        }\r\n\r\n        if (options.required) {\r\n            options.attr.required = 'required';\r\n        }\r\n\r\n\r\n        if (options.hasOwnProperty('datalist') &&\r\n            typeof options.datalist === 'object' &&\r\n            Array.isArray(options.datalist)\r\n        ) {\r\n            options.attr.list = datalistId;\r\n\r\n            $.each(options.datalist, function (key, itemAttributes) {\r\n                let datalistAttr = [];\r\n\r\n                $.each(itemAttributes, function (name, value) {\r\n                    datalistAttr.push(name + '=\"' + value + '\"');\r\n                });\r\n\r\n                datalist.push({\r\n                    attr: datalistAttr.length > 0 ? (' ' + datalistAttr.join(' ')) : ''\r\n                })\r\n            });\r\n        }\r\n\r\n        $.each(options.attr, function (name, value) {\r\n            attributes.push(name + '=\"' + value + '\"');\r\n        });\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/input.html'], {\r\n            field: options,\r\n            datalistId: datalistId,\r\n            value: this._value,\r\n            render: {\r\n                attr: attributes.length > 0 ? (' ' + attributes.join(' ')) : '',\r\n                datalist: datalist\r\n            },\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация событий\r\n     * @private\r\n     */\r\n    _initEvents: function () {\r\n\r\n        $('.content-' + this._hash + ' input').keydown(function (e) {\r\n            let k = e.keyCode || e.which;\r\n            let ok = k >= 35 && k <= 40 ||      // arrows\r\n                k >= 96 && k <= 105 ||     // 0-9 numpad\r\n                k === 189 || k === 109 ||  // minus\r\n                k === 110 || k === 190 ||  // dot\r\n                k === 9 ||  //tab\r\n                k === 46 || //del\r\n                k === 8 ||  // backspaces\r\n                ( ! e.shiftKey && k >= 48 && k <= 57); // only 0-9 (ignore SHIFT options)\r\n\r\n            if ( ! ok || (e.ctrlKey && e.altKey)) {\r\n                e.preventDefault();\r\n            }\r\n        });\r\n\r\n        let that = this;\r\n\r\n        $('.content-' + this._hash + ' input').blur(function (e) {\r\n            let value = $(this).val();\r\n\r\n            if (that._options.precision >= 0) {\r\n                value = CoreUI.form.utils.round(value, that._options.precision);\r\n            }\r\n\r\n            if (that._options.attr.hasOwnProperty('min')) {\r\n                value = value < Number(that._options.attr.min)\r\n                    ? Number(that._options.attr.min)\r\n                    : value;\r\n            }\r\n\r\n            if (that._options.attr.hasOwnProperty('max')) {\r\n                value = value > Number(that._options.attr.max)\r\n                    ? Number(that._options.attr.max)\r\n                    : value;\r\n            }\r\n\r\n            $(this).val(value);\r\n        });\r\n    }\r\n}","\r\nCoreUI.form.fields.radio = {\r\n\r\n    _id: '',\r\n    _hash: '',\r\n    _form: null,\r\n    _index: 0,\r\n    _value: '',\r\n    _options: {\r\n        type: 'radio',\r\n        name: null,\r\n        label: null,\r\n        labelWidth: null,\r\n        inline: false,\r\n        outContent: null,\r\n        description: null,\r\n        errorText: null,\r\n        options: [],\r\n        fields: [],\r\n        required: null,\r\n        readonly: null,\r\n        show: true,\r\n        column: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._form    = form;\r\n        this._id      = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\r\n        this._hash    = CoreUI.form.utils.hashCode();\r\n        this._value   = CoreUI.form.utils.getFieldValue(form, options);\r\n        this._options = CoreUI.form.utils.mergeFieldOptions(form, this._options, options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\r\n    readonly: function (isReadonly) {\r\n\r\n        this._value            = this.getValue();\r\n        this._options.readonly = !! isReadonly;\r\n\r\n        $('.content-' + this._hash).html(\r\n            this.renderContent()\r\n        );\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).hide(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).show(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение значения в поле\r\n     * @returns {string}\r\n     */\r\n    getValue: function () {\r\n\r\n        return this._options.readonly\r\n            ? this._value\r\n            : $('.content-' + this._hash + ' input[type=radio]:checked').val();\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\r\n    setValue: function (value) {\r\n\r\n        if (['string', 'number'].indexOf(typeof value) < 0) {\r\n            return;\r\n        }\r\n\r\n        if (this._options.readonly) {\r\n            let that         = this;\r\n            let fieldOptions = this.getOptions();\r\n\r\n            if (fieldOptions.hasOwnProperty('options') &&\r\n                typeof fieldOptions.options === 'object' &&\r\n                Array.isArray(fieldOptions.options)\r\n            ) {\r\n                $.each(fieldOptions.options, function (key, option) {\r\n\r\n                    if (option.hasOwnProperty('value') && option.value == value) {\r\n                        let text = option.hasOwnProperty('text') && ['string', 'number'].indexOf(typeof(option.text)) >= 0\r\n                            ? option.text\r\n                            : '';\r\n\r\n                        $('.content-' + that._hash).text(text);\r\n                        that._value = value;\r\n                        return false;\r\n                    }\r\n                });\r\n            }\r\n\r\n        } else {\r\n            let input = $('.content-' + this._hash + ' input[type=radio][value=\"' + value + '\"]');\r\n\r\n            if (input[0]) {\r\n                input.prop('checked', true);\r\n                this._value = value;\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\r\n    validate: function (isValid, text) {\r\n\r\n        if (this._options.readonly) {\r\n            return;\r\n        }\r\n\r\n        let container = $('.content-' + this._hash);\r\n        let lastInput = $('.form-check:last-child', container);\r\n        let inputs    = $('input', container);\r\n\r\n        container.find('.valid-feedback').remove();\r\n        container.find('.invalid-feedback').remove();\r\n\r\n        if (isValid === null) {\r\n            inputs.removeClass('is-invalid');\r\n            inputs.removeClass('is-valid');\r\n\r\n        } else if (isValid) {\r\n            inputs.removeClass('is-invalid');\r\n            inputs.addClass('is-valid');\r\n\r\n            if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\r\n                text = this._options.validText;\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                lastInput.append('<div class=\"valid-feedback\">' + text + '</div>');\r\n            }\r\n        } else {\r\n            inputs.removeClass('is-valid');\r\n            inputs.addClass('is-invalid');\r\n\r\n            if (typeof text === 'undefined') {\r\n                if (typeof this._options.invalidText === 'string') {\r\n                    text = this._options.invalidText;\r\n\r\n                } else if ( ! text && this._options.required) {\r\n                    text = this._form.getLang().required_field;\r\n                }\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                lastInput.append('<div class=\"invalid-feedback\">' + text + '</div>');\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\r\n    isValid: function () {\r\n\r\n        if (this._options.required && ! this._options.readonly) {\r\n            let value = this.getValue();\r\n            return typeof value === 'string' && value !== '';\r\n        }\r\n\r\n        return true;\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let options      = this.getOptions();\r\n        let attachFields = CoreUI.form.utils.getAttacheFields(this._form, options);\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['form-field-label.html'], {\r\n            id: this._id,\r\n            form:  this._form,\r\n            hash: this._hash,\r\n            field: this._options,\r\n            content: this.renderContent(),\r\n            attachFields: attachFields\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\r\n    renderContent: function () {\r\n\r\n        let that         = this;\r\n        let radioOptions = [];\r\n        let fieldOptions = this.getOptions();\r\n        let selectedItem = [];\r\n\r\n        if (fieldOptions.hasOwnProperty('options') &&\r\n            typeof fieldOptions.options === 'object' &&\r\n            Array.isArray(fieldOptions.options)\r\n        ) {\r\n            $.each(fieldOptions.options, function (key, option) {\r\n                let attributes = [];\r\n                let itemAttr = {\r\n                    type: 'radio',\r\n                    class: 'form-check-input'\r\n                };\r\n                let optionText   = option.hasOwnProperty('text') && ['string', 'number'].indexOf(typeof(option.text)) >= 0\r\n                    ? option.text\r\n                    : '';\r\n\r\n                if (fieldOptions.name) {\r\n                    itemAttr.name = that._options.name;\r\n                }\r\n\r\n                if (fieldOptions.required) {\r\n                    itemAttr.required = 'required';\r\n                }\r\n\r\n                $.each(option, function (name, value) {\r\n                    if (name !== 'text') {\r\n                        if (name === 'class') {\r\n                            itemAttr[name] = itemAttr[name] + ' ' + value;\r\n                        } else {\r\n                            itemAttr[name] = value;\r\n                        }\r\n                    }\r\n                });\r\n\r\n                itemAttr.id = CoreUI.form.utils.hashCode();\r\n\r\n                if (that._value == option.value) {\r\n                    if (option.hasOwnProperty('text') && option.text) {\r\n                        selectedItem.push(option.text);\r\n                    }\r\n                    itemAttr.checked = 'checked';\r\n                }\r\n\r\n                $.each(itemAttr, function (name, value) {\r\n                    attributes.push(name + '=\"' + value + '\"');\r\n                });\r\n\r\n\r\n                radioOptions.push({\r\n                    id: itemAttr.id,\r\n                    text: optionText,\r\n                    attr: attributes.length > 0 ? (' ' + attributes.join(' ')) : ''\r\n                })\r\n            });\r\n        }\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/radio.html'], {\r\n            field: fieldOptions,\r\n            value: this._value,\r\n            render: {\r\n                options: radioOptions,\r\n                selectedItem: selectedItem\r\n            },\r\n        });\r\n    }\r\n}","\r\nCoreUI.form.fields.range = {\r\n\r\n    _id: '',\r\n    _hash: '',\r\n    _form: null,\r\n    _index: 0,\r\n    _value: '',\r\n    _options: {\r\n        type: 'range',\r\n        name: null,\r\n        label: null,\r\n        labelWidth: null,\r\n        width: null,\r\n        outContent: null,\r\n        description: null,\r\n        errorText: null,\r\n        attach: null,\r\n        attr: {\r\n            class: 'form-range d-inline-block pt-1'\r\n        },\r\n        required: null,\r\n        readonly: null,\r\n        datalist: null,\r\n        show: true,\r\n        column: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._form    = form;\r\n        this._index   = index;\r\n        this._id      = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\r\n        this._hash    = CoreUI.form.utils.hashCode();\r\n        this._value   = CoreUI.form.utils.getFieldValue(form, options);\r\n        this._options = CoreUI.form.utils.mergeFieldOptions(form, this._options, options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\r\n    readonly: function (isReadonly) {\r\n\r\n        this._value            = this.getValue();\r\n        this._options.readonly = !! isReadonly;\r\n\r\n        $('.content-' + this._hash).html(\r\n            this.renderContent()\r\n        );\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).hide(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).show(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение значения в поле\r\n     * @returns {string}\r\n     */\r\n    getValue: function () {\r\n\r\n        return this._options.readonly\r\n            ? this._value\r\n            : $('.content-' + this._hash + ' input').val();\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\r\n    setValue: function (value) {\r\n\r\n        if (['string', 'number'].indexOf(typeof value) < 0) {\r\n            return;\r\n        }\r\n\r\n        this._value = value;\r\n\r\n        if (this._options.readonly) {\r\n            $('.content-' + this._hash).text(value);\r\n        } else {\r\n            $('.content-' + this._hash + ' input').val(value);\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\r\n    validate: function (isValid, text) {\r\n\r\n        if (this._options.readonly) {\r\n            return;\r\n        }\r\n\r\n        let container = $('.content-' + this._hash);\r\n        let input     = $('input', container);\r\n\r\n        container.find('.valid-feedback').remove();\r\n        container.find('.invalid-feedback').remove();\r\n\r\n        if (isValid === null) {\r\n            input.removeClass('is-invalid');\r\n            input.removeClass('is-valid');\r\n\r\n        } else if (isValid) {\r\n            input.removeClass('is-invalid');\r\n            input.addClass('is-valid');\r\n\r\n            if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\r\n                text = this._options.validText;\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"valid-feedback\">' + text + '</div>');\r\n            }\r\n        } else {\r\n            input.removeClass('is-valid');\r\n            input.addClass('is-invalid');\r\n\r\n            if (typeof text === 'undefined') {\r\n                if (typeof this._options.invalidText === 'string') {\r\n                    text = this._options.invalidText;\r\n\r\n                } else if ( ! text && this._options.required) {\r\n                    text = this._form.getLang().required_field;\r\n                }\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"invalid-feedback\">' + text + '</div>');\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\r\n    isValid: function () {\r\n\r\n        let input = $('.content-' + this._hash + ' input');\r\n\r\n        if (input[0]) {\r\n            return input.is(':valid');\r\n        }\r\n\r\n        return null;\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let options      = this.getOptions();\r\n        let attachFields = CoreUI.form.utils.getAttacheFields(this._form, options);\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['form-field-label.html'], {\r\n            id: this._id,\r\n            form:  this._form,\r\n            hash: this._hash,\r\n            field: options,\r\n            content: this.renderContent(),\r\n            attachFields: attachFields,\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\r\n    renderContent: function () {\r\n\r\n        let attributes = [];\r\n        let datalist   = [];\r\n        let options    = this.getOptions();\r\n        let datalistId = CoreUI.form.utils.hashCode();\r\n\r\n        if ( ! options.hasOwnProperty('attr') ||\r\n            typeof options.attr !== 'object' ||\r\n            options.attr === null ||\r\n            Array.isArray(options.attr)\r\n        ) {\r\n            options.attr = {};\r\n        }\r\n\r\n        if (options.name) {\r\n            options.attr.name = this._options.name;\r\n        }\r\n\r\n        options.attr.type  = 'range';\r\n        options.attr.value = this._value;\r\n\r\n        if (options.width) {\r\n            options.attr = CoreUI.form.utils.mergeAttr(\r\n                { style: 'width:' + options.width },\r\n                options.attr\r\n            );\r\n        }\r\n        if (options.required) {\r\n            options.attr.required = 'required';\r\n        }\r\n\r\n\r\n        if (options.hasOwnProperty('datalist') &&\r\n            typeof options.datalist === 'object' &&\r\n            Array.isArray(options.datalist)\r\n        ) {\r\n            options.attr.list = datalistId;\r\n\r\n            $.each(options.datalist, function (key, itemAttributes) {\r\n                let datalistAttr = [];\r\n\r\n                $.each(itemAttributes, function (name, value) {\r\n                    datalistAttr.push(name + '=\"' + value + '\"');\r\n                });\r\n\r\n                datalist.push({\r\n                    attr: datalistAttr.length > 0 ? (' ' + datalistAttr.join(' ')) : ''\r\n                })\r\n            });\r\n        }\r\n\r\n        $.each(options.attr, function (name, value) {\r\n            attributes.push(name + '=\"' + value + '\"');\r\n        });\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/input.html'], {\r\n            field: options,\r\n            datalistId: datalistId,\r\n            value: this._value,\r\n            render: {\r\n                attr: attributes.length > 0 ? (' ' + attributes.join(' ')) : '',\r\n                datalist: datalist\r\n            },\r\n        });\r\n    }\r\n}","\r\nCoreUI.form.fields.select = {\r\n\r\n    _id: '',\r\n    _hash: '',\r\n    _form: null,\r\n    _index: 0,\r\n    _value: [],\r\n    _options: {\r\n        type: 'select',\r\n        name: null,\r\n        label: null,\r\n        labelWidth: null,\r\n        width: null,\r\n        outContent: null,\r\n        description: null,\r\n        errorText: null,\r\n        attach: null,\r\n        attr: {\r\n            class: 'form-select form-select-sm d-inline-block'\r\n        },\r\n        required: null,\r\n        readonly: null,\r\n        datalist: null,\r\n        show: true,\r\n        column: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._form    = form;\r\n        this._index   = index;\r\n        this._id      = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\r\n        this._hash    = CoreUI.form.utils.hashCode();\r\n        this._value   = CoreUI.form.utils.getFieldValue(form, options);\r\n        this._options = CoreUI.form.utils.mergeFieldOptions(form, this._options, options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\r\n    readonly: function (isReadonly) {\r\n\r\n        this._value            = this.getValue();\r\n        this._options.readonly = !! isReadonly;\r\n\r\n        $('.content-' + this._hash).html(\r\n            this.renderContent()\r\n        );\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).hide(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).show(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение значения из поля\r\n     * @returns {array|string}\r\n     */\r\n    getValue: function () {\r\n\r\n        if (this._options.readonly) {\r\n            return this._value;\r\n\r\n        } else {\r\n            if (this._options.hasOwnProperty('attr') &&\r\n                typeof this._options.attr === 'object' &&\r\n                this._options.attr !== null &&\r\n                ! Array.isArray(this._options.attr) &&\r\n                this._options.attr.hasOwnProperty('multiple')\r\n            ) {\r\n                let values = [];\r\n\r\n                $('.content-' + this._hash + ' select option:selected').each(function () {\r\n                    values.push($(this).val());\r\n                });\r\n\r\n                return values;\r\n\r\n            } else {\r\n                return $('.content-' + this._hash + ' select option:selected').val()\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\r\n    setValue: function (value) {\r\n\r\n        if (['string', 'number', 'object'].indexOf(typeof value) < 0) {\r\n            return;\r\n        }\r\n\r\n        if (typeof value === 'object') {\r\n            if (value !== null && ! Array.isArray(value)) {\r\n                return;\r\n            }\r\n\r\n        } else {\r\n            value = [ value ];\r\n        }\r\n\r\n        let that    = this;\r\n        this._value = [];\r\n\r\n        if (this._options.readonly) {\r\n            $('.content-' + that._hash).empty();\r\n\r\n            let fieldOptions = this.getOptions();\r\n\r\n            if (fieldOptions.hasOwnProperty('options') &&\r\n                typeof fieldOptions.options === 'object' &&\r\n                Array.isArray(fieldOptions.options) &&\r\n                Array.isArray(value)\r\n            ) {\r\n                let selectedItems = [];\r\n\r\n                $.each(fieldOptions.options, function (key, option) {\r\n\r\n                    if (option.hasOwnProperty('value')) {\r\n                        $.each(value, function (key, val) {\r\n\r\n                            if (option.value == val) {\r\n                                if (option.hasOwnProperty('text') && ['string', 'number'].indexOf(typeof(option.text)) >= 0) {\r\n                                    selectedItems.push(option.text);\r\n                                }\r\n\r\n                                that._value.push(val);\r\n                                return false;\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n\r\n\r\n                $('.content-' + that._hash).text(selectedItems.join(', '));\r\n            }\r\n\r\n        } else {\r\n            $('.content-' + this._hash + ' select > option').prop('selected', false);\r\n\r\n            if (Array.isArray(value)) {\r\n                $('.content-' + this._hash + ' select > option').each(function (key, itemValue) {\r\n                    $.each(value, function (key, val) {\r\n                        if (val == $(itemValue).val()) {\r\n                            $(itemValue).prop('selected', true);\r\n                            that._value.push(val);\r\n\r\n                            return false;\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\r\n    validate: function (isValid, text) {\r\n\r\n        if (this._options.readonly) {\r\n            return;\r\n        }\r\n\r\n        let container = $('.content-' + this._hash);\r\n        let select    = $('select', container);\r\n\r\n        container.find('.valid-feedback').remove();\r\n        container.find('.invalid-feedback').remove();\r\n\r\n        if (isValid === null) {\r\n            select.removeClass('is-invalid');\r\n            select.removeClass('is-valid');\r\n\r\n        } else if (isValid) {\r\n            select.removeClass('is-invalid');\r\n            select.addClass('is-valid');\r\n\r\n            if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\r\n                text = this._options.validText;\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"valid-feedback\">' + text + '</div>');\r\n            }\r\n        } else {\r\n            select.removeClass('is-valid');\r\n            select.addClass('is-invalid');\r\n\r\n            if (typeof text === 'undefined') {\r\n                if (typeof this._options.invalidText === 'string') {\r\n                    text = this._options.invalidText;\r\n\r\n                } else if ( ! text && this._options.required) {\r\n                    text = this._form.getLang().required_field;\r\n                }\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"invalid-feedback\">' + text + '</div>');\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean|null}\r\n     */\r\n    isValid: function () {\r\n\r\n        let input = $('.content-' + this._hash + ' input');\r\n\r\n        if (input[0]) {\r\n            return input.is(':valid');\r\n        }\r\n\r\n        return null;\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let options      = this.getOptions();\r\n        let attachFields = CoreUI.form.utils.getAttacheFields(this._form, options);\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['form-field-label.html'], {\r\n            id: this._id,\r\n            form:  this._form,\r\n            hash: this._hash,\r\n            field: options,\r\n            content: this.renderContent(),\r\n            attachFields: attachFields\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\r\n    renderContent: function () {\r\n\r\n        return this._options.readonly\r\n            ? this._renderContentReadonly()\r\n            : this._renderContent();\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента\r\n     * @return {*}\r\n     * @private\r\n     */\r\n    _renderContent: function () {\r\n\r\n        let that          = this;\r\n        let options       = this.getOptions();\r\n        let attributes    = [];\r\n        let selectOptions = [];\r\n\r\n\r\n        if ( ! options.hasOwnProperty('attr') ||\r\n            typeof options.attr !== 'object' ||\r\n            options.attr === null ||\r\n            Array.isArray(options.attr)\r\n        ) {\r\n            options.attr = {};\r\n        }\r\n\r\n        if (options.name) {\r\n            options.attr.name = this._options.name;\r\n        }\r\n\r\n        if (options.width) {\r\n            options.attr = CoreUI.form.utils.mergeAttr(\r\n                { style: 'width:' + options.width },\r\n                options.attr\r\n            );\r\n        }\r\n\r\n        if (options.required) {\r\n            options.attr.required = 'required';\r\n        }\r\n\r\n\r\n        if (options.hasOwnProperty('options') &&\r\n            typeof options.options === 'object' &&\r\n            Array.isArray(options.options)\r\n        ) {\r\n            $.each(options.options, function (key, option) {\r\n                let type = option.hasOwnProperty('type') && typeof option.type === 'string'\r\n                    ? option.type\r\n                    : 'option';\r\n\r\n                if (type === 'group') {\r\n                    let renderAttr   = [];\r\n                    let groupAttr    = {};\r\n                    let groupOptions = [];\r\n\r\n                    if (option.hasOwnProperty('attr') &&\r\n                        typeof option.attr === 'object' &&\r\n                        option.attr !== null &&\r\n                        ! Array.isArray(option.attr)\r\n                    ) {\r\n                        groupAttr = option.attr;\r\n                    }\r\n\r\n                    if (option.hasOwnProperty('label') && ['string', 'number'].indexOf(typeof(option.label)) >= 0) {\r\n                        groupAttr.label = option.label;\r\n                    }\r\n\r\n                    $.each(groupAttr, function (name, value) {\r\n                        renderAttr.push(name + '=\"' + value + '\"');\r\n                    });\r\n\r\n                    if (Array.isArray(option.options)) {\r\n                        $.each(option.options, function (key, groupOption) {\r\n                            groupOptions.push(that._renderOption(groupOption));\r\n                        });\r\n                    }\r\n\r\n                    selectOptions.push({\r\n                        type: 'group',\r\n                        attr: renderAttr.length > 0 ? (' ' + renderAttr.join(' ')) : '',\r\n                        options: groupOptions,\r\n                    });\r\n\r\n                } else {\r\n                    selectOptions.push(that._renderOption(option));\r\n                }\r\n            });\r\n        }\r\n\r\n        $.each(options.attr, function (name, value) {\r\n            attributes.push(name + '=\"' + value + '\"');\r\n        });\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/select.html'], {\r\n            field: options,\r\n            value: this._value,\r\n            render: {\r\n                attr: attributes.length > 0 ? (' ' + attributes.join(' ')) : '',\r\n                options: selectOptions\r\n            },\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     * @return {string}\r\n     * @private\r\n     */\r\n    _renderContentReadonly: function () {\r\n\r\n        let that            = this;\r\n        let options         = this.getOptions();\r\n        let selectedOptions = [];\r\n\r\n        if (options.hasOwnProperty('options') &&\r\n            typeof options.options === 'object' &&\r\n            Array.isArray(options.options)\r\n        ) {\r\n            $.each(options.options, function (key, option) {\r\n                let type = option.hasOwnProperty('type') && typeof option.type === 'string'\r\n                    ? option.type\r\n                    : 'option';\r\n\r\n                if (type === 'group') {\r\n                    if (Array.isArray(option.options)) {\r\n                        $.each(option.options, function (key, groupOption) {\r\n                            let optionText = groupOption.hasOwnProperty('text') && ['string', 'number'].indexOf(typeof(groupOption.text)) >= 0\r\n                                ? groupOption.text\r\n                                : '';\r\n\r\n                            if ( ! optionText || optionText === '') {\r\n                                return;\r\n                            }\r\n\r\n                            if (Array.isArray(that._value)) {\r\n                                $.each(that._value, function (key, itemValue) {\r\n                                    if (itemValue == groupOption.value) {\r\n                                        selectedOptions.push(optionText);\r\n                                        return false;\r\n                                    }\r\n                                });\r\n\r\n                            } else if (that._value == groupOption.value) {\r\n                                selectedOptions.push(optionText);\r\n                            }\r\n                        });\r\n                    }\r\n\r\n                } else {\r\n                    let optionText = option.hasOwnProperty('text') && ['string', 'number'].indexOf(typeof(option.text)) >= 0\r\n                        ? option.text\r\n                        : '';\r\n\r\n                    if ( ! optionText || optionText === '') {\r\n                        return;\r\n                    }\r\n\r\n                    if (Array.isArray(that._value)) {\r\n                        $.each(that._value, function (key, itemValue) {\r\n                            if (itemValue == option.value) {\r\n                                selectedOptions.push(optionText);\r\n                                return false;\r\n                            }\r\n                        });\r\n\r\n                    } else if (that._value == option.value) {\r\n                        selectedOptions.push(optionText);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/select.html'], {\r\n            field: options,\r\n            render: {\r\n                selectedOptions: selectedOptions\r\n            },\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Сборка опции\r\n     * @param option\r\n     * @return {object}\r\n     * @private\r\n     */\r\n    _renderOption: function (option) {\r\n\r\n        let optionAttr = [];\r\n        let optionText = option.hasOwnProperty('text') && ['string', 'number'].indexOf(typeof(option.text)) >= 0\r\n            ? option.text\r\n            : '';\r\n\r\n        $.each(option, function (name, value) {\r\n            if (name !== 'text') {\r\n                optionAttr.push(name + '=\"' + value + '\"');\r\n            }\r\n        });\r\n\r\n\r\n        if (Array.isArray(this._value)) {\r\n            $.each(this._value, function (key, itemValue) {\r\n                if (itemValue == option.value) {\r\n                    optionAttr.push('selected=\"selected\"');\r\n                    return false;\r\n                }\r\n            });\r\n\r\n        } else if (this._value == option.value) {\r\n            optionAttr.push('selected=\"selected\"');\r\n        }\r\n\r\n        return {\r\n            type: 'option',\r\n            text: optionText,\r\n            attr: optionAttr.length > 0 ? (' ' + optionAttr.join(' ')) : ''\r\n        };\r\n    }\r\n}","\r\nCoreUI.form.fields.switch = {\r\n\r\n    _id: '',\r\n    _hash: '',\r\n    _form: null,\r\n    _index: 0,\r\n    _value: '',\r\n    _options: {\r\n        type: 'switch',\r\n        name: null,\r\n        label: null,\r\n        labelWidth: null,\r\n        outContent: null,\r\n        description: null,\r\n        errorText: null,\r\n        valueY: 'Y',\r\n        valueN: 'N',\r\n        fields: [],\r\n        required: null,\r\n        readonly: null,\r\n        show: true,\r\n        column: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._form    = form;\r\n        this._index   = index;\r\n        this._id      = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\r\n        this._hash    = CoreUI.form.utils.hashCode();\r\n        this._value   = CoreUI.form.utils.getFieldValue(form, options);\r\n        this._options = CoreUI.form.utils.mergeFieldOptions(form, this._options, options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\r\n    readonly: function (isReadonly) {\r\n\r\n        this._value            = this.getValue();\r\n        this._options.readonly = !! isReadonly;\r\n\r\n        $('.content-' + this._hash).html(\r\n            this.renderContent()\r\n        );\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).hide(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).show(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение значения в поле\r\n     * @returns {string}\r\n     */\r\n    getValue: function () {\r\n\r\n        return this._options.readonly\r\n            ? this._value\r\n            : $('.content-' + this._hash + ' input').val();\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\r\n    setValue: function (value) {\r\n\r\n        if (['string', 'number'].indexOf(typeof value) < 0) {\r\n            return;\r\n        }\r\n\r\n        this._value = value;\r\n\r\n        if (this._options.readonly) {\r\n            $('.content-' + this._hash).text(value);\r\n        } else {\r\n            $('.content-' + this._hash + ' input[type=checkbox]').prop('checked', value === this._options.valueY);\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\r\n    validate: function (isValid, text) {\r\n\r\n        if (this._options.readonly) {\r\n            return;\r\n        }\r\n\r\n        let container       = $('.content-' + this._hash);\r\n        let switchContainer = $('.form-switch', container);\r\n        let inputs          = $('input', container);\r\n\r\n        container.find('.valid-feedback').remove();\r\n        container.find('.invalid-feedback').remove();\r\n\r\n        if (isValid === null) {\r\n            inputs.removeClass('is-invalid');\r\n            inputs.removeClass('is-valid');\r\n\r\n        } else if (isValid) {\r\n            inputs.removeClass('is-invalid');\r\n            inputs.addClass('is-valid');\r\n\r\n            if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\r\n                text = this._options.validText;\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                switchContainer.append('<div class=\"valid-feedback\">' + text + '</div>');\r\n            }\r\n\r\n        } else {\r\n            inputs.removeClass('is-valid');\r\n            inputs.addClass('is-invalid');\r\n\r\n            if (typeof text === 'undefined') {\r\n                if (typeof this._options.invalidText === 'string') {\r\n                    text = this._options.invalidText;\r\n\r\n                } else if ( ! text) {\r\n                    text = this._form.getLang().required_field;\r\n                }\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                switchContainer.append('<div class=\"invalid-feedback\">' + text + '</div>');\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\r\n    isValid: function () {\r\n\r\n        return null;\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let options      = this.getOptions();\r\n        let attachFields = CoreUI.form.utils.getAttacheFields(this._form, options);\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['form-field-label.html'], {\r\n            id: this._id,\r\n            form:  this._form,\r\n            hash: this._hash,\r\n            field: options,\r\n            content: this.renderContent(),\r\n            attachFields: attachFields\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\r\n    renderContent: function () {\r\n\r\n        let attributes = [];\r\n        let options    = this.getOptions();\r\n        let itemAttr   = {\r\n            type: 'checkbox',\r\n            class: 'form-check-input',\r\n            value: options.valueY\r\n        };\r\n\r\n\r\n        if (options.name) {\r\n            itemAttr.name = this._options.name;\r\n        }\r\n\r\n        if (options.required) {\r\n            itemAttr.required = 'required';\r\n        }\r\n\r\n        if (options.hasOwnProperty('attr') &&\r\n            typeof options.attr === 'object' &&\r\n            Array.isArray(options.attr)\r\n        ) {\r\n            itemAttr = CoreUI.form.utils.mergeAttr(itemAttr, options.attr);\r\n        }\r\n\r\n        if (this._value === this.valueY) {\r\n            itemAttr.checked = 'checked';\r\n        }\r\n\r\n        $.each(itemAttr, function (name, value) {\r\n            attributes.push(name + '=\"' + value + '\"');\r\n        });\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/switch.html'], {\r\n            field: options,\r\n            value: this._value,\r\n            lang: this._form.getLang(),\r\n            render: {\r\n                attr: attributes.length > 0 ? attributes.join(' ') : ''\r\n            },\r\n        });\r\n    }\r\n}","\r\nCoreUI.form.fields.textarea = {\r\n\r\n    _id: '',\r\n    _form: null,\r\n    _index: 0,\r\n    _value: '',\r\n    _options: {\r\n        type: 'textarea',\r\n        name: null,\r\n        label: null,\r\n        labelWidth: null,\r\n        width: null,\r\n        outContent: null,\r\n        description: null,\r\n        errorText: null,\r\n        attach: null,\r\n        attr: {\r\n            class: 'form-control form-control-sm d-inline-block'\r\n        },\r\n        required: null,\r\n        readonly: null,\r\n        datalist: null,\r\n        show: true,\r\n        column: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._form    = form;\r\n        this._index   = index;\r\n        this._id      = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\r\n        this._hash    = CoreUI.form.utils.hashCode();\r\n        this._value   = CoreUI.form.utils.getFieldValue(form, options);\r\n        this._options = CoreUI.form.utils.mergeFieldOptions(form, this._options, options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\r\n    readonly: function (isReadonly) {\r\n\r\n        this._value            = this.getValue();\r\n        this._options.readonly = !! isReadonly;\r\n\r\n        $('.content-' + this._hash).html(\r\n            this.renderContent()\r\n        );\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).hide(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).show(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение значения в поле\r\n     * @returns {string}\r\n     */\r\n    getValue: function () {\r\n\r\n        return this._options.readonly\r\n            ? this._value\r\n            : $('.content-' + this._hash + ' textarea').val();\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\r\n    setValue: function (value) {\r\n\r\n        if (['string', 'number'].indexOf(typeof value) < 0) {\r\n            return;\r\n        }\r\n\r\n        this._value = value;\r\n\r\n        if (this._options.readonly) {\r\n            $('.content-' + this._hash).text(value);\r\n        } else {\r\n            $('.content-' + this._hash + ' textarea').val(value);\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\r\n    validate: function (isValid, text) {\r\n\r\n        if (this._options.readonly) {\r\n            return;\r\n        }\r\n\r\n        let container = $('.content-' + this._hash);\r\n        let textarea  = $('textarea', container);\r\n\r\n        container.find('.valid-feedback').remove();\r\n        container.find('.invalid-feedback').remove();\r\n\r\n        if (isValid === null) {\r\n            textarea.removeClass('is-invalid');\r\n            textarea.removeClass('is-valid');\r\n\r\n        } else if (isValid) {\r\n            textarea.removeClass('is-invalid');\r\n            textarea.addClass('is-valid');\r\n\r\n            if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\r\n                text = this._options.validText;\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"valid-feedback\">' + text + '</div>');\r\n            }\r\n        } else {\r\n            textarea.removeClass('is-valid');\r\n            textarea.addClass('is-invalid');\r\n\r\n            if (typeof text === 'undefined') {\r\n                if (typeof this._options.invalidText === 'string') {\r\n                    text = this._options.invalidText;\r\n\r\n                } else if ( ! text && this._options.required) {\r\n                    text = this._form.getLang().required_field;\r\n                }\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"invalid-feedback\">' + text + '</div>');\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\r\n    isValid: function () {\r\n\r\n        let input = $('.content-' + this._hash + ' textarea');\r\n\r\n        if (input[0]) {\r\n            return input.is(':valid');\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let options      = this.getOptions();\r\n        let attachFields = CoreUI.form.utils.getAttacheFields(this._form, options);\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['form-field-label.html'], {\r\n            id: this._id,\r\n            form:  this._form,\r\n            hash: this._hash,\r\n            field: options,\r\n            content: this.renderContent(),\r\n            attachFields: attachFields\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\r\n    renderContent: function () {\r\n\r\n        let attributes = [];\r\n        let options    = this.getOptions();\r\n\r\n        if ( ! options.hasOwnProperty('attr') ||\r\n            typeof options.attr !== 'object' ||\r\n            options.attr === null ||\r\n            Array.isArray(options.attr)\r\n        ) {\r\n            options.attr = {};\r\n        }\r\n\r\n        if (options.name) {\r\n            options.attr.name = this._options.name;\r\n        }\r\n\r\n        if (options.width) {\r\n            options.attr = CoreUI.form.utils.mergeAttr(\r\n                { style: 'width:' + options.width },\r\n                options.attr\r\n            );\r\n        }\r\n        if (options.required) {\r\n            options.attr.required = 'required';\r\n        }\r\n\r\n        $.each(options.attr, function (name, value) {\r\n            attributes.push(name + '=\"' + value + '\"');\r\n        });\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/textarea.html'], {\r\n            field: options,\r\n            value: this._value,\r\n            render: {\r\n                attr: attributes.length > 0 ? (' ' + attributes.join(' ')) : ''\r\n            },\r\n        });\r\n    }\r\n}","\r\nCoreUI.form.fields.wysiwyg = {\r\n\r\n    _id: '',\r\n    _hash: '',\r\n    _form: null,\r\n    _value: null,\r\n    _editor: null,\r\n    _editorHash: null,\r\n    _options: {\r\n        type: 'wysiwyg',\r\n        label: null,\r\n        labelWidth: null,\r\n        width: null,\r\n        minWidth: null,\r\n        maxWidth: null,\r\n        height: null,\r\n        minHeight: null,\r\n        maxHeight: null,\r\n        options: {},\r\n        outContent: null,\r\n        description: null,\r\n        required: null,\r\n        readonly: false,\r\n        show: true,\r\n        column: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._form       = form;\r\n        this._index      = index;\r\n        this._id         = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\r\n        this._hash       = CoreUI.form.utils.hashCode();\r\n        this._editorHash = CoreUI.form.utils.hashCode();\r\n        this._value      = CoreUI.form.utils.getFieldValue(form, options);\r\n        this._options    = CoreUI.form.utils.mergeFieldOptions(form, this._options, options);\r\n\r\n        let that = this;\r\n\r\n        form.on('shown.coreui.form', function () {\r\n            if ( ! that._options.readonly) {\r\n                that._initEvents();\r\n            }\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\r\n    readonly: function (isReadonly) {\r\n\r\n        this._value            = this.getValue();\r\n        this._options.readonly = !! isReadonly;\r\n\r\n        $('.content-' + this._hash).html(\r\n            this.renderContent()\r\n        );\r\n\r\n        if ( ! this._options.readonly) {\r\n            this._initEvents();\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).hide(duration || 0);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).show(duration || 0);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение значения из поля\r\n     * @return {string|null}\r\n     */\r\n    getValue: function () {\r\n\r\n        if (this._options.readonly) {\r\n            return this._value;\r\n        } else {\r\n            return this._editor ? this._editor.getContent() : this._value;\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\r\n    setValue: function (value) {\r\n\r\n        this._value = value;\r\n\r\n        if (this._options.readonly) {\r\n            $('.content-' + this._hash).text(value);\r\n        } else {\r\n            if (this._editor) {\r\n                this._editor.setContent(value);\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\r\n    validate: function (isValid, text) {\r\n\r\n        if (this._options.readonly) {\r\n            return;\r\n        }\r\n\r\n        let container = $('.content-' + this._hash);\r\n\r\n        container.find('.text-success').remove();\r\n        container.find('.text-danger').remove();\r\n\r\n        if (isValid === null) {\r\n            return;\r\n        }\r\n\r\n        if (isValid) {\r\n            if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\r\n                text = this._options.validText;\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"ps-2 text-success\">' + text + '</div>');\r\n            }\r\n\r\n        } else {\r\n            if (typeof text === 'undefined') {\r\n                if (typeof this._options.invalidText === 'string') {\r\n                    text = this._options.invalidText;\r\n\r\n                } else if ( ! text && this._options.required) {\r\n                    text = this._form.getLang().required_field;\r\n                }\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"ps-2 text-danger\">' + text + '</div>');\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\r\n    isValid: function () {\r\n\r\n        if (this._options.required && ! this._options.readonly) {\r\n            return !! this.getValue();\r\n        }\r\n\r\n        return true;\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let options      = this.getOptions();\r\n        let attachFields = CoreUI.form.utils.getAttacheFields(this._form, options);\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['form-field-label.html'], {\r\n            id: this._id,\r\n            form:  this._form,\r\n            hash: this._hash,\r\n            field: options,\r\n            content: this.renderContent(),\r\n            attachFields: attachFields\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\r\n    renderContent: function () {\r\n\r\n        let options = this.getOptions();\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/wysiwyg.html'], {\r\n            field: options,\r\n            value: this._value,\r\n            editorHash: this._editorHash\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация событий\r\n     * @private\r\n     */\r\n    _initEvents: function () {\r\n\r\n        if (this._options.readonly) {\r\n            return;\r\n        }\r\n\r\n        let tinyMceOptions = {};\r\n        let than           = this;\r\n        let textareaId     = 'editor-' + this._editorHash;\r\n\r\n        if (typeof this._options.options === 'object' &&\r\n            ! Array.isArray(this._options.options) &&\r\n            Object.keys(this._options.options).length > 0\r\n        ) {\r\n            tinyMceOptions = this._options.options;\r\n\r\n        } else if (this._options.options === 'simple') {\r\n            tinyMceOptions = {\r\n                plugins: 'image lists anchor charmap',\r\n                toolbar: 'blocks | bold italic underline | alignleft aligncenter ' +\r\n                         'alignright alignjustify | bullist numlist outdent indent | ' +\r\n                         'forecolor backcolor removeformat',\r\n                menubar: false,\r\n                branding: false\r\n            }\r\n\r\n        } else {\r\n            tinyMceOptions = {\r\n                promotion: false,\r\n                branding: false,\r\n                plugins: 'preview importcss searchreplace autolink autosave save directionality code ' +\r\n                         'visualblocks visualchars fullscreen image link media template codesample table ' +\r\n                         'charmap pagebreak nonbreaking anchor insertdatetime advlist lists wordcount help charmap quickbars emoticons',\r\n                menubar: 'file edit view insert format tools table help',\r\n                toolbar: 'undo redo | bold italic underline strikethrough | fontfamily fontsize blocks | ' +\r\n                         'alignleft aligncenter alignright alignjustify | outdent indent | numlist bullist | ' +\r\n                         'forecolor backcolor removeformat | pagebreak | charmap emoticons | fullscreen ' +\r\n                         'preview save print | insertfile image media template link anchor codesample | ltr rtl',\r\n            }\r\n        }\r\n\r\n        tinyMceOptions.selector = '#editor-' + this._editorHash;\r\n\r\n        if (['string', 'number'].indexOf(typeof this._options.width) >= 0) {\r\n            tinyMceOptions.width = this._options.width;\r\n        }\r\n        if (['string', 'number'].indexOf(typeof this._options.minWidth) >= 0) {\r\n            tinyMceOptions.min_width = this._options.minWidth;\r\n        }\r\n        if (['string', 'number'].indexOf(typeof this._options.maxWidth) >= 0) {\r\n            tinyMceOptions.max_width = this._options.maxWidth;\r\n        }\r\n        if (['string', 'number'].indexOf(typeof this._options.height) >= 0) {\r\n            tinyMceOptions.height = this._options.height;\r\n        }\r\n        if (['string', 'number'].indexOf(typeof this._options.minHeight) >= 0) {\r\n            tinyMceOptions.min_height = this._options.minHeight;\r\n        }\r\n        if (['string', 'number'].indexOf(typeof this._options.maxHeight) >= 0) {\r\n            tinyMceOptions.max_height = this._options.maxHeight;\r\n        }\r\n\r\n        tinymce.init(tinyMceOptions).then(function () {\r\n            than._editor = tinymce.get(textareaId);\r\n        });\r\n    }\r\n}","\r\nCoreUI.form.controls.button = {\r\n\r\n    _form: null,\r\n    _index: null,\r\n    _options: {\r\n        type: 'button',\r\n        href: null,\r\n        content: null,\r\n        onClick: null,\r\n        attr: {\r\n            class: 'btn btn-sm btn-secondary'\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object} options\r\n     * @param {int} index\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._options = $.extend({}, this._options, options);\r\n        this._form    = form;\r\n        this._index   = index;\r\n        let that      = this;\r\n\r\n        form.on('shown.coreui.form', function () {\r\n            that._initEvents();\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента для размещения на странице\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let attributes = [];\r\n        let options    = this.getOptions();\r\n\r\n        options.attr.type = 'button';\r\n\r\n        $.each(options.attr, function (name, value) {\r\n            attributes.push(name + '=\"' + value + '\"');\r\n        });\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['controls/button.html'], {\r\n            control: this._options,\r\n            render: {\r\n                attr: attributes.length > 0 ? (' ' + attributes.join(' ')) : '',\r\n            },\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ контрола\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._form.getId() + '-control-' + this._index).show(duration || 0)\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие контрола\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._form.getId() + '-control-' + this._index).hide(duration || 0)\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     */\r\n    lock: function () {\r\n\r\n        let button = $('#coreui-form-' + this._form.getId() + '-control-' + this._index + ' > button');\r\n\r\n        if ( ! button.find('.spinner-border')[0]) {\r\n            button.prepend('<span class=\"spinner-border spinner-border-sm\"></span> ');\r\n        }\r\n        if ( ! button.attr('disabled')) {\r\n            button.attr('disabled', 'disabled');\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация событий связанных с элементом управления\r\n     */\r\n    _initEvents: function () {\r\n\r\n        let that = this;\r\n\r\n        if (['function', 'string'].indexOf(typeof this._options.onClick) >= 0) {\r\n            $('#coreui-form-' + this._form.getId() + '-control-' + this._index + ' > button')\r\n                .click(function (event) {\r\n\r\n                    if (typeof that._options.onClick === 'function') {\r\n                        that._options.onClick(that._form, event);\r\n                    } else {\r\n                        let callback = CoreUI.form.utils.getFunctionByName(that._options.onClick);\r\n\r\n                        if (typeof callback === 'function') {\r\n                            callback(that._form, event);\r\n                        } else {\r\n                            eval(that._options.onClick);\r\n                        }\r\n                    }\r\n                });\r\n        }\r\n    }\r\n}","\r\nCoreUI.form.controls.link = {\r\n\r\n    _form: null,\r\n    _index: null,\r\n    _options: {\r\n        type: 'link',\r\n        href: null,\r\n        content: null,\r\n        onClick: null,\r\n        attr: {\r\n            class: 'btn btn-sm btn-link'\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object} options\r\n     * @param {int} index\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._options = $.extend({}, this._options, options);\r\n        this._form    = form;\r\n        this._index   = index;\r\n        let that      = this;\r\n\r\n        form.on('shown.coreui.form', function () {\r\n            that._initEvents();\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ контрола\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._form.getId() + '-control-' + this._index).show(duration || 0)\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие контрола\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._form.getId() + '-control-' + this._index).hide(duration || 0)\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     */\r\n    lock: function () {\r\n\r\n        let button = $('#coreui-form-' + this._form.getId() + '-control-' + this._index + ' > button');\r\n\r\n        if ( ! button.find('.spinner-border')[0]) {\r\n            button.prepend('<span class=\"spinner-border spinner-border-sm\"></span> ');\r\n        }\r\n        if ( ! button.attr('disabled')) {\r\n            button.attr('disabled', 'disabled');\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента для размещения на странице\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let attributes = [];\r\n        let options    = this.getOptions();\r\n\r\n        $.each(options.attr, function (name, value) {\r\n            attributes.push(name + '=\"' + value + '\"');\r\n        });\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['controls/link.html'], {\r\n            control: this._options,\r\n            render: {\r\n                attr: attributes.length > 0 ? (' ' + attributes.join(' ')) : '',\r\n            },\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация событий связанных с элементом управления\r\n     */\r\n    _initEvents: function () {\r\n\r\n        let that = this;\r\n\r\n        if (['function', 'string'].indexOf(typeof this._options.onClick) >= 0) {\r\n            $('#coreui-form-' + this._form.getId() + '-control-' + this._index + ' > a')\r\n                .click(function (event) {\r\n\r\n                    if (typeof that._options.onClick === 'function') {\r\n                        that._options.onClick(that._form, event);\r\n                    } else {\r\n                        let callback = CoreUI.form.utils.getFunctionByName(that._options.onClick);\r\n\r\n                        if (typeof callback === 'function') {\r\n                            callback(that._form, event);\r\n                        } else {\r\n                            eval(that._options.onClick);\r\n                        }\r\n                    }\r\n                });\r\n        }\r\n    }\r\n}","\r\nCoreUI.form.controls.submit = {\r\n\r\n    _form: null,\r\n    _index: null,\r\n    _options: {\r\n        type: 'submit',\r\n        href: null,\r\n        content: null,\r\n        onClick: null,\r\n        show: true,\r\n        attr: {\r\n            class: 'btn btn-sm btn-primary'\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object} options\r\n     * @param {int} index\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._options = $.extend({}, this._options, options);\r\n        this._form    = form;\r\n        this._index   = index;\r\n        let that      = this;\r\n\r\n        form.on('shown.coreui.form', function () {\r\n            that._initEvents();\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ контрола\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._form.getId() + '-control-' + this._index).show(duration || 0)\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие контрола\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._form.getId() + '-control-' + this._index).hide(duration || 0)\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     */\r\n    lock: function () {\r\n\r\n        let button = $('#coreui-form-' + this._form.getId() + '-control-' + this._index + ' > button');\r\n\r\n        if ( ! button.find('.spinner-border')[0]) {\r\n            button.prepend('<span class=\"spinner-border spinner-border-sm\"></span> ');\r\n        }\r\n        if ( ! button.attr('disabled')) {\r\n            button.attr('disabled', 'disabled');\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     */\r\n    unlock: function () {\r\n\r\n        let button = $('#coreui-form-' + this._form.getId() + '-control-' + this._index + ' > button');\r\n\r\n        button.find('.spinner-border').remove();\r\n        button.removeAttr('disabled');\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента для размещения на странице\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let attributes = [];\r\n        let options    = this.getOptions();\r\n\r\n        options.attr.type = 'submit';\r\n\r\n        $.each(options.attr, function (name, value) {\r\n            attributes.push(name + '=\"' + value + '\"');\r\n        });\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['controls/button.html'], {\r\n            control: this._options,\r\n            render: {\r\n                attr: attributes.length > 0 ? (' ' + attributes.join(' ')) : '',\r\n            },\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация событий связанных с элементом управления\r\n     */\r\n    _initEvents: function () {\r\n\r\n        let that = this;\r\n\r\n        if (['function', 'string'].indexOf(typeof this._options.onClick) >= 0) {\r\n            $('#coreui-form-' + this._form.getId() + '-control-' + this._index + ' > button')\r\n                .click(function (event) {\r\n\r\n                    if (typeof that._options.onClick === 'function') {\r\n                        that._options.onClick(that._form, event);\r\n                    } else {\r\n                        let callback = CoreUI.form.utils.getFunctionByName(that._options.onClick);\r\n\r\n                        if (typeof callback === 'function') {\r\n                            callback(that._form, event);\r\n                        } else {\r\n                            eval(that._options.onClick);\r\n                        }\r\n                    }\r\n                });\r\n        }\r\n    }\r\n}","\r\nCoreUI.form.lang.en = {\r\n    \"modal_select\": \"Select\",\r\n    \"modal_loading\": \"Loading...\",\r\n    \"switch_yes\": \"Yes\",\r\n    \"switch_no\": \"No\",\r\n    \"dataset_add\": \"Add\",\r\n    \"date_months\": [ \"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\" ],\r\n    \"date_week\": \"week\",\r\n    \"send_error\": \"An error has occurred. Please try again or contact your administrator\",\r\n    \"required_field\": \"Required field\"\r\n}","\r\nCoreUI.form.lang.ru = {\r\n    \"modal_select\": \"Выбрать\",\r\n    \"modal_loading\": \"Загрузка...\",\r\n    \"switch_yes\": \"Да\",\r\n    \"switch_no\": \"Нет\",\r\n    \"dataset_add\": \"Добавить\",\r\n    \"date_months\": ['Январь','Февраль','Март','Апрель','Май','Июнь', 'Июль','Август','Сентябрь','Октябрь','Ноябрь','Декабрь'],\r\n    \"date_week\": \"неделя\",\r\n    \"send_error\": \"Произошла ошибка. Попробуйте снова или обратитесь к администратору\",\r\n    \"required_field\": \"Обязательное поле\"\r\n}"]}