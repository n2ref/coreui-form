{"version":3,"sources":["coreui.form.js","coreui.form.ejs.js","coreui.form.utils.js","coreui.form.instance.js","coreui.form.templates.js","alphanumeric.js","checkbox.js","color.js","custom.js","dataset.js","group.js","hidden.js","input.js","modal.js","number.js","radio.js","range.js","select.js","switch.js","textarea.js","wysiwyg.js","button.js","link.js","submit.js","en.js","ru.js"],"names":["CoreUI","form","lang","fields","controls","_instances","_settings","labelWidth","class","errorMessageScrollOffset","create","options","let","instance","$","extend","this","formId","_init","Object","getId","get","id","hasOwnProperty","setSettings","settings","getSetting","name","value","f","exports","module","define","amd","window","global","self","ejs","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","1","fs","path","utils","scopeOptionWarned","_VERSION_STRING","version","_DEFAULT_LOCALS_NAME","_OPTS_PASSABLE_WITH_DATA","_OPTS_PASSABLE_WITH_DATA_EXPRESS","concat","_BOM","_JS_IDENTIFIER","resolvePaths","paths","filePath","some","v","resolveInclude","existsSync","handleCache","template","func","filename","hasTemplate","arguments","cache","fileLoader","toString","replace","compile","set","includeFile","opts","shallowCopy","createNullProtoObjWherePossible","includePath","views","match","exec","Array","isArray","root","includer","escapeFunction","includerResult","rethrow","err","str","flnm","lineno","esc","lines","split","start","Math","max","end","min","context","slice","map","line","curr","join","message","stripSemi","Template","text","templateText","mode","truncate","currentLine","source","client","escape","escapeXML","compileDebug","debug","openDelimiter","closeDelimiter","delimiter","strict","rmWhitespace","outputFunctionName","localsName","async","destructuredLocals","legacyInclude","_with","regex","createRegex","readFileSync","promiseImpl","Function","Promise","isDir","dirname","extname","resolve","scope","console","warn","render","d","data","shallowCopyFromList","renderFile","cb","result","args","prototype","shift","pop","viewOpts","reject","clearCache","reset","modes","EVAL","ESCAPED","RAW","COMMENT","LITERAL","delim","escapeRegExpChars","open","close","RegExp","fn","prepended","appended","escapeFn","sanitizedFilename","JSON","stringify","generateSource","test","destructuring","src","log","ctor","SyntaxError","returnedFn","apply","includeData","defineProperty","basename","writable","enumerable","configurable","matches","parseTemplateText","forEach","index","indexOf","closing","scanLine","firstPos","pat","arr","push","substring","_addOutput","newLineCount","lastIndexOf","__express","VERSION","../package.json","./utils","2","hasOwn","obj","key","regExpChars","_ENCODE_HTML_RULES","string","String","&","<",">","\"","'","_MATCH_HTML","encode_char","escapeXMLToString","markup","undefined","to","from","list","_data","val","remove","hyphenToCamel","toUpperCase","__proto__","3","4","process","normalizeArray","parts","allowAboveRoot","up","last","splice","unshift","filter","xs","res","resolvedPath","resolvedAbsolute","cwd","TypeError","charAt","normalize","isAbsolute","trailingSlash","substr","relative","trim","fromParts","toParts","samePartsLength","outputParts","sep","hasRoot","charCodeAt","matchedSlash","ext","startDot","startPart","preDotState","len","_process","5","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","setTimeout","clearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","runClearTimeout","marker","Item","array","noop","nextTick","title","browser","env","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","chdir","dir","umask","6","description","keywords","author","license","bin","main","jsdelivr","unpkg","repository","type","url","bugs","homepage","dependencies","jake","devDependencies","browserify","eslint","git-directory-deploy","jsdoc","lru-cache","mocha","uglify-js","engines","node","scripts","getFieldValue","fieldOptions","formRecord","getRecord","getFunctionByName","functionName","namespaces","mergeFieldOptions","defaultOptions","attr","mergeAttr","width","unit","_options","fieldWidth","attr1","attr2","assign","each","getAttacheFields","field","initField","hash","_hash","direction","fieldsDirection","content","renderContent","formatDate","year","day","month","date","Date","getFullYear","getMonth","getDate","formatDateTime","getHours","getMinutes","getSeconds","formatDateMonth","date_months","formatDateWeek","week","date_week","isNumeric","num","isNaN","hashCode","crc32","getTime","random","round","number","precision","pow","parseInt","errorClass","save","method","minWidth","maxWidth","controlsOffset","readonly","validate","layout","onSubmit","record","_lock","_fieldsIndex","_groupsIndex","_controlsIndex","_groups","_fields","_controls","_events","initEvents","that","formContainer","send","_trigger","element","widthSizes","formAttr","matchAll","columns","columnsContent","column","initGroup","keys","fieldContents","control","initControl","show","html","tpl","domElement","document","getElementById","HTMLElement","innerHTML","lock","controlOptions","getOptions","unlock","isValid","onsubmit","getData","eval","onSubmitResult","results","isStopSend","ajax","beforeSend","xhr","success","hideError","error","textStatus","errorThrown","errorMessage","getLang","send_error","parsedResponse","parse","responseText","error_message","showError","complete","getValue","getFields","getControls","getGroups","getField","fieldInstance","isReadonly","hide","showControls","hideControls","formError","find","errorOptions","dismiss","prepend","scroll","scrollOffset","animate","scrollTop","offset","top","eventName","callback","singleExec","destruct","init","setValue","group","groupInstance","expand","collapse","controlInstance","params","_renderControl","alphanumeric","_id","_form","_index","_value","label","outContent","errorText","attach","required","datalist","_initEvents","duration","container","input","removeClass","addClass","validText","append","invalidText","required_field","is","attachFields","_renderContentReadonly","_renderContent","attributes","datalistId","style","itemAttributes","datalistAttr","keydown","k","keyCode","which","shiftKey","ctrlKey","altKey","preventDefault","change","checkbox","inline","values","empty","selectedItems","option","prop","itemValue","lastInput","inputs","checkboxOptions","itemAttr","optionText","checked","color","custom","alloyComponents","components","component","dataset","_renderOptions","items","valueY","valueN","serializeArray","item","_renderRowReadonly","_eventAdd","removeItems","removeItem","itemId","rows","headers","row","_renderRow","click","rowOptions","itemOptions","cellValue","cellItemValue","selected","hashItem","optionValue","switch_yes","switch_no","showCollapsible","slideUp","slideDown","hidden","modal","_text","size","onHidden","onClear","onChange","elementValue","elementText","oldValue","textAttr","modalId","modalLoading","onShow","step","Number","blur","radio","radioOptions","selectedItem","range","select","selectOptions","renderAttr","groupAttr","groupOptions","groupOption","_renderOption","selectedOptions","optionAttr","switch","switchContainer","textarea","wysiwyg","_editor","_editorHash","height","minHeight","maxHeight","getContent","setContent","editorHash","tinyMceOptions","than","textareaId","plugins","toolbar","menubar","branding","promotion","selector","min_width","max_width","min_height","max_height","tinymce","then","button","href","onClick","event","link","submit","removeAttr","en","modal_select","modal_loading","dataset_add","ru"],"mappings":"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","file":"coreui-form.min.js","sourcesContent":["\r\nvar CoreUI = typeof CoreUI !== 'undefined' ? CoreUI : {};\r\n\r\nCoreUI.form = {\r\n\r\n    lang: {},\r\n    fields: {},\r\n    controls: {},\r\n\r\n    _instances: {},\r\n    _settings: {\r\n        labelWidth: 200,\r\n        lang: 'en',\r\n        class: '',\r\n        errorMessageScrollOffset: 70\r\n    },\r\n\r\n\r\n    /**\r\n     * Создание экземпляра формы\r\n     * @param {object} options\r\n     * @returns {CoreUI.form.instance}\r\n     */\r\n    create: function (options) {\r\n\r\n        let instance = $.extend(true, {}, this.instance);\r\n        instance._init(options instanceof Object ? options : {});\r\n\r\n        let formId = instance.getId();\r\n        this._instances[formId] = instance;\r\n\r\n        return instance;\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение экземпляра формы по id\r\n     * @param {string} id\r\n     * @returns {CoreUI.form.instance|null}\r\n     */\r\n    get: function (id) {\r\n\r\n        if ( ! this._instances.hasOwnProperty(id)) {\r\n            return null;\r\n        }\r\n\r\n        if ($('#coreui-form-' + this._instances[id])[0]) {\r\n            delete this._instances[id];\r\n            return null;\r\n        }\r\n\r\n        return this._instances[id];\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка настроек\r\n     * @param {object} settings\r\n     */\r\n    setSettings: function(settings) {\r\n\r\n        CoreUI.form._settings = $.extend({}, this._settings, settings);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение значения настройки\r\n     * @param {string} name\r\n     */\r\n    getSetting: function(name) {\r\n\r\n        let value = null;\r\n\r\n        if (CoreUI.form._settings.hasOwnProperty(name)) {\r\n            value = CoreUI.form._settings[name];\r\n        }\r\n\r\n        return value;\r\n    }\r\n}","(function() {\"use strict\";(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.ejs=f()}})(function(){var define,module,exports;return function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){\"use strict\";var fs=require(\"fs\");var path=require(\"path\");var utils=require(\"./utils\");var scopeOptionWarned=false;var _VERSION_STRING=require(\"../package.json\").version;var _DEFAULT_OPEN_DELIMITER=\"<\";var _DEFAULT_CLOSE_DELIMITER=\">\";var _DEFAULT_DELIMITER=\"%\";var _DEFAULT_LOCALS_NAME=\"locals\";var _NAME=\"ejs\";var _REGEX_STRING=\"(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)\";var _OPTS_PASSABLE_WITH_DATA=[\"delimiter\",\"scope\",\"context\",\"debug\",\"compileDebug\",\"client\",\"_with\",\"rmWhitespace\",\"strict\",\"filename\",\"async\"];var _OPTS_PASSABLE_WITH_DATA_EXPRESS=_OPTS_PASSABLE_WITH_DATA.concat(\"cache\");var _BOM=/^\\uFEFF/;var _JS_IDENTIFIER=/^[a-zA-Z_$][0-9a-zA-Z_$]*$/;exports.cache=utils.cache;exports.fileLoader=fs.readFileSync;exports.localsName=_DEFAULT_LOCALS_NAME;exports.promiseImpl=new Function(\"return this;\")().Promise;exports.resolveInclude=function(name,filename,isDir){var dirname=path.dirname;var extname=path.extname;var resolve=path.resolve;var includePath=resolve(isDir?filename:dirname(filename),name);var ext=extname(name);if(!ext){includePath+=\".ejs\"}return includePath};function resolvePaths(name,paths){var filePath;if(paths.some(function(v){filePath=exports.resolveInclude(name,v,true);return fs.existsSync(filePath)})){return filePath}}function getIncludePath(path,options){var includePath;var filePath;var views=options.views;var match=/^[A-Za-z]+:\\\\|^\\//.exec(path);if(match&&match.length){path=path.replace(/^\\/*/,\"\");if(Array.isArray(options.root)){includePath=resolvePaths(path,options.root)}else{includePath=exports.resolveInclude(path,options.root||\"/\",true)}}else{if(options.filename){filePath=exports.resolveInclude(path,options.filename);if(fs.existsSync(filePath)){includePath=filePath}}if(!includePath&&Array.isArray(views)){includePath=resolvePaths(path,views)}if(!includePath&&typeof options.includer!==\"function\"){throw new Error('Could not find the include file \"'+options.escapeFunction(path)+'\"')}}return includePath}function handleCache(options,template){var func;var filename=options.filename;var hasTemplate=arguments.length>1;if(options.cache){if(!filename){throw new Error(\"cache option requires a filename\")}func=exports.cache.get(filename);if(func){return func}if(!hasTemplate){template=fileLoader(filename).toString().replace(_BOM,\"\")}}else if(!hasTemplate){if(!filename){throw new Error(\"Internal EJS error: no file name or template \"+\"provided\")}template=fileLoader(filename).toString().replace(_BOM,\"\")}func=exports.compile(template,options);if(options.cache){exports.cache.set(filename,func)}return func}function tryHandleCache(options,data,cb){var result;if(!cb){if(typeof exports.promiseImpl==\"function\"){return new exports.promiseImpl(function(resolve,reject){try{result=handleCache(options)(data);resolve(result)}catch(err){reject(err)}})}else{throw new Error(\"Please provide a callback function\")}}else{try{result=handleCache(options)(data)}catch(err){return cb(err)}cb(null,result)}}function fileLoader(filePath){return exports.fileLoader(filePath)}function includeFile(path,options){var opts=utils.shallowCopy(utils.createNullProtoObjWherePossible(),options);opts.filename=getIncludePath(path,opts);if(typeof options.includer===\"function\"){var includerResult=options.includer(path,opts.filename);if(includerResult){if(includerResult.filename){opts.filename=includerResult.filename}if(includerResult.template){return handleCache(opts,includerResult.template)}}}return handleCache(opts)}function rethrow(err,str,flnm,lineno,esc){var lines=str.split(\"\\n\");var start=Math.max(lineno-3,0);var end=Math.min(lines.length,lineno+3);var filename=esc(flnm);var context=lines.slice(start,end).map(function(line,i){var curr=i+start+1;return(curr==lineno?\" >> \":\"    \")+curr+\"| \"+line}).join(\"\\n\");err.path=filename;err.message=(filename||\"ejs\")+\":\"+lineno+\"\\n\"+context+\"\\n\\n\"+err.message;throw err}function stripSemi(str){return str.replace(/;(\\s*$)/,\"$1\")}exports.compile=function compile(template,opts){var templ;if(opts&&opts.scope){if(!scopeOptionWarned){console.warn(\"`scope` option is deprecated and will be removed in EJS 3\");scopeOptionWarned=true}if(!opts.context){opts.context=opts.scope}delete opts.scope}templ=new Template(template,opts);return templ.compile()};exports.render=function(template,d,o){var data=d||utils.createNullProtoObjWherePossible();var opts=o||utils.createNullProtoObjWherePossible();if(arguments.length==2){utils.shallowCopyFromList(opts,data,_OPTS_PASSABLE_WITH_DATA)}return handleCache(opts,template)(data)};exports.renderFile=function(){var args=Array.prototype.slice.call(arguments);var filename=args.shift();var cb;var opts={filename:filename};var data;var viewOpts;if(typeof arguments[arguments.length-1]==\"function\"){cb=args.pop()}if(args.length){data=args.shift();if(args.length){utils.shallowCopy(opts,args.pop())}else{if(data.settings){if(data.settings.views){opts.views=data.settings.views}if(data.settings[\"view cache\"]){opts.cache=true}viewOpts=data.settings[\"view options\"];if(viewOpts){utils.shallowCopy(opts,viewOpts)}}utils.shallowCopyFromList(opts,data,_OPTS_PASSABLE_WITH_DATA_EXPRESS)}opts.filename=filename}else{data=utils.createNullProtoObjWherePossible()}return tryHandleCache(opts,data,cb)};exports.Template=Template;exports.clearCache=function(){exports.cache.reset()};function Template(text,opts){opts=opts||utils.createNullProtoObjWherePossible();var options=utils.createNullProtoObjWherePossible();this.templateText=text;this.mode=null;this.truncate=false;this.currentLine=1;this.source=\"\";options.client=opts.client||false;options.escapeFunction=opts.escape||opts.escapeFunction||utils.escapeXML;options.compileDebug=opts.compileDebug!==false;options.debug=!!opts.debug;options.filename=opts.filename;options.openDelimiter=opts.openDelimiter||exports.openDelimiter||_DEFAULT_OPEN_DELIMITER;options.closeDelimiter=opts.closeDelimiter||exports.closeDelimiter||_DEFAULT_CLOSE_DELIMITER;options.delimiter=opts.delimiter||exports.delimiter||_DEFAULT_DELIMITER;options.strict=opts.strict||false;options.context=opts.context;options.cache=opts.cache||false;options.rmWhitespace=opts.rmWhitespace;options.root=opts.root;options.includer=opts.includer;options.outputFunctionName=opts.outputFunctionName;options.localsName=opts.localsName||exports.localsName||_DEFAULT_LOCALS_NAME;options.views=opts.views;options.async=opts.async;options.destructuredLocals=opts.destructuredLocals;options.legacyInclude=typeof opts.legacyInclude!=\"undefined\"?!!opts.legacyInclude:true;if(options.strict){options._with=false}else{options._with=typeof opts._with!=\"undefined\"?opts._with:true}this.opts=options;this.regex=this.createRegex()}Template.modes={EVAL:\"eval\",ESCAPED:\"escaped\",RAW:\"raw\",COMMENT:\"comment\",LITERAL:\"literal\"};Template.prototype={createRegex:function(){var str=_REGEX_STRING;var delim=utils.escapeRegExpChars(this.opts.delimiter);var open=utils.escapeRegExpChars(this.opts.openDelimiter);var close=utils.escapeRegExpChars(this.opts.closeDelimiter);str=str.replace(/%/g,delim).replace(/</g,open).replace(/>/g,close);return new RegExp(str)},compile:function(){var src;var fn;var opts=this.opts;var prepended=\"\";var appended=\"\";var escapeFn=opts.escapeFunction;var ctor;var sanitizedFilename=opts.filename?JSON.stringify(opts.filename):\"undefined\";if(!this.source){this.generateSource();prepended+='  var __output = \"\";\\n'+\"  function __append(s) { if (s !== undefined && s !== null) __output += s }\\n\";if(opts.outputFunctionName){if(!_JS_IDENTIFIER.test(opts.outputFunctionName)){throw new Error(\"outputFunctionName is not a valid JS identifier.\")}prepended+=\"  var \"+opts.outputFunctionName+\" = __append;\"+\"\\n\"}if(opts.localsName&&!_JS_IDENTIFIER.test(opts.localsName)){throw new Error(\"localsName is not a valid JS identifier.\")}if(opts.destructuredLocals&&opts.destructuredLocals.length){var destructuring=\"  var __locals = (\"+opts.localsName+\" || {}),\\n\";for(var i=0;i<opts.destructuredLocals.length;i++){var name=opts.destructuredLocals[i];if(!_JS_IDENTIFIER.test(name)){throw new Error(\"destructuredLocals[\"+i+\"] is not a valid JS identifier.\")}if(i>0){destructuring+=\",\\n  \"}destructuring+=name+\" = __locals.\"+name}prepended+=destructuring+\";\\n\"}if(opts._with!==false){prepended+=\"  with (\"+opts.localsName+\" || {}) {\"+\"\\n\";appended+=\"  }\"+\"\\n\"}appended+=\"  return __output;\"+\"\\n\";this.source=prepended+this.source+appended}if(opts.compileDebug){src=\"var __line = 1\"+\"\\n\"+\"  , __lines = \"+JSON.stringify(this.templateText)+\"\\n\"+\"  , __filename = \"+sanitizedFilename+\";\"+\"\\n\"+\"try {\"+\"\\n\"+this.source+\"} catch (e) {\"+\"\\n\"+\"  rethrow(e, __lines, __filename, __line, escapeFn);\"+\"\\n\"+\"}\"+\"\\n\"}else{src=this.source}if(opts.client){src=\"escapeFn = escapeFn || \"+escapeFn.toString()+\";\"+\"\\n\"+src;if(opts.compileDebug){src=\"rethrow = rethrow || \"+rethrow.toString()+\";\"+\"\\n\"+src}}if(opts.strict){src='\"use strict\";\\n'+src}if(opts.debug){console.log(src)}if(opts.compileDebug&&opts.filename){src=src+\"\\n\"+\"//# sourceURL=\"+sanitizedFilename+\"\\n\"}try{if(opts.async){try{ctor=new Function(\"return (async function(){}).constructor;\")()}catch(e){if(e instanceof SyntaxError){throw new Error(\"This environment does not support async/await\")}else{throw e}}}else{ctor=Function}fn=new ctor(opts.localsName+\", escapeFn, include, rethrow\",src)}catch(e){if(e instanceof SyntaxError){if(opts.filename){e.message+=\" in \"+opts.filename}e.message+=\" while compiling ejs\\n\\n\";e.message+=\"If the above error is not helpful, you may want to try EJS-Lint:\\n\";e.message+=\"https://github.com/RyanZim/EJS-Lint\";if(!opts.async){e.message+=\"\\n\";e.message+=\"Or, if you meant to create an async function, pass `async: true` as an option.\"}}throw e}var returnedFn=opts.client?fn:function anonymous(data){var include=function(path,includeData){var d=utils.shallowCopy(utils.createNullProtoObjWherePossible(),data);if(includeData){d=utils.shallowCopy(d,includeData)}return includeFile(path,opts)(d)};return fn.apply(opts.context,[data||utils.createNullProtoObjWherePossible(),escapeFn,include,rethrow])};if(opts.filename&&typeof Object.defineProperty===\"function\"){var filename=opts.filename;var basename=path.basename(filename,path.extname(filename));try{Object.defineProperty(returnedFn,\"name\",{value:basename,writable:false,enumerable:false,configurable:true})}catch(e){}}return returnedFn},generateSource:function(){var opts=this.opts;if(opts.rmWhitespace){this.templateText=this.templateText.replace(/[\\r\\n]+/g,\"\\n\").replace(/^\\s+|\\s+$/gm,\"\")}this.templateText=this.templateText.replace(/[ \\t]*<%_/gm,\"<%_\").replace(/_%>[ \\t]*/gm,\"_%>\");var self=this;var matches=this.parseTemplateText();var d=this.opts.delimiter;var o=this.opts.openDelimiter;var c=this.opts.closeDelimiter;if(matches&&matches.length){matches.forEach(function(line,index){var closing;if(line.indexOf(o+d)===0&&line.indexOf(o+d+d)!==0){closing=matches[index+2];if(!(closing==d+c||closing==\"-\"+d+c||closing==\"_\"+d+c)){throw new Error('Could not find matching close tag for \"'+line+'\".')}}self.scanLine(line)})}},parseTemplateText:function(){var str=this.templateText;var pat=this.regex;var result=pat.exec(str);var arr=[];var firstPos;while(result){firstPos=result.index;if(firstPos!==0){arr.push(str.substring(0,firstPos));str=str.slice(firstPos)}arr.push(result[0]);str=str.slice(result[0].length);result=pat.exec(str)}if(str){arr.push(str)}return arr},_addOutput:function(line){if(this.truncate){line=line.replace(/^(?:\\r\\n|\\r|\\n)/,\"\");this.truncate=false}if(!line){return line}line=line.replace(/\\\\/g,\"\\\\\\\\\");line=line.replace(/\\n/g,\"\\\\n\");line=line.replace(/\\r/g,\"\\\\r\");line=line.replace(/\"/g,'\\\\\"');this.source+='    ; __append(\"'+line+'\")'+\"\\n\"},scanLine:function(line){var self=this;var d=this.opts.delimiter;var o=this.opts.openDelimiter;var c=this.opts.closeDelimiter;var newLineCount=0;newLineCount=line.split(\"\\n\").length-1;switch(line){case o+d:case o+d+\"_\":this.mode=Template.modes.EVAL;break;case o+d+\"=\":this.mode=Template.modes.ESCAPED;break;case o+d+\"-\":this.mode=Template.modes.RAW;break;case o+d+\"#\":this.mode=Template.modes.COMMENT;break;case o+d+d:this.mode=Template.modes.LITERAL;this.source+='    ; __append(\"'+line.replace(o+d+d,o+d)+'\")'+\"\\n\";break;case d+d+c:this.mode=Template.modes.LITERAL;this.source+='    ; __append(\"'+line.replace(d+d+c,d+c)+'\")'+\"\\n\";break;case d+c:case\"-\"+d+c:case\"_\"+d+c:if(this.mode==Template.modes.LITERAL){this._addOutput(line)}this.mode=null;this.truncate=line.indexOf(\"-\")===0||line.indexOf(\"_\")===0;break;default:if(this.mode){switch(this.mode){case Template.modes.EVAL:case Template.modes.ESCAPED:case Template.modes.RAW:if(line.lastIndexOf(\"//\")>line.lastIndexOf(\"\\n\")){line+=\"\\n\"}}switch(this.mode){case Template.modes.EVAL:this.source+=\"    ; \"+line+\"\\n\";break;case Template.modes.ESCAPED:this.source+=\"    ; __append(escapeFn(\"+stripSemi(line)+\"))\"+\"\\n\";break;case Template.modes.RAW:this.source+=\"    ; __append(\"+stripSemi(line)+\")\"+\"\\n\";break;case Template.modes.COMMENT:break;case Template.modes.LITERAL:this._addOutput(line);break}}else{this._addOutput(line)}}if(self.opts.compileDebug&&newLineCount){this.currentLine+=newLineCount;this.source+=\"    ; __line = \"+this.currentLine+\"\\n\"}}};exports.escapeXML=utils.escapeXML;exports.__express=exports.renderFile;exports.VERSION=_VERSION_STRING;exports.name=_NAME;if(typeof window!=\"undefined\"){window.ejs=exports}},{\"../package.json\":6,\"./utils\":2,fs:3,path:4}],2:[function(require,module,exports){\"use strict\";var regExpChars=/[|\\\\{}()[\\]^$+*?.]/g;var hasOwnProperty=Object.prototype.hasOwnProperty;var hasOwn=function(obj,key){return hasOwnProperty.apply(obj,[key])};exports.escapeRegExpChars=function(string){if(!string){return\"\"}return String(string).replace(regExpChars,\"\\\\$&\")};var _ENCODE_HTML_RULES={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&#34;\",\"'\":\"&#39;\"};var _MATCH_HTML=/[&<>'\"]/g;function encode_char(c){return _ENCODE_HTML_RULES[c]||c}var escapeFuncStr=\"var _ENCODE_HTML_RULES = {\\n\"+'      \"&\": \"&amp;\"\\n'+'    , \"<\": \"&lt;\"\\n'+'    , \">\": \"&gt;\"\\n'+'    , \\'\"\\': \"&#34;\"\\n'+'    , \"\\'\": \"&#39;\"\\n'+\"    }\\n\"+\"  , _MATCH_HTML = /[&<>'\\\"]/g;\\n\"+\"function encode_char(c) {\\n\"+\"  return _ENCODE_HTML_RULES[c] || c;\\n\"+\"};\\n\";exports.escapeXML=function(markup){return markup==undefined?\"\":String(markup).replace(_MATCH_HTML,encode_char)};function escapeXMLToString(){return Function.prototype.toString.call(this)+\";\\n\"+escapeFuncStr}try{if(typeof Object.defineProperty===\"function\"){Object.defineProperty(exports.escapeXML,\"toString\",{value:escapeXMLToString})}else{exports.escapeXML.toString=escapeXMLToString}}catch(err){console.warn(\"Unable to set escapeXML.toString (is the Function prototype frozen?)\")}exports.shallowCopy=function(to,from){from=from||{};if(to!==null&&to!==undefined){for(var p in from){if(!hasOwn(from,p)){continue}if(p===\"__proto__\"||p===\"constructor\"){continue}to[p]=from[p]}}return to};exports.shallowCopyFromList=function(to,from,list){list=list||[];from=from||{};if(to!==null&&to!==undefined){for(var i=0;i<list.length;i++){var p=list[i];if(typeof from[p]!=\"undefined\"){if(!hasOwn(from,p)){continue}if(p===\"__proto__\"||p===\"constructor\"){continue}to[p]=from[p]}}}return to};exports.cache={_data:{},set:function(key,val){this._data[key]=val},get:function(key){return this._data[key]},remove:function(key){delete this._data[key]},reset:function(){this._data={}}};exports.hyphenToCamel=function(str){return str.replace(/-[a-z]/g,function(match){return match[1].toUpperCase()})};exports.createNullProtoObjWherePossible=function(){if(typeof Object.create==\"function\"){return function(){return Object.create(null)}}if(!({__proto__:null}instanceof Object)){return function(){return{__proto__:null}}}return function(){return{}}}()},{}],3:[function(require,module,exports){},{}],4:[function(require,module,exports){(function(process){function normalizeArray(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last===\".\"){parts.splice(i,1)}else if(last===\"..\"){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up--;up){parts.unshift(\"..\")}}return parts}exports.resolve=function(){var resolvedPath=\"\",resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();if(typeof path!==\"string\"){throw new TypeError(\"Arguments to path.resolve must be strings\")}else if(!path){continue}resolvedPath=path+\"/\"+resolvedPath;resolvedAbsolute=path.charAt(0)===\"/\"}resolvedPath=normalizeArray(filter(resolvedPath.split(\"/\"),function(p){return!!p}),!resolvedAbsolute).join(\"/\");return(resolvedAbsolute?\"/\":\"\")+resolvedPath||\".\"};exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash=substr(path,-1)===\"/\";path=normalizeArray(filter(path.split(\"/\"),function(p){return!!p}),!isAbsolute).join(\"/\");if(!path&&!isAbsolute){path=\".\"}if(path&&trailingSlash){path+=\"/\"}return(isAbsolute?\"/\":\"\")+path};exports.isAbsolute=function(path){return path.charAt(0)===\"/\"};exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p,index){if(typeof p!==\"string\"){throw new TypeError(\"Arguments to path.join must be strings\")}return p}).join(\"/\"))};exports.relative=function(from,to){from=exports.resolve(from).substr(1);to=exports.resolve(to).substr(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!==\"\")break}var end=arr.length-1;for(;end>=0;end--){if(arr[end]!==\"\")break}if(start>end)return[];return arr.slice(start,end-start+1)}var fromParts=trim(from.split(\"/\"));var toParts=trim(to.split(\"/\"));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push(\"..\")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join(\"/\")};exports.sep=\"/\";exports.delimiter=\":\";exports.dirname=function(path){if(typeof path!==\"string\")path=path+\"\";if(path.length===0)return\".\";var code=path.charCodeAt(0);var hasRoot=code===47;var end=-1;var matchedSlash=true;for(var i=path.length-1;i>=1;--i){code=path.charCodeAt(i);if(code===47){if(!matchedSlash){end=i;break}}else{matchedSlash=false}}if(end===-1)return hasRoot?\"/\":\".\";if(hasRoot&&end===1){return\"/\"}return path.slice(0,end)};function basename(path){if(typeof path!==\"string\")path=path+\"\";var start=0;var end=-1;var matchedSlash=true;var i;for(i=path.length-1;i>=0;--i){if(path.charCodeAt(i)===47){if(!matchedSlash){start=i+1;break}}else if(end===-1){matchedSlash=false;end=i+1}}if(end===-1)return\"\";return path.slice(start,end)}exports.basename=function(path,ext){var f=basename(path);if(ext&&f.substr(-1*ext.length)===ext){f=f.substr(0,f.length-ext.length)}return f};exports.extname=function(path){if(typeof path!==\"string\")path=path+\"\";var startDot=-1;var startPart=0;var end=-1;var matchedSlash=true;var preDotState=0;for(var i=path.length-1;i>=0;--i){var code=path.charCodeAt(i);if(code===47){if(!matchedSlash){startPart=i+1;break}continue}if(end===-1){matchedSlash=false;end=i+1}if(code===46){if(startDot===-1)startDot=i;else if(preDotState!==1)preDotState=1}else if(startDot!==-1){preDotState=-1}}if(startDot===-1||end===-1||preDotState===0||preDotState===1&&startDot===end-1&&startDot===startPart+1){return\"\"}return path.slice(startDot,end)};function filter(xs,f){if(xs.filter)return xs.filter(f);var res=[];for(var i=0;i<xs.length;i++){if(f(xs[i],i,xs))res.push(xs[i])}return res}var substr=\"ab\".substr(-1)===\"b\"?function(str,start,len){return str.substr(start,len)}:function(str,start,len){if(start<0)start=str.length+start;return str.substr(start,len)}}).call(this,require(\"_process\"))},{_process:5}],5:[function(require,module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error(\"setTimeout has not been defined\")}function defaultClearTimeout(){throw new Error(\"clearTimeout has not been defined\")}(function(){try{if(typeof setTimeout===\"function\"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout===\"function\"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title=\"browser\";process.browser=true;process.env={};process.argv=[];process.version=\"\";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(name){return[]};process.binding=function(name){throw new Error(\"process.binding is not supported\")};process.cwd=function(){return\"/\"};process.chdir=function(dir){throw new Error(\"process.chdir is not supported\")};process.umask=function(){return 0}},{}],6:[function(require,module,exports){module.exports={name:\"ejs\",description:\"Embedded JavaScript templates\",keywords:[\"template\",\"engine\",\"ejs\"],version:\"3.1.8\",author:\"Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)\",license:\"Apache-2.0\",bin:{ejs:\"./bin/cli.js\"},main:\"./lib/ejs.js\",jsdelivr:\"ejs.min.js\",unpkg:\"ejs.min.js\",repository:{type:\"git\",url:\"git://github.com/mde/ejs.git\"},bugs:\"https://github.com/mde/ejs/issues\",homepage:\"https://github.com/mde/ejs\",dependencies:{jake:\"^10.8.5\"},devDependencies:{browserify:\"^16.5.1\",eslint:\"^6.8.0\",\"git-directory-deploy\":\"^1.5.1\",jsdoc:\"^4.0.2\",\"lru-cache\":\"^4.0.1\",mocha:\"^10.2.0\",\"uglify-js\":\"^3.3.16\"},engines:{node:\">=0.10.0\"},scripts:{test:\"mocha -u tdd\"}}},{}]},{},[1])(1)});\n;CoreUI.form.ejs = ejs;})();","\r\nCoreUI.form.utils = {\r\n\r\n    /**\r\n     * Получение значения поля\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               fieldOptions\r\n     * @returns {string|number|null}\r\n     */\r\n    getFieldValue: function (form, fieldOptions) {\r\n\r\n        let formRecord = form.getRecord();\r\n\r\n        if (fieldOptions &&\r\n            formRecord &&\r\n            typeof fieldOptions.name === 'string' &&\r\n            typeof formRecord === 'object' &&\r\n            formRecord.hasOwnProperty(fieldOptions.name) &&\r\n            ['string', 'number', 'object'].indexOf(typeof formRecord[fieldOptions.name]) >= 0\r\n        ) {\r\n            return formRecord[fieldOptions.name];\r\n        }\r\n\r\n        return '';\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение функции из указанного текста\r\n     * @param functionName\r\n     * @param context\r\n     * @returns {null|Window}\r\n     * @private\r\n     */\r\n    getFunctionByName: function(functionName, context) {\r\n\r\n        let namespaces = functionName.split(\".\");\r\n        let func       = namespaces.pop();\r\n\r\n        context = context || window;\r\n\r\n        for (let i = 0; i < namespaces.length; i++) {\r\n            if (context.hasOwnProperty(namespaces[i])) {\r\n                context = context[namespaces[i]];\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n\r\n        if (typeof context[func] === 'function') {\r\n            return context[func];\r\n        }\r\n\r\n        return null;\r\n    },\r\n\r\n\r\n    /**\r\n     * Обработка полей в полях\r\n     * @param form\r\n     * @param defaultOptions\r\n     * @param fieldOptions\r\n     */\r\n    mergeFieldOptions: function (form, defaultOptions, fieldOptions) {\r\n\r\n        let options = $.extend(true, {}, defaultOptions);\r\n\r\n        if (fieldOptions) {\r\n            if (options.hasOwnProperty('attr') && typeof options.attr === 'object' &&\r\n                fieldOptions.hasOwnProperty('attr') && typeof fieldOptions.attr === 'object'\r\n            ) {\r\n                fieldOptions.attr = this.mergeAttr(options.attr, fieldOptions.attr);\r\n            }\r\n\r\n            options = $.extend(true, {}, options, fieldOptions);\r\n        }\r\n\r\n        if (options.hasOwnProperty('width')) {\r\n            if (options.width) {\r\n                let unit = typeof options.width === 'number' ? 'px' : '';\r\n                options.width = options.width + unit;\r\n\r\n            } else if (form._options.fieldWidth && options.type !== 'color') {\r\n                let unit = typeof form._options.fieldWidth === 'number' ? 'px' : '';\r\n                options.width = form._options.fieldWidth + unit;\r\n            }\r\n        }\r\n\r\n        if (options.hasOwnProperty('labelWidth')) {\r\n            if (options.labelWidth >= 0 && options.labelWidth !== null) {\r\n                let unit = typeof options.labelWidth === 'number' ? 'px' : '';\r\n                options.labelWidth = options.labelWidth + unit;\r\n\r\n            } else if (form._options.labelWidth) {\r\n                let unit = typeof form._options.labelWidth === 'number' ? 'px' : '';\r\n                options.labelWidth = form._options.labelWidth + unit;\r\n            }\r\n        }\r\n\r\n        return options\r\n    },\r\n\r\n\r\n    /**\r\n     * Объединение атрибутов\r\n     * @param attr1\r\n     * @param attr2\r\n     * @returns {object}\r\n     */\r\n    mergeAttr: function (attr1, attr2) {\r\n\r\n        let mergeAttr = Object.assign({}, attr1);\r\n\r\n        if (typeof attr2 === 'object') {\r\n            $.each(attr2, function (name, value) {\r\n                if (mergeAttr.hasOwnProperty(name)) {\r\n                    if (name === 'class') {\r\n                        mergeAttr[name] += ' ' + value;\r\n\r\n                    } else if (name === 'style') {\r\n                        mergeAttr[name] += ';' + value;\r\n\r\n                    } else {\r\n                        mergeAttr[name] = value;\r\n                    }\r\n\r\n                } else {\r\n                    mergeAttr[name] = value;\r\n                }\r\n            });\r\n        }\r\n\r\n        return mergeAttr;\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация и рендер дополнительных полей\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @returns {object}\r\n     * @private\r\n     */\r\n    getAttacheFields: function(form, options) {\r\n\r\n        let fields = [];\r\n\r\n        if (typeof options === 'object' &&\r\n            typeof(options.fields) === 'object' &&\r\n            Array.isArray(options.fields)\r\n        ) {\r\n            $.each(options.fields, function (key, field) {\r\n                let instance = form.initField(field);\r\n\r\n                if (typeof instance !== 'object') {\r\n                    return;\r\n                }\r\n\r\n                fields.push({\r\n                    hash: instance._hash,\r\n                    direction: options.hasOwnProperty('fieldsDirection') ? options.fieldsDirection : 'row',\r\n                    content: instance.renderContent()\r\n                });\r\n            });\r\n        }\r\n\r\n        return fields;\r\n    },\r\n\r\n\r\n    /**\r\n     * Форматирование даты\r\n     * @param {string} value\r\n     * @return {string}\r\n     */\r\n    formatDate: function (value) {\r\n\r\n        if (value && value.length === 10) {\r\n            let date  = new Date(value);\r\n            let year  = date.getFullYear();\r\n            let month = date.getMonth() + 1;\r\n            let day   = date.getDate();\r\n\r\n            day   = day < 10 ? '0' + day : day;\r\n            month = month < 10 ? '0' + month : month;\r\n\r\n            value = day + '.' + month + '.' + year;\r\n        }\r\n\r\n        return value;\r\n    },\r\n\r\n\r\n    /**\r\n     * Форматирование даты со временем\r\n     * @param {string} value\r\n     * @return {string}\r\n     */\r\n    formatDateTime: function (value) {\r\n\r\n        if (value && value.length >= 10) {\r\n            let date  = new Date(value);\r\n            let year  = date.getFullYear();\r\n            let month = date.getMonth() + 1;\r\n            let day   = date.getDate();\r\n            let hour  = (\"00\" + date.getHours()).slice(-2);\r\n            let min   = (\"00\" + date.getMinutes()).slice(-2);\r\n            let sec   = (\"00\" + date.getSeconds()).slice(-2);\r\n\r\n            day   = day < 10 ? '0' + day : day;\r\n            month = month < 10 ? '0' + month : month;\r\n\r\n            value = day + '.' + month + '.' + year + ' ' + hour + ':' + min + ':' + sec;\r\n        }\r\n\r\n        return value;\r\n    },\r\n\r\n\r\n    /**\r\n     * Форматирование даты со временем\r\n     * @param {string} value\r\n     * @param {object} lang\r\n     * @return {string}\r\n     */\r\n    formatDateMonth: function (value, lang) {\r\n\r\n        if (value && value.length === 7) {\r\n            let date  = new Date(value);\r\n            let year  = date.getFullYear();\r\n            let month = date.getMonth();\r\n\r\n            let monthLang = lang.date_months.hasOwnProperty(month) ? lang.date_months[month] : '';\r\n\r\n            value = monthLang + ' ' + year;\r\n        }\r\n\r\n        return value;\r\n    },\r\n\r\n\r\n    /**\r\n     * Форматирование даты со временем\r\n     * @param {string} value\r\n     * @param {object} lang\r\n     * @return {string}\r\n     */\r\n    formatDateWeek: function (value, lang) {\r\n\r\n        if (value && value.length >= 7) {\r\n            let year = value.substring(0, 4);\r\n            let week = value.substring(6);\r\n\r\n            value = year + ' ' + lang.date_week + ' ' + week;\r\n        }\r\n\r\n        return value;\r\n    },\r\n\r\n\r\n    /**\r\n     * Проверка на число\r\n     * @param num\r\n     * @returns {boolean}\r\n     * @private\r\n     */\r\n    isNumeric: function(num) {\r\n        return (typeof(num) === 'number' || typeof(num) === \"string\" && num.trim() !== '') && ! isNaN(num);\r\n    },\r\n\r\n\r\n    /**\r\n     * @returns {string}\r\n     * @private\r\n     */\r\n    hashCode: function() {\r\n        return this.crc32((new Date().getTime() + Math.random()).toString()).toString(16);\r\n    },\r\n\r\n\r\n    /**\r\n     * Hash crc32\r\n     * @param str\r\n     * @returns {number}\r\n     * @private\r\n     */\r\n    crc32: function (str) {\r\n\r\n        for (var a, o = [], c = 0; c < 256; c++) {\r\n            a = c;\r\n            for (var f = 0; f < 8; f++) {\r\n                a = 1 & a ? 3988292384 ^ a >>> 1 : a >>> 1\r\n            }\r\n            o[c] = a\r\n        }\r\n\r\n        for (var n = -1, t = 0; t < str.length; t++) {\r\n            n = n >>> 8 ^ o[255 & (n ^ str.charCodeAt(t))]\r\n        }\r\n\r\n        return (-1 ^ n) >>> 0;\r\n    },\r\n\r\n\r\n    /**\r\n     * Округление\r\n     * @param number\r\n     * @param precision\r\n     * @returns {number}\r\n     */\r\n    round: function (number, precision) {\r\n\r\n        precision = typeof precision !== 'undefined' ? parseInt(precision) : 0;\r\n\r\n        if (precision === 0) {\r\n            return Math.round(number);\r\n\r\n        } else if (precision > 0) {\r\n            let pow = Math.pow(10, precision);\r\n            return Math.round(number * pow) / pow;\r\n\r\n        } else {\r\n            let pow = Math.pow(10, precision);\r\n            return Math.round(number / pow) * pow;\r\n        }\r\n    }\r\n}","\r\nCoreUI.form.instance = {\r\n\r\n    _options: {\r\n        id: null,\r\n        errorClass: '',\r\n        title: '',\r\n        lang: 'en',\r\n        save: {\r\n            url: '',\r\n            method: 'POST'\r\n        },\r\n        width: null,\r\n        minWidth: null,\r\n        maxWidth: null,\r\n        labelWidth: 200,\r\n        controlsOffset: null,\r\n        readonly: false,\r\n        validate: false,\r\n        layout: '[column_default]',\r\n        onSubmit: null,\r\n        record: {},\r\n        fields: [],\r\n        controls: []\r\n    },\r\n\r\n    _lock: false,\r\n    _fieldsIndex: 0,\r\n    _groupsIndex: 0,\r\n    _controlsIndex: 0,\r\n    _groups: [],\r\n    _fields: [],\r\n    _controls: [],\r\n    _events: {},\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {object} options\r\n     * @private\r\n     */\r\n    _init: function (options) {\r\n\r\n        this._options.labelWidth = CoreUI.form.getSetting('labelWidth');\r\n        this._options.lang       = CoreUI.form.getSetting('lang');\r\n        this._options.errorClass = CoreUI.form.getSetting('errorClass');\r\n\r\n        this._options = $.extend(true, {}, this._options, options);\r\n\r\n        if ( ! this._options.id) {\r\n            this._options.id = CoreUI.form.utils.hashCode();\r\n        }\r\n\r\n        if (this._options.hasOwnProperty('labelWidth')) {\r\n            if (this._options.labelWidth >= 0 && this._options.labelWidth !== null) {\r\n                let unit = typeof this._options.labelWidth === 'number' ? 'px' : '';\r\n                this._options.labelWidth = this._options.labelWidth + unit;\r\n            }\r\n        }\r\n\r\n        if ( ! this._options.hasOwnProperty('controlsOffset') || this._options.controlsOffset === null) {\r\n            this._options.controlsOffset = this._options.labelWidth;\r\n        } else {\r\n            if (this._options.controlsOffset >= 0) {\r\n                let unit = typeof this._options.controlsOffset === 'number' ? 'px' : '';\r\n                this._options.controlsOffset = this._options.controlsOffset + unit;\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     */\r\n    initEvents: function () {\r\n\r\n        let that          = this;\r\n        let formContainer = '#coreui-form-' + this._options.id + ' > form';\r\n\r\n        $(formContainer).on('submit', function () {\r\n            that.send();\r\n\r\n            return false;\r\n        });\r\n\r\n        this._trigger('shown.coreui.form');\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение id формы\r\n     * @return {string|null}\r\n     */\r\n    getId: function () {\r\n\r\n        return this._options.hasOwnProperty('id') ? this._options.id : null;\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     * @param element\r\n     * @returns {*}\r\n     */\r\n    render: function(element) {\r\n\r\n        let that       = this;\r\n        let widthSizes = [];\r\n        let layout     = this._options.layout;\r\n        let controls   = [];\r\n        let formAttr   = [];\r\n\r\n\r\n\r\n        if (this._options.width) {\r\n            let unit = typeof this._options.width === 'number' ? 'px' : '';\r\n            widthSizes.push('width:' + this._options.width + unit);\r\n        }\r\n\r\n        if (this._options.minWidth) {\r\n            let unit = typeof this._options.minWidth === 'number' ? 'px' : '';\r\n            widthSizes.push('min-width:' + this._options.minWidth + unit);\r\n        }\r\n\r\n        if (this._options.maxWidth) {\r\n            let unit = typeof this._options.maxWidth === 'number' ? 'px' : '';\r\n            widthSizes.push('max-width:' + this._options.maxWidth + unit);\r\n        }\r\n\r\n\r\n\r\n        // Поля\r\n        if (typeof this._options.fields === 'object' &&\r\n            Array.isArray(this._options.fields) &&\r\n            this._options.fields.length > 0 &&\r\n            layout &&\r\n            typeof layout === 'string'\r\n        ) {\r\n            let matches        = Array.from(layout.matchAll(/\\[column_([\\w_\\d]+)\\]/g));\r\n            let columns        = [];\r\n            let columnsContent = {};\r\n\r\n            if (matches.length > 0) {\r\n                $.each(matches, function (key, match) {\r\n                    columns.push(match[1]);\r\n                });\r\n            }\r\n\r\n            if (columns.length > 0) {\r\n                $.each(this._options.fields, function (key, field) {\r\n                    let column = field.hasOwnProperty('column') && (typeof field.column === 'string' || typeof field.column === 'number')\r\n                        ? (columns.indexOf(field.column) >= 0 ? field.column : null)\r\n                        : 'default';\r\n\r\n                    if (typeof column !== 'string') {\r\n                        return;\r\n                    }\r\n\r\n                    let type     = field.hasOwnProperty('type') && typeof field.type === 'string' ? field.type : '';\r\n                    let instance = null;\r\n\r\n                    if (type === 'group') {\r\n                        instance = that.initGroup(field);\r\n\r\n                    } else {\r\n                        instance = that.initField(field);\r\n                    }\r\n\r\n\r\n                    if ( ! instance || typeof instance !== 'object') {\r\n                        return;\r\n                    }\r\n\r\n                    if ( ! columnsContent.hasOwnProperty(column)) {\r\n                        columnsContent[column] = [];\r\n                    }\r\n                    columnsContent[column].push(instance.render());\r\n                });\r\n            }\r\n\r\n            if (Object.keys(columnsContent).length >= 0) {\r\n                $.each(columnsContent, function (name, fieldContents) {\r\n\r\n                    layout = layout.replace('[column_' + name + ']', fieldContents.join(''));\r\n                });\r\n            }\r\n        }\r\n\r\n\r\n        // Элементы управления\r\n        if (typeof this._options.controls === 'object' &&\r\n            Array.isArray(this._options.controls) &&\r\n            this._options.controls.length > 0\r\n        ) {\r\n            $.each(this._options.controls, function (key, control) {\r\n                let instance = that.initControl(control);\r\n\r\n                if ( ! instance || typeof instance !== 'object') {\r\n                    return;\r\n                }\r\n\r\n                controls.push({\r\n                    show: ! control.hasOwnProperty('show') || control.show,\r\n                    index: that._controlsIndex - 1,\r\n                    content: instance.render()\r\n                });\r\n            });\r\n        }\r\n\r\n        if (typeof this._options.validate === 'boolean' && this._options.validate) {\r\n            formAttr.push('novalidate');\r\n        }\r\n\r\n\r\n        let html = CoreUI.form.ejs.render(CoreUI.form.tpl['form.html'], {\r\n            form: this._options,\r\n            formAttr: formAttr ? ' ' + formAttr.join(' ') : '',\r\n            widthSizes: widthSizes,\r\n            layout: layout,\r\n            controls: controls,\r\n        });\r\n\r\n        if (element === undefined) {\r\n            return html;\r\n        }\r\n\r\n        // Dom element\r\n        let domElement = {};\r\n\r\n        if (typeof element === 'string') {\r\n            domElement = document.getElementById(element);\r\n\r\n            if ( ! domElement) {\r\n                return '';\r\n            }\r\n\r\n        } else if (element instanceof HTMLElement) {\r\n            domElement = element;\r\n        }\r\n\r\n\r\n        domElement.innerHTML = html;\r\n\r\n        this.initEvents();\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     */\r\n    lock: function () {\r\n\r\n        this._lock = true;\r\n\r\n        $.each(this._controls, function (key, control) {\r\n            let controlOptions = control.getOptions();\r\n\r\n            if (controlOptions.hasOwnProperty('type') && controlOptions.type === 'submit') {\r\n                control.lock();\r\n            }\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Разблокировка\r\n     */\r\n    unlock: function () {\r\n\r\n        this._lock = false;\r\n\r\n        $.each(this._controls, function (key, control) {\r\n            let controlOptions = control.getOptions();\r\n\r\n            if (controlOptions.hasOwnProperty('type') && controlOptions.type === 'submit') {\r\n                control.unlock();\r\n            }\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Отправка данных формы\r\n     */\r\n    send: function () {\r\n\r\n        if (this._lock) {\r\n            return;\r\n        }\r\n\r\n\r\n        if (typeof this._options.validate === 'boolean' && this._options.validate) {\r\n            let isValid = this.validate();\r\n\r\n            if ( ! isValid) {\r\n                return;\r\n            }\r\n        }\r\n\r\n\r\n        let onsubmit = null;\r\n        let data     = this.getData();\r\n\r\n        if (typeof this._options.onSubmit === 'function') {\r\n            onsubmit = this._options.onSubmit;\r\n\r\n        } else if (typeof this._options.onSubmit === 'string') {\r\n            let func = CoreUI.form.utils.getFunctionByName(this._options.onSubmit);\r\n            if (typeof func === 'function') {\r\n                onsubmit = func;\r\n            } else if (typeof func === 'string') {\r\n                eval(func);\r\n            }\r\n        }\r\n\r\n        if (typeof onsubmit === 'function') {\r\n            let onSubmitResult = onsubmit(this, data);\r\n\r\n            if (onSubmitResult === false) {\r\n                return;\r\n            }\r\n        }\r\n\r\n\r\n        let results    = this._trigger('send.coreui.form', this, [ this, data ]);\r\n        let isStopSend = false;\r\n\r\n        $.each(results, function(key, result) {\r\n            if (result === false) {\r\n                isStopSend = true;\r\n                return false;\r\n            }\r\n        });\r\n\r\n        if (isStopSend) {\r\n            return;\r\n        }\r\n\r\n\r\n        this.lock();\r\n\r\n        let that = this;\r\n\r\n        $.ajax({\r\n            url: this._options.save.url,\r\n            method: this._options.save.method,\r\n            data: data,\r\n            beforeSend: function(xhr) {\r\n                that._trigger('start-send.coreui.form', that, [ that, xhr ]);\r\n            },\r\n            success: function (result) {\r\n                that.hideError();\r\n\r\n                that._trigger('success-send.coreui.form', that, [ that, result ]);\r\n            },\r\n            error: function(xhr, textStatus, errorThrown) {\r\n                let errorMessage = that.getLang().send_error || '';\r\n                let data         = {};\r\n\r\n                try {\r\n                    let parsedResponse = JSON.parse(xhr.responseText);\r\n                    if (typeof parsedResponse === 'object' &&\r\n                        parsedResponse !== null &&\r\n                        ! Array.isArray(parsedResponse)\r\n                    ) {\r\n                        data = parsedResponse;\r\n                    }\r\n\r\n                } catch (e) {\r\n                    // ignore\r\n                }\r\n\r\n                if (data.hasOwnProperty('error_message') &&\r\n                    typeof data.error_message === 'string' &&\r\n                    data.error_message !== ''\r\n                ) {\r\n                    errorMessage = data.error_message;\r\n                }\r\n\r\n                that.showError(errorMessage);\r\n                that._trigger('error-send.coreui.form', that, [ that, xhr, textStatus, errorThrown ]);\r\n            },\r\n            complete: function(xhr, textStatus) {\r\n                that.unlock();\r\n                that._trigger('end-send.coreui.form', that, [ that, xhr, textStatus ]);\r\n            },\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return this._options;\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение записи\r\n     * @returns {object}\r\n     */\r\n    getRecord: function () {\r\n\r\n        if (this._options.hasOwnProperty('record') && typeof this._options.record === 'object') {\r\n            return this._options.record;\r\n        }\r\n\r\n        return {};\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение данных с формы\r\n     * @returns {object}\r\n     */\r\n    getData: function () {\r\n\r\n        let data = {};\r\n\r\n        $.each(this._fields, function (key, field) {\r\n            let fieldOptions = field.getOptions();\r\n\r\n            if (fieldOptions.hasOwnProperty('name') && fieldOptions.name) {\r\n                data[fieldOptions.name] = field.getValue();\r\n            }\r\n        });\r\n\r\n        return data;\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение полей\r\n     * @returns {object}\r\n     */\r\n    getFields: function () {\r\n        return this._fields;\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение элементов управления\r\n     * @returns {object}\r\n     */\r\n    getControls: function () {\r\n        return this._controls;\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение групп полей\r\n     * @returns {object}\r\n     */\r\n    getGroups: function () {\r\n        return this._groups;\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение поля\r\n     * @param {string} name\r\n     * @returns {object}\r\n     */\r\n    getField: function (name) {\r\n\r\n        let field = {};\r\n\r\n        $.each(this._fields, function (key, fieldInstance) {\r\n            let fieldOptions = fieldInstance.getOptions();\r\n\r\n            if (fieldOptions.hasOwnProperty('name') && fieldOptions.name === name) {\r\n                field = fieldInstance;\r\n            }\r\n        });\r\n\r\n        return field;\r\n    },\r\n\r\n\r\n    /**\r\n     * Смена состояний полей формы\r\n     */\r\n    readonly: function (isReadonly) {\r\n\r\n        $.each(this._fields, function (key, fieldInstance) {\r\n            fieldInstance.readonly(isReadonly);\r\n        });\r\n\r\n\r\n        $.each(this._controls, function (key, control) {\r\n            let controlOptions = control.getOptions();\r\n\r\n            if (controlOptions.hasOwnProperty('type') && controlOptions.type === 'submit') {\r\n                if (isReadonly) {\r\n                    control.hide();\r\n                } else {\r\n                    control.show();\r\n                }\r\n            }\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ контролов\r\n     */\r\n    showControls: function () {\r\n\r\n        $.each(this._controls, function (key, control) {\r\n            control.show();\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие контролов\r\n     */\r\n    hideControls: function () {\r\n\r\n        $.each(this._controls, function (key, control) {\r\n            control.hide();\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Валидация полей\r\n     * @return {boolean}\r\n     */\r\n    validate: function () {\r\n\r\n        let isValid = true;\r\n\r\n        $.each(this._fields, function (key, field) {\r\n\r\n            if (field.isValid() === false) {\r\n                field.validate(false);\r\n                isValid = false;\r\n\r\n            } else {\r\n                field.validate(null);\r\n            }\r\n        });\r\n\r\n        return isValid;\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ сообщения с ошибкой\r\n     * @param {string} message\r\n     * @param {object} options\r\n     */\r\n    showError: function (message, options) {\r\n\r\n        let formContainer = $('#coreui-form-' + this._options.id + ' > form');\r\n        let formError     = formContainer.find('> .coreui-form__error');\r\n\r\n        if (formError[0]) {\r\n            formError.remove();\r\n        }\r\n\r\n        options = typeof options === 'object' && ! Array.isArray(options) && options !== null ? options : {};\r\n\r\n        if (typeof this._options.errorClass === 'string' && this._options.errorClass !== '') {\r\n            options.class = options.hasOwnProperty('class') ? options.class : '';\r\n            options.class += ' ' + this._options.errorClass;\r\n        }\r\n\r\n        let errorOptions = {\r\n            class:   options.hasOwnProperty('class') && typeof options.class === 'string' ? options.class : '',\r\n            dismiss: options.hasOwnProperty('dismiss') ? !! options.dismiss : true,\r\n        };\r\n\r\n        formContainer.prepend(\r\n            CoreUI.form.ejs.render(CoreUI.form.tpl['form-error.html'], {\r\n                message: message,\r\n                options: errorOptions,\r\n            })\r\n        );\r\n\r\n\r\n        if ( ! options.hasOwnProperty('scroll') || options.scroll) {\r\n            let scrollOffset = CoreUI.form.getSetting('errorMessageScrollOffset');\r\n\r\n            $('html,body').animate({\r\n                scrollTop : formContainer.offset().top - scrollOffset\r\n            }, 'fast');\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие сообщения с ошибкой\r\n     */\r\n    hideError: function () {\r\n\r\n        $('#coreui-form-' + this._options.id + ' > form > .coreui-form__error').remove();\r\n    },\r\n\r\n\r\n    /**\r\n     * @param eventName\r\n     * @param callback\r\n     * @param context\r\n     * @param singleExec\r\n     */\r\n    on: function(eventName, callback, context, singleExec) {\r\n        if (typeof this._events[eventName] !== 'object') {\r\n            this._events[eventName] = [];\r\n        }\r\n        this._events[eventName].push({\r\n            context : context || this,\r\n            callback: callback,\r\n            singleExec: !! singleExec,\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Удаление формы\r\n     */\r\n    destruct: function () {\r\n\r\n        $('#coreui-form-' + this._options.id).remove();\r\n        delete CoreUI.form._instances[this.getId()];\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация поля\r\n     * @param field\r\n     * @return {object|null}\r\n     * @private\r\n     */\r\n    initField: function (field) {\r\n\r\n        if (typeof field !== 'object') {\r\n            return null;\r\n        }\r\n\r\n        let type = field.hasOwnProperty('type') && typeof field.type === 'string' ? field.type : 'input';\r\n\r\n        if (type === 'group') {\r\n            return null;\r\n        }\r\n\r\n        if ( ! CoreUI.form.fields.hasOwnProperty(type)) {\r\n            type = 'input';\r\n        }\r\n\r\n        if (this._options.readonly) {\r\n            field.readonly = true;\r\n        }\r\n\r\n\r\n        let fieldInstance = $.extend(true, {\r\n            render:        function () {},\r\n            renderContent: function () {},\r\n            init:          function () {},\r\n            getValue:      function () {},\r\n            setValue:      function () {},\r\n            getOptions:    function () {},\r\n            show:          function () {},\r\n            hide:          function () {},\r\n            readonly:      function () {},\r\n            validate:      function () {},\r\n            isValid:       function () {},\r\n        }, CoreUI.form.fields[type]);\r\n\r\n        fieldInstance.init(this, field, this._fieldsIndex++);\r\n\r\n        this._fields.push(fieldInstance);\r\n\r\n        return fieldInstance;\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация группы\r\n     * @param group\r\n     * @return {object|null}\r\n     * @private\r\n     */\r\n    initGroup: function (group) {\r\n\r\n        if (typeof group !== 'object') {\r\n            return null;\r\n        }\r\n\r\n        let type = group.hasOwnProperty('type') && typeof group.type === 'string' ? group.type : '';\r\n\r\n        if (type !== 'group') {\r\n            return null;\r\n        }\r\n\r\n        let groupInstance = $.extend(true, {\r\n            render:     function () {},\r\n            init:       function () {},\r\n            getOptions: function () {},\r\n            expand:     function () {},\r\n            collapse:   function () {},\r\n        }, CoreUI.form.fields[type]);\r\n\r\n        groupInstance.init(this, group, this._groupsIndex++);\r\n\r\n        this._groups.push(groupInstance);\r\n\r\n        return groupInstance;\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация контролов\r\n     * @param control\r\n     * @return {object|null}\r\n     * @private\r\n     */\r\n    initControl: function (control) {\r\n\r\n        if (typeof control !== 'object') {\r\n            return null;\r\n        }\r\n\r\n        let type = control.hasOwnProperty('type') && typeof control.type === 'string' ? control.type : null;\r\n\r\n        if ( ! type || ! CoreUI.form.controls.hasOwnProperty(type)) {\r\n            return null;\r\n        }\r\n\r\n        if (type === 'submit' && this._options.readonly) {\r\n            control.show = false;\r\n        }\r\n\r\n\r\n        let controlInstance = $.extend(true, {\r\n            render:     function () {},\r\n            init:       function () {},\r\n            getOptions: function () {},\r\n            show:       function () {},\r\n            hide:       function () {},\r\n        }, CoreUI.form.controls[type]);\r\n\r\n        controlInstance.init(this, control, this._controlsIndex++);\r\n\r\n        this._controls.push(controlInstance);\r\n\r\n        return controlInstance;\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение настроек языка\r\n     * @private\r\n     */\r\n    getLang: function () {\r\n\r\n        return CoreUI.form.lang.hasOwnProperty(this._options.lang)\r\n            ? CoreUI.form.lang[this._options.lang]\r\n            : CoreUI.form.lang['ru'];\r\n    },\r\n\r\n\r\n    /**\r\n     * @param name\r\n     * @param context\r\n     * @param params\r\n     * @return {object}\r\n     * @private\r\n     */\r\n    _trigger: function(name, context, params) {\r\n\r\n        params = params || [];\r\n        let results = [];\r\n\r\n        if (this._events[name] instanceof Object && this._events[name].length > 0) {\r\n            for (var i = 0; i < this._events[name].length; i++) {\r\n                let callback = this._events[name][i].callback;\r\n\r\n                context = context || this._events[name][i].context;\r\n\r\n                results.push(\r\n                    callback.apply(context, params)\r\n                );\r\n\r\n                if (this._events[name][i].singleExec) {\r\n                    this._events[name].splice(i, 1);\r\n                }\r\n            }\r\n        }\r\n\r\n        return results;\r\n    },\r\n\r\n\r\n    /**\r\n     * @param {object} control\r\n     * @return {string}\r\n     * @private\r\n     */\r\n    _renderControl: function (control) {\r\n\r\n        let content = '';\r\n        let type    = control.hasOwnProperty('type') && typeof control.type === 'string' ? control.type : 'text';\r\n\r\n        if (CoreUI.form.control.hasOwnProperty(type)) {\r\n            content = CoreUI.form.control[type].render(control);\r\n        }\r\n\r\n        return content;\r\n    }\r\n}","//HEAD \nwindow[\"CoreUI\"][\"form\"][\"tpl\"] = {};\n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"form-error.html\"] = \"<div class=\\\"coreui-form__error alert alert-danger alert-dismissible fade show mb-3 <%= options.class %>\\\">\\n\" +\n    \"    <%- message %>\\n\" +\n    \"    <% if (options.dismiss) { %>\\n\" +\n    \"    <button type=\\\"button\\\" class=\\\"btn-close\\\" data-bs-dismiss=\\\"alert\\\"></button>\\n\" +\n    \"    <% } %>\\n\" +\n    \"</div>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"form-field-content.html\"] = \"<%- content %>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"form-field-group.html\"] = \"<div id=\\\"coreui-form-<%= id %>\\\" class=\\\"coreui-form__group_container mb-3\\\">\\n\" +\n    \"    <div class=\\\"coreui-form__group_label pe-2\\\">\\n\" +\n    \"        <h6 class=\\\"coreui-form__field_label_text col-form-label-sm\\\">\\n\" +\n    \"            <%- group.label %>\\n\" +\n    \"            <% if (group.showCollapsible) { %>\\n\" +\n    \"                <button type=\\\"button\\\" class=\\\"btn btn-sm btn-link btn-collapsible text-dark\\\">\\n\" +\n    \"                    <% if ( ! group.show) { %>\\n\" +\n    \"                    <i class=\\\"bi bi-chevron-right\\\"></i>\\n\" +\n    \"                    <% } else { %>\\n\" +\n    \"                    <i class=\\\"bi bi-chevron-down\\\"></i>\\n\" +\n    \"                    <% } %>\\n\" +\n    \"                </button>\\n\" +\n    \"            <% } %>\\n\" +\n    \"        </h6>\\n\" +\n    \"    </div>\\n\" +\n    \"    <div class=\\\"coreui-form__group_content\\\"<% if ( ! group.show) { %> style=\\\"display:none\\\"<% } %>>\\n\" +\n    \"        <%- content %>\\n\" +\n    \"    </div>\\n\" +\n    \"</div>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"form-field-label.html\"] = \"<div id=\\\"coreui-form-<%= id %>\\\" class=\\\"coreui-form__field_container d-flex flex-column flex-md-row mb-3\\\"\\n\" +\n    \"     <% if ( ! field.show) { %> style=\\\"display:none\\\"<% } %>>\\n\" +\n    \"    <% if (field.labelWidth !== 0 && field.labelWidth !== '0px') { %>\\n\" +\n    \"    <div class=\\\"coreui-form__field_label text-md-end text-sm-start pe-2\\\"<% if (field.labelWidth) { %> style=\\\"min-width:<%= field.labelWidth %>;width:<%= field.labelWidth %>\\\"<% } %>>\\n\" +\n    \"        <div class=\\\"coreui-form__field_label_text col-form-label-sm\\\">\\n\" +\n    \"            <% if (field.required) { %>\\n\" +\n    \"            <span class=\\\"coreui-form__field_label_req text-danger\\\">*</span>\\n\" +\n    \"            <% } %>\\n\" +\n    \"            <span><%- field.label %></span>\\n\" +\n    \"        </div>\\n\" +\n    \"\\n\" +\n    \"        <% if (field.description) { %>\\n\" +\n    \"        <div class=\\\"coreui-form__field_label_description text-muted\\\">\\n\" +\n    \"            <small><%- field.description %></small>\\n\" +\n    \"        </div>\\n\" +\n    \"        <% } %>\\n\" +\n    \"    </div>\\n\" +\n    \"    <% } %>\\n\" +\n    \"    <div class=\\\"coreui-form__field_content flex-fill pt-1\\\">\\n\" +\n    \"        <div class=\\\"d-inline-block content-<%= hash %>\\\">\\n\" +\n    \"            <%- content %>\\n\" +\n    \"        </div>\\n\" +\n    \"\\n\" +\n    \"        <% if (field.outContent) { %>\\n\" +\n    \"        <span class=\\\"coreui-form__field-content-out d-inline-block align-top pt-1 ps-1\\\">\\n\" +\n    \"            <%- field.outContent %>\\n\" +\n    \"        </span>\\n\" +\n    \"        <% } %>\\n\" +\n    \"\\n\" +\n    \"        <% if (attachFields && attachFields.length > 0) { %>\\n\" +\n    \"            <% $.each(attachFields, function(key, attachField) { %>\\n\" +\n    \"                <div class=\\\"<% if (attachField.hasOwnProperty('direction') && attachField.direction === 'column') { %>d-block mt-2<% } else { %>d-inline-block<% } %> content-<%= attachField.hash %>\\\">\\n\" +\n    \"                    <%- attachField.content %>\\n\" +\n    \"                </div>\\n\" +\n    \"            <% }); %>\\n\" +\n    \"        <% } %>\\n\" +\n    \"    </div>\\n\" +\n    \"</div>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"form.html\"] = \"<div id=\\\"coreui-form-<%= form.id %>\\\" class=\\\"coreui-form mb-2\\\"\\n\" +\n    \"    <% if (widthSizes) { %>style=\\\"<%= widthSizes.join(';') %>\\\"<% } %>>\\n\" +\n    \"    <% if (form.title) { %>\\n\" +\n    \"    <h5 class=\\\"mb-4\\\"><%- form.title %></h5>\\n\" +\n    \"    <% } %>\\n\" +\n    \"\\n\" +\n    \"    <form action=\\\"<%= form.save.url %>\\\" method=\\\"<%= form.save.method %>\\\"<%- formAttr %>>\\n\" +\n    \"        <div class=\\\"coreui-form__fields d-flex justify-content-start flex-column flex-wrap\\\">\\n\" +\n    \"            <%- layout %>\\n\" +\n    \"        </div>\\n\" +\n    \"\\n\" +\n    \"        <% if (controls) { %>\\n\" +\n    \"        <div class=\\\"coreui-form__controls d-flex justify-content-start flex-sm-wrap flex-md-nowrap\\\">\\n\" +\n    \"            <% if (form.controlsOffset !== 0 && form.controlsOffset !== '0px') { %>\\n\" +\n    \"            <div class=\\\"d-none d-md-block\\\" style=\\\"width:<%= form.controlsOffset %>;min-width:<%= form.controlsOffset %>\\\"></div>\\n\" +\n    \"            <% } %>\\n\" +\n    \"\\n\" +\n    \"            <div class=\\\"d-flex justify-content-start flex-wrap gap-2\\\">\\n\" +\n    \"                <% $.each(controls, function(key, control) { %>\\n\" +\n    \"                <div id=\\\"coreui-form-<%= form.id %>-control-<%= control.index %>\\\" class=\\\"coreui-form__control_container\\\"\\n\" +\n    \"                     <% if ( ! control.show) { %>style=\\\"display:none\\\"<% } %>>\\n\" +\n    \"                    <%- control.content %>\\n\" +\n    \"                </div>\\n\" +\n    \"                <% }); %>\\n\" +\n    \"            </div>\\n\" +\n    \"        </div>\\n\" +\n    \"        <% } %>\\n\" +\n    \"    </form>\\n\" +\n    \"</div>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"controls/button.html\"] = \"<button <%- render.attr %>><%- control.content %></button>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"controls/link.html\"] = \"<a href=\\\"<%- control.href %>\\\"<%- render.attr %>><%- control.content %></a>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"fields/checkbox.html\"] = \"<% if (field.readonly) { %>\\n\" +\n    \"    <%- render.selectedItems.join(', ') %>\\n\" +\n    \"<% } else { %>\\n\" +\n    \"    <% $.each(render.options, function(key, option) { %>\\n\" +\n    \"    <div class=\\\"form-check<% if (field.inline) { %> form-check-inline<% } %>\\\">\\n\" +\n    \"        <input <%- option.attr %>>\\n\" +\n    \"        <label class=\\\"form-check-label\\\" for=\\\"<%= option.id %>\\\"><%= option.text %></label>\\n\" +\n    \"    </div>\\n\" +\n    \"    <% }); %>\\n\" +\n    \"<% } %>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"fields/color.html\"] = \"<% if (field.readonly) { %>\\n\" +\n    \"    <div class=\\\"rounded-1\\\" style=\\\"width: 14px;height: 14px;background-color: <%= value %>\\\"></div>\\n\" +\n    \"<% } else { %>\\n\" +\n    \"    <input <%- render.attr %>>\\n\" +\n    \"\\n\" +\n    \"    <% if (render.datalist.length > 0) { %>\\n\" +\n    \"    <datalist id=\\\"<%= datalistId %>\\\">\\n\" +\n    \"        <% $.each(render.datalist, function(key, item) { %>\\n\" +\n    \"        <option <%- item.attr %>>\\n\" +\n    \"        <% }); %>\\n\" +\n    \"    </datalist>\\n\" +\n    \"    <% } %>\\n\" +\n    \"<% } %>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"fields/custom.html\"] = \"<%- content %>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"fields/dataset-row-readonly.html\"] = \"<tr class=\\\"coreui-form__field-dataset-item\\\">\\n\" +\n    \"    <% $.each(options, function(key, option) { %>\\n\" +\n    \"        <td class=\\\"pe-2 pb-1\\\">\\n\" +\n    \"            <%- option.value %>\\n\" +\n    \"        </td>\\n\" +\n    \"    <% }); %>\\n\" +\n    \"</tr>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"fields/dataset-row.html\"] = \"<tr class=\\\"coreui-form__field-dataset-item\\\" id=\\\"dataset-item-<%= hashItem %>\\\">\\n\" +\n    \"    <% $.each(options, function(key, option) { %>\\n\" +\n    \"        <td class=\\\"pe-1 pb-1\\\">\\n\" +\n    \"        <% if (option.type === 'select') { %>\\n\" +\n    \"            <select <%- option.attr %>>\\n\" +\n    \"                <% $.each(option.items, function(key, item) { %>\\n\" +\n    \"                <option <%- item.attr %>><%- item.title %></option>\\n\" +\n    \"                <% }); %>\\n\" +\n    \"            </select>\\n\" +\n    \"        <% } else if (option.type === 'switch') { %>\\n\" +\n    \"            <div class=\\\"form-check form-switch\\\">\\n\" +\n    \"                <input <%- option.attr %>>\\n\" +\n    \"            </div>\\n\" +\n    \"        <% } else { %>\\n\" +\n    \"            <input <%- option.attr %>>\\n\" +\n    \"        <% } %>\\n\" +\n    \"        </td>\\n\" +\n    \"    <% }); %>\\n\" +\n    \"\\n\" +\n    \"    <td class=\\\"pb-1\\\">\\n\" +\n    \"        <button type=\\\"button\\\" class=\\\"btn btn-sm btn-link btn-dataset-remove\\\" data-item-id=\\\"dataset-item-<%= hashItem %>\\\">\\n\" +\n    \"            <i class=\\\"bi bi-x text-muted\\\"></i>\\n\" +\n    \"        </button>\\n\" +\n    \"    </td>\\n\" +\n    \"</tr>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"fields/dataset.html\"] = \"<% if (field.readonly) { %>\\n\" +\n    \"    <table class=\\\"coreui-form__field-dataset-container\\\" <% if (render.rows.length == 0) { %> style=\\\"display:none\\\"<% } %>>\\n\" +\n    \"        <thead>\\n\" +\n    \"            <tr>\\n\" +\n    \"                <% $.each(render.headers, function(key, item) { %>\\n\" +\n    \"                <td class=\\\"text-muted pe-2\\\"><small><%= item.title %></small></td>\\n\" +\n    \"                <% }); %>\\n\" +\n    \"            </tr>\\n\" +\n    \"        </thead>\\n\" +\n    \"        <tbody class=\\\"coreui-form__field-dataset-list\\\">\\n\" +\n    \"            <% $.each(render.rows, function(key, row) { %>\\n\" +\n    \"            <%- row %>\\n\" +\n    \"            <% }); %>\\n\" +\n    \"        </tbody>\\n\" +\n    \"    </table>\\n\" +\n    \"\\n\" +\n    \"<% } else { %>\\n\" +\n    \"    <table class=\\\"coreui-form__field-dataset-container\\\" <% if (render.rows.length == 0) { %> style=\\\"display:none\\\"<% } %>>\\n\" +\n    \"        <thead>\\n\" +\n    \"            <tr>\\n\" +\n    \"                <% $.each(render.headers, function(key, item) { %>\\n\" +\n    \"                <td class=\\\"text-muted\\\"><small><%= item.title %></small></td>\\n\" +\n    \"                <% }); %>\\n\" +\n    \"                <td></td>\\n\" +\n    \"            </tr>\\n\" +\n    \"        </thead>\\n\" +\n    \"        <tbody class=\\\"coreui-form__field-dataset-list\\\">\\n\" +\n    \"            <% $.each(render.rows, function(key, row) { %>\\n\" +\n    \"                <%- row %>\\n\" +\n    \"            <% }); %>\\n\" +\n    \"        </tbody>\\n\" +\n    \"    </table>\\n\" +\n    \"\\n\" +\n    \"    <button type=\\\"button\\\" class=\\\"btn btn-sm btn-link btn-dataset-add\\\"><%= lang.dataset_add %></button>\\n\" +\n    \"<% } %>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"fields/hidden.html\"] = \"<% if ( ! field.readonly) { %>\\n\" +\n    \"    <input <%- render.attr %>>\\n\" +\n    \"<% } %>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"fields/input.html\"] = \"<% if (field.readonly) { %>\\n\" +\n    \"    <%- value %>\\n\" +\n    \"<% } else { %>\\n\" +\n    \"    <input <%- render.attr %>>\\n\" +\n    \"\\n\" +\n    \"    <% if (render.datalist.length > 0) { %>\\n\" +\n    \"    <datalist id=\\\"<%= datalistId %>\\\">\\n\" +\n    \"        <% $.each(render.datalist, function(key, item) { %>\\n\" +\n    \"        <option <%- item.attr %>>\\n\" +\n    \"        <% }); %>\\n\" +\n    \"    </datalist>\\n\" +\n    \"    <% } %>\\n\" +\n    \"<% } %>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"fields/modal-loading.html\"] = \"<div class=\\\"py-4 d-flex justify-content-center align-items-center gap-2\\\">\\n\" +\n    \"    <div class=\\\"spinner-border mr-2\\\"></div> <%= lang.modal_loading %>\\n\" +\n    \"</div>\\n\" +\n    \"\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"fields/modal.html\"] = \"<% if (field.readonly) { %>\\n\" +\n    \"    <%= text %>\\n\" +\n    \"<% } else { %>\\n\" +\n    \"    <div class=\\\"input-group\\\"<% if (render.width) { %> style=\\\"width:<%= render.width %>\\\"<% } %>>\\n\" +\n    \"        <input <%- render.attr %>>\\n\" +\n    \"        <input type=\\\"hidden\\\" name=\\\"<%= field.name %>\\\" value=\\\"<%= value %>\\\" class=\\\"coreui-form-modal-value\\\">\\n\" +\n    \"        <% if ( ! field.required) { %>\\n\" +\n    \"        <button class=\\\"btn btn-sm btn-outline-secondary btn-modal-clear border-secondary-subtle\\\" type=\\\"button\\\">\\n\" +\n    \"            <i class=\\\"bi bi-x\\\"></i>\\n\" +\n    \"        </button>\\n\" +\n    \"        <% } %>\\n\" +\n    \"        <button class=\\\"btn btn-sm btn-outline-secondary btn-modal-select border-secondary-subtle\\\" type=\\\"button\\\"><%= lang.modal_select %></button>\\n\" +\n    \"    </div>\\n\" +\n    \"<% } %>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"fields/radio.html\"] = \"<% if (field.readonly) { %>\\n\" +\n    \"    <%- render.selectedItem %>\\n\" +\n    \"<% } else { %>\\n\" +\n    \"    <% $.each(render.options, function(key, option) { %>\\n\" +\n    \"    <div class=\\\"form-check<% if (field.inline) { %> form-check-inline<% } %>\\\">\\n\" +\n    \"        <input <%- option.attr %>>\\n\" +\n    \"        <label class=\\\"form-check-label\\\" for=\\\"<%= option.id %>\\\"><%= option.text %></label>\\n\" +\n    \"    </div>\\n\" +\n    \"    <% }); %>\\n\" +\n    \"<% } %>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"fields/select.html\"] = \"<% if (field.readonly) { %>\\n\" +\n    \"    <%= render.selectedOptions.join(', ') %>\\n\" +\n    \"<% } else { %>\\n\" +\n    \"    <select <%- render.attr %>>\\n\" +\n    \"        <% $.each(render.options, function(key, option) { %>\\n\" +\n    \"            <% if (option.type === 'group') { %>\\n\" +\n    \"                <optgroup<%- option.attr %>>\\n\" +\n    \"                <% $.each(option.options, function(key, groupOption) { %>\\n\" +\n    \"                    <option <%- groupOption.attr %>><%= groupOption.text %>\\n\" +\n    \"                <% }); %>\\n\" +\n    \"                \\n\" +\n    \"            <% } else { %>\\n\" +\n    \"            <option <%- option.attr %>><%= option.text %>\\n\" +\n    \"            <% } %>\\n\" +\n    \"        <% }); %>\\n\" +\n    \"    </select>\\n\" +\n    \"<% } %>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"fields/switch.html\"] = \"<% if (field.readonly) { %>\\n\" +\n    \"    <%= field.valueY == value ? lang.switch_yes : lang.switch_no %>\\n\" +\n    \"<% } else { %>\\n\" +\n    \"    <div class=\\\"form-check form-switch\\\">\\n\" +\n    \"        <input <%- render.attr %>>\\n\" +\n    \"    </div>\\n\" +\n    \"<% } %>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"fields/textarea.html\"] = \"<% if (field.readonly) { %>\\n\" +\n    \"    <%- value %>\\n\" +\n    \"<% } else { %>\\n\" +\n    \"    <textarea <%- render.attr %>><%- value %></textarea>\\n\" +\n    \"<% } %>\"; \n\nwindow[\"CoreUI\"][\"form\"][\"tpl\"][\"fields/wysiwyg.html\"] = \"<% if (field.readonly) { %>\\n\" +\n    \"    <%- value %>\\n\" +\n    \"<% } else { %>\\n\" +\n    \"    <textarea name=\\\"<%= field.name %>\\\" id=\\\"editor-<%= editorHash %>\\\"><%- value %></textarea>\\n\" +\n    \"<% } %>\"; \n// END ","\r\nCoreUI.form.fields.alphanumeric = {\r\n\r\n    _id: '',\r\n    _hash: '',\r\n    _form: null,\r\n    _index: 0,\r\n    _value: '',\r\n    _options: {\r\n        type: 'alphanumeric',\r\n        name: null,\r\n        label: null,\r\n        labelWidth: null,\r\n        width: null,\r\n        outContent: null,\r\n        description: null,\r\n        errorText: null,\r\n        attach: null,\r\n        attr: {\r\n            class: 'form-control form-control-sm d-inline-block'\r\n        },\r\n        required: null,\r\n        readonly: null,\r\n        datalist: null,\r\n        show: true,\r\n        column: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._form    = form;\r\n        this._index   = index;\r\n        this._id      = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\r\n        this._value   = CoreUI.form.utils.getFieldValue(form, options);\r\n        this._options = CoreUI.form.utils.mergeFieldOptions(form, this._options, options);\r\n        this._hash    = CoreUI.form.utils.hashCode();\r\n        let that      = this;\r\n\r\n        form.on('shown.coreui.form', function () {\r\n            if ( ! that._options.readonly) {\r\n                that._initEvents();\r\n            }\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\r\n    readonly: function (isReadonly) {\r\n\r\n        this._value            = this.getValue();\r\n        this._options.readonly = !! isReadonly;\r\n\r\n        $('.content-' + this._hash).html(\r\n            this.renderContent()\r\n        );\r\n\r\n        if ( ! this._options.readonly) {\r\n            this._initEvents();\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).hide(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).show(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение значения в поле\r\n     * @returns {string}\r\n     */\r\n    getValue: function () {\r\n\r\n        return this._options.readonly\r\n            ? this._value\r\n            : $('.content-' + this._hash + ' input').val();\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\r\n    setValue: function (value) {\r\n\r\n        if (['string', 'number'].indexOf(typeof value) < 0) {\r\n            return;\r\n        }\r\n\r\n        value = value.replace(/[^\\d\\w]/g, '');\r\n\r\n        this._value = value;\r\n\r\n        if (this._options.readonly) {\r\n            $('.content-' + this._hash).text(value);\r\n        } else {\r\n            $('.content-' + this._hash + ' input').val(value);\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\r\n    validate: function (isValid, text) {\r\n\r\n        if (this._options.readonly) {\r\n            return;\r\n        }\r\n\r\n        let container = $('.content-' + this._hash);\r\n        let input     = $('input', container);\r\n\r\n        container.find('.valid-feedback').remove();\r\n        container.find('.invalid-feedback').remove();\r\n\r\n        if (isValid === null) {\r\n            input.removeClass('is-invalid');\r\n            input.removeClass('is-valid');\r\n\r\n        } else if (isValid) {\r\n            input.removeClass('is-invalid');\r\n            input.addClass('is-valid');\r\n\r\n            if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\r\n                text = this._options.validText;\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"valid-feedback\">' + text + '</div>');\r\n            }\r\n        } else {\r\n            input.removeClass('is-valid');\r\n            input.addClass('is-invalid');\r\n\r\n            if (typeof text === 'undefined') {\r\n                if (typeof this._options.invalidText === 'string') {\r\n                    text = this._options.invalidText;\r\n\r\n                } else if ( ! text && this._options.required) {\r\n                    text = this._form.getLang().required_field;\r\n                }\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"invalid-feedback\">' + text + '</div>');\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\r\n    isValid: function () {\r\n\r\n        let input = $('.content-' + this._hash + ' input');\r\n\r\n        if (input[0]) {\r\n            return input.is(':valid');\r\n        }\r\n\r\n        return null;\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let options      = this.getOptions();\r\n        let attachFields = CoreUI.form.utils.getAttacheFields(this._form, options);\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['form-field-label.html'], {\r\n            id: this._id,\r\n            form:  this._form,\r\n            hash: this._hash,\r\n            field: options,\r\n            content: this.renderContent(),\r\n            attachFields: attachFields,\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\r\n    renderContent: function () {\r\n\r\n        return this._options.readonly\r\n            ? this._renderContentReadonly()\r\n            : this._renderContent();\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     * @return {*}\r\n     * @private\r\n     */\r\n    _renderContent: function () {\r\n\r\n        let attributes = [];\r\n        let datalist   = [];\r\n        let options    = this.getOptions();\r\n        let datalistId = CoreUI.form.utils.hashCode();\r\n\r\n        if ( ! options.hasOwnProperty('attr') ||\r\n            typeof options.attr !== 'object' ||\r\n            options.attr === null ||\r\n            Array.isArray(options.attr)\r\n        ) {\r\n            options.attr = {};\r\n        }\r\n\r\n        if (options.name) {\r\n            options.attr.name = this._options.name;\r\n        }\r\n\r\n        options.attr.type  = 'text';\r\n        options.attr.value = this._value;\r\n\r\n        if (options.width) {\r\n            options.attr = CoreUI.form.utils.mergeAttr(\r\n                { style: 'width:' + options.width },\r\n                options.attr\r\n            );\r\n        }\r\n        if (options.required) {\r\n            options.attr.required = 'required';\r\n        }\r\n\r\n\r\n        if (options.hasOwnProperty('datalist') &&\r\n            typeof options.datalist === 'object' &&\r\n            Array.isArray(options.datalist)\r\n        ) {\r\n            options.attr.list = datalistId;\r\n\r\n            $.each(options.datalist, function (key, itemAttributes) {\r\n                let datalistAttr = [];\r\n\r\n                $.each(itemAttributes, function (name, value) {\r\n                    datalistAttr.push(name + '=\"' + value + '\"');\r\n                });\r\n\r\n                datalist.push({\r\n                    attr: datalistAttr.length > 0 ? (' ' + datalistAttr.join(' ')) : ''\r\n                })\r\n            });\r\n        }\r\n\r\n        $.each(options.attr, function (name, value) {\r\n            attributes.push(name + '=\"' + value + '\"');\r\n        });\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/input.html'], {\r\n            field: options,\r\n            datalistId: datalistId,\r\n            value: this._value,\r\n            render: {\r\n                attr: attributes.length > 0 ? (' ' + attributes.join(' ')) : '',\r\n                datalist: datalist\r\n            },\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     * @private\r\n     */\r\n    _renderContentReadonly: function () {\r\n\r\n        let options = this.getOptions();\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/input.html'], {\r\n            field: options,\r\n            value: this._value\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация событий\r\n     * @private\r\n     */\r\n    _initEvents: function () {\r\n\r\n        $('#coreui-form-' + this._id + ' .content-' + this._hash + ' input').keydown(function (e) {\r\n            let k = e.keyCode || e.which;\r\n            let ok = k >= 65 && k <= 90 || // A-Z\r\n                k >= 96 && k <= 105 || // 0-9\r\n                k >= 35 && k <= 40 || // arrows\r\n                k === 9 || //tab\r\n                k === 46 || //del\r\n                k === 8 || // backspaces\r\n                ( ! e.shiftKey && k >= 48 && k <= 57); // only 0-9 (ignore SHIFT options)\r\n\r\n            if ( ! ok || (e.ctrlKey && e.altKey)) {\r\n                e.preventDefault();\r\n            }\r\n        });\r\n\r\n        $('#coreui-form-' + this._id + ' .content-' + this._hash + ' input').change(function (e) {\r\n            $(this).val($(this).val().replace(/[^\\d\\w]/g, ''))\r\n        });\r\n    }\r\n}","\r\nCoreUI.form.fields.checkbox = {\r\n\r\n    _id: '',\r\n    _hash: '',\r\n    _form: null,\r\n    _index: 0,\r\n    _value: [],\r\n    _options: {\r\n        type: 'checkbox',\r\n        name: null,\r\n        label: null,\r\n        labelWidth: null,\r\n        inline: false,\r\n        outContent: null,\r\n        description: null,\r\n        errorText: null,\r\n        options: [],\r\n        fields: null,\r\n        required: null,\r\n        readonly: null,\r\n        show: true,\r\n        column: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._form    = form;\r\n        this._id      = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\r\n        this._hash    = CoreUI.form.utils.hashCode();\r\n        this._value   = CoreUI.form.utils.getFieldValue(form, options);\r\n        this._options = CoreUI.form.utils.mergeFieldOptions(form, this._options, options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\r\n    readonly: function (isReadonly) {\r\n\r\n        this._value            = this.getValue();\r\n        this._options.readonly = !! isReadonly;\r\n\r\n        $('.content-' + this._hash).html(\r\n            this.renderContent()\r\n        );\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).hide(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).show(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение значения в поле\r\n     * @returns {object}\r\n     */\r\n    getValue: function () {\r\n\r\n        if (this._options.readonly) {\r\n            return this._value;\r\n\r\n        } else {\r\n            let values = [];\r\n\r\n            $('.content-' + this._hash + ' input[type=checkbox]:checked').each(function () {\r\n                values.push($(this).val());\r\n            });\r\n\r\n            return values;\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка значений в поле\r\n     * @param {object|null|string|number} value\r\n     */\r\n    setValue: function (value) {\r\n\r\n        if (['string', 'number', 'object'].indexOf(typeof value) < 0) {\r\n            return;\r\n        }\r\n\r\n        if (typeof value === 'object') {\r\n            if (value !== null && ! Array.isArray(value)) {\r\n                return;\r\n            }\r\n\r\n        } else {\r\n            value = [ value ];\r\n        }\r\n\r\n        let that    = this;\r\n        this._value = [];\r\n\r\n        if (this._options.readonly) {\r\n            $('.content-' + that._hash).empty();\r\n\r\n            let fieldOptions = this.getOptions();\r\n\r\n            if (fieldOptions.hasOwnProperty('options') &&\r\n                typeof fieldOptions.options === 'object' &&\r\n                Array.isArray(fieldOptions.options) &&\r\n                Array.isArray(value)\r\n            ) {\r\n                let selectedItems = [];\r\n\r\n                $.each(fieldOptions.options, function (key, option) {\r\n\r\n                    if (option.hasOwnProperty('value')) {\r\n                        $.each(value, function (key, val) {\r\n\r\n                            if (option.value == val) {\r\n                                if (option.hasOwnProperty('text') && ['string', 'number'].indexOf(typeof(option.text)) >= 0) {\r\n                                    selectedItems.push(option.text);\r\n                                }\r\n\r\n                                that._value.push(val);\r\n                                return false;\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n\r\n\r\n                $('.content-' + that._hash).text(selectedItems.join(', '));\r\n            }\r\n\r\n        } else {\r\n            $('.content-' + this._hash + ' input[type=radio]').prop('checked', false);\r\n\r\n            if (Array.isArray(value)) {\r\n                $('.content-' + this._hash + ' input[type=radio]').each(function (key, itemValue) {\r\n                    $.each(value, function (key, val) {\r\n                        if (val == $(itemValue).val()) {\r\n                            $(itemValue).prop('checked', true);\r\n                            that._value.push(val);\r\n\r\n                            return false;\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\r\n    validate: function (isValid, text) {\r\n\r\n        if (this._options.readonly) {\r\n            return;\r\n        }\r\n\r\n        let container = $('.content-' + this._hash);\r\n        let lastInput = $('.form-check:last-child', container);\r\n        let inputs    = $('input', container);\r\n\r\n        container.find('.valid-feedback').remove();\r\n        container.find('.invalid-feedback').remove();\r\n\r\n        if (isValid === null) {\r\n            inputs.removeClass('is-invalid');\r\n            inputs.removeClass('is-valid');\r\n\r\n        } else if (isValid) {\r\n            inputs.removeClass('is-invalid');\r\n            inputs.addClass('is-valid');\r\n\r\n            if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\r\n                text = this._options.validText;\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                lastInput.append('<div class=\"valid-feedback\">' + text + '</div>');\r\n            }\r\n\r\n        } else {\r\n            inputs.removeClass('is-valid');\r\n            inputs.addClass('is-invalid');\r\n\r\n            if (typeof text === 'undefined') {\r\n                if (typeof this._options.invalidText === 'string') {\r\n                    text = this._options.invalidText;\r\n\r\n                } else if ( ! text && this._options.required) {\r\n                    text = this._form.getLang().required_field;\r\n                }\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                lastInput.append('<div class=\"invalid-feedback\">' + text + '</div>');\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\r\n    isValid: function () {\r\n\r\n        if (this._options.required && ! this._options.readonly) {\r\n            return this.getValue().length > 0;\r\n        }\r\n\r\n        return true;\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let options      = this.getOptions();\r\n        let attachFields = CoreUI.form.utils.getAttacheFields(this._form, options);\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['form-field-label.html'], {\r\n            id: this._id,\r\n            form:  this._form,\r\n            hash: this._hash,\r\n            field: this._options,\r\n            content: this.renderContent(),\r\n            attachFields: attachFields,\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\r\n    renderContent: function () {\r\n\r\n        let that            = this;\r\n        let checkboxOptions = [];\r\n        let fieldOptions    = this.getOptions();\r\n        let selectedItems   = [];\r\n\r\n        if (fieldOptions.hasOwnProperty('options') &&\r\n            typeof fieldOptions.options === 'object' &&\r\n            Array.isArray(fieldOptions.options)\r\n        ) {\r\n            $.each(fieldOptions.options, function (key, option) {\r\n                let attributes = [];\r\n                let itemAttr = {\r\n                    type: 'checkbox',\r\n                    class: 'form-check-input'\r\n                };\r\n                let optionText = option.hasOwnProperty('text') && ['string', 'number'].indexOf(typeof(option.text)) >= 0\r\n                    ? option.text\r\n                    : '';\r\n\r\n                if (fieldOptions.name) {\r\n                    itemAttr.name = that._options.name;\r\n                }\r\n\r\n                if (fieldOptions.required) {\r\n                    itemAttr.required = 'required';\r\n                }\r\n\r\n                $.each(option, function (name, value) {\r\n                    if (name !== 'text') {\r\n                        if (name === 'class') {\r\n                            itemAttr[name] = itemAttr[name] + ' ' + value;\r\n                        } else {\r\n                            itemAttr[name] = value;\r\n                        }\r\n                    }\r\n                });\r\n\r\n                itemAttr.id = CoreUI.form.utils.hashCode();\r\n\r\n                if (typeof(that._value) === 'object' &&\r\n                    Array.isArray(that._value)\r\n                ) {\r\n                    $.each(that._value, function (key, itemValue) {\r\n                        if (itemValue == option.value) {\r\n                            itemAttr.checked = 'checked';\r\n                            if (option.hasOwnProperty('text') && option.text) {\r\n                                selectedItems.push(option.text);\r\n                            }\r\n                            return false;\r\n                        }\r\n                    });\r\n\r\n                } else if (that._value == option.value) {\r\n                    if (option.hasOwnProperty('text') && option.text) {\r\n                        selectedItems.push(option.text);\r\n                    }\r\n                    itemAttr.checked = 'checked';\r\n                }\r\n\r\n                $.each(itemAttr, function (name, value) {\r\n                    attributes.push(name + '=\"' + value + '\"');\r\n                });\r\n\r\n\r\n                checkboxOptions.push({\r\n                    id: itemAttr.id,\r\n                    text: optionText,\r\n                    attr: attributes.length > 0 ? (' ' + attributes.join(' ')) : ''\r\n                })\r\n            });\r\n        }\r\n\r\n        let value = typeof this._value === 'object' && Array.isArray(this._value)\r\n            ? this._value.join(', ')\r\n            : this._value\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/checkbox.html'], {\r\n            field: fieldOptions,\r\n            value: value,\r\n            render: {\r\n                options: checkboxOptions,\r\n                selectedItems: selectedItems\r\n            },\r\n        });\r\n    }\r\n}","\r\nCoreUI.form.fields.color = {\r\n\r\n    _id: '',\r\n    _hash: '',\r\n    _form: null,\r\n    _index: 0,\r\n    _value: '',\r\n    _options: {\r\n        type: 'color',\r\n        name: null,\r\n        label: null,\r\n        labelWidth: null,\r\n        width: null,\r\n        outContent: null,\r\n        description: null,\r\n        errorText: null,\r\n        attach: null,\r\n        attr: {\r\n            class: 'form-control form-control-color d-inline-block'\r\n        },\r\n        required: null,\r\n        readonly: null,\r\n        datalist: null,\r\n        show: true,\r\n        column: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._form    = form;\r\n        this._id      = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\r\n        this._hash    = CoreUI.form.utils.hashCode();\r\n        this._value   = CoreUI.form.utils.getFieldValue(form, options);\r\n        this._options = CoreUI.form.utils.mergeFieldOptions(form, this._options, options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\r\n    readonly: function (isReadonly) {\r\n\r\n        this._value            = this.getValue();\r\n        this._options.readonly = !! isReadonly;\r\n\r\n        $('.content-' + this._hash).html(\r\n            this.renderContent()\r\n        );\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).hide(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).show(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение значения в поле\r\n     * @returns {string}\r\n     */\r\n    getValue: function () {\r\n\r\n        return this._options.readonly\r\n            ? this._value\r\n            : $('.content-' + this._hash + ' input').val();\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\r\n    setValue: function (value) {\r\n\r\n        if (['string', 'number'].indexOf(typeof value) < 0) {\r\n            return;\r\n        }\r\n\r\n        this._value = value;\r\n\r\n        if (this._options.readonly) {\r\n            $('.content-' + this._hash).text(value);\r\n        } else {\r\n            $('.content-' + this._hash + ' input').val(value);\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\r\n    validate: function (isValid, text) {\r\n\r\n        if (this._options.readonly) {\r\n            return;\r\n        }\r\n\r\n        let container = $('.content-' + this._hash);\r\n        let input     = $('input', container);\r\n\r\n        container.find('.valid-feedback').remove();\r\n        container.find('.invalid-feedback').remove();\r\n\r\n        if (isValid === null) {\r\n            input.removeClass('is-invalid');\r\n            input.removeClass('is-valid');\r\n\r\n        } else if (isValid) {\r\n            input.removeClass('is-invalid');\r\n            input.addClass('is-valid');\r\n\r\n            if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\r\n                text = this._options.validText;\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"valid-feedback\">' + text + '</div>');\r\n            }\r\n        } else {\r\n            input.removeClass('is-valid');\r\n            input.addClass('is-invalid');\r\n\r\n            if (typeof text === 'undefined') {\r\n                if (typeof this._options.invalidText === 'string') {\r\n                    text = this._options.invalidText;\r\n\r\n                } else if ( ! text && this._options.required) {\r\n                    text = this._form.getLang().required_field;\r\n                }\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"invalid-feedback\">' + text + '</div>');\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\r\n    isValid: function () {\r\n\r\n        let input = $('.content-' + this._hash + ' input');\r\n\r\n        if (input[0]) {\r\n            return input.is(':valid');\r\n        }\r\n\r\n        return null;\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let options      = this.getOptions();\r\n        let attachFields = CoreUI.form.utils.getAttacheFields(this._form, options);\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['form-field-label.html'], {\r\n            id: this._id,\r\n            form:  this._form,\r\n            hash: this._hash,\r\n            field: options,\r\n            content: this.renderContent(),\r\n            attachFields: attachFields,\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\r\n    renderContent: function () {\r\n\r\n        return this._options.readonly\r\n            ? this._renderContentReadonly()\r\n            : this._renderContent();\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     * @return {*}\r\n     * @private\r\n     */\r\n    _renderContent: function () {\r\n\r\n        let attributes   = [];\r\n        let datalist     = [];\r\n        let options      = this.getOptions();\r\n        let datalistId   = CoreUI.form.utils.hashCode();\r\n\r\n        if ( ! options.hasOwnProperty('attr') ||\r\n            typeof options.attr !== 'object' ||\r\n            options.attr === null ||\r\n            Array.isArray(options.attr)\r\n        ) {\r\n            options.attr = {};\r\n        }\r\n\r\n        if (options.name) {\r\n            options.attr.name = this._options.name;\r\n        }\r\n\r\n        options.attr.type  = options.type;\r\n        options.attr.value = this._value;\r\n\r\n        if (options.width) {\r\n            options.attr = CoreUI.form.utils.mergeAttr(\r\n                { style: 'width:' + options.width },\r\n                options.attr\r\n            );\r\n        }\r\n        if (options.required) {\r\n            options.attr.required = 'required';\r\n        }\r\n\r\n\r\n        if (options.hasOwnProperty('datalist') &&\r\n            typeof options.datalist === 'object' &&\r\n            Array.isArray(options.datalist)\r\n        ) {\r\n            options.attr.list = datalistId;\r\n\r\n            $.each(options.datalist, function (key, itemAttributes) {\r\n                let datalistAttr = [];\r\n\r\n                $.each(itemAttributes, function (name, value) {\r\n                    datalistAttr.push(name + '=\"' + value + '\"');\r\n                });\r\n\r\n                datalist.push({\r\n                    attr: datalistAttr.length > 0 ? (' ' + datalistAttr.join(' ')) : ''\r\n                })\r\n            });\r\n        }\r\n\r\n        $.each(options.attr, function (name, value) {\r\n            attributes.push(name + '=\"' + value + '\"');\r\n        });\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/color.html'], {\r\n            field: options,\r\n            datalistId: datalistId,\r\n            value: this._value,\r\n            render: {\r\n                attr: attributes.length > 0 ? (' ' + attributes.join(' ')) : '',\r\n                datalist: datalist,\r\n            },\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     * @return {*}\r\n     * @private\r\n     */\r\n    _renderContentReadonly: function () {\r\n\r\n        let options = this.getOptions();\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/color.html'], {\r\n            field: options,\r\n            value: this._value\r\n        });\r\n    }\r\n}","\r\nCoreUI.form.controls.custom = {\r\n\r\n    _form: null,\r\n    _index: null,\r\n    _options: {\r\n        type: 'custom',\r\n        content: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object} options\r\n     * @param {int} index\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._options = $.extend({}, this._options, options);\r\n        this._form   = form;\r\n        this._index   = index;\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ контрола\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + form.getId() + '-control-' + this._index).show(duration || 0)\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие контрола\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + form.getId() + '-control-' + this._index).hide(duration || 0)\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента для размещения на странице\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        return this._options.content;\r\n    }\r\n}","\r\nCoreUI.form.fields.dataset = {\r\n\r\n    _id: '',\r\n    _hash: '',\r\n    _form: null,\r\n    _value: [],\r\n    _renderOptions: [],\r\n    _options: {\r\n        type: 'dataset',\r\n        name: null,\r\n        label: null,\r\n        labelWidth: null,\r\n        width: null,\r\n        outContent: null,\r\n        description: null,\r\n        errorText: null,\r\n        attach: null,\r\n        attr: {\r\n            class: 'form-select form-select-sm d-inline-block'\r\n        },\r\n        required: null,\r\n        readonly: null,\r\n        datalist: null,\r\n        show: true,\r\n        column: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._form    = form;\r\n        this._id      = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\r\n        this._value   = CoreUI.form.utils.getFieldValue(form, options);\r\n        this._options = CoreUI.form.utils.mergeFieldOptions(form, this._options, options);\r\n        this._hash    = CoreUI.form.utils.hashCode();\r\n\r\n        let that = this;\r\n\r\n        form.on('shown.coreui.form', function () {\r\n            if ( ! that._options.readonly) {\r\n                that._initEvents();\r\n            }\r\n        });\r\n\r\n        if (options.hasOwnProperty('options') &&\r\n            typeof options.options === 'object' &&\r\n            Array.isArray(options.options)\r\n        ) {\r\n            $.each(options.options, function (key, option) {\r\n                let name = option.hasOwnProperty('name') && ['string', 'number'].indexOf(typeof (option.name)) >= 0\r\n                    ? option.name\r\n                    : '';\r\n                let type = option.hasOwnProperty('type') && typeof (option.type) === 'string'\r\n                    ? option.type\r\n                    : 'text';\r\n                let attributes = option.hasOwnProperty('attr') && typeof (option.attr) === 'object' && ! Array.isArray(option.attr)\r\n                    ? option.attr\r\n                    : {};\r\n                let items = option.hasOwnProperty('items') && typeof (option.items) === 'object' && Array.isArray(option.items)\r\n                    ? option.items\r\n                    : [];\r\n                let valueY = option.hasOwnProperty('valueY') && ['string', 'numeric'].indexOf(typeof (option.valueY)) >= 0\r\n                    ? option.valueY\r\n                    : 'Y';\r\n                let valueN = option.hasOwnProperty('valueN') && ['string', 'numeric'].indexOf(typeof (option.valueN)) >= 0\r\n                    ? option.valueN\r\n                    : 'N';\r\n\r\n                if (name) {\r\n                    attributes.name = name;\r\n                }\r\n                if (options.required) {\r\n                    attributes.required = 'required';\r\n                }\r\n\r\n                if (type === 'select') {\r\n                    attributes.class = attributes.hasOwnProperty('class')\r\n                        ? 'form-select form-select-sm ' + attributes.class\r\n                        : 'form-select form-select-sm';\r\n\r\n                } else if (type === 'switch') {\r\n                    attributes.class = attributes.hasOwnProperty('class')\r\n                        ? 'form-check-input ' + attributes.class\r\n                        : 'form-check-input';\r\n\r\n                    attributes.type = 'checkbox';\r\n                    attributes.value = valueY;\r\n\r\n                } else {\r\n                    attributes.class = attributes.hasOwnProperty('class')\r\n                        ? 'form-control form-control-sm ' + attributes.class\r\n                        : 'form-control form-control-sm';\r\n\r\n                    attributes.type = type;\r\n                }\r\n\r\n\r\n                that._renderOptions.push({\r\n                    type  : type,\r\n                    name  : name,\r\n                    attr  : attributes,\r\n                    items : items,\r\n                    valueY: valueY,\r\n                    valueN: valueN,\r\n                });\r\n            });\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\r\n    readonly: function (isReadonly) {\r\n\r\n        this._value            = this.getValue();\r\n        this._options.readonly = !! isReadonly;\r\n\r\n        $('.content-' + this._hash).html(\r\n            this.renderContent()\r\n        );\r\n\r\n        if ( ! this._options.readonly) {\r\n            this._initEvents();\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).hide(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).show(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение значения в поле\r\n     * @returns {array}\r\n     */\r\n    getValue: function () {\r\n\r\n        if (this._options.readonly) {\r\n            return this._value;\r\n\r\n        } else {\r\n            let container = $('.content-' + this._hash);\r\n            let data      = [];\r\n\r\n            $('.coreui-form__field-dataset-list .coreui-form__field-dataset-item', container).each(function () {\r\n                let items = {};\r\n\r\n                $.each($(this).find('input, select').serializeArray(), function (key, item) {\r\n                    if (item.name) {\r\n                        items[item.name] = item.value;\r\n                    }\r\n                });\r\n\r\n                data.push(items);\r\n            })\r\n\r\n            return data;\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка значения в поле\r\n     * @param {object} value\r\n     */\r\n    setValue: function (value) {\r\n\r\n        if (typeof value !== 'object' ||\r\n            Array.isArray(value) ||\r\n            value === null\r\n        ) {\r\n            return;\r\n        }\r\n\r\n        this._value.push(value);\r\n\r\n        if (this._options.readonly) {\r\n            $('.content-' + this._hash + ' .coreui-form__field-dataset-list').append(\r\n                this._renderRowReadonly(value)\r\n            );\r\n        } else {\r\n            this._eventAdd(value);\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\r\n    validate: function (isValid, text) {\r\n\r\n        if (this._options.readonly) {\r\n            return;\r\n        }\r\n\r\n        let container = $('.content-' + this._hash);\r\n\r\n        container.find('.text-success').remove();\r\n        container.find('.text-danger').remove();\r\n\r\n        if (isValid === null) {\r\n            return;\r\n        }\r\n\r\n        if (isValid) {\r\n            if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\r\n                text = this._options.validText;\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"ps-2 text-success\">' + text + '</div>');\r\n            }\r\n\r\n        } else {\r\n            if (typeof text === 'undefined') {\r\n                if (typeof this._options.invalidText === 'string') {\r\n                    text = this._options.invalidText;\r\n\r\n                } else if ( ! text && this._options.required) {\r\n                    text = this._form.getLang().required_field;\r\n                }\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"ps-2 text-danger\">' + text + '</div>');\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\r\n    isValid: function () {\r\n\r\n        if (this._options.required && ! this._options.readonly) {\r\n            return this.getValue().length > 0;\r\n        }\r\n\r\n        return true;\r\n    },\r\n\r\n\r\n    /**\r\n     * Удаление всех строк\r\n     */\r\n    removeItems: function () {\r\n\r\n        $('#coreui-form-' + this._id + ' .content-' + this._hash + ' .coreui-form__field-dataset-list').empty();\r\n    },\r\n\r\n\r\n    /**\r\n     * Удаление строки по id\r\n     * @param {int} itemId\r\n     */\r\n    removeItem: function (itemId) {\r\n\r\n        let element = '#coreui-form-' + this._id + ' .content-' + this._hash;\r\n\r\n        $('#' + itemId).hide('fast', function () {\r\n            $('#' + itemId).remove();\r\n\r\n            if ($(element + ' .coreui-form__field-dataset-item').length === 0) {\r\n                $(element + ' .coreui-form__field-dataset-container').hide();\r\n            }\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let options      = this.getOptions();\r\n        let attachFields = CoreUI.form.utils.getAttacheFields(this._form, options);\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['form-field-label.html'], {\r\n            id: this._id,\r\n            form:  this._form,\r\n            hash: this._hash,\r\n            field: options,\r\n            content: this.renderContent(),\r\n            attachFields: attachFields\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\r\n    renderContent: function () {\r\n\r\n        return this._options.readonly\r\n            ? this._renderContentReadonly()\r\n            : this._renderContent();\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\r\n    _renderContent: function () {\r\n\r\n        let options = this.getOptions();\r\n        let rows    = [];\r\n        let headers = [];\r\n        let that    = this;\r\n\r\n\r\n        if (options.hasOwnProperty('options') &&\r\n            typeof options.options === 'object' &&\r\n            Array.isArray(options.options)\r\n        ) {\r\n            // Заголовок\r\n            $.each(options.options, function (key, option) {\r\n                let title = option.hasOwnProperty('title') && ['string', 'numeric'].indexOf(typeof(option.title)) >= 0\r\n                    ? option.title\r\n                    : '';\r\n\r\n                headers.push({\r\n                    title: title\r\n                });\r\n            });\r\n\r\n            // Строки\r\n            if (typeof this._value === 'object' && Array.isArray(this._value)) {\r\n                $.each(this._value, function (key, row) {\r\n                    if (typeof row !== 'object' || Array.isArray(row)) {\r\n                        return;\r\n                    }\r\n\r\n                    rows.push(that._renderRow(row));\r\n                });\r\n            }\r\n        }\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/dataset.html'], {\r\n            field: options,\r\n            value: this._value,\r\n            lang: this._form.getLang(),\r\n            render: {\r\n                headers: headers,\r\n                rows: rows,\r\n            },\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     * @private\r\n     */\r\n    _renderContentReadonly: function () {\r\n\r\n        let options = this.getOptions();\r\n        let rows    = [];\r\n        let headers = [];\r\n        let that    = this;\r\n\r\n\r\n        if (options.hasOwnProperty('options') &&\r\n            typeof options.options === 'object' &&\r\n            Array.isArray(options.options)\r\n        ) {\r\n            // Заголовок\r\n            $.each(options.options, function (key, option) {\r\n                let title = option.hasOwnProperty('title') && ['string', 'numeric'].indexOf(typeof(option.title)) >= 0\r\n                    ? option.title\r\n                    : '';\r\n\r\n                headers.push({\r\n                    title: title\r\n                });\r\n            });\r\n\r\n            // Строки\r\n            if (typeof this._value === 'object' && Array.isArray(this._value)) {\r\n                $.each(this._value, function (key, row) {\r\n                    if (typeof row !== 'object' || Array.isArray(row)) {\r\n                        return;\r\n                    }\r\n\r\n                    rows.push(that._renderRowReadonly(row));\r\n                });\r\n            }\r\n        }\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/dataset.html'], {\r\n            field: options,\r\n            value: this._value,\r\n            lang: this._form.getLang(),\r\n            render: {\r\n                headers: headers,\r\n                rows: rows,\r\n            },\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация событий\r\n     * @private\r\n     */\r\n    _initEvents: function () {\r\n\r\n        let that    = this;\r\n        let element = '#coreui-form-' + this._id + ' .content-' + this._hash;\r\n\r\n        // Кнопка удаления\r\n        $(element + ' .btn-dataset-remove').click(function () {\r\n            that.removeItem($(this).data('item-id'));\r\n        });\r\n\r\n        // Кнопка добавления\r\n        $(element + ' .btn-dataset-add').click(function () {\r\n            that._eventAdd();\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Событие добавления\r\n     */\r\n    _eventAdd: function (row) {\r\n\r\n        let that    = this;\r\n        let element = '#coreui-form-' + this._id + ' .content-' + this._hash;\r\n        row = row || {};\r\n\r\n        if ($(element + ' .coreui-form__field-dataset-item').length === 0) {\r\n            $(element + ' .coreui-form__field-dataset-container').show();\r\n        }\r\n\r\n        $(element + ' .coreui-form__field-dataset-list').append(this._renderRow(row));\r\n        $(element + ' .coreui-form__field-dataset-item:last-child .btn-dataset-remove').click(function () {\r\n            that.removeItem($(this).data('item-id'))\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование строки\r\n     * @param {object} row\r\n     * @private\r\n     */\r\n    _renderRow: function (row) {\r\n\r\n        let rowOptions  = [];\r\n        let itemOptions = [];\r\n\r\n        $.each(this._renderOptions, function (key, option) {\r\n\r\n            let cellValue = row.hasOwnProperty(option.name) ? row[option.name] : '';\r\n\r\n            if (option.type === 'select') {\r\n                $.each(option.items, function (key, item) {\r\n                    let title = item.hasOwnProperty('title') && ['string', 'numeric'].indexOf(typeof(item.title)) >= 0\r\n                        ? item.title\r\n                        : '';\r\n                    let itemValue = item.hasOwnProperty('value') && ['string', 'numeric'].indexOf(typeof(item.value)) >= 0\r\n                        ? item.value\r\n                        : '';\r\n                    let itemAttr = {};\r\n\r\n\r\n                    $.each(item, function (name, value) {\r\n                        if (name !== 'title') {\r\n                            itemAttr[name] = value;\r\n                        }\r\n                    });\r\n\r\n\r\n                    if (typeof(cellValue) === 'object' && Array.isArray(cellValue)) {\r\n                        $.each(cellValue, function (key, cellItemValue) {\r\n                            if (cellItemValue == itemValue) {\r\n                                itemAttr.selected = 'selected';\r\n                                return false;\r\n                            }\r\n                        });\r\n\r\n                    } else if (cellValue == item.value) {\r\n                        itemAttr.selected = 'selected';\r\n                    }\r\n\r\n                    let attributes = [];\r\n                    $.each(itemAttr, function (name, value) {\r\n                        attributes.push(name + '=\"' + value + '\"');\r\n                    });\r\n\r\n                    itemOptions.push({\r\n                        attr: attributes.length > 0 ? (' ' + attributes.join(' ')) : '',\r\n                        title: title\r\n                    })\r\n                });\r\n\r\n            } else if (option.type === 'switch') {\r\n                if (cellValue == option.valueY) {\r\n                    option.attr.checked = 'checked';\r\n                }\r\n\r\n            } else {\r\n                if (['string', 'number'].indexOf(typeof(cellValue)) >= 0) {\r\n                    option.attr.value = cellValue;\r\n                }\r\n            }\r\n\r\n            let attributes = [];\r\n\r\n            $.each(option.attr, function (name, value) {\r\n                attributes.push(name + '=\"' + value + '\"');\r\n            });\r\n\r\n            rowOptions.push({\r\n                type: option.type,\r\n                attr: attributes.length > 0 ? (' ' + attributes.join(' ')) : '',\r\n                items: itemOptions\r\n            });\r\n        });\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/dataset-row.html'], {\r\n            hashItem: CoreUI.form.utils.hashCode(),\r\n            options: rowOptions,\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование строки\r\n     * @param {object} row\r\n     * @private\r\n     */\r\n    _renderRowReadonly: function (row) {\r\n\r\n        let rowOptions = [];\r\n        let lang       = this._form.getLang();\r\n\r\n        $.each(this._renderOptions, function (key, option) {\r\n\r\n            let optionValue = '';\r\n            let cellValue   = row.hasOwnProperty(option.name) ? row[option.name] : '';\r\n\r\n            if (option.type === 'select') {\r\n                let itemOptions = [];\r\n\r\n                $.each(option.items, function (key, item) {\r\n                    let title = item.hasOwnProperty('title') && ['string', 'numeric'].indexOf(typeof(item.title)) >= 0\r\n                        ? item.title\r\n                        : '';\r\n                    let itemValue = item.hasOwnProperty('value') && ['string', 'numeric'].indexOf(typeof(item.value)) >= 0\r\n                        ? item.value\r\n                        : '';\r\n\r\n                    if (typeof(cellValue) === 'object' && Array.isArray(cellValue)) {\r\n                        $.each(cellValue, function (key, cellItemValue) {\r\n                            if (cellItemValue == itemValue) {\r\n                                itemOptions.push(itemValue);\r\n                                return false;\r\n                            }\r\n                        });\r\n\r\n                    } else if (cellValue == item.value) {\r\n                        itemOptions.push(cellValue);\r\n                    }\r\n                });\r\n\r\n            } else if (option.type === 'switch') {\r\n                let valueY = 'Y';\r\n\r\n                if (option.hasOwnProperty('valueY')) {\r\n                    valueY = option.valueY;\r\n                }\r\n\r\n                optionValue = cellValue == valueY\r\n                    ? lang.switch_yes\r\n                    : lang.switch_no;\r\n\r\n            } else {\r\n                if (['string', 'number'].indexOf(typeof(cellValue)) >= 0) {\r\n                    optionValue = cellValue;\r\n\r\n                    switch (option.type) {\r\n                        case 'date':           optionValue = CoreUI.form.utils.formatDate(optionValue); break;\r\n                        case 'datetime-local': optionValue = CoreUI.form.utils.formatDateTime(optionValue); break;\r\n                        case 'month':          optionValue = CoreUI.form.utils.formatDateMonth(optionValue, lang); break;\r\n                        case 'week':           optionValue = CoreUI.form.utils.formatDateWeek(optionValue, lang); break;\r\n                        default: optionValue = cellValue;\r\n                    }\r\n                }\r\n            }\r\n\r\n            rowOptions.push({\r\n                value: optionValue\r\n            });\r\n        });\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/dataset-row-readonly.html'], {\r\n            options: rowOptions,\r\n        });\r\n    }\r\n}","\r\nCoreUI.form.fields.group = {\r\n\r\n    _id: '',\r\n    _form: null,\r\n    _index: 0,\r\n    _options: {\r\n        type: 'group',\r\n        label: '',\r\n        show: true,\r\n        showCollapsible: true,\r\n        fields: [],\r\n        column: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._form    = form;\r\n        this._index   = index;\r\n        this._id      = form.getId() + \"-group-\" + index;\r\n        this._options = $.extend(true, {}, this._options, options);\r\n\r\n        let that = this;\r\n\r\n        form.on('shown.coreui.form', function () {\r\n            that._initEvents();\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options, options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие группы\r\n     * @param {int} duration\r\n     */\r\n    collapse: function (duration) {\r\n\r\n        let container = '#coreui-form-' + this._id;\r\n\r\n        $(container + ' > .coreui-form__group_label .btn-collapsible .bi').removeClass('bi-chevron-down');\r\n        $(container + ' > .coreui-form__group_label .btn-collapsible .bi').addClass('bi-chevron-right');\r\n\r\n        $(container + ' .coreui-form__group_content').slideUp(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ группы\r\n     * @param {int} duration\r\n     */\r\n    expand: function (duration) {\r\n\r\n        let container = '#coreui-form-' + this._id;\r\n\r\n        $(container + ' > .coreui-form__group_label .btn-collapsible .bi').removeClass('bi-chevron-right');\r\n        $(container + ' > .coreui-form__group_label .btn-collapsible .bi').addClass('bi-chevron-down');\r\n\r\n        $(container + ' .coreui-form__group_content').slideDown(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['form-field-group.html'], {\r\n            id: this._id,\r\n            form:  this._form,\r\n            group: this._options,\r\n            content: this.renderContent(),\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {string}\r\n     */\r\n    renderContent: function () {\r\n\r\n        let fields = [];\r\n        let that   = this;\r\n\r\n        $.each(this._options.fields, function (key, field) {\r\n\r\n            let fieldInstance = that._form.initField(field);\r\n\r\n            if (typeof fieldInstance !== 'object') {\r\n                return;\r\n            }\r\n\r\n            fields.push(fieldInstance.render());\r\n        });\r\n\r\n        return fields.join('');\r\n    },\r\n\r\n\r\n\r\n    /**\r\n     * Инициализация событий\r\n     * @private\r\n     */\r\n    _initEvents: function () {\r\n\r\n        if (this._options.showCollapsible) {\r\n            let that      = this;\r\n            let container = '#coreui-form-' + this._id;\r\n\r\n            $(container + ' > .coreui-form__group_label .btn-collapsible').click(function () {\r\n\r\n                if ($(container + ' > .coreui-form__group_content').is(':visible')) {\r\n                    that.collapse(80);\r\n                } else {\r\n                    that.expand(80);\r\n                }\r\n            });\r\n        }\r\n    }\r\n}","\r\nCoreUI.form.fields.hidden = {\r\n\r\n    _id: '',\r\n    _form: null,\r\n    _index: 0,\r\n    _value: '',\r\n    _options: {\r\n        type: 'hidden',\r\n        name: null,\r\n        attr: {},\r\n        required: null,\r\n        column: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._form    = form;\r\n        this._id      = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\r\n        this._value   = CoreUI.form.utils.getFieldValue(form, options);\r\n        this._options = CoreUI.form.utils.mergeFieldOptions(form, this._options, options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение значения в поле\r\n     * @returns {string}\r\n     */\r\n    getValue: function () {\r\n\r\n        return this._options.readonly\r\n            ? this._value\r\n            : $('#coreui-form-' + this._id).val();\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\r\n    setValue: function (value) {\r\n\r\n        if (['string', 'number'].indexOf(typeof value) < 0) {\r\n            return;\r\n        }\r\n\r\n        this._value = value;\r\n\r\n        if ( ! this._options.readonly) {\r\n            $('#coreui-form-' + this._id).val(value);\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['form-field-content.html'], {\r\n            content: this.renderContent(),\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\r\n    renderContent: function () {\r\n\r\n        let attributes = [];\r\n        let options    = this.getOptions();\r\n\r\n        if ( ! options.hasOwnProperty('attr') ||\r\n            typeof options.attr !== 'object' ||\r\n            options.attr === null ||\r\n            Array.isArray(options.attr)\r\n        ) {\r\n            options.attr = {};\r\n        }\r\n\r\n\r\n        options.attr.id = 'coreui-form-' + this._id;\r\n\r\n        if (options.name) {\r\n            options.attr.name = options.name;\r\n        }\r\n\r\n        options.attr.type  = 'hidden';\r\n        options.attr.value = this._value;\r\n\r\n\r\n        $.each(options.attr, function (name, value) {\r\n            attributes.push(name + '=\"' + value + '\"');\r\n        });\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/hidden.html'], {\r\n            value: this._value,\r\n            field: options,\r\n            render: {\r\n                attr: attributes.length > 0 ? (' ' + attributes.join(' ')) : '',\r\n            },\r\n        });\r\n    }\r\n}","\r\nCoreUI.form.fields.input = {\r\n\r\n    _id: '',\r\n    _hash: '',\r\n    _form: null,\r\n    _index: 0,\r\n    _value: '',\r\n    _options: {\r\n        type: 'text',\r\n        name: null,\r\n        label: null,\r\n        labelWidth: null,\r\n        width: null,\r\n        outContent: null,\r\n        description: null,\r\n        errorText: null,\r\n        attach: null,\r\n        attr: {\r\n            class: 'form-control form-control-sm d-inline-block'\r\n        },\r\n        required: null,\r\n        invalidText: null,\r\n        validText: null,\r\n        readonly: null,\r\n        datalist: null,\r\n        show: true,\r\n        column: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._form    = form;\r\n        this._index   = index;\r\n        this._id      = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\r\n        this._hash    = CoreUI.form.utils.hashCode();\r\n        this._value   = CoreUI.form.utils.getFieldValue(form, options);\r\n        this._options = CoreUI.form.utils.mergeFieldOptions(form, this._options, options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\r\n    readonly: function (isReadonly) {\r\n\r\n        this._value            = this.getValue();\r\n        this._options.readonly = !! isReadonly;\r\n\r\n        $('.content-' + this._hash).html(\r\n            this.renderContent()\r\n        );\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).hide(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).show(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение значения в поле\r\n     * @returns {string}\r\n     */\r\n    getValue: function () {\r\n\r\n        return this._options.readonly\r\n            ? this._value\r\n            : $('.content-' + this._hash + ' input').val();\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\r\n    setValue: function (value) {\r\n\r\n        if (['string', 'number'].indexOf(typeof value) < 0) {\r\n            return;\r\n        }\r\n\r\n        this._value = value;\r\n\r\n        if (this._options.readonly) {\r\n            $('.content-' + this._hash).text(value);\r\n        } else {\r\n            $('.content-' + this._hash + ' input').val(value);\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\r\n    validate: function (isValid, text) {\r\n\r\n        if (this._options.readonly) {\r\n            return;\r\n        }\r\n\r\n        let container = $('.content-' + this._hash);\r\n        let input     = $('input', container);\r\n\r\n        container.find('.valid-feedback').remove();\r\n        container.find('.invalid-feedback').remove();\r\n\r\n        if (isValid === null) {\r\n            input.removeClass('is-invalid');\r\n            input.removeClass('is-valid');\r\n\r\n        } else if (isValid) {\r\n            input.removeClass('is-invalid');\r\n            input.addClass('is-valid');\r\n\r\n            if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\r\n                text = this._options.validText;\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"valid-feedback\">' + text + '</div>');\r\n            }\r\n        } else {\r\n            input.removeClass('is-valid');\r\n            input.addClass('is-invalid');\r\n\r\n            if (typeof text === 'undefined') {\r\n                if (typeof this._options.invalidText === 'string') {\r\n                    text = this._options.invalidText;\r\n\r\n                } else if ( ! text && this._options.required) {\r\n                    text = this._form.getLang().required_field;\r\n                }\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"invalid-feedback\">' + text + '</div>');\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean|null}\r\n     */\r\n    isValid: function () {\r\n\r\n        let input = $('.content-' + this._hash + ' input');\r\n\r\n        if (input[0]) {\r\n            return input.is(':valid');\r\n        }\r\n\r\n        return null;\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let options      = this.getOptions();\r\n        let attachFields = CoreUI.form.utils.getAttacheFields(this._form, options);\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['form-field-label.html'], {\r\n            id: this._id,\r\n            form: this._form,\r\n            hash: this._hash,\r\n            field: options,\r\n            content: this.renderContent(),\r\n            attachFields: attachFields\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\r\n    renderContent: function () {\r\n\r\n        return this._options.readonly\r\n            ? this._renderContentReadonly()\r\n            : this._renderContent();\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     * @private\r\n     */\r\n    _renderContent: function () {\r\n\r\n        let attributes   = [];\r\n        let datalist     = [];\r\n        let options      = this.getOptions();\r\n        let datalistId   = CoreUI.form.utils.hashCode();\r\n\r\n        if ( ! options.hasOwnProperty('attr') ||\r\n            typeof options.attr !== 'object' ||\r\n            options.attr === null ||\r\n            Array.isArray(options.attr)\r\n        ) {\r\n            options.attr = {};\r\n        }\r\n\r\n        if (options.name) {\r\n            options.attr.name = this._options.name;\r\n        }\r\n\r\n        options.attr.type  = options.type;\r\n        options.attr.value = this._value;\r\n\r\n        if (options.width) {\r\n            options.attr = CoreUI.form.utils.mergeAttr(\r\n                { style: 'width:' + options.width },\r\n                options.attr\r\n            );\r\n        }\r\n\r\n        if (options.required) {\r\n            options.attr.required = 'required';\r\n        }\r\n\r\n\r\n        if (options.hasOwnProperty('datalist') &&\r\n            typeof options.datalist === 'object' &&\r\n            Array.isArray(options.datalist)\r\n        ) {\r\n            options.attr.list = datalistId;\r\n\r\n            $.each(options.datalist, function (key, itemAttributes) {\r\n                let datalistAttr = [];\r\n\r\n                $.each(itemAttributes, function (name, value) {\r\n                    datalistAttr.push(name + '=\"' + value + '\"');\r\n                });\r\n\r\n                datalist.push({\r\n                    attr: datalistAttr.length > 0 ? (' ' + datalistAttr.join(' ')) : ''\r\n                })\r\n            });\r\n        }\r\n\r\n        $.each(options.attr, function (name, value) {\r\n            attributes.push(name + '=\"' + value + '\"');\r\n        });\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/input.html'], {\r\n            field: options,\r\n            datalistId: datalistId,\r\n            value: this._value,\r\n            render: {\r\n                attr: attributes.length > 0 ? (' ' + attributes.join(' ')) : '',\r\n                datalist: datalist\r\n            },\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     * @private\r\n     */\r\n    _renderContentReadonly: function () {\r\n\r\n        let options = this.getOptions();\r\n        let type    = 'text';\r\n        let value   = this._value;\r\n        let lang    = this._form.getLang();\r\n\r\n        if (options.hasOwnProperty('type') && typeof options.type === 'string') {\r\n            type = options.type;\r\n        }\r\n\r\n        try {\r\n            switch (type) {\r\n                case 'date':           value = CoreUI.form.utils.formatDate(value); break;\r\n                case 'datetime-local': value = CoreUI.form.utils.formatDateTime(value); break;\r\n                case 'month':          value = CoreUI.form.utils.formatDateMonth(value, lang); break;\r\n                case 'week':           value = CoreUI.form.utils.formatDateWeek(value, lang); break;\r\n            }\r\n\r\n        } catch (e) {\r\n            console.error(e);\r\n            // ignore\r\n        }\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/input.html'], {\r\n            field: options,\r\n            value: value,\r\n            hash: this._hash\r\n        });\r\n    }\r\n}","\r\nCoreUI.form.fields.modal = {\r\n\r\n    _id: '',\r\n    _hash: '',\r\n    _form: null,\r\n    _value: '',\r\n    _text: '',\r\n    _options: {\r\n        type: 'modal',\r\n        name: null,\r\n        label: null,\r\n        labelWidth: null,\r\n        width: null,\r\n        outContent: null,\r\n        description: null,\r\n        errorText: null,\r\n        fields: [],\r\n        options: {\r\n            title: '',\r\n            size: 'lg',\r\n            url: '',\r\n            onHidden: null,\r\n            onClear: null,\r\n            onChange: null,\r\n        },\r\n        required: null,\r\n        readonly: null,\r\n        show: true,\r\n        column: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        let formRecord = form.getRecord();\r\n\r\n        this._form    = form;\r\n        this._id      = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\r\n        this._options = CoreUI.form.utils.mergeFieldOptions(form, this._options, options);\r\n        this._hash    = CoreUI.form.utils.hashCode();\r\n\r\n        if (typeof options.name === 'string' &&\r\n            formRecord.hasOwnProperty(options.name) &&\r\n            ['object'].indexOf(typeof formRecord[options.name]) >= 0\r\n        ) {\r\n            let record = formRecord[options.name];\r\n\r\n            this._value = record.hasOwnProperty('value') && ['number', 'string'].indexOf(typeof(record.value)) >= 0 ? record.value : '';\r\n            this._text  = record.hasOwnProperty('text') && ['number', 'string'].indexOf(typeof(record.text)) >= 0 ? record.text : '';\r\n        }\r\n\r\n\r\n        let that = this;\r\n\r\n        form.on('shown.coreui.form', function () {\r\n            that._initEvents();\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\r\n    readonly: function (isReadonly) {\r\n\r\n        this._value            = this.getValue();\r\n        this._options.readonly = !! isReadonly;\r\n\r\n        $('.content-' + this._hash).html(\r\n            this.renderContent()\r\n        );\r\n\r\n        if ( ! this._options.readonly) {\r\n            this._initEvents();\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).hide(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).show(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение значения в поле\r\n     * @returns {string}\r\n     */\r\n    getValue: function () {\r\n\r\n        return this._options.readonly\r\n            ? this._value\r\n            : $('.content-' + this._hash + ' input.coreui-form-modal-value').val();\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     * @param {string} text\r\n     */\r\n    setValue: function (value, text) {\r\n\r\n        if (['string', 'number'].indexOf(typeof value) < 0) {\r\n            return;\r\n        }\r\n\r\n        this._value = value;\r\n\r\n        if (this._options.readonly) {\r\n            $('.content-' + this._hash).text(text);\r\n\r\n        } else {\r\n            let elementValue = $('.content-' + this._hash + ' .coreui-form-modal-value');\r\n            let elementText  = $('.content-' + this._hash + ' .coreui-form-modal-text');\r\n            let oldValue     = elementValue.val();\r\n\r\n            elementValue.val(value);\r\n            elementText.val(text);\r\n\r\n\r\n            if (oldValue != value) {\r\n                let modal = this._options.hasOwnProperty('options') && typeof (this._options.options) === 'object'\r\n                    ? this._options.options\r\n                    : {};\r\n\r\n                if (modal.hasOwnProperty('onChange')) {\r\n                    if (typeof(modal.onChange) === 'function') {\r\n                        modal.onChange(this);\r\n\r\n                    } else if (typeof(modal.onChange) === 'string') {\r\n                        let func = CoreUI.form.utils.getFunctionByName(modal.onChange);\r\n\r\n                        if (typeof func === 'function') {\r\n                            func(this);\r\n                        } else {\r\n                            eval(modal.onChange);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                this._form._trigger('change-modal.coreui.form', this, [this]);\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\r\n    validate: function (isValid, text) {\r\n\r\n        if (this._options.readonly) {\r\n            return;\r\n        }\r\n\r\n        let container = $('.content-' + this._hash);\r\n\r\n        container.find('.text-success').remove();\r\n        container.find('.text-danger').remove();\r\n\r\n        if (isValid === null) {\r\n            return;\r\n        }\r\n\r\n        if (isValid) {\r\n            if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\r\n                text = this._options.validText;\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"ps-2 text-success\">' + text + '</div>');\r\n            }\r\n\r\n        } else {\r\n            if (typeof text === 'undefined') {\r\n                if (typeof this._options.invalidText === 'string') {\r\n                    text = this._options.invalidText;\r\n\r\n                } else if ( ! text && this._options.required) {\r\n                    text = this._form.getLang().required_field;\r\n                }\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"ps-2 text-danger\">' + text + '</div>');\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\r\n    isValid: function () {\r\n\r\n        if (this._options.required && ! this._options.readonly) {\r\n            return !! this.getValue();\r\n        }\r\n\r\n        return true;\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let options      = this.getOptions();\r\n        let attachFields = CoreUI.form.utils.getAttacheFields(this._form, options);\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['form-field-label.html'], {\r\n            id: this._id,\r\n            form:  this._form,\r\n            hash: this._hash,\r\n            field: options,\r\n            content: this.renderContent(),\r\n            attachFields: attachFields\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\r\n    renderContent: function () {\r\n\r\n        let fieldOptions = this.getOptions();\r\n        let attributes   = [];\r\n        let textAttr     = {\r\n            type: 'text',\r\n            readonly: 'readonly',\r\n            class: 'form-control form-control-sm coreui-form-modal-text',\r\n            value: this._text\r\n        };\r\n\r\n        if (fieldOptions.required) {\r\n            textAttr.required = 'required';\r\n        }\r\n\r\n        if (fieldOptions.hasOwnProperty('attr') &&\r\n            typeof fieldOptions.attr === 'object' &&\r\n            Array.isArray(fieldOptions.attr)\r\n        ) {\r\n            textAttr = CoreUI.form.utils.mergeAttr(textAttr, fieldOptions.attr);\r\n        }\r\n\r\n        $.each(textAttr, function (name, value) {\r\n            attributes.push(name + '=\"' + value + '\"');\r\n        });\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/modal.html'], {\r\n            field: fieldOptions,\r\n            value: this._value,\r\n            text: this._text,\r\n            lang: this._form.getLang(),\r\n            render: {\r\n                width: this._options.width,\r\n                attr: attributes.length > 0 ? attributes.join(' ') : ''\r\n            },\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация событий\r\n     * @private\r\n     */\r\n    _initEvents: function () {\r\n\r\n        let that  = this;\r\n        let modal = this._options.hasOwnProperty('options') && typeof(this._options.options) === 'object'\r\n            ? this._options.options\r\n            : {};\r\n\r\n\r\n        // Очистка\r\n        $('.content-' + this._hash + ' .btn-modal-clear').click(function (e) {\r\n            if (modal.hasOwnProperty('onClear')) {\r\n                if (typeof(modal.onClear) === 'function') {\r\n                    modal.onClear(that);\r\n\r\n                } else if (typeof(modal.onClear) === 'string') {\r\n                    let func = CoreUI.form.utils.getFunctionByName(modal.onClear);\r\n\r\n                    if (typeof func === 'function') {\r\n                        func(that);\r\n                    } else {\r\n                        eval(modal.onClear);\r\n                    }\r\n                }\r\n            }\r\n\r\n            that._form._trigger('clear-modal.coreui.form', that, [ that, e ]);\r\n\r\n            that.setValue('', '');\r\n        });\r\n\r\n        // Выбор\r\n        $('.content-' + this._hash + ' .btn-modal-select').click(function (e) {\r\n            let title = modal.hasOwnProperty('title') && typeof(modal.title) === 'string'\r\n                ? modal.title\r\n                : '';\r\n\r\n            let size = modal.hasOwnProperty('size') && typeof(modal.size) === 'string'\r\n                ? modal.size\r\n                : 'lg';\r\n\r\n            let url = modal.hasOwnProperty('url') && typeof(modal.url) === 'string'\r\n                ? modal.url\r\n                : '';\r\n\r\n            if ( ! url) {\r\n                return;\r\n            }\r\n\r\n\r\n            let modalId      = CoreUI.form.utils.hashCode();\r\n            let modalLoading = CoreUI.form.ejs.render(CoreUI.form.tpl['fields/modal-loading.html'], {\r\n                lang: that._form.getLang(),\r\n            });\r\n\r\n\r\n            if (CoreUI.hasOwnProperty('modal')) {\r\n                let onShow   = null;\r\n                let onHidden = null;\r\n\r\n                if (modal.hasOwnProperty('onHidden')) {\r\n                    if (typeof(modal.onHidden) === 'function') {\r\n                        onHidden = modal.onHidden;\r\n\r\n                    } else if (typeof(modal.onHidden) === 'string') {\r\n                        let func = CoreUI.form.utils.getFunctionByName(modal.onHidden);\r\n\r\n                        if (typeof func === 'function') {\r\n                            onHidden = func;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (modal.hasOwnProperty('onShow')) {\r\n                    if (typeof(modal.onShow) === 'function') {\r\n                        onShow = modal.onShow;\r\n\r\n                    } else if (typeof(modal.onShow) === 'string') {\r\n                        let func = CoreUI.form.utils.getFunctionByName(modal.onShow);\r\n\r\n                        if (typeof func === 'function') {\r\n                            onShow = func;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                CoreUI.modal.show(title, modalLoading, {\r\n                    id: modalId,\r\n                    size: size,\r\n                    onShow: onShow,\r\n                    onHidden: onHidden\r\n                });\r\n            }\r\n\r\n            $.ajax({\r\n                url: url,\r\n                method: 'GET',\r\n                beforeSend: function(xhr) {\r\n                    that._form._trigger('before-load-modal.coreui.form', that, [ that, xhr ]);\r\n                },\r\n                success: function (result) {\r\n                    $('#modal-' + modalId + ' .modal-body').html(result);\r\n                    that._form._trigger('success-load-modal.coreui.form', that, [ that, result ]);\r\n                },\r\n                error: function(xhr, textStatus, errorThrown) {\r\n                    that._form._trigger('error-load-modal.coreui.form', that, [ that, xhr, textStatus, errorThrown ]);\r\n                },\r\n                complete: function(xhr, textStatus) {\r\n                    that._form._trigger('complete-load-modal.coreui.form', that, [ that, xhr, textStatus ]);\r\n                },\r\n            });\r\n\r\n\r\n            that._form._trigger('select-modal.coreui.form', that, [ that, e ]);\r\n        });\r\n    }\r\n}","\r\nCoreUI.form.fields.number = {\r\n\r\n    _id: '',\r\n    _hash: '',\r\n    _form: null,\r\n    _index: 0,\r\n    _value: '',\r\n    _options: {\r\n        type: 'number',\r\n        name: null,\r\n        label: null,\r\n        labelWidth: null,\r\n        width: null,\r\n        outContent: null,\r\n        description: null,\r\n        errorText: null,\r\n        attach: null,\r\n        attr: {\r\n            class: 'form-control form-control-sm d-inline-block',\r\n            step: 'any'\r\n        },\r\n        required: null,\r\n        readonly: null,\r\n        datalist: null,\r\n        show: true,\r\n        column: null,\r\n        precision: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._form    = form;\r\n        this._index   = index;\r\n        this._id      = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\r\n        this._hash    = CoreUI.form.utils.hashCode();\r\n        this._value   = CoreUI.form.utils.getFieldValue(form, options);\r\n        this._options = CoreUI.form.utils.mergeFieldOptions(form, this._options, options);\r\n\r\n\r\n        // Установка точности\r\n        if (this._options.precision === null) {\r\n            let precision = 0;\r\n\r\n            if (this._options.attr.hasOwnProperty('step') &&\r\n                this._options.attr.step !== 'any' &&\r\n                ['string', 'number'].indexOf(typeof this._options.attr.step) >= 0\r\n            ) {\r\n                let match = $.trim(this._options.attr.step.toString()).match(/\\.(\\d+)$/);\r\n\r\n                if (match && match.hasOwnProperty(1)) {\r\n                    precision = match ? match[1].length : precision;\r\n                }\r\n            }\r\n\r\n            this._options.precision = precision\r\n        }\r\n\r\n\r\n        let that = this;\r\n\r\n        form.on('shown.coreui.form', function () {\r\n            if ( ! that._options.readonly) {\r\n                that._initEvents();\r\n            }\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\r\n    readonly: function (isReadonly) {\r\n\r\n        this._value            = this.getValue();\r\n        this._options.readonly = !! isReadonly;\r\n\r\n        $('.content-' + this._hash).html(\r\n            this.renderContent()\r\n        );\r\n\r\n        if ( ! this._options.readonly) {\r\n            this._initEvents();\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).hide(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).show(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение значения в поле\r\n     * @returns {string}\r\n     */\r\n    getValue: function () {\r\n\r\n        return this._options.readonly\r\n            ? this._value\r\n            : $('.content-' + this._hash + ' input').val();\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\r\n    setValue: function (value) {\r\n\r\n        if (['string', 'number'].indexOf(typeof value) < 0 ||\r\n            ! value.toString().match(/^\\-?\\d+\\.?\\d*$/)\r\n        ) {\r\n            return;\r\n        }\r\n\r\n        if (this._options.precision >= 0) {\r\n            value = CoreUI.form.utils.round(value, this._options.precision);\r\n        }\r\n\r\n        if (this._options.attr.hasOwnProperty('min')) {\r\n            value = value < Number(this._options.attr.min)\r\n                ? Number(this._options.attr.min)\r\n                : value;\r\n        }\r\n\r\n        if (this._options.attr.hasOwnProperty('max')) {\r\n            value = value > Number(this._options.attr.max)\r\n                ? Number(this._options.attr.max)\r\n                : value;\r\n        }\r\n\r\n        this._value = value;\r\n\r\n        if (this._options.readonly) {\r\n            $('.content-' + this._hash).text(value);\r\n        } else {\r\n            $('.content-' + this._hash + ' input').val(value);\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\r\n    validate: function (isValid, text) {\r\n\r\n        if (this._options.readonly) {\r\n            return;\r\n        }\r\n\r\n        let container = $('.content-' + this._hash);\r\n        let input     = $('input', container);\r\n\r\n        container.find('.valid-feedback').remove();\r\n        container.find('.invalid-feedback').remove();\r\n\r\n        if (isValid === null) {\r\n            input.removeClass('is-invalid');\r\n            input.removeClass('is-valid');\r\n\r\n        } else if (isValid) {\r\n            input.removeClass('is-invalid');\r\n            input.addClass('is-valid');\r\n\r\n            if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\r\n                text = this._options.validText;\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"valid-feedback\">' + text + '</div>');\r\n            }\r\n        } else {\r\n            input.removeClass('is-valid');\r\n            input.addClass('is-invalid');\r\n\r\n            if (typeof text === 'undefined') {\r\n                if (typeof this._options.invalidText === 'string') {\r\n                    text = this._options.invalidText;\r\n\r\n                } else if ( ! text && this._options.required) {\r\n                    text = this._form.getLang().required_field;\r\n                }\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"invalid-feedback\">' + text + '</div>');\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\r\n    isValid: function () {\r\n\r\n        let input = $('.content-' + this._hash + ' input');\r\n\r\n        if (input[0]) {\r\n            return input.is(':valid');\r\n        }\r\n\r\n        return null;\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let options      = $.extend(true, {}, this._options);\r\n        let attachFields = CoreUI.form.utils.getAttacheFields(this._form, options);\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['form-field-label.html'], {\r\n            id: this._id,\r\n            form:  this._form,\r\n            hash: this._hash,\r\n            field: options,\r\n            content: this.renderContent(),\r\n            attachFields: attachFields,\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\r\n    renderContent: function () {\r\n\r\n        let attributes = [];\r\n        let datalist   = [];\r\n        let options    = this.getOptions();\r\n        let datalistId = CoreUI.form.utils.hashCode();\r\n\r\n\r\n        if ( ! options.hasOwnProperty('attr') ||\r\n            typeof options.attr !== 'object' ||\r\n            options.attr === null ||\r\n            Array.isArray(options.attr)\r\n        ) {\r\n            options.attr = {};\r\n        }\r\n\r\n        if (options.name) {\r\n            options.attr.name = this._options.name;\r\n        }\r\n\r\n        options.attr.type  = 'number';\r\n        options.attr.value = this._value;\r\n\r\n        if (options.width) {\r\n            options.attr = CoreUI.form.utils.mergeAttr(\r\n                { style: 'width:' + options.width },\r\n                options.attr\r\n            );\r\n        }\r\n\r\n        if (options.required) {\r\n            options.attr.required = 'required';\r\n        }\r\n\r\n\r\n        if (options.hasOwnProperty('datalist') &&\r\n            typeof options.datalist === 'object' &&\r\n            Array.isArray(options.datalist)\r\n        ) {\r\n            options.attr.list = datalistId;\r\n\r\n            $.each(options.datalist, function (key, itemAttributes) {\r\n                let datalistAttr = [];\r\n\r\n                $.each(itemAttributes, function (name, value) {\r\n                    datalistAttr.push(name + '=\"' + value + '\"');\r\n                });\r\n\r\n                datalist.push({\r\n                    attr: datalistAttr.length > 0 ? (' ' + datalistAttr.join(' ')) : ''\r\n                })\r\n            });\r\n        }\r\n\r\n        $.each(options.attr, function (name, value) {\r\n            attributes.push(name + '=\"' + value + '\"');\r\n        });\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/input.html'], {\r\n            field: options,\r\n            datalistId: datalistId,\r\n            value: this._value,\r\n            render: {\r\n                attr: attributes.length > 0 ? (' ' + attributes.join(' ')) : '',\r\n                datalist: datalist\r\n            },\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация событий\r\n     * @private\r\n     */\r\n    _initEvents: function () {\r\n\r\n        $('.content-' + this._hash + ' input').keydown(function (e) {\r\n            let k = e.keyCode || e.which;\r\n            let ok = k >= 35 && k <= 40 ||      // arrows\r\n                k >= 96 && k <= 105 ||     // 0-9 numpad\r\n                k === 189 || k === 109 ||  // minus\r\n                k === 110 || k === 190 ||  // dot\r\n                k === 9 ||  //tab\r\n                k === 46 || //del\r\n                k === 8 ||  // backspaces\r\n                ( ! e.shiftKey && k >= 48 && k <= 57); // only 0-9 (ignore SHIFT options)\r\n\r\n            if ( ! ok || (e.ctrlKey && e.altKey)) {\r\n                e.preventDefault();\r\n            }\r\n        });\r\n\r\n        let that = this;\r\n\r\n        $('.content-' + this._hash + ' input').blur(function (e) {\r\n            let value = $(this).val();\r\n\r\n            if (that._options.precision >= 0) {\r\n                value = CoreUI.form.utils.round(value, that._options.precision);\r\n            }\r\n\r\n            if (that._options.attr.hasOwnProperty('min')) {\r\n                value = value < Number(that._options.attr.min)\r\n                    ? Number(that._options.attr.min)\r\n                    : value;\r\n            }\r\n\r\n            if (that._options.attr.hasOwnProperty('max')) {\r\n                value = value > Number(that._options.attr.max)\r\n                    ? Number(that._options.attr.max)\r\n                    : value;\r\n            }\r\n\r\n            $(this).val(value);\r\n        });\r\n    }\r\n}","\r\nCoreUI.form.fields.radio = {\r\n\r\n    _id: '',\r\n    _hash: '',\r\n    _form: null,\r\n    _index: 0,\r\n    _value: '',\r\n    _options: {\r\n        type: 'radio',\r\n        name: null,\r\n        label: null,\r\n        labelWidth: null,\r\n        inline: false,\r\n        outContent: null,\r\n        description: null,\r\n        errorText: null,\r\n        options: [],\r\n        fields: [],\r\n        required: null,\r\n        readonly: null,\r\n        show: true,\r\n        column: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._form    = form;\r\n        this._id      = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\r\n        this._hash    = CoreUI.form.utils.hashCode();\r\n        this._value   = CoreUI.form.utils.getFieldValue(form, options);\r\n        this._options = CoreUI.form.utils.mergeFieldOptions(form, this._options, options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\r\n    readonly: function (isReadonly) {\r\n\r\n        this._value            = this.getValue();\r\n        this._options.readonly = !! isReadonly;\r\n\r\n        $('.content-' + this._hash).html(\r\n            this.renderContent()\r\n        );\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).hide(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).show(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение значения в поле\r\n     * @returns {string}\r\n     */\r\n    getValue: function () {\r\n\r\n        return this._options.readonly\r\n            ? this._value\r\n            : $('.content-' + this._hash + ' input[type=radio]:checked').val();\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\r\n    setValue: function (value) {\r\n\r\n        if (['string', 'number'].indexOf(typeof value) < 0) {\r\n            return;\r\n        }\r\n\r\n        if (this._options.readonly) {\r\n            let that         = this;\r\n            let fieldOptions = this.getOptions();\r\n\r\n            if (fieldOptions.hasOwnProperty('options') &&\r\n                typeof fieldOptions.options === 'object' &&\r\n                Array.isArray(fieldOptions.options)\r\n            ) {\r\n                $.each(fieldOptions.options, function (key, option) {\r\n\r\n                    if (option.hasOwnProperty('value') && option.value == value) {\r\n                        let text = option.hasOwnProperty('text') && ['string', 'number'].indexOf(typeof(option.text)) >= 0\r\n                            ? option.text\r\n                            : '';\r\n\r\n                        $('.content-' + that._hash).text(text);\r\n                        that._value = value;\r\n                        return false;\r\n                    }\r\n                });\r\n            }\r\n\r\n        } else {\r\n            let input = $('.content-' + this._hash + ' input[type=radio][value=\"' + value + '\"]');\r\n\r\n            if (input[0]) {\r\n                input.prop('checked', true);\r\n                this._value = value;\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\r\n    validate: function (isValid, text) {\r\n\r\n        if (this._options.readonly) {\r\n            return;\r\n        }\r\n\r\n        let container = $('.content-' + this._hash);\r\n        let lastInput = $('.form-check:last-child', container);\r\n        let inputs    = $('input', container);\r\n\r\n        container.find('.valid-feedback').remove();\r\n        container.find('.invalid-feedback').remove();\r\n\r\n        if (isValid === null) {\r\n            inputs.removeClass('is-invalid');\r\n            inputs.removeClass('is-valid');\r\n\r\n        } else if (isValid) {\r\n            inputs.removeClass('is-invalid');\r\n            inputs.addClass('is-valid');\r\n\r\n            if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\r\n                text = this._options.validText;\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                lastInput.append('<div class=\"valid-feedback\">' + text + '</div>');\r\n            }\r\n        } else {\r\n            inputs.removeClass('is-valid');\r\n            inputs.addClass('is-invalid');\r\n\r\n            if (typeof text === 'undefined') {\r\n                if (typeof this._options.invalidText === 'string') {\r\n                    text = this._options.invalidText;\r\n\r\n                } else if ( ! text && this._options.required) {\r\n                    text = this._form.getLang().required_field;\r\n                }\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                lastInput.append('<div class=\"invalid-feedback\">' + text + '</div>');\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\r\n    isValid: function () {\r\n\r\n        if (this._options.required && ! this._options.readonly) {\r\n            let value = this.getValue();\r\n            return typeof value === 'string' && value !== '';\r\n        }\r\n\r\n        return true;\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let options      = this.getOptions();\r\n        let attachFields = CoreUI.form.utils.getAttacheFields(this._form, options);\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['form-field-label.html'], {\r\n            id: this._id,\r\n            form:  this._form,\r\n            hash: this._hash,\r\n            field: this._options,\r\n            content: this.renderContent(),\r\n            attachFields: attachFields\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\r\n    renderContent: function () {\r\n\r\n        let that         = this;\r\n        let radioOptions = [];\r\n        let fieldOptions = this.getOptions();\r\n        let selectedItem = [];\r\n\r\n        if (fieldOptions.hasOwnProperty('options') &&\r\n            typeof fieldOptions.options === 'object' &&\r\n            Array.isArray(fieldOptions.options)\r\n        ) {\r\n            $.each(fieldOptions.options, function (key, option) {\r\n                let attributes = [];\r\n                let itemAttr = {\r\n                    type: 'radio',\r\n                    class: 'form-check-input'\r\n                };\r\n                let optionText   = option.hasOwnProperty('text') && ['string', 'number'].indexOf(typeof(option.text)) >= 0\r\n                    ? option.text\r\n                    : '';\r\n\r\n                if (fieldOptions.name) {\r\n                    itemAttr.name = that._options.name;\r\n                }\r\n\r\n                if (fieldOptions.required) {\r\n                    itemAttr.required = 'required';\r\n                }\r\n\r\n                $.each(option, function (name, value) {\r\n                    if (name !== 'text') {\r\n                        if (name === 'class') {\r\n                            itemAttr[name] = itemAttr[name] + ' ' + value;\r\n                        } else {\r\n                            itemAttr[name] = value;\r\n                        }\r\n                    }\r\n                });\r\n\r\n                itemAttr.id = CoreUI.form.utils.hashCode();\r\n\r\n                if (that._value == option.value) {\r\n                    if (option.hasOwnProperty('text') && option.text) {\r\n                        selectedItem.push(option.text);\r\n                    }\r\n                    itemAttr.checked = 'checked';\r\n                }\r\n\r\n                $.each(itemAttr, function (name, value) {\r\n                    attributes.push(name + '=\"' + value + '\"');\r\n                });\r\n\r\n\r\n                radioOptions.push({\r\n                    id: itemAttr.id,\r\n                    text: optionText,\r\n                    attr: attributes.length > 0 ? (' ' + attributes.join(' ')) : ''\r\n                })\r\n            });\r\n        }\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/radio.html'], {\r\n            field: fieldOptions,\r\n            value: this._value,\r\n            render: {\r\n                options: radioOptions,\r\n                selectedItem: selectedItem\r\n            },\r\n        });\r\n    }\r\n}","\r\nCoreUI.form.fields.range = {\r\n\r\n    _id: '',\r\n    _hash: '',\r\n    _form: null,\r\n    _index: 0,\r\n    _value: '',\r\n    _options: {\r\n        type: 'range',\r\n        name: null,\r\n        label: null,\r\n        labelWidth: null,\r\n        width: null,\r\n        outContent: null,\r\n        description: null,\r\n        errorText: null,\r\n        attach: null,\r\n        attr: {\r\n            class: 'form-range d-inline-block pt-1'\r\n        },\r\n        required: null,\r\n        readonly: null,\r\n        datalist: null,\r\n        show: true,\r\n        column: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._form    = form;\r\n        this._index   = index;\r\n        this._id      = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\r\n        this._hash    = CoreUI.form.utils.hashCode();\r\n        this._value   = CoreUI.form.utils.getFieldValue(form, options);\r\n        this._options = CoreUI.form.utils.mergeFieldOptions(form, this._options, options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\r\n    readonly: function (isReadonly) {\r\n\r\n        this._value            = this.getValue();\r\n        this._options.readonly = !! isReadonly;\r\n\r\n        $('.content-' + this._hash).html(\r\n            this.renderContent()\r\n        );\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).hide(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).show(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение значения в поле\r\n     * @returns {string}\r\n     */\r\n    getValue: function () {\r\n\r\n        return this._options.readonly\r\n            ? this._value\r\n            : $('.content-' + this._hash + ' input').val();\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\r\n    setValue: function (value) {\r\n\r\n        if (['string', 'number'].indexOf(typeof value) < 0) {\r\n            return;\r\n        }\r\n\r\n        this._value = value;\r\n\r\n        if (this._options.readonly) {\r\n            $('.content-' + this._hash).text(value);\r\n        } else {\r\n            $('.content-' + this._hash + ' input').val(value);\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\r\n    validate: function (isValid, text) {\r\n\r\n        if (this._options.readonly) {\r\n            return;\r\n        }\r\n\r\n        let container = $('.content-' + this._hash);\r\n        let input     = $('input', container);\r\n\r\n        container.find('.valid-feedback').remove();\r\n        container.find('.invalid-feedback').remove();\r\n\r\n        if (isValid === null) {\r\n            input.removeClass('is-invalid');\r\n            input.removeClass('is-valid');\r\n\r\n        } else if (isValid) {\r\n            input.removeClass('is-invalid');\r\n            input.addClass('is-valid');\r\n\r\n            if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\r\n                text = this._options.validText;\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"valid-feedback\">' + text + '</div>');\r\n            }\r\n        } else {\r\n            input.removeClass('is-valid');\r\n            input.addClass('is-invalid');\r\n\r\n            if (typeof text === 'undefined') {\r\n                if (typeof this._options.invalidText === 'string') {\r\n                    text = this._options.invalidText;\r\n\r\n                } else if ( ! text && this._options.required) {\r\n                    text = this._form.getLang().required_field;\r\n                }\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"invalid-feedback\">' + text + '</div>');\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\r\n    isValid: function () {\r\n\r\n        let input = $('.content-' + this._hash + ' input');\r\n\r\n        if (input[0]) {\r\n            return input.is(':valid');\r\n        }\r\n\r\n        return null;\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let options      = this.getOptions();\r\n        let attachFields = CoreUI.form.utils.getAttacheFields(this._form, options);\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['form-field-label.html'], {\r\n            id: this._id,\r\n            form:  this._form,\r\n            hash: this._hash,\r\n            field: options,\r\n            content: this.renderContent(),\r\n            attachFields: attachFields,\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\r\n    renderContent: function () {\r\n\r\n        let attributes = [];\r\n        let datalist   = [];\r\n        let options    = this.getOptions();\r\n        let datalistId = CoreUI.form.utils.hashCode();\r\n\r\n        if ( ! options.hasOwnProperty('attr') ||\r\n            typeof options.attr !== 'object' ||\r\n            options.attr === null ||\r\n            Array.isArray(options.attr)\r\n        ) {\r\n            options.attr = {};\r\n        }\r\n\r\n        if (options.name) {\r\n            options.attr.name = this._options.name;\r\n        }\r\n\r\n        options.attr.type  = 'range';\r\n        options.attr.value = this._value;\r\n\r\n        if (options.width) {\r\n            options.attr = CoreUI.form.utils.mergeAttr(\r\n                { style: 'width:' + options.width },\r\n                options.attr\r\n            );\r\n        }\r\n        if (options.required) {\r\n            options.attr.required = 'required';\r\n        }\r\n\r\n\r\n        if (options.hasOwnProperty('datalist') &&\r\n            typeof options.datalist === 'object' &&\r\n            Array.isArray(options.datalist)\r\n        ) {\r\n            options.attr.list = datalistId;\r\n\r\n            $.each(options.datalist, function (key, itemAttributes) {\r\n                let datalistAttr = [];\r\n\r\n                $.each(itemAttributes, function (name, value) {\r\n                    datalistAttr.push(name + '=\"' + value + '\"');\r\n                });\r\n\r\n                datalist.push({\r\n                    attr: datalistAttr.length > 0 ? (' ' + datalistAttr.join(' ')) : ''\r\n                })\r\n            });\r\n        }\r\n\r\n        $.each(options.attr, function (name, value) {\r\n            attributes.push(name + '=\"' + value + '\"');\r\n        });\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/input.html'], {\r\n            field: options,\r\n            datalistId: datalistId,\r\n            value: this._value,\r\n            render: {\r\n                attr: attributes.length > 0 ? (' ' + attributes.join(' ')) : '',\r\n                datalist: datalist\r\n            },\r\n        });\r\n    }\r\n}","\r\nCoreUI.form.fields.select = {\r\n\r\n    _id: '',\r\n    _hash: '',\r\n    _form: null,\r\n    _index: 0,\r\n    _value: [],\r\n    _options: {\r\n        type: 'select',\r\n        name: null,\r\n        label: null,\r\n        labelWidth: null,\r\n        width: null,\r\n        outContent: null,\r\n        description: null,\r\n        errorText: null,\r\n        attach: null,\r\n        attr: {\r\n            class: 'form-select form-select-sm d-inline-block'\r\n        },\r\n        required: null,\r\n        readonly: null,\r\n        datalist: null,\r\n        show: true,\r\n        column: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._form    = form;\r\n        this._index   = index;\r\n        this._id      = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\r\n        this._hash    = CoreUI.form.utils.hashCode();\r\n        this._value   = CoreUI.form.utils.getFieldValue(form, options);\r\n        this._options = CoreUI.form.utils.mergeFieldOptions(form, this._options, options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\r\n    readonly: function (isReadonly) {\r\n\r\n        this._value            = this.getValue();\r\n        this._options.readonly = !! isReadonly;\r\n\r\n        $('.content-' + this._hash).html(\r\n            this.renderContent()\r\n        );\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).hide(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).show(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение значения из поля\r\n     * @returns {array|string}\r\n     */\r\n    getValue: function () {\r\n\r\n        if (this._options.readonly) {\r\n            return this._value;\r\n\r\n        } else {\r\n            if (this._options.hasOwnProperty('attr') &&\r\n                typeof this._options.attr === 'object' &&\r\n                this._options.attr !== null &&\r\n                ! Array.isArray(this._options.attr) &&\r\n                this._options.attr.hasOwnProperty('multiple')\r\n            ) {\r\n                let values = [];\r\n\r\n                $('.content-' + this._hash + ' select option:selected').each(function () {\r\n                    values.push($(this).val());\r\n                });\r\n\r\n                return values;\r\n\r\n            } else {\r\n                return $('.content-' + this._hash + ' select option:selected').val()\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\r\n    setValue: function (value) {\r\n\r\n        if (['string', 'number', 'object'].indexOf(typeof value) < 0) {\r\n            return;\r\n        }\r\n\r\n        if (typeof value === 'object') {\r\n            if (value !== null && ! Array.isArray(value)) {\r\n                return;\r\n            }\r\n\r\n        } else {\r\n            value = [ value ];\r\n        }\r\n\r\n        let that    = this;\r\n        this._value = [];\r\n\r\n        if (this._options.readonly) {\r\n            $('.content-' + that._hash).empty();\r\n\r\n            let fieldOptions = this.getOptions();\r\n\r\n            if (fieldOptions.hasOwnProperty('options') &&\r\n                typeof fieldOptions.options === 'object' &&\r\n                Array.isArray(fieldOptions.options) &&\r\n                Array.isArray(value)\r\n            ) {\r\n                let selectedItems = [];\r\n\r\n                $.each(fieldOptions.options, function (key, option) {\r\n\r\n                    if (option.hasOwnProperty('value')) {\r\n                        $.each(value, function (key, val) {\r\n\r\n                            if (option.value == val) {\r\n                                if (option.hasOwnProperty('text') && ['string', 'number'].indexOf(typeof(option.text)) >= 0) {\r\n                                    selectedItems.push(option.text);\r\n                                }\r\n\r\n                                that._value.push(val);\r\n                                return false;\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n\r\n\r\n                $('.content-' + that._hash).text(selectedItems.join(', '));\r\n            }\r\n\r\n        } else {\r\n            $('.content-' + this._hash + ' select > option').prop('selected', false);\r\n\r\n            if (Array.isArray(value)) {\r\n                $('.content-' + this._hash + ' select > option').each(function (key, itemValue) {\r\n                    $.each(value, function (key, val) {\r\n                        if (val == $(itemValue).val()) {\r\n                            $(itemValue).prop('selected', true);\r\n                            that._value.push(val);\r\n\r\n                            return false;\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\r\n    validate: function (isValid, text) {\r\n\r\n        if (this._options.readonly) {\r\n            return;\r\n        }\r\n\r\n        let container = $('.content-' + this._hash);\r\n        let select    = $('select', container);\r\n\r\n        container.find('.valid-feedback').remove();\r\n        container.find('.invalid-feedback').remove();\r\n\r\n        if (isValid === null) {\r\n            select.removeClass('is-invalid');\r\n            select.removeClass('is-valid');\r\n\r\n        } else if (isValid) {\r\n            select.removeClass('is-invalid');\r\n            select.addClass('is-valid');\r\n\r\n            if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\r\n                text = this._options.validText;\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"valid-feedback\">' + text + '</div>');\r\n            }\r\n        } else {\r\n            select.removeClass('is-valid');\r\n            select.addClass('is-invalid');\r\n\r\n            if (typeof text === 'undefined') {\r\n                if (typeof this._options.invalidText === 'string') {\r\n                    text = this._options.invalidText;\r\n\r\n                } else if ( ! text && this._options.required) {\r\n                    text = this._form.getLang().required_field;\r\n                }\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"invalid-feedback\">' + text + '</div>');\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean|null}\r\n     */\r\n    isValid: function () {\r\n\r\n        let input = $('.content-' + this._hash + ' input');\r\n\r\n        if (input[0]) {\r\n            return input.is(':valid');\r\n        }\r\n\r\n        return null;\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let options      = this.getOptions();\r\n        let attachFields = CoreUI.form.utils.getAttacheFields(this._form, options);\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['form-field-label.html'], {\r\n            id: this._id,\r\n            form:  this._form,\r\n            hash: this._hash,\r\n            field: options,\r\n            content: this.renderContent(),\r\n            attachFields: attachFields\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\r\n    renderContent: function () {\r\n\r\n        return this._options.readonly\r\n            ? this._renderContentReadonly()\r\n            : this._renderContent();\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента\r\n     * @return {*}\r\n     * @private\r\n     */\r\n    _renderContent: function () {\r\n\r\n        let that          = this;\r\n        let options       = this.getOptions();\r\n        let attributes    = [];\r\n        let selectOptions = [];\r\n\r\n\r\n        if ( ! options.hasOwnProperty('attr') ||\r\n            typeof options.attr !== 'object' ||\r\n            options.attr === null ||\r\n            Array.isArray(options.attr)\r\n        ) {\r\n            options.attr = {};\r\n        }\r\n\r\n        if (options.name) {\r\n            options.attr.name = this._options.name;\r\n        }\r\n\r\n        if (options.width) {\r\n            options.attr = CoreUI.form.utils.mergeAttr(\r\n                { style: 'width:' + options.width },\r\n                options.attr\r\n            );\r\n        }\r\n\r\n        if (options.required) {\r\n            options.attr.required = 'required';\r\n        }\r\n\r\n\r\n        if (options.hasOwnProperty('options') &&\r\n            typeof options.options === 'object' &&\r\n            Array.isArray(options.options)\r\n        ) {\r\n            $.each(options.options, function (key, option) {\r\n                let type = option.hasOwnProperty('type') && typeof option.type === 'string'\r\n                    ? option.type\r\n                    : 'option';\r\n\r\n                if (type === 'group') {\r\n                    let renderAttr   = [];\r\n                    let groupAttr    = {};\r\n                    let groupOptions = [];\r\n\r\n                    if (option.hasOwnProperty('attr') &&\r\n                        typeof option.attr === 'object' &&\r\n                        option.attr !== null &&\r\n                        ! Array.isArray(option.attr)\r\n                    ) {\r\n                        groupAttr = option.attr;\r\n                    }\r\n\r\n                    if (option.hasOwnProperty('label') && ['string', 'number'].indexOf(typeof(option.label)) >= 0) {\r\n                        groupAttr.label = option.label;\r\n                    }\r\n\r\n                    $.each(groupAttr, function (name, value) {\r\n                        renderAttr.push(name + '=\"' + value + '\"');\r\n                    });\r\n\r\n                    if (Array.isArray(option.options)) {\r\n                        $.each(option.options, function (key, groupOption) {\r\n                            groupOptions.push(that._renderOption(groupOption));\r\n                        });\r\n                    }\r\n\r\n                    selectOptions.push({\r\n                        type: 'group',\r\n                        attr: renderAttr.length > 0 ? (' ' + renderAttr.join(' ')) : '',\r\n                        options: groupOptions,\r\n                    });\r\n\r\n                } else {\r\n                    selectOptions.push(that._renderOption(option));\r\n                }\r\n            });\r\n        }\r\n\r\n        $.each(options.attr, function (name, value) {\r\n            attributes.push(name + '=\"' + value + '\"');\r\n        });\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/select.html'], {\r\n            field: options,\r\n            value: this._value,\r\n            render: {\r\n                attr: attributes.length > 0 ? (' ' + attributes.join(' ')) : '',\r\n                options: selectOptions\r\n            },\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     * @return {string}\r\n     * @private\r\n     */\r\n    _renderContentReadonly: function () {\r\n\r\n        let that            = this;\r\n        let options         = this.getOptions();\r\n        let selectedOptions = [];\r\n\r\n        if (options.hasOwnProperty('options') &&\r\n            typeof options.options === 'object' &&\r\n            Array.isArray(options.options)\r\n        ) {\r\n            $.each(options.options, function (key, option) {\r\n                let type = option.hasOwnProperty('type') && typeof option.type === 'string'\r\n                    ? option.type\r\n                    : 'option';\r\n\r\n                if (type === 'group') {\r\n                    if (Array.isArray(option.options)) {\r\n                        $.each(option.options, function (key, groupOption) {\r\n                            let optionText = groupOption.hasOwnProperty('text') && ['string', 'number'].indexOf(typeof(groupOption.text)) >= 0\r\n                                ? groupOption.text\r\n                                : '';\r\n\r\n                            if ( ! optionText || optionText === '') {\r\n                                return;\r\n                            }\r\n\r\n                            if (Array.isArray(that._value)) {\r\n                                $.each(that._value, function (key, itemValue) {\r\n                                    if (itemValue == groupOption.value) {\r\n                                        selectedOptions.push(optionText);\r\n                                        return false;\r\n                                    }\r\n                                });\r\n\r\n                            } else if (that._value == groupOption.value) {\r\n                                selectedOptions.push(optionText);\r\n                            }\r\n                        });\r\n                    }\r\n\r\n                } else {\r\n                    let optionText = option.hasOwnProperty('text') && ['string', 'number'].indexOf(typeof(option.text)) >= 0\r\n                        ? option.text\r\n                        : '';\r\n\r\n                    if ( ! optionText || optionText === '') {\r\n                        return;\r\n                    }\r\n\r\n                    if (Array.isArray(that._value)) {\r\n                        $.each(that._value, function (key, itemValue) {\r\n                            if (itemValue == option.value) {\r\n                                selectedOptions.push(optionText);\r\n                                return false;\r\n                            }\r\n                        });\r\n\r\n                    } else if (that._value == option.value) {\r\n                        selectedOptions.push(optionText);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/select.html'], {\r\n            field: options,\r\n            render: {\r\n                selectedOptions: selectedOptions\r\n            },\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Сборка опции\r\n     * @param option\r\n     * @return {object}\r\n     * @private\r\n     */\r\n    _renderOption: function (option) {\r\n\r\n        let optionAttr = [];\r\n        let optionText = option.hasOwnProperty('text') && ['string', 'number'].indexOf(typeof(option.text)) >= 0\r\n            ? option.text\r\n            : '';\r\n\r\n        $.each(option, function (name, value) {\r\n            if (name !== 'text') {\r\n                optionAttr.push(name + '=\"' + value + '\"');\r\n            }\r\n        });\r\n\r\n\r\n        if (Array.isArray(this._value)) {\r\n            $.each(this._value, function (key, itemValue) {\r\n                if (itemValue == option.value) {\r\n                    optionAttr.push('selected=\"selected\"');\r\n                    return false;\r\n                }\r\n            });\r\n\r\n        } else if (this._value == option.value) {\r\n            optionAttr.push('selected=\"selected\"');\r\n        }\r\n\r\n        return {\r\n            type: 'option',\r\n            text: optionText,\r\n            attr: optionAttr.length > 0 ? (' ' + optionAttr.join(' ')) : ''\r\n        };\r\n    }\r\n}","\r\nCoreUI.form.fields.switch = {\r\n\r\n    _id: '',\r\n    _hash: '',\r\n    _form: null,\r\n    _index: 0,\r\n    _value: '',\r\n    _options: {\r\n        type: 'switch',\r\n        name: null,\r\n        label: null,\r\n        labelWidth: null,\r\n        outContent: null,\r\n        description: null,\r\n        errorText: null,\r\n        valueY: 'Y',\r\n        valueN: 'N',\r\n        fields: [],\r\n        required: null,\r\n        readonly: null,\r\n        show: true,\r\n        column: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._form    = form;\r\n        this._index   = index;\r\n        this._id      = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\r\n        this._hash    = CoreUI.form.utils.hashCode();\r\n        this._value   = CoreUI.form.utils.getFieldValue(form, options);\r\n        this._options = CoreUI.form.utils.mergeFieldOptions(form, this._options, options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\r\n    readonly: function (isReadonly) {\r\n\r\n        this._value            = this.getValue();\r\n        this._options.readonly = !! isReadonly;\r\n\r\n        $('.content-' + this._hash).html(\r\n            this.renderContent()\r\n        );\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).hide(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).show(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение значения в поле\r\n     * @returns {string}\r\n     */\r\n    getValue: function () {\r\n\r\n        return this._options.readonly\r\n            ? this._value\r\n            : $('.content-' + this._hash + ' input').val();\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\r\n    setValue: function (value) {\r\n\r\n        if (['string', 'number'].indexOf(typeof value) < 0) {\r\n            return;\r\n        }\r\n\r\n        this._value = value;\r\n\r\n        if (this._options.readonly) {\r\n            $('.content-' + this._hash).text(value);\r\n        } else {\r\n            $('.content-' + this._hash + ' input[type=checkbox]').prop('checked', value === this._options.valueY);\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\r\n    validate: function (isValid, text) {\r\n\r\n        if (this._options.readonly) {\r\n            return;\r\n        }\r\n\r\n        let container       = $('.content-' + this._hash);\r\n        let switchContainer = $('.form-switch', container);\r\n        let inputs          = $('input', container);\r\n\r\n        container.find('.valid-feedback').remove();\r\n        container.find('.invalid-feedback').remove();\r\n\r\n        if (isValid === null) {\r\n            inputs.removeClass('is-invalid');\r\n            inputs.removeClass('is-valid');\r\n\r\n        } else if (isValid) {\r\n            inputs.removeClass('is-invalid');\r\n            inputs.addClass('is-valid');\r\n\r\n            if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\r\n                text = this._options.validText;\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                switchContainer.append('<div class=\"valid-feedback\">' + text + '</div>');\r\n            }\r\n\r\n        } else {\r\n            inputs.removeClass('is-valid');\r\n            inputs.addClass('is-invalid');\r\n\r\n            if (typeof text === 'undefined') {\r\n                if (typeof this._options.invalidText === 'string') {\r\n                    text = this._options.invalidText;\r\n\r\n                } else if ( ! text) {\r\n                    text = this._form.getLang().required_field;\r\n                }\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                switchContainer.append('<div class=\"invalid-feedback\">' + text + '</div>');\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\r\n    isValid: function () {\r\n\r\n        return null;\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let options      = this.getOptions();\r\n        let attachFields = CoreUI.form.utils.getAttacheFields(this._form, options);\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['form-field-label.html'], {\r\n            id: this._id,\r\n            form:  this._form,\r\n            hash: this._hash,\r\n            field: options,\r\n            content: this.renderContent(),\r\n            attachFields: attachFields\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\r\n    renderContent: function () {\r\n\r\n        let attributes = [];\r\n        let options    = this.getOptions();\r\n        let itemAttr   = {\r\n            type: 'checkbox',\r\n            class: 'form-check-input',\r\n            value: options.valueY\r\n        };\r\n\r\n\r\n        if (options.name) {\r\n            itemAttr.name = this._options.name;\r\n        }\r\n\r\n        if (options.required) {\r\n            itemAttr.required = 'required';\r\n        }\r\n\r\n        if (options.hasOwnProperty('attr') &&\r\n            typeof options.attr === 'object' &&\r\n            Array.isArray(options.attr)\r\n        ) {\r\n            itemAttr = CoreUI.form.utils.mergeAttr(itemAttr, options.attr);\r\n        }\r\n\r\n        if (this._value === this.valueY) {\r\n            itemAttr.checked = 'checked';\r\n        }\r\n\r\n        $.each(itemAttr, function (name, value) {\r\n            attributes.push(name + '=\"' + value + '\"');\r\n        });\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/switch.html'], {\r\n            field: options,\r\n            value: this._value,\r\n            lang: this._form.getLang(),\r\n            render: {\r\n                attr: attributes.length > 0 ? attributes.join(' ') : ''\r\n            },\r\n        });\r\n    }\r\n}","\r\nCoreUI.form.fields.textarea = {\r\n\r\n    _id: '',\r\n    _form: null,\r\n    _index: 0,\r\n    _value: '',\r\n    _options: {\r\n        type: 'textarea',\r\n        name: null,\r\n        label: null,\r\n        labelWidth: null,\r\n        width: null,\r\n        outContent: null,\r\n        description: null,\r\n        errorText: null,\r\n        attach: null,\r\n        attr: {\r\n            class: 'form-control form-control-sm d-inline-block'\r\n        },\r\n        required: null,\r\n        readonly: null,\r\n        datalist: null,\r\n        show: true,\r\n        column: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._form    = form;\r\n        this._index   = index;\r\n        this._id      = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\r\n        this._hash    = CoreUI.form.utils.hashCode();\r\n        this._value   = CoreUI.form.utils.getFieldValue(form, options);\r\n        this._options = CoreUI.form.utils.mergeFieldOptions(form, this._options, options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\r\n    readonly: function (isReadonly) {\r\n\r\n        this._value            = this.getValue();\r\n        this._options.readonly = !! isReadonly;\r\n\r\n        $('.content-' + this._hash).html(\r\n            this.renderContent()\r\n        );\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).hide(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).show(duration);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение значения в поле\r\n     * @returns {string}\r\n     */\r\n    getValue: function () {\r\n\r\n        return this._options.readonly\r\n            ? this._value\r\n            : $('.content-' + this._hash + ' textarea').val();\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\r\n    setValue: function (value) {\r\n\r\n        if (['string', 'number'].indexOf(typeof value) < 0) {\r\n            return;\r\n        }\r\n\r\n        this._value = value;\r\n\r\n        if (this._options.readonly) {\r\n            $('.content-' + this._hash).text(value);\r\n        } else {\r\n            $('.content-' + this._hash + ' textarea').val(value);\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\r\n    validate: function (isValid, text) {\r\n\r\n        if (this._options.readonly) {\r\n            return;\r\n        }\r\n\r\n        let container = $('.content-' + this._hash);\r\n        let textarea  = $('textarea', container);\r\n\r\n        container.find('.valid-feedback').remove();\r\n        container.find('.invalid-feedback').remove();\r\n\r\n        if (isValid === null) {\r\n            textarea.removeClass('is-invalid');\r\n            textarea.removeClass('is-valid');\r\n\r\n        } else if (isValid) {\r\n            textarea.removeClass('is-invalid');\r\n            textarea.addClass('is-valid');\r\n\r\n            if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\r\n                text = this._options.validText;\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"valid-feedback\">' + text + '</div>');\r\n            }\r\n        } else {\r\n            textarea.removeClass('is-valid');\r\n            textarea.addClass('is-invalid');\r\n\r\n            if (typeof text === 'undefined') {\r\n                if (typeof this._options.invalidText === 'string') {\r\n                    text = this._options.invalidText;\r\n\r\n                } else if ( ! text && this._options.required) {\r\n                    text = this._form.getLang().required_field;\r\n                }\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"invalid-feedback\">' + text + '</div>');\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\r\n    isValid: function () {\r\n\r\n        let input = $('.content-' + this._hash + ' textarea');\r\n\r\n        if (input[0]) {\r\n            return input.is(':valid');\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let options      = this.getOptions();\r\n        let attachFields = CoreUI.form.utils.getAttacheFields(this._form, options);\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['form-field-label.html'], {\r\n            id: this._id,\r\n            form:  this._form,\r\n            hash: this._hash,\r\n            field: options,\r\n            content: this.renderContent(),\r\n            attachFields: attachFields\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\r\n    renderContent: function () {\r\n\r\n        let attributes = [];\r\n        let options    = this.getOptions();\r\n\r\n        if ( ! options.hasOwnProperty('attr') ||\r\n            typeof options.attr !== 'object' ||\r\n            options.attr === null ||\r\n            Array.isArray(options.attr)\r\n        ) {\r\n            options.attr = {};\r\n        }\r\n\r\n        if (options.name) {\r\n            options.attr.name = this._options.name;\r\n        }\r\n\r\n        if (options.width) {\r\n            options.attr = CoreUI.form.utils.mergeAttr(\r\n                { style: 'width:' + options.width },\r\n                options.attr\r\n            );\r\n        }\r\n        if (options.required) {\r\n            options.attr.required = 'required';\r\n        }\r\n\r\n        $.each(options.attr, function (name, value) {\r\n            attributes.push(name + '=\"' + value + '\"');\r\n        });\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/textarea.html'], {\r\n            field: options,\r\n            value: this._value,\r\n            render: {\r\n                attr: attributes.length > 0 ? (' ' + attributes.join(' ')) : ''\r\n            },\r\n        });\r\n    }\r\n}","\r\nCoreUI.form.fields.wysiwyg = {\r\n\r\n    _id: '',\r\n    _hash: '',\r\n    _form: null,\r\n    _value: null,\r\n    _editor: null,\r\n    _editorHash: null,\r\n    _options: {\r\n        type: 'wysiwyg',\r\n        label: null,\r\n        labelWidth: null,\r\n        width: null,\r\n        minWidth: null,\r\n        maxWidth: null,\r\n        height: null,\r\n        minHeight: null,\r\n        maxHeight: null,\r\n        options: {},\r\n        outContent: null,\r\n        description: null,\r\n        required: null,\r\n        readonly: false,\r\n        show: true,\r\n        column: null\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._form       = form;\r\n        this._index      = index;\r\n        this._id         = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\r\n        this._hash       = CoreUI.form.utils.hashCode();\r\n        this._editorHash = CoreUI.form.utils.hashCode();\r\n        this._value      = CoreUI.form.utils.getFieldValue(form, options);\r\n        this._options    = CoreUI.form.utils.mergeFieldOptions(form, this._options, options);\r\n\r\n        let that = this;\r\n\r\n        form.on('shown.coreui.form', function () {\r\n            if ( ! that._options.readonly) {\r\n                that._initEvents();\r\n            }\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\r\n    readonly: function (isReadonly) {\r\n\r\n        this._value            = this.getValue();\r\n        this._options.readonly = !! isReadonly;\r\n\r\n        $('.content-' + this._hash).html(\r\n            this.renderContent()\r\n        );\r\n\r\n        if ( ! this._options.readonly) {\r\n            this._initEvents();\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).hide(duration || 0);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._id).show(duration || 0);\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение значения из поля\r\n     * @return {string|null}\r\n     */\r\n    getValue: function () {\r\n\r\n        if (this._options.readonly) {\r\n            return this._value;\r\n        } else {\r\n            return this._editor ? this._editor.getContent() : this._value;\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\r\n    setValue: function (value) {\r\n\r\n        this._value = value;\r\n\r\n        if (this._options.readonly) {\r\n            $('.content-' + this._hash).text(value);\r\n        } else {\r\n            if (this._editor) {\r\n                this._editor.setContent(value);\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\r\n    validate: function (isValid, text) {\r\n\r\n        if (this._options.readonly) {\r\n            return;\r\n        }\r\n\r\n        let container = $('.content-' + this._hash);\r\n\r\n        container.find('.text-success').remove();\r\n        container.find('.text-danger').remove();\r\n\r\n        if (isValid === null) {\r\n            return;\r\n        }\r\n\r\n        if (isValid) {\r\n            if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\r\n                text = this._options.validText;\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"ps-2 text-success\">' + text + '</div>');\r\n            }\r\n\r\n        } else {\r\n            if (typeof text === 'undefined') {\r\n                if (typeof this._options.invalidText === 'string') {\r\n                    text = this._options.invalidText;\r\n\r\n                } else if ( ! text && this._options.required) {\r\n                    text = this._form.getLang().required_field;\r\n                }\r\n            }\r\n\r\n            if (typeof text === 'string') {\r\n                container.append('<div class=\"ps-2 text-danger\">' + text + '</div>');\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\r\n    isValid: function () {\r\n\r\n        if (this._options.required && ! this._options.readonly) {\r\n            return !! this.getValue();\r\n        }\r\n\r\n        return true;\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let options      = this.getOptions();\r\n        let attachFields = CoreUI.form.utils.getAttacheFields(this._form, options);\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['form-field-label.html'], {\r\n            id: this._id,\r\n            form:  this._form,\r\n            hash: this._hash,\r\n            field: options,\r\n            content: this.renderContent(),\r\n            attachFields: attachFields\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\r\n    renderContent: function () {\r\n\r\n        let options = this.getOptions();\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['fields/wysiwyg.html'], {\r\n            field: options,\r\n            value: this._value,\r\n            editorHash: this._editorHash\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация событий\r\n     * @private\r\n     */\r\n    _initEvents: function () {\r\n\r\n        if (this._options.readonly) {\r\n            return;\r\n        }\r\n\r\n        let tinyMceOptions = {};\r\n        let than           = this;\r\n        let textareaId     = 'editor-' + this._editorHash;\r\n\r\n        if (typeof this._options.options === 'object' &&\r\n            ! Array.isArray(this._options.options) &&\r\n            Object.keys(this._options.options).length > 0\r\n        ) {\r\n            tinyMceOptions = this._options.options;\r\n\r\n        } else if (this._options.options === 'simple') {\r\n            tinyMceOptions = {\r\n                plugins: 'image lists anchor charmap',\r\n                toolbar: 'blocks | bold italic underline | alignleft aligncenter ' +\r\n                         'alignright alignjustify | bullist numlist outdent indent | ' +\r\n                         'forecolor backcolor removeformat',\r\n                menubar: false,\r\n                branding: false\r\n            }\r\n\r\n        } else {\r\n            tinyMceOptions = {\r\n                promotion: false,\r\n                branding: false,\r\n                plugins: 'preview importcss searchreplace autolink autosave save directionality code ' +\r\n                         'visualblocks visualchars fullscreen image link media template codesample table ' +\r\n                         'charmap pagebreak nonbreaking anchor insertdatetime advlist lists wordcount help charmap quickbars emoticons',\r\n                menubar: 'file edit view insert format tools table help',\r\n                toolbar: 'undo redo | bold italic underline strikethrough | fontfamily fontsize blocks | ' +\r\n                         'alignleft aligncenter alignright alignjustify | outdent indent | numlist bullist | ' +\r\n                         'forecolor backcolor removeformat | pagebreak | charmap emoticons | fullscreen ' +\r\n                         'preview save print | insertfile image media template link anchor codesample | ltr rtl',\r\n            }\r\n        }\r\n\r\n        tinyMceOptions.selector = '#editor-' + this._editorHash;\r\n\r\n        if (['string', 'number'].indexOf(typeof this._options.width) >= 0) {\r\n            tinyMceOptions.width = this._options.width;\r\n        }\r\n        if (['string', 'number'].indexOf(typeof this._options.minWidth) >= 0) {\r\n            tinyMceOptions.min_width = this._options.minWidth;\r\n        }\r\n        if (['string', 'number'].indexOf(typeof this._options.maxWidth) >= 0) {\r\n            tinyMceOptions.max_width = this._options.maxWidth;\r\n        }\r\n        if (['string', 'number'].indexOf(typeof this._options.height) >= 0) {\r\n            tinyMceOptions.height = this._options.height;\r\n        }\r\n        if (['string', 'number'].indexOf(typeof this._options.minHeight) >= 0) {\r\n            tinyMceOptions.min_height = this._options.minHeight;\r\n        }\r\n        if (['string', 'number'].indexOf(typeof this._options.maxHeight) >= 0) {\r\n            tinyMceOptions.max_height = this._options.maxHeight;\r\n        }\r\n\r\n        tinymce.init(tinyMceOptions).then(function () {\r\n            than._editor = tinymce.get(textareaId);\r\n        });\r\n    }\r\n}","\r\nCoreUI.form.controls.button = {\r\n\r\n    _form: null,\r\n    _index: null,\r\n    _options: {\r\n        type: 'button',\r\n        href: null,\r\n        content: null,\r\n        onClick: null,\r\n        attr: {\r\n            class: 'btn btn-sm btn-secondary'\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object} options\r\n     * @param {int} index\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._options = $.extend({}, this._options, options);\r\n        this._form    = form;\r\n        this._index   = index;\r\n        let that      = this;\r\n\r\n        form.on('shown.coreui.form', function () {\r\n            that._initEvents();\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента для размещения на странице\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let attributes = [];\r\n        let options    = this.getOptions();\r\n\r\n        options.attr.type = 'button';\r\n\r\n        $.each(options.attr, function (name, value) {\r\n            attributes.push(name + '=\"' + value + '\"');\r\n        });\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['controls/button.html'], {\r\n            control: this._options,\r\n            render: {\r\n                attr: attributes.length > 0 ? (' ' + attributes.join(' ')) : '',\r\n            },\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ контрола\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._form.getId() + '-control-' + this._index).show(duration || 0)\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие контрола\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._form.getId() + '-control-' + this._index).hide(duration || 0)\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     */\r\n    lock: function () {\r\n\r\n        let button = $('#coreui-form-' + this._form.getId() + '-control-' + this._index + ' > button');\r\n\r\n        if ( ! button.find('.spinner-border')[0]) {\r\n            button.prepend('<span class=\"spinner-border spinner-border-sm\"></span> ');\r\n        }\r\n        if ( ! button.attr('disabled')) {\r\n            button.attr('disabled', 'disabled');\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация событий связанных с элементом управления\r\n     */\r\n    _initEvents: function () {\r\n\r\n        let that = this;\r\n\r\n        if (['function', 'string'].indexOf(typeof this._options.onClick) >= 0) {\r\n            $('#coreui-form-' + this._form.getId() + '-control-' + this._index + ' > button')\r\n                .click(function (event) {\r\n\r\n                    if (typeof that._options.onClick === 'function') {\r\n                        that._options.onClick(that._form, event);\r\n                    } else {\r\n                        let callback = CoreUI.form.utils.getFunctionByName(that._options.onClick);\r\n\r\n                        if (typeof callback === 'function') {\r\n                            callback(that._form, event);\r\n                        } else {\r\n                            eval(that._options.onClick);\r\n                        }\r\n                    }\r\n                });\r\n        }\r\n    }\r\n}","\r\nCoreUI.form.controls.link = {\r\n\r\n    _form: null,\r\n    _index: null,\r\n    _options: {\r\n        type: 'link',\r\n        href: null,\r\n        content: null,\r\n        onClick: null,\r\n        attr: {\r\n            class: 'btn btn-sm btn-link'\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object} options\r\n     * @param {int} index\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._options = $.extend({}, this._options, options);\r\n        this._form    = form;\r\n        this._index   = index;\r\n        let that      = this;\r\n\r\n        form.on('shown.coreui.form', function () {\r\n            that._initEvents();\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ контрола\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._form.getId() + '-control-' + this._index).show(duration || 0)\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие контрола\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._form.getId() + '-control-' + this._index).hide(duration || 0)\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     */\r\n    lock: function () {\r\n\r\n        let button = $('#coreui-form-' + this._form.getId() + '-control-' + this._index + ' > button');\r\n\r\n        if ( ! button.find('.spinner-border')[0]) {\r\n            button.prepend('<span class=\"spinner-border spinner-border-sm\"></span> ');\r\n        }\r\n        if ( ! button.attr('disabled')) {\r\n            button.attr('disabled', 'disabled');\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента для размещения на странице\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let attributes = [];\r\n        let options    = this.getOptions();\r\n\r\n        $.each(options.attr, function (name, value) {\r\n            attributes.push(name + '=\"' + value + '\"');\r\n        });\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['controls/link.html'], {\r\n            control: this._options,\r\n            render: {\r\n                attr: attributes.length > 0 ? (' ' + attributes.join(' ')) : '',\r\n            },\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация событий связанных с элементом управления\r\n     */\r\n    _initEvents: function () {\r\n\r\n        let that = this;\r\n\r\n        if (['function', 'string'].indexOf(typeof this._options.onClick) >= 0) {\r\n            $('#coreui-form-' + this._form.getId() + '-control-' + this._index + ' > a')\r\n                .click(function (event) {\r\n\r\n                    if (typeof that._options.onClick === 'function') {\r\n                        that._options.onClick(that._form, event);\r\n                    } else {\r\n                        let callback = CoreUI.form.utils.getFunctionByName(that._options.onClick);\r\n\r\n                        if (typeof callback === 'function') {\r\n                            callback(that._form, event);\r\n                        } else {\r\n                            eval(that._options.onClick);\r\n                        }\r\n                    }\r\n                });\r\n        }\r\n    }\r\n}","\r\nCoreUI.form.controls.submit = {\r\n\r\n    _form: null,\r\n    _index: null,\r\n    _options: {\r\n        type: 'submit',\r\n        href: null,\r\n        content: null,\r\n        onClick: null,\r\n        show: true,\r\n        attr: {\r\n            class: 'btn btn-sm btn-primary'\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация\r\n     * @param {CoreUI.form.instance} form\r\n     * @param {object} options\r\n     * @param {int} index\r\n     */\r\n    init: function (form, options, index) {\r\n\r\n        this._options = $.extend({}, this._options, options);\r\n        this._form    = form;\r\n        this._index   = index;\r\n        let that      = this;\r\n\r\n        form.on('shown.coreui.form', function () {\r\n            that._initEvents();\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\r\n    getOptions: function () {\r\n        return $.extend(true, {}, this._options);\r\n    },\r\n\r\n\r\n    /**\r\n     * Показ контрола\r\n     * @param {int} duration\r\n     */\r\n    show: function (duration) {\r\n\r\n        $('#coreui-form-' + this._form.getId() + '-control-' + this._index).show(duration || 0)\r\n    },\r\n\r\n\r\n    /**\r\n     * Скрытие контрола\r\n     * @param {int} duration\r\n     */\r\n    hide: function (duration) {\r\n\r\n        $('#coreui-form-' + this._form.getId() + '-control-' + this._index).hide(duration || 0)\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     */\r\n    lock: function () {\r\n\r\n        let button = $('#coreui-form-' + this._form.getId() + '-control-' + this._index + ' > button');\r\n\r\n        if ( ! button.find('.spinner-border')[0]) {\r\n            button.prepend('<span class=\"spinner-border spinner-border-sm\"></span> ');\r\n        }\r\n        if ( ! button.attr('disabled')) {\r\n            button.attr('disabled', 'disabled');\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     */\r\n    unlock: function () {\r\n\r\n        let button = $('#coreui-form-' + this._form.getId() + '-control-' + this._index + ' > button');\r\n\r\n        button.find('.spinner-border').remove();\r\n        button.removeAttr('disabled');\r\n    },\r\n\r\n\r\n    /**\r\n     * Формирование контента для размещения на странице\r\n     * @returns {string}\r\n     */\r\n    render: function() {\r\n\r\n        let attributes = [];\r\n        let options    = this.getOptions();\r\n\r\n        options.attr.type = 'submit';\r\n\r\n        $.each(options.attr, function (name, value) {\r\n            attributes.push(name + '=\"' + value + '\"');\r\n        });\r\n\r\n        return CoreUI.form.ejs.render(CoreUI.form.tpl['controls/button.html'], {\r\n            control: this._options,\r\n            render: {\r\n                attr: attributes.length > 0 ? (' ' + attributes.join(' ')) : '',\r\n            },\r\n        });\r\n    },\r\n\r\n\r\n    /**\r\n     * Инициализация событий связанных с элементом управления\r\n     */\r\n    _initEvents: function () {\r\n\r\n        let that = this;\r\n\r\n        if (['function', 'string'].indexOf(typeof this._options.onClick) >= 0) {\r\n            $('#coreui-form-' + this._form.getId() + '-control-' + this._index + ' > button')\r\n                .click(function (event) {\r\n\r\n                    if (typeof that._options.onClick === 'function') {\r\n                        that._options.onClick(that._form, event);\r\n                    } else {\r\n                        let callback = CoreUI.form.utils.getFunctionByName(that._options.onClick);\r\n\r\n                        if (typeof callback === 'function') {\r\n                            callback(that._form, event);\r\n                        } else {\r\n                            eval(that._options.onClick);\r\n                        }\r\n                    }\r\n                });\r\n        }\r\n    }\r\n}","\r\nCoreUI.form.lang.en = {\r\n    \"modal_select\": \"Select\",\r\n    \"modal_loading\": \"Loading...\",\r\n    \"switch_yes\": \"Yes\",\r\n    \"switch_no\": \"No\",\r\n    \"dataset_add\": \"Add\",\r\n    \"date_months\": [ \"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\" ],\r\n    \"date_week\": \"week\",\r\n    \"send_error\": \"An error has occurred. Please try again or contact your administrator\",\r\n    \"required_field\": \"Required field\"\r\n}","\r\nCoreUI.form.lang.ru = {\r\n    \"modal_select\": \"Выбрать\",\r\n    \"modal_loading\": \"Загрузка...\",\r\n    \"switch_yes\": \"Да\",\r\n    \"switch_no\": \"Нет\",\r\n    \"dataset_add\": \"Добавить\",\r\n    \"date_months\": ['Январь','Февраль','Март','Апрель','Май','Июнь', 'Июль','Август','Сентябрь','Октябрь','Ноябрь','Декабрь'],\r\n    \"date_week\": \"неделя\",\r\n    \"send_error\": \"Произошла ошибка. Попробуйте снова или обратитесь к администратору\",\r\n    \"required_field\": \"Обязательное поле\"\r\n}"]}