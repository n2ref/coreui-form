{"version":3,"file":"coreui-form.min.js","sources":["coreui-form.min.js"],"sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, (global.CoreUI = global.CoreUI || {}, global.CoreUI.form = factory()));\n})(this, (function () { 'use strict';\n\n  function _typeof(o) {\n    \"@babel/helpers - typeof\";\n\n    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n      return typeof o;\n    } : function (o) {\n      return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n    }, _typeof(o);\n  }\n\n  (function (f) {\n    if (typeof exports === \"object\" && typeof module !== \"undefined\") {\n      module.exports = f();\n    } else if (typeof define === \"function\" && define.amd) {\n      define([], f);\n    } else {\n      var g;\n      if (typeof window !== \"undefined\") {\n        g = window;\n      } else if (typeof global !== \"undefined\") {\n        g = global;\n      } else if (typeof self !== \"undefined\") {\n        g = self;\n      } else {\n        g = this;\n      }\n      g.ejs = f();\n    }\n  })(function () {\n    return function () {\n      function r(e, n, t) {\n        function o(i, f) {\n          if (!n[i]) {\n            if (!e[i]) {\n              var c = \"function\" == typeof require && require;\n              if (!f && c) return c(i, !0);\n              if (u) return u(i, !0);\n              var a = new Error(\"Cannot find module '\" + i + \"'\");\n              throw a.code = \"MODULE_NOT_FOUND\", a;\n            }\n            var p = n[i] = {\n              exports: {}\n            };\n            e[i][0].call(p.exports, function (r) {\n              var n = e[i][1][r];\n              return o(n || r);\n            }, p, p.exports, r, e, n, t);\n          }\n          return n[i].exports;\n        }\n        for (var u = \"function\" == typeof require && require, i = 0; i < t.length; i++) o(t[i]);\n        return o;\n      }\n      return r;\n    }()({\n      1: [function (require, module, exports) {\n\n        var fs = require(\"fs\");\n        var path = require(\"path\");\n        var utils = require(\"./utils\");\n        var scopeOptionWarned = false;\n        var _VERSION_STRING = require(\"../package.json\").version;\n        var _DEFAULT_OPEN_DELIMITER = \"<\";\n        var _DEFAULT_CLOSE_DELIMITER = \">\";\n        var _DEFAULT_DELIMITER = \"%\";\n        var _DEFAULT_LOCALS_NAME = \"locals\";\n        var _NAME = \"ejs\";\n        var _REGEX_STRING = \"(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)\";\n        var _OPTS_PASSABLE_WITH_DATA = [\"delimiter\", \"scope\", \"context\", \"debug\", \"compileDebug\", \"client\", \"_with\", \"rmWhitespace\", \"strict\", \"filename\", \"async\"];\n        var _OPTS_PASSABLE_WITH_DATA_EXPRESS = _OPTS_PASSABLE_WITH_DATA.concat(\"cache\");\n        var _BOM = /^\\uFEFF/;\n        var _JS_IDENTIFIER = /^[a-zA-Z_$][0-9a-zA-Z_$]*$/;\n        exports.cache = utils.cache;\n        exports.fileLoader = fs.readFileSync;\n        exports.localsName = _DEFAULT_LOCALS_NAME;\n        exports.promiseImpl = new Function(\"return this;\")().Promise;\n        exports.resolveInclude = function (name, filename, isDir) {\n          var dirname = path.dirname;\n          var extname = path.extname;\n          var resolve = path.resolve;\n          var includePath = resolve(isDir ? filename : dirname(filename), name);\n          var ext = extname(name);\n          if (!ext) {\n            includePath += \".ejs\";\n          }\n          return includePath;\n        };\n        function resolvePaths(name, paths) {\n          var filePath;\n          if (paths.some(function (v) {\n            filePath = exports.resolveInclude(name, v, true);\n            return fs.existsSync(filePath);\n          })) {\n            return filePath;\n          }\n        }\n        function getIncludePath(path, options) {\n          var includePath;\n          var filePath;\n          var views = options.views;\n          var match = /^[A-Za-z]+:\\\\|^\\//.exec(path);\n          if (match && match.length) {\n            path = path.replace(/^\\/*/, \"\");\n            if (Array.isArray(options.root)) {\n              includePath = resolvePaths(path, options.root);\n            } else {\n              includePath = exports.resolveInclude(path, options.root || \"/\", true);\n            }\n          } else {\n            if (options.filename) {\n              filePath = exports.resolveInclude(path, options.filename);\n              if (fs.existsSync(filePath)) {\n                includePath = filePath;\n              }\n            }\n            if (!includePath && Array.isArray(views)) {\n              includePath = resolvePaths(path, views);\n            }\n            if (!includePath && typeof options.includer !== \"function\") {\n              throw new Error('Could not find the include file \"' + options.escapeFunction(path) + '\"');\n            }\n          }\n          return includePath;\n        }\n        function handleCache(options, template) {\n          var func;\n          var filename = options.filename;\n          var hasTemplate = arguments.length > 1;\n          if (options.cache) {\n            if (!filename) {\n              throw new Error(\"cache option requires a filename\");\n            }\n            func = exports.cache.get(filename);\n            if (func) {\n              return func;\n            }\n            if (!hasTemplate) {\n              template = fileLoader(filename).toString().replace(_BOM, \"\");\n            }\n          } else if (!hasTemplate) {\n            if (!filename) {\n              throw new Error(\"Internal EJS error: no file name or template \" + \"provided\");\n            }\n            template = fileLoader(filename).toString().replace(_BOM, \"\");\n          }\n          func = exports.compile(template, options);\n          if (options.cache) {\n            exports.cache.set(filename, func);\n          }\n          return func;\n        }\n        function tryHandleCache(options, data, cb) {\n          var result;\n          if (!cb) {\n            if (typeof exports.promiseImpl == \"function\") {\n              return new exports.promiseImpl(function (resolve, reject) {\n                try {\n                  result = handleCache(options)(data);\n                  resolve(result);\n                } catch (err) {\n                  reject(err);\n                }\n              });\n            } else {\n              throw new Error(\"Please provide a callback function\");\n            }\n          } else {\n            try {\n              result = handleCache(options)(data);\n            } catch (err) {\n              return cb(err);\n            }\n            cb(null, result);\n          }\n        }\n        function fileLoader(filePath) {\n          return exports.fileLoader(filePath);\n        }\n        function includeFile(path, options) {\n          var opts = utils.shallowCopy(utils.createNullProtoObjWherePossible(), options);\n          opts.filename = getIncludePath(path, opts);\n          if (typeof options.includer === \"function\") {\n            var includerResult = options.includer(path, opts.filename);\n            if (includerResult) {\n              if (includerResult.filename) {\n                opts.filename = includerResult.filename;\n              }\n              if (includerResult.template) {\n                return handleCache(opts, includerResult.template);\n              }\n            }\n          }\n          return handleCache(opts);\n        }\n        function rethrow(err, str, flnm, lineno, esc) {\n          var lines = str.split(\"\\n\");\n          var start = Math.max(lineno - 3, 0);\n          var end = Math.min(lines.length, lineno + 3);\n          var filename = esc(flnm);\n          var context = lines.slice(start, end).map(function (line, i) {\n            var curr = i + start + 1;\n            return (curr == lineno ? \" >> \" : \"    \") + curr + \"| \" + line;\n          }).join(\"\\n\");\n          err.path = filename;\n          err.message = (filename || \"ejs\") + \":\" + lineno + \"\\n\" + context + \"\\n\\n\" + err.message;\n          throw err;\n        }\n        function stripSemi(str) {\n          return str.replace(/;(\\s*$)/, \"$1\");\n        }\n        exports.compile = function compile(template, opts) {\n          var templ;\n          if (opts && opts.scope) {\n            if (!scopeOptionWarned) {\n              console.warn(\"`scope` option is deprecated and will be removed in EJS 3\");\n              scopeOptionWarned = true;\n            }\n            if (!opts.context) {\n              opts.context = opts.scope;\n            }\n            delete opts.scope;\n          }\n          templ = new Template(template, opts);\n          return templ.compile();\n        };\n        exports.render = function (template, d, o) {\n          var data = d || utils.createNullProtoObjWherePossible();\n          var opts = o || utils.createNullProtoObjWherePossible();\n          if (arguments.length == 2) {\n            utils.shallowCopyFromList(opts, data, _OPTS_PASSABLE_WITH_DATA);\n          }\n          return handleCache(opts, template)(data);\n        };\n        exports.renderFile = function () {\n          var args = Array.prototype.slice.call(arguments);\n          var filename = args.shift();\n          var cb;\n          var opts = {\n            filename: filename\n          };\n          var data;\n          var viewOpts;\n          if (typeof arguments[arguments.length - 1] == \"function\") {\n            cb = args.pop();\n          }\n          if (args.length) {\n            data = args.shift();\n            if (args.length) {\n              utils.shallowCopy(opts, args.pop());\n            } else {\n              if (data.settings) {\n                if (data.settings.views) {\n                  opts.views = data.settings.views;\n                }\n                if (data.settings[\"view cache\"]) {\n                  opts.cache = true;\n                }\n                viewOpts = data.settings[\"view options\"];\n                if (viewOpts) {\n                  utils.shallowCopy(opts, viewOpts);\n                }\n              }\n              utils.shallowCopyFromList(opts, data, _OPTS_PASSABLE_WITH_DATA_EXPRESS);\n            }\n            opts.filename = filename;\n          } else {\n            data = utils.createNullProtoObjWherePossible();\n          }\n          return tryHandleCache(opts, data, cb);\n        };\n        exports.Template = Template;\n        exports.clearCache = function () {\n          exports.cache.reset();\n        };\n        function Template(text, opts) {\n          opts = opts || utils.createNullProtoObjWherePossible();\n          var options = utils.createNullProtoObjWherePossible();\n          this.templateText = text;\n          this.mode = null;\n          this.truncate = false;\n          this.currentLine = 1;\n          this.source = \"\";\n          options.client = opts.client || false;\n          options.escapeFunction = opts.escape || opts.escapeFunction || utils.escapeXML;\n          options.compileDebug = opts.compileDebug !== false;\n          options.debug = !!opts.debug;\n          options.filename = opts.filename;\n          options.openDelimiter = opts.openDelimiter || exports.openDelimiter || _DEFAULT_OPEN_DELIMITER;\n          options.closeDelimiter = opts.closeDelimiter || exports.closeDelimiter || _DEFAULT_CLOSE_DELIMITER;\n          options.delimiter = opts.delimiter || exports.delimiter || _DEFAULT_DELIMITER;\n          options.strict = opts.strict || false;\n          options.context = opts.context;\n          options.cache = opts.cache || false;\n          options.rmWhitespace = opts.rmWhitespace;\n          options.root = opts.root;\n          options.includer = opts.includer;\n          options.outputFunctionName = opts.outputFunctionName;\n          options.localsName = opts.localsName || exports.localsName || _DEFAULT_LOCALS_NAME;\n          options.views = opts.views;\n          options.async = opts.async;\n          options.destructuredLocals = opts.destructuredLocals;\n          options.legacyInclude = typeof opts.legacyInclude != \"undefined\" ? !!opts.legacyInclude : true;\n          if (options.strict) {\n            options._with = false;\n          } else {\n            options._with = typeof opts._with != \"undefined\" ? opts._with : true;\n          }\n          this.opts = options;\n          this.regex = this.createRegex();\n        }\n        Template.modes = {\n          EVAL: \"eval\",\n          ESCAPED: \"escaped\",\n          RAW: \"raw\",\n          COMMENT: \"comment\",\n          LITERAL: \"literal\"\n        };\n        Template.prototype = {\n          createRegex: function () {\n            var str = _REGEX_STRING;\n            var delim = utils.escapeRegExpChars(this.opts.delimiter);\n            var open = utils.escapeRegExpChars(this.opts.openDelimiter);\n            var close = utils.escapeRegExpChars(this.opts.closeDelimiter);\n            str = str.replace(/%/g, delim).replace(/</g, open).replace(/>/g, close);\n            return new RegExp(str);\n          },\n          compile: function () {\n            var src;\n            var fn;\n            var opts = this.opts;\n            var prepended = \"\";\n            var appended = \"\";\n            var escapeFn = opts.escapeFunction;\n            var ctor;\n            var sanitizedFilename = opts.filename ? JSON.stringify(opts.filename) : \"undefined\";\n            if (!this.source) {\n              this.generateSource();\n              prepended += '  var __output = \"\";\\n' + \"  function __append(s) { if (s !== undefined && s !== null) __output += s }\\n\";\n              if (opts.outputFunctionName) {\n                if (!_JS_IDENTIFIER.test(opts.outputFunctionName)) {\n                  throw new Error(\"outputFunctionName is not a valid JS identifier.\");\n                }\n                prepended += \"  var \" + opts.outputFunctionName + \" = __append;\" + \"\\n\";\n              }\n              if (opts.localsName && !_JS_IDENTIFIER.test(opts.localsName)) {\n                throw new Error(\"localsName is not a valid JS identifier.\");\n              }\n              if (opts.destructuredLocals && opts.destructuredLocals.length) {\n                var destructuring = \"  var __locals = (\" + opts.localsName + \" || {}),\\n\";\n                for (var i = 0; i < opts.destructuredLocals.length; i++) {\n                  var name = opts.destructuredLocals[i];\n                  if (!_JS_IDENTIFIER.test(name)) {\n                    throw new Error(\"destructuredLocals[\" + i + \"] is not a valid JS identifier.\");\n                  }\n                  if (i > 0) {\n                    destructuring += \",\\n  \";\n                  }\n                  destructuring += name + \" = __locals.\" + name;\n                }\n                prepended += destructuring + \";\\n\";\n              }\n              if (opts._with !== false) {\n                prepended += \"  with (\" + opts.localsName + \" || {}) {\" + \"\\n\";\n                appended += \"  }\" + \"\\n\";\n              }\n              appended += \"  return __output;\" + \"\\n\";\n              this.source = prepended + this.source + appended;\n            }\n            if (opts.compileDebug) {\n              src = \"var __line = 1\" + \"\\n\" + \"  , __lines = \" + JSON.stringify(this.templateText) + \"\\n\" + \"  , __filename = \" + sanitizedFilename + \";\" + \"\\n\" + \"try {\" + \"\\n\" + this.source + \"} catch (e) {\" + \"\\n\" + \"  rethrow(e, __lines, __filename, __line, escapeFn);\" + \"\\n\" + \"}\" + \"\\n\";\n            } else {\n              src = this.source;\n            }\n            if (opts.client) {\n              src = \"escapeFn = escapeFn || \" + escapeFn.toString() + \";\" + \"\\n\" + src;\n              if (opts.compileDebug) {\n                src = \"rethrow = rethrow || \" + rethrow.toString() + \";\" + \"\\n\" + src;\n              }\n            }\n            if (opts.strict) {\n              src = '\"use strict\";\\n' + src;\n            }\n            if (opts.debug) {\n              console.log(src);\n            }\n            if (opts.compileDebug && opts.filename) {\n              src = src + \"\\n\" + \"//# sourceURL=\" + sanitizedFilename + \"\\n\";\n            }\n            try {\n              if (opts.async) {\n                try {\n                  ctor = new Function(\"return (async function(){}).constructor;\")();\n                } catch (e) {\n                  if (e instanceof SyntaxError) {\n                    throw new Error(\"This environment does not support async/await\");\n                  } else {\n                    throw e;\n                  }\n                }\n              } else {\n                ctor = Function;\n              }\n              fn = new ctor(opts.localsName + \", escapeFn, include, rethrow\", src);\n            } catch (e) {\n              if (e instanceof SyntaxError) {\n                if (opts.filename) {\n                  e.message += \" in \" + opts.filename;\n                }\n                e.message += \" while compiling ejs\\n\\n\";\n                e.message += \"If the above error is not helpful, you may want to try EJS-Lint:\\n\";\n                e.message += \"https://github.com/RyanZim/EJS-Lint\";\n                if (!opts.async) {\n                  e.message += \"\\n\";\n                  e.message += \"Or, if you meant to create an async function, pass `async: true` as an option.\";\n                }\n              }\n              throw e;\n            }\n            var returnedFn = opts.client ? fn : function anonymous(data) {\n              var include = function (path, includeData) {\n                var d = utils.shallowCopy(utils.createNullProtoObjWherePossible(), data);\n                if (includeData) {\n                  d = utils.shallowCopy(d, includeData);\n                }\n                return includeFile(path, opts)(d);\n              };\n              return fn.apply(opts.context, [data || utils.createNullProtoObjWherePossible(), escapeFn, include, rethrow]);\n            };\n            if (opts.filename && typeof Object.defineProperty === \"function\") {\n              var filename = opts.filename;\n              var basename = path.basename(filename, path.extname(filename));\n              try {\n                Object.defineProperty(returnedFn, \"name\", {\n                  value: basename,\n                  writable: false,\n                  enumerable: false,\n                  configurable: true\n                });\n              } catch (e) {}\n            }\n            return returnedFn;\n          },\n          generateSource: function () {\n            var opts = this.opts;\n            if (opts.rmWhitespace) {\n              this.templateText = this.templateText.replace(/[\\r\\n]+/g, \"\\n\").replace(/^\\s+|\\s+$/gm, \"\");\n            }\n            this.templateText = this.templateText.replace(/[ \\t]*<%_/gm, \"<%_\").replace(/_%>[ \\t]*/gm, \"_%>\");\n            var self = this;\n            var matches = this.parseTemplateText();\n            var d = this.opts.delimiter;\n            var o = this.opts.openDelimiter;\n            var c = this.opts.closeDelimiter;\n            if (matches && matches.length) {\n              matches.forEach(function (line, index) {\n                var closing;\n                if (line.indexOf(o + d) === 0 && line.indexOf(o + d + d) !== 0) {\n                  closing = matches[index + 2];\n                  if (!(closing == d + c || closing == \"-\" + d + c || closing == \"_\" + d + c)) {\n                    throw new Error('Could not find matching close tag for \"' + line + '\".');\n                  }\n                }\n                self.scanLine(line);\n              });\n            }\n          },\n          parseTemplateText: function () {\n            var str = this.templateText;\n            var pat = this.regex;\n            var result = pat.exec(str);\n            var arr = [];\n            var firstPos;\n            while (result) {\n              firstPos = result.index;\n              if (firstPos !== 0) {\n                arr.push(str.substring(0, firstPos));\n                str = str.slice(firstPos);\n              }\n              arr.push(result[0]);\n              str = str.slice(result[0].length);\n              result = pat.exec(str);\n            }\n            if (str) {\n              arr.push(str);\n            }\n            return arr;\n          },\n          _addOutput: function (line) {\n            if (this.truncate) {\n              line = line.replace(/^(?:\\r\\n|\\r|\\n)/, \"\");\n              this.truncate = false;\n            }\n            if (!line) {\n              return line;\n            }\n            line = line.replace(/\\\\/g, \"\\\\\\\\\");\n            line = line.replace(/\\n/g, \"\\\\n\");\n            line = line.replace(/\\r/g, \"\\\\r\");\n            line = line.replace(/\"/g, '\\\\\"');\n            this.source += '    ; __append(\"' + line + '\")' + \"\\n\";\n          },\n          scanLine: function (line) {\n            var self = this;\n            var d = this.opts.delimiter;\n            var o = this.opts.openDelimiter;\n            var c = this.opts.closeDelimiter;\n            var newLineCount = 0;\n            newLineCount = line.split(\"\\n\").length - 1;\n            switch (line) {\n              case o + d:\n              case o + d + \"_\":\n                this.mode = Template.modes.EVAL;\n                break;\n              case o + d + \"=\":\n                this.mode = Template.modes.ESCAPED;\n                break;\n              case o + d + \"-\":\n                this.mode = Template.modes.RAW;\n                break;\n              case o + d + \"#\":\n                this.mode = Template.modes.COMMENT;\n                break;\n              case o + d + d:\n                this.mode = Template.modes.LITERAL;\n                this.source += '    ; __append(\"' + line.replace(o + d + d, o + d) + '\")' + \"\\n\";\n                break;\n              case d + d + c:\n                this.mode = Template.modes.LITERAL;\n                this.source += '    ; __append(\"' + line.replace(d + d + c, d + c) + '\")' + \"\\n\";\n                break;\n              case d + c:\n              case \"-\" + d + c:\n              case \"_\" + d + c:\n                if (this.mode == Template.modes.LITERAL) {\n                  this._addOutput(line);\n                }\n                this.mode = null;\n                this.truncate = line.indexOf(\"-\") === 0 || line.indexOf(\"_\") === 0;\n                break;\n              default:\n                if (this.mode) {\n                  switch (this.mode) {\n                    case Template.modes.EVAL:\n                    case Template.modes.ESCAPED:\n                    case Template.modes.RAW:\n                      if (line.lastIndexOf(\"//\") > line.lastIndexOf(\"\\n\")) {\n                        line += \"\\n\";\n                      }\n                  }\n                  switch (this.mode) {\n                    case Template.modes.EVAL:\n                      this.source += \"    ; \" + line + \"\\n\";\n                      break;\n                    case Template.modes.ESCAPED:\n                      this.source += \"    ; __append(escapeFn(\" + stripSemi(line) + \"))\" + \"\\n\";\n                      break;\n                    case Template.modes.RAW:\n                      this.source += \"    ; __append(\" + stripSemi(line) + \")\" + \"\\n\";\n                      break;\n                    case Template.modes.COMMENT:\n                      break;\n                    case Template.modes.LITERAL:\n                      this._addOutput(line);\n                      break;\n                  }\n                } else {\n                  this._addOutput(line);\n                }\n            }\n            if (self.opts.compileDebug && newLineCount) {\n              this.currentLine += newLineCount;\n              this.source += \"    ; __line = \" + this.currentLine + \"\\n\";\n            }\n          }\n        };\n        exports.escapeXML = utils.escapeXML;\n        exports.__express = exports.renderFile;\n        exports.VERSION = _VERSION_STRING;\n        exports.name = _NAME;\n        if (typeof window != \"undefined\") {\n          window.ejs = exports;\n        }\n      }, {\n        \"../package.json\": 6,\n        \"./utils\": 2,\n        fs: 3,\n        path: 4\n      }],\n      2: [function (require, module, exports) {\n\n        var regExpChars = /[|\\\\{}()[\\]^$+*?.]/g;\n        var hasOwnProperty = Object.prototype.hasOwnProperty;\n        var hasOwn = function (obj, key) {\n          return hasOwnProperty.apply(obj, [key]);\n        };\n        exports.escapeRegExpChars = function (string) {\n          if (!string) {\n            return \"\";\n          }\n          return String(string).replace(regExpChars, \"\\\\$&\");\n        };\n        var _ENCODE_HTML_RULES = {\n          \"&\": \"&amp;\",\n          \"<\": \"&lt;\",\n          \">\": \"&gt;\",\n          '\"': \"&#34;\",\n          \"'\": \"&#39;\"\n        };\n        var _MATCH_HTML = /[&<>'\"]/g;\n        function encode_char(c) {\n          return _ENCODE_HTML_RULES[c] || c;\n        }\n        var escapeFuncStr = \"var _ENCODE_HTML_RULES = {\\n\" + '      \"&\": \"&amp;\"\\n' + '    , \"<\": \"&lt;\"\\n' + '    , \">\": \"&gt;\"\\n' + '    , \\'\"\\': \"&#34;\"\\n' + '    , \"\\'\": \"&#39;\"\\n' + \"    }\\n\" + \"  , _MATCH_HTML = /[&<>'\\\"]/g;\\n\" + \"function encode_char(c) {\\n\" + \"  return _ENCODE_HTML_RULES[c] || c;\\n\" + \"};\\n\";\n        exports.escapeXML = function (markup) {\n          return markup == undefined ? \"\" : String(markup).replace(_MATCH_HTML, encode_char);\n        };\n        function escapeXMLToString() {\n          return Function.prototype.toString.call(this) + \";\\n\" + escapeFuncStr;\n        }\n        try {\n          if (typeof Object.defineProperty === \"function\") {\n            Object.defineProperty(exports.escapeXML, \"toString\", {\n              value: escapeXMLToString\n            });\n          } else {\n            exports.escapeXML.toString = escapeXMLToString;\n          }\n        } catch (err) {\n          console.warn(\"Unable to set escapeXML.toString (is the Function prototype frozen?)\");\n        }\n        exports.shallowCopy = function (to, from) {\n          from = from || {};\n          if (to !== null && to !== undefined) {\n            for (var p in from) {\n              if (!hasOwn(from, p)) {\n                continue;\n              }\n              if (p === \"__proto__\" || p === \"constructor\") {\n                continue;\n              }\n              to[p] = from[p];\n            }\n          }\n          return to;\n        };\n        exports.shallowCopyFromList = function (to, from, list) {\n          list = list || [];\n          from = from || {};\n          if (to !== null && to !== undefined) {\n            for (var i = 0; i < list.length; i++) {\n              var p = list[i];\n              if (typeof from[p] != \"undefined\") {\n                if (!hasOwn(from, p)) {\n                  continue;\n                }\n                if (p === \"__proto__\" || p === \"constructor\") {\n                  continue;\n                }\n                to[p] = from[p];\n              }\n            }\n          }\n          return to;\n        };\n        exports.cache = {\n          _data: {},\n          set: function (key, val) {\n            this._data[key] = val;\n          },\n          get: function (key) {\n            return this._data[key];\n          },\n          remove: function (key) {\n            delete this._data[key];\n          },\n          reset: function () {\n            this._data = {};\n          }\n        };\n        exports.hyphenToCamel = function (str) {\n          return str.replace(/-[a-z]/g, function (match) {\n            return match[1].toUpperCase();\n          });\n        };\n        exports.createNullProtoObjWherePossible = function () {\n          if (typeof Object.create == \"function\") {\n            return function () {\n              return Object.create(null);\n            };\n          }\n          if (!({\n            __proto__: null\n          } instanceof Object)) {\n            return function () {\n              return {\n                __proto__: null\n              };\n            };\n          }\n          return function () {\n            return {};\n          };\n        }();\n      }, {}],\n      3: [function (require, module, exports) {}, {}],\n      4: [function (require, module, exports) {\n        (function (process) {\n          function normalizeArray(parts, allowAboveRoot) {\n            var up = 0;\n            for (var i = parts.length - 1; i >= 0; i--) {\n              var last = parts[i];\n              if (last === \".\") {\n                parts.splice(i, 1);\n              } else if (last === \"..\") {\n                parts.splice(i, 1);\n                up++;\n              } else if (up) {\n                parts.splice(i, 1);\n                up--;\n              }\n            }\n            if (allowAboveRoot) {\n              for (; up--; up) {\n                parts.unshift(\"..\");\n              }\n            }\n            return parts;\n          }\n          exports.resolve = function () {\n            var resolvedPath = \"\",\n              resolvedAbsolute = false;\n            for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n              var path = i >= 0 ? arguments[i] : process.cwd();\n              if (typeof path !== \"string\") {\n                throw new TypeError(\"Arguments to path.resolve must be strings\");\n              } else if (!path) {\n                continue;\n              }\n              resolvedPath = path + \"/\" + resolvedPath;\n              resolvedAbsolute = path.charAt(0) === \"/\";\n            }\n            resolvedPath = normalizeArray(filter(resolvedPath.split(\"/\"), function (p) {\n              return !!p;\n            }), !resolvedAbsolute).join(\"/\");\n            return (resolvedAbsolute ? \"/\" : \"\") + resolvedPath || \".\";\n          };\n          exports.normalize = function (path) {\n            var isAbsolute = exports.isAbsolute(path),\n              trailingSlash = substr(path, -1) === \"/\";\n            path = normalizeArray(filter(path.split(\"/\"), function (p) {\n              return !!p;\n            }), !isAbsolute).join(\"/\");\n            if (!path && !isAbsolute) {\n              path = \".\";\n            }\n            if (path && trailingSlash) {\n              path += \"/\";\n            }\n            return (isAbsolute ? \"/\" : \"\") + path;\n          };\n          exports.isAbsolute = function (path) {\n            return path.charAt(0) === \"/\";\n          };\n          exports.join = function () {\n            var paths = Array.prototype.slice.call(arguments, 0);\n            return exports.normalize(filter(paths, function (p, index) {\n              if (typeof p !== \"string\") {\n                throw new TypeError(\"Arguments to path.join must be strings\");\n              }\n              return p;\n            }).join(\"/\"));\n          };\n          exports.relative = function (from, to) {\n            from = exports.resolve(from).substr(1);\n            to = exports.resolve(to).substr(1);\n            function trim(arr) {\n              var start = 0;\n              for (; start < arr.length; start++) {\n                if (arr[start] !== \"\") break;\n              }\n              var end = arr.length - 1;\n              for (; end >= 0; end--) {\n                if (arr[end] !== \"\") break;\n              }\n              if (start > end) return [];\n              return arr.slice(start, end - start + 1);\n            }\n            var fromParts = trim(from.split(\"/\"));\n            var toParts = trim(to.split(\"/\"));\n            var length = Math.min(fromParts.length, toParts.length);\n            var samePartsLength = length;\n            for (var i = 0; i < length; i++) {\n              if (fromParts[i] !== toParts[i]) {\n                samePartsLength = i;\n                break;\n              }\n            }\n            var outputParts = [];\n            for (var i = samePartsLength; i < fromParts.length; i++) {\n              outputParts.push(\"..\");\n            }\n            outputParts = outputParts.concat(toParts.slice(samePartsLength));\n            return outputParts.join(\"/\");\n          };\n          exports.sep = \"/\";\n          exports.delimiter = \":\";\n          exports.dirname = function (path) {\n            if (typeof path !== \"string\") path = path + \"\";\n            if (path.length === 0) return \".\";\n            var code = path.charCodeAt(0);\n            var hasRoot = code === 47;\n            var end = -1;\n            var matchedSlash = true;\n            for (var i = path.length - 1; i >= 1; --i) {\n              code = path.charCodeAt(i);\n              if (code === 47) {\n                if (!matchedSlash) {\n                  end = i;\n                  break;\n                }\n              } else {\n                matchedSlash = false;\n              }\n            }\n            if (end === -1) return hasRoot ? \"/\" : \".\";\n            if (hasRoot && end === 1) {\n              return \"/\";\n            }\n            return path.slice(0, end);\n          };\n          function basename(path) {\n            if (typeof path !== \"string\") path = path + \"\";\n            var start = 0;\n            var end = -1;\n            var matchedSlash = true;\n            var i;\n            for (i = path.length - 1; i >= 0; --i) {\n              if (path.charCodeAt(i) === 47) {\n                if (!matchedSlash) {\n                  start = i + 1;\n                  break;\n                }\n              } else if (end === -1) {\n                matchedSlash = false;\n                end = i + 1;\n              }\n            }\n            if (end === -1) return \"\";\n            return path.slice(start, end);\n          }\n          exports.basename = function (path, ext) {\n            var f = basename(path);\n            if (ext && f.substr(-1 * ext.length) === ext) {\n              f = f.substr(0, f.length - ext.length);\n            }\n            return f;\n          };\n          exports.extname = function (path) {\n            if (typeof path !== \"string\") path = path + \"\";\n            var startDot = -1;\n            var startPart = 0;\n            var end = -1;\n            var matchedSlash = true;\n            var preDotState = 0;\n            for (var i = path.length - 1; i >= 0; --i) {\n              var code = path.charCodeAt(i);\n              if (code === 47) {\n                if (!matchedSlash) {\n                  startPart = i + 1;\n                  break;\n                }\n                continue;\n              }\n              if (end === -1) {\n                matchedSlash = false;\n                end = i + 1;\n              }\n              if (code === 46) {\n                if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n              } else if (startDot !== -1) {\n                preDotState = -1;\n              }\n            }\n            if (startDot === -1 || end === -1 || preDotState === 0 || preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n              return \"\";\n            }\n            return path.slice(startDot, end);\n          };\n          function filter(xs, f) {\n            if (xs.filter) return xs.filter(f);\n            var res = [];\n            for (var i = 0; i < xs.length; i++) {\n              if (f(xs[i], i, xs)) res.push(xs[i]);\n            }\n            return res;\n          }\n          var substr = \"ab\".substr(-1) === \"b\" ? function (str, start, len) {\n            return str.substr(start, len);\n          } : function (str, start, len) {\n            if (start < 0) start = str.length + start;\n            return str.substr(start, len);\n          };\n        }).call(this, require(\"_process\"));\n      }, {\n        _process: 5\n      }],\n      5: [function (require, module, exports) {\n        var process = module.exports = {};\n        var cachedSetTimeout;\n        var cachedClearTimeout;\n        function defaultSetTimout() {\n          throw new Error(\"setTimeout has not been defined\");\n        }\n        function defaultClearTimeout() {\n          throw new Error(\"clearTimeout has not been defined\");\n        }\n        (function () {\n          try {\n            if (typeof setTimeout === \"function\") {\n              cachedSetTimeout = setTimeout;\n            } else {\n              cachedSetTimeout = defaultSetTimout;\n            }\n          } catch (e) {\n            cachedSetTimeout = defaultSetTimout;\n          }\n          try {\n            if (typeof clearTimeout === \"function\") {\n              cachedClearTimeout = clearTimeout;\n            } else {\n              cachedClearTimeout = defaultClearTimeout;\n            }\n          } catch (e) {\n            cachedClearTimeout = defaultClearTimeout;\n          }\n        })();\n        function runTimeout(fun) {\n          if (cachedSetTimeout === setTimeout) {\n            return setTimeout(fun, 0);\n          }\n          if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n            cachedSetTimeout = setTimeout;\n            return setTimeout(fun, 0);\n          }\n          try {\n            return cachedSetTimeout(fun, 0);\n          } catch (e) {\n            try {\n              return cachedSetTimeout.call(null, fun, 0);\n            } catch (e) {\n              return cachedSetTimeout.call(this, fun, 0);\n            }\n          }\n        }\n        function runClearTimeout(marker) {\n          if (cachedClearTimeout === clearTimeout) {\n            return clearTimeout(marker);\n          }\n          if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n            cachedClearTimeout = clearTimeout;\n            return clearTimeout(marker);\n          }\n          try {\n            return cachedClearTimeout(marker);\n          } catch (e) {\n            try {\n              return cachedClearTimeout.call(null, marker);\n            } catch (e) {\n              return cachedClearTimeout.call(this, marker);\n            }\n          }\n        }\n        var queue = [];\n        var draining = false;\n        var currentQueue;\n        var queueIndex = -1;\n        function cleanUpNextTick() {\n          if (!draining || !currentQueue) {\n            return;\n          }\n          draining = false;\n          if (currentQueue.length) {\n            queue = currentQueue.concat(queue);\n          } else {\n            queueIndex = -1;\n          }\n          if (queue.length) {\n            drainQueue();\n          }\n        }\n        function drainQueue() {\n          if (draining) {\n            return;\n          }\n          var timeout = runTimeout(cleanUpNextTick);\n          draining = true;\n          var len = queue.length;\n          while (len) {\n            currentQueue = queue;\n            queue = [];\n            while (++queueIndex < len) {\n              if (currentQueue) {\n                currentQueue[queueIndex].run();\n              }\n            }\n            queueIndex = -1;\n            len = queue.length;\n          }\n          currentQueue = null;\n          draining = false;\n          runClearTimeout(timeout);\n        }\n        process.nextTick = function (fun) {\n          var args = new Array(arguments.length - 1);\n          if (arguments.length > 1) {\n            for (var i = 1; i < arguments.length; i++) {\n              args[i - 1] = arguments[i];\n            }\n          }\n          queue.push(new Item(fun, args));\n          if (queue.length === 1 && !draining) {\n            runTimeout(drainQueue);\n          }\n        };\n        function Item(fun, array) {\n          this.fun = fun;\n          this.array = array;\n        }\n        Item.prototype.run = function () {\n          this.fun.apply(null, this.array);\n        };\n        process.title = \"browser\";\n        process.browser = true;\n        process.env = {};\n        process.argv = [];\n        process.version = \"\";\n        process.versions = {};\n        function noop() {}\n        process.on = noop;\n        process.addListener = noop;\n        process.once = noop;\n        process.off = noop;\n        process.removeListener = noop;\n        process.removeAllListeners = noop;\n        process.emit = noop;\n        process.prependListener = noop;\n        process.prependOnceListener = noop;\n        process.listeners = function (name) {\n          return [];\n        };\n        process.binding = function (name) {\n          throw new Error(\"process.binding is not supported\");\n        };\n        process.cwd = function () {\n          return \"/\";\n        };\n        process.chdir = function (dir) {\n          throw new Error(\"process.chdir is not supported\");\n        };\n        process.umask = function () {\n          return 0;\n        };\n      }, {}],\n      6: [function (require, module, exports) {\n        module.exports = {\n          name: \"ejs\",\n          description: \"Embedded JavaScript templates\",\n          keywords: [\"template\", \"engine\", \"ejs\"],\n          version: \"3.1.8\",\n          author: \"Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)\",\n          license: \"Apache-2.0\",\n          bin: {\n            ejs: \"./bin/cli.js\"\n          },\n          main: \"./lib/ejs.js\",\n          jsdelivr: \"ejs.min.js\",\n          unpkg: \"ejs.min.js\",\n          repository: {\n            type: \"git\",\n            url: \"git://github.com/mde/ejs.git\"\n          },\n          bugs: \"https://github.com/mde/ejs/issues\",\n          homepage: \"https://github.com/mde/ejs\",\n          dependencies: {\n            jake: \"^10.8.5\"\n          },\n          devDependencies: {\n            browserify: \"^16.5.1\",\n            eslint: \"^6.8.0\",\n            \"git-directory-deploy\": \"^1.5.1\",\n            jsdoc: \"^4.0.2\",\n            \"lru-cache\": \"^4.0.1\",\n            mocha: \"^10.2.0\",\n            \"uglify-js\": \"^3.3.16\"\n          },\n          engines: {\n            node: \">=0.10.0\"\n          },\n          scripts: {\n            test: \"mocha -u tdd\"\n          }\n        };\n      }, {}]\n    }, {}, [1])(1);\n  });\n\n  var tpl = Object.create(null);\n  tpl['form-error.html'] = '<div class=\"coreui-form__error alert alert-danger alert-dismissible fade show mb-3 <%= options.class %>\"> <%- message %> <% if (options.dismiss) { %> <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\"></button> <% } %> </div>';\n  tpl['form-field-content.html'] = '<%- content %>';\n  tpl['form-field-group.html'] = '<div id=\"coreui-form-<%= id %>\" class=\"coreui-form__group_container mb-3\"> <div class=\"coreui-form__group_label pe-2\"> <h6 class=\"coreui-form__field_label_text col-form-label\"> <%- group.label %> <% if (group.showCollapsible) { %> <button type=\"button\" class=\"btn btn-link btn-collapsible text-dark\"> <% if ( ! group.show) { %> <i class=\"bi bi-chevron-right\"></i> <% } else { %> <i class=\"bi bi-chevron-down\"></i> <% } %> </button> <% } %> </h6> </div> <div class=\"coreui-form__group_content\"<% if ( ! group.show) { %> style=\"display:none\"<% } %>> <%- content %> </div> </div>';\n  tpl['form-field-label.html'] = '<div id=\"coreui-form-<%= id %>\" class=\"coreui-form__field_container d-flex flex-column flex-md-row mb-3\" <% if ( ! field.show) { %> style=\"display:none\"<% } %>> <% if (field.labelWidth !== 0 && field.labelWidth !== \\'0px\\') { %> <div class=\"coreui-form__field_label text-md-end text-sm-start pe-2\"<% if (field.labelWidth) { %> style=\"min-width:<%= field.labelWidth %>;width:<%= field.labelWidth %>\"<% } %>> <div class=\"coreui-form__field_label_content col-form-label\"> <% if (field.required) { %> <span class=\"coreui-form__field_label_req text-danger\">*</span> <% } %> <span class=\"coreui-form__field_label_text fw-medium\"><%- field.label %></span> </div> <% if (field.description) { %> <div class=\"coreui-form__field_label_description text-muted\"> <small><%- field.description %></small> </div> <% } %> </div> <% } %> <div class=\"coreui-form__field_content flex-fill\"> <div class=\"d-inline-block content-<%= hash %>\"> <%- content %> </div> <% if (field.outContent) { %> <span class=\"coreui-form__field-content-out d-inline-block align-top ps-1\"> <%- field.outContent %> </span> <% } %> <% if (attachFields && attachFields.length > 0) { %> <% $.each(attachFields, function(key, attachField) { %> <div class=\"<% if (attachField.hasOwnProperty(\\'direction\\') && attachField.direction === \\'column\\') { %>d-block mt-2<% } else { %>d-inline-block<% } %> content-<%= attachField.hash %>\"> <%- attachField.content %> </div> <% }); %> <% } %> </div> </div>';\n  tpl['form.html'] = '<div id=\"coreui-form-<%= form.id %>\" class=\"coreui-form mb-2\" <% if (widthSizes) { %>style=\"<%= widthSizes.join(\\';\\') %>\"<% } %>> <% if (form.title) { %> <h5 class=\"mb-4\"><%- form.title %></h5> <% } %> <form action=\"<%= form.send.url %>\" method=\"<%= form.send.method %>\"<%- formAttr %>> <div class=\"coreui-form__fields d-flex justify-content-start flex-column flex-wrap\"> <%- layout %> </div> <% if (controls) { %> <div class=\"coreui-form__controls d-flex justify-content-start flex-sm-wrap flex-md-nowrap\"> <% if (form.controlsOffset !== 0 && form.controlsOffset !== \\'0px\\') { %> <div class=\"d-none d-md-block\" style=\"width:<%= form.controlsOffset %>;min-width:<%= form.controlsOffset %>\"></div> <% } %> <div class=\"d-flex justify-content-start flex-wrap gap-2\"> <% $.each(controls, function(key, control) { %> <div id=\"coreui-form-<%= form.id %>-control-<%= control.index %>\" class=\"coreui-form__control_container\" <% if ( ! control.show) { %>style=\"display:none\"<% } %>> <%- control.content %> </div> <% }); %> </div> </div> <% } %> </form> </div>';\n  tpl['controls/button.html'] = '<button <%- render.attr %>><%- control.content %></button>';\n  tpl['controls/link.html'] = '<a href=\"<%- control.href %>\"<%- render.attr %>><%- control.content %></a>';\n  tpl['fields/checkbox.html'] = '<% if (field.readonly) { %> <div class=\"coreui-form__field-readonly col-form-label\"><%- render.selectedItems.join(\\', \\') %></div> <% } else { %> <div class=\"pt-2\"> <% $.each(render.options, function(key, option) { %> <div class=\"form-check<% if (field.inline) { %> form-check-inline<% } %>\"> <input <%- option.attr %>/> <label class=\"form-check-label\" for=\"<%= option.id %>\"><%= option.text %></label> </div> <% }); %> </div> <% } %>';\n  tpl['fields/color.html'] = '<% if (field.readonly) { %> <div class=\"coreui-form__field-readonly col-form-label rounded-1\" style=\"width: 14px;height: 14px;background-color: <%= value %>\"></div> <% } else { %> <input <%- render.attr %>/> <% if (render.datalist.length > 0) { %> <datalist id=\"<%= datalistId %>\"> <% $.each(render.datalist, function(key, item) { %> <option <%- item.attr %>/> <% }); %> </datalist> <% } %> <% } %>';\n  tpl['fields/dataset-row-readonly.html'] = '<tr class=\"coreui-form__field-dataset-item\"> <% $.each(options, function(key, option) { %> <td class=\"pe-2 pb-1\"> <%- option.value %> </td> <% }); %> </tr>';\n  tpl['fields/dataset-row.html'] = '<tr class=\"coreui-form__field-dataset-item\" id=\"dataset-item-<%= hashItem %>\"> <% $.each(options, function(key, option) { %> <td class=\"pe-1 pb-1\"> <% if (option.type === \\'select\\') { %> <select <%- option.attr %>> <% $.each(option.items, function(key, item) { %> <option <%- item.attr %>><%- item.title %></option> <% }); %> </select> <% } else if (option.type === \\'switch\\') { %> <div class=\"form-check form-switch\"> <input <%- option.attr %>/> </div> <% } else { %> <input <%- option.attr %>> <% } %> </td> <% }); %> <td class=\"pb-1\"> <button type=\"button\" class=\"btn btn-link btn-dataset-remove\" data-item-id=\"dataset-item-<%= hashItem %>\"> <i class=\"bi bi-x text-muted\"></i> </button> </td> </tr>';\n  tpl['fields/dataset.html'] = '<% if (field.readonly) { %> <table class=\"coreui-form__field-dataset-container\" <% if (render.rows.length == 0) { %> style=\"display:none\"<% } %>> <thead> <tr> <% $.each(render.headers, function(key, item) { %> <td class=\"text-muted pe-2\"><small><%= item.title %></small></td> <% }); %> </tr> </thead> <tbody class=\"coreui-form__field-dataset-list\"> <% $.each(render.rows, function(key, row) { %> <%- row %> <% }); %> </tbody> </table> <% } else { %> <table class=\"coreui-form__field-dataset-container\" <% if (render.rows.length == 0) { %> style=\"display:none\"<% } %>> <thead> <tr> <% $.each(render.headers, function(key, item) { %> <td class=\"text-muted\"><small><%= item.title %></small></td> <% }); %> <td></td> </tr> </thead> <tbody class=\"coreui-form__field-dataset-list\"> <% $.each(render.rows, function(key, row) { %> <%- row %> <% }); %> </tbody> </table> <button type=\"button\" class=\"btn btn-link btn-dataset-add\"><%= lang.dataset_add %></button> <% } %>';\n  tpl['fields/hidden.html'] = '<% if ( ! field.readonly) { %> <input <%- render.attr %>/> <% } %>';\n  tpl['fields/input.html'] = '<% if (field.readonly) { %> <div class=\"coreui-form__field-readonly col-form-label\"><%- value %></div> <% } else { %> <input <%- render.attr %>/> <% if (render.datalist.length > 0) { %> <datalist id=\"<%= datalistId %>\"> <% $.each(render.datalist, function(key, item) { %> <option <%- item.attr %>/> <% }); %> </datalist> <% } %> <% } %>';\n  tpl['fields/modal-loading.html'] = '<div class=\"py-4 d-flex justify-content-center align-items-center gap-2\"> <div class=\"spinner-border mr-2\"></div> <%= lang.modal_loading %> </div> ';\n  tpl['fields/modal.html'] = '<% if (field.readonly) { %> <div class=\"coreui-form__field-readonly col-form-label\"><%= text %></div> <% } else { %> <div class=\"input-group\"<% if (render.width) { %> style=\"width:<%= render.width %>\"<% } %>> <input <%- render.attr %>/> <input type=\"hidden\" name=\"<%= field.name %>\" value=\"<%= value %>\" class=\"coreui-form-modal-value\"/> <% if ( ! field.required) { %> <button class=\"btn btn-outline-secondary btn-modal-clear border-secondary-subtle\" type=\"button\"> <i class=\"bi bi-x\"></i> </button> <% } %> <button class=\"btn btn-outline-secondary btn-modal-select border-secondary-subtle\" type=\"button\"><%= lang.modal_select %></button> </div> <% } %>';\n  tpl['fields/passwordRepeat.html'] = '<% if (field.readonly) { %> <div class=\"coreui-form__field-readonly col-form-label\"><%- value %></div> <% } else { %> <div class=\"d-flex gap-1 align-items-center\"> <input <%- render.attr %>/> <% if (field.showBtn) { %> <div class=\"input-group flex-nowrap\"> <input <%- render.attr2 %>/> <button class=\"btn btn-outline-secondary border-secondary-subtle btn-password-change\" type=\"button\" data-change=\"<%- lang.change %>\" data-cancel=\"<%- lang.cancel %>\"><%= btn_text %></button> </div> <% } else { %> <input <%- render.attr2 %>/> <% } %> </div> <% } %>';\n  tpl['fields/radio.html'] = '<% if (field.readonly) { %> <div class=\"coreui-form__field-readonly col-form-label\"><%- render.selectedItem %></div> <% } else { %> <div class=\"pt-2\"> <% $.each(render.options, function(key, option) { %> <div class=\"form-check<% if (field.inline) { %> form-check-inline<% } %>\"> <input <%- option.attr %>/> <label class=\"form-check-label\" for=\"<%= option.id %>\"><%= option.text %></label> </div> <% }); %> </div> <% } %>';\n  tpl['fields/select.html'] = '<% if (field.readonly) { %> <div class=\"coreui-form__field-readonly col-form-label\"><%= render.selectedOptions.join(\\', \\') %></div> <% } else { %> <select <%- render.attr %>> <% $.each(render.options, function(key, option) { %> <% if (option.type === \\'group\\') { %> <optgroup<%- option.attr %>/> <% $.each(option.options, function(key, groupOption) { %> <option <%- groupOption.attr %>/><%= groupOption.text %></option> <% }); %> </optgroup> <% } else { %> <option <%- option.attr %>/><%= option.text %></option> <% } %> <% }); %> </select> <% } %>';\n  tpl['fields/switch.html'] = '<% if (field.readonly) { %> <div class=\"coreui-form__field-readonly col-form-label\"><%= field.valueY == value ? lang.switch_yes : lang.switch_no %></div> <% } else { %> <div class=\"form-check form-switch pt-2\"> <input <%- render.attr %>/> </div> <% } %>';\n  tpl['fields/textarea.html'] = '<% if (field.readonly) { %> <div class=\"coreui-form__field-readonly col-form-label\"><%- value %></div> <% } else { %> <textarea <%- render.attr %>><%- value %></textarea> <% } %>';\n  tpl['fields/wysiwyg.html'] = '<% if (field.readonly) { %> <div class=\"coreui-form__field-readonly col-form-label\"><%- value %></div> <% } else { %> <textarea name=\"<%= field.name %>\" id=\"editor-<%= editorHash %>\"><%- value %></textarea> <% } %>';\n\n  var coreuiFormUtils = {\n    /**\r\n     * Получение значения поля\r\n     * @param {coreuiFormInstance} form\r\n     * @param {object}               fieldOptions\r\n     * @returns {string|number|null}\r\n     */\n    getFieldValue: function getFieldValue(form, fieldOptions) {\n      var formRecord = form.getRecord();\n      if (fieldOptions && formRecord && typeof fieldOptions.name === 'string' && _typeof(formRecord) === 'object' && formRecord.hasOwnProperty(fieldOptions.name) && ['string', 'number', 'object'].indexOf(_typeof(formRecord[fieldOptions.name])) >= 0) {\n        return formRecord[fieldOptions.name];\n      }\n      return '';\n    },\n    /**\r\n     * Получение функции из указанного текста\r\n     * @param functionName\r\n     * @param context\r\n     * @returns {null|Window}\r\n     * @private\r\n     */\n    getFunctionByName: function getFunctionByName(functionName, context) {\n      var namespaces = functionName.split(\".\");\n      var func = namespaces.pop();\n      context = context || window;\n      for (var i = 0; i < namespaces.length; i++) {\n        if (context.hasOwnProperty(namespaces[i])) {\n          context = context[namespaces[i]];\n        } else {\n          return null;\n        }\n      }\n      if (typeof context[func] === 'function') {\n        return context[func];\n      }\n      return null;\n    },\n    /**\r\n     * Обработка полей в полях\r\n     * @param form\r\n     * @param defaultOptions\r\n     * @param fieldOptions\r\n     */\n    mergeFieldOptions: function mergeFieldOptions(form, defaultOptions, fieldOptions) {\n      var options = $.extend(true, {}, defaultOptions);\n      if (fieldOptions) {\n        if (options.hasOwnProperty('attr') && _typeof(options.attr) === 'object' && fieldOptions.hasOwnProperty('attr') && _typeof(fieldOptions.attr) === 'object') {\n          fieldOptions.attr = this.mergeAttr(options.attr, fieldOptions.attr);\n        }\n        options = $.extend(true, {}, options, fieldOptions);\n      }\n      if (options.hasOwnProperty('width')) {\n        if (options.width) {\n          var unit = typeof options.width === 'number' ? 'px' : '';\n          options.width = options.width + unit;\n        } else if (form._options.fieldWidth && options.type !== 'color') {\n          var _unit = typeof form._options.fieldWidth === 'number' ? 'px' : '';\n          options.width = form._options.fieldWidth + _unit;\n        }\n      }\n      if (options.hasOwnProperty('labelWidth')) {\n        if (options.labelWidth >= 0 && options.labelWidth !== null) {\n          var _unit2 = typeof options.labelWidth === 'number' ? 'px' : '';\n          options.labelWidth = options.labelWidth + _unit2;\n        } else if (form._options.labelWidth) {\n          var _unit3 = typeof form._options.labelWidth === 'number' ? 'px' : '';\n          options.labelWidth = form._options.labelWidth + _unit3;\n        }\n      }\n      return options;\n    },\n    /**\r\n     * Объединение атрибутов\r\n     * @param attr1\r\n     * @param attr2\r\n     * @returns {object}\r\n     */\n    mergeAttr: function mergeAttr(attr1, attr2) {\n      var mergeAttr = Object.assign({}, attr1);\n      if (_typeof(attr2) === 'object') {\n        $.each(attr2, function (name, value) {\n          if (mergeAttr.hasOwnProperty(name)) {\n            if (name === 'class') {\n              mergeAttr[name] += ' ' + value;\n            } else if (name === 'style') {\n              mergeAttr[name] += ';' + value;\n            } else {\n              mergeAttr[name] = value;\n            }\n          } else {\n            mergeAttr[name] = value;\n          }\n        });\n      }\n      return mergeAttr;\n    },\n    /**\r\n     * Инициализация и рендер дополнительных полей\r\n     * @param {coreuiFormInstance} form\r\n     * @param {object}               options\r\n     * @returns {object}\r\n     * @private\r\n     */\n    getAttacheFields: function getAttacheFields(form, options) {\n      var fields = [];\n      if (_typeof(options) === 'object' && _typeof(options.fields) === 'object' && Array.isArray(options.fields)) {\n        $.each(options.fields, function (key, field) {\n          var instance = form.initField(field);\n          if (_typeof(instance) !== 'object') {\n            return;\n          }\n          fields.push({\n            hash: instance._hash,\n            direction: options.hasOwnProperty('fieldsDirection') ? options.fieldsDirection : 'row',\n            content: instance.renderContent()\n          });\n        });\n      }\n      return fields;\n    },\n    /**\r\n     * Форматирование даты\r\n     * @param {string} value\r\n     * @return {string}\r\n     */\n    formatDate: function formatDate(value) {\n      if (value && value.length === 10) {\n        var date = new Date(value);\n        var year = date.getFullYear();\n        var month = date.getMonth() + 1;\n        var day = date.getDate();\n        day = day < 10 ? '0' + day : day;\n        month = month < 10 ? '0' + month : month;\n        value = day + '.' + month + '.' + year;\n      }\n      return value;\n    },\n    /**\r\n     * Форматирование даты со временем\r\n     * @param {string} value\r\n     * @return {string}\r\n     */\n    formatDateTime: function formatDateTime(value) {\n      if (value && value.length >= 10) {\n        var date = new Date(value);\n        var year = date.getFullYear();\n        var month = date.getMonth() + 1;\n        var day = date.getDate();\n        var hour = (\"00\" + date.getHours()).slice(-2);\n        var min = (\"00\" + date.getMinutes()).slice(-2);\n        var sec = (\"00\" + date.getSeconds()).slice(-2);\n        day = day < 10 ? '0' + day : day;\n        month = month < 10 ? '0' + month : month;\n        value = day + '.' + month + '.' + year + ' ' + hour + ':' + min + ':' + sec;\n      }\n      return value;\n    },\n    /**\r\n     * Форматирование даты со временем\r\n     * @param {string} value\r\n     * @param {object} lang\r\n     * @return {string}\r\n     */\n    formatDateMonth: function formatDateMonth(value, lang) {\n      if (value && value.length === 7) {\n        var date = new Date(value);\n        var year = date.getFullYear();\n        var month = date.getMonth();\n        var monthLang = lang.date_months.hasOwnProperty(month) ? lang.date_months[month] : '';\n        value = monthLang + ' ' + year;\n      }\n      return value;\n    },\n    /**\r\n     * Форматирование даты со временем\r\n     * @param {string} value\r\n     * @param {object} lang\r\n     * @return {string}\r\n     */\n    formatDateWeek: function formatDateWeek(value, lang) {\n      if (value && value.length >= 7) {\n        var year = value.substring(0, 4);\n        var week = value.substring(6);\n        value = year + ' ' + lang.date_week + ' ' + week;\n      }\n      return value;\n    },\n    /**\r\n     * Получение значения из объекта по указанному пути\r\n     * @param {object} obj\r\n     * @param {string} path\r\n     * @return {*}\r\n     */\n    getObjValue: function getObjValue(obj, path) {\n      path = path.split('.');\n      for (var i = 0, len = path.length; i < len; i++) {\n        obj = obj[path[i]];\n      }\n      return obj;\n    },\n    /**\r\n     * Проверка текста на содержимое JSON\r\n     * @param text\r\n     * @return {boolean}\r\n     */\n    isJson: function isJson(text) {\n      if (typeof text !== \"string\") {\n        return false;\n      }\n      try {\n        var json = JSON.parse(text);\n        return _typeof(json) === 'object' || Array.isArray(json);\n      } catch (error) {\n        return false;\n      }\n    },\n    /**\r\n     * Проверка на объект\r\n     * @param value\r\n     */\n    isObject: function isObject(value) {\n      return _typeof(value) === 'object' && !Array.isArray(value) && value !== null;\n    },\n    /**\r\n     * Проверка на число\r\n     * @param num\r\n     * @returns {boolean}\r\n     * @private\r\n     */\n    isNumeric: function isNumeric(num) {\n      return (typeof num === 'number' || typeof num === \"string\" && num.trim() !== '') && !isNaN(num);\n    },\n    /**\r\n     * @returns {string}\r\n     * @private\r\n     */\n    hashCode: function hashCode() {\n      return this.crc32((new Date().getTime() + Math.random()).toString()).toString(16);\n    },\n    /**\r\n     * Hash crc32\r\n     * @param str\r\n     * @returns {number}\r\n     * @private\r\n     */\n    crc32: function crc32(str) {\n      for (var a, o = [], c = 0; c < 256; c++) {\n        a = c;\n        for (var f = 0; f < 8; f++) {\n          a = 1 & a ? 3988292384 ^ a >>> 1 : a >>> 1;\n        }\n        o[c] = a;\n      }\n      for (var n = -1, t = 0; t < str.length; t++) {\n        n = n >>> 8 ^ o[255 & (n ^ str.charCodeAt(t))];\n      }\n      return (-1 ^ n) >>> 0;\n    },\n    /**\r\n     * Округление\r\n     * @param number\r\n     * @param precision\r\n     * @returns {number}\r\n     */\n    round: function round(number, precision) {\n      precision = typeof precision !== 'undefined' ? parseInt(precision) : 0;\n      if (precision === 0) {\n        return Math.round(number);\n      } else if (precision > 0) {\n        var pow = Math.pow(10, precision);\n        return Math.round(number * pow) / pow;\n      } else {\n        var _pow = Math.pow(10, precision);\n        return Math.round(number / _pow) * _pow;\n      }\n    }\n  };\n\n  var coreuiFormInstance = {\n    _options: {\n      id: null,\n      title: '',\n      lang: 'en',\n      langList: {},\n      send: {\n        url: '',\n        method: 'POST',\n        format: 'form'\n      },\n      width: null,\n      validResponse: {\n        headers: null,\n        dataType: null\n      },\n      minWidth: null,\n      maxWidth: null,\n      labelWidth: 200,\n      controlsOffset: null,\n      readonly: false,\n      validate: false,\n      successLoadUrl: '',\n      errorClass: '',\n      layout: '[column_default]',\n      onSubmit: null,\n      onSubmitSuccess: null,\n      record: {},\n      fields: [],\n      controls: []\n    },\n    _lock: false,\n    _fieldsIndex: 0,\n    _groupsIndex: 0,\n    _controlsIndex: 0,\n    _groups: [],\n    _fields: [],\n    _controls: [],\n    _events: {},\n    _formWrapper: {},\n    /**\r\n     * Инициализация\r\n     * @param {object} formWrapper\r\n     * @param {object} options\r\n     * @private\r\n     */\n    _init: function _init(formWrapper, options) {\n      this._options.labelWidth = formWrapper.getSetting('labelWidth');\n      this._options.errorClass = formWrapper.getSetting('errorClass');\n      this._options.send.format = formWrapper.getSetting('sendDataFormat');\n      this._formWrapper = formWrapper;\n      this._options = $.extend(true, {}, this._options, options);\n      if (!this._options.id) {\n        this._options.id = coreuiFormUtils.hashCode();\n      }\n      if (this._options.hasOwnProperty('labelWidth')) {\n        if (this._options.labelWidth >= 0 && this._options.labelWidth !== null) {\n          var unit = typeof this._options.labelWidth === 'number' ? 'px' : '';\n          this._options.labelWidth = this._options.labelWidth + unit;\n        }\n      }\n      if (!this._options.hasOwnProperty('controlsOffset') || this._options.controlsOffset === null) {\n        this._options.controlsOffset = this._options.labelWidth;\n      } else {\n        if (this._options.controlsOffset >= 0) {\n          var _unit = typeof this._options.controlsOffset === 'number' ? 'px' : '';\n          this._options.controlsOffset = this._options.controlsOffset + _unit;\n        }\n      }\n    },\n    /**\r\n     *\r\n     */\n    initEvents: function initEvents() {\n      var that = this;\n      var formContainer = '#coreui-form-' + this._options.id + ' > form';\n      $(formContainer).on('submit', function () {\n        setTimeout(function () {\n          that.send.apply(that);\n        }, 0);\n        return false;\n      });\n      this._trigger('shown.coreui.form');\n    },\n    /**\r\n     * Получение id формы\r\n     * @return {string|null}\r\n     */\n    getId: function getId() {\n      return this._options.hasOwnProperty('id') ? this._options.id : null;\n    },\n    /**\r\n     *\r\n     * @param element\r\n     * @returns {*}\r\n     */\n    render: function render(element) {\n      var that = this;\n      var widthSizes = [];\n      var layout = this._options.layout;\n      var controls = [];\n      var formAttr = [];\n      if (this._options.width) {\n        var unit = typeof this._options.width === 'number' ? 'px' : '';\n        widthSizes.push('width:' + this._options.width + unit);\n      }\n      if (this._options.minWidth) {\n        var _unit2 = typeof this._options.minWidth === 'number' ? 'px' : '';\n        widthSizes.push('min-width:' + this._options.minWidth + _unit2);\n      }\n      if (this._options.maxWidth) {\n        var _unit3 = typeof this._options.maxWidth === 'number' ? 'px' : '';\n        widthSizes.push('max-width:' + this._options.maxWidth + _unit3);\n      }\n\n      // Поля\n      if (_typeof(this._options.fields) === 'object' && Array.isArray(this._options.fields) && this._options.fields.length > 0 && layout && typeof layout === 'string') {\n        var matches = Array.from(layout.matchAll(/\\[column_([\\w_\\d]+)\\]/g));\n        var columns = [];\n        var columnsContent = {};\n        if (matches.length > 0) {\n          $.each(matches, function (key, match) {\n            columns.push(match[1]);\n          });\n        }\n        if (columns.length > 0) {\n          $.each(this._options.fields, function (key, field) {\n            var column = field.hasOwnProperty('column') && (typeof field.column === 'string' || typeof field.column === 'number') ? columns.indexOf(field.column) >= 0 ? field.column : null : 'default';\n            if (typeof column !== 'string') {\n              return;\n            }\n            var type = field.hasOwnProperty('type') && typeof field.type === 'string' ? field.type : '';\n            var instance = null;\n            if (type === 'group') {\n              instance = that.initGroup(field);\n            } else {\n              instance = that.initField(field);\n            }\n            if (!instance || _typeof(instance) !== 'object') {\n              return;\n            }\n            if (!columnsContent.hasOwnProperty(column)) {\n              columnsContent[column] = [];\n            }\n            columnsContent[column].push(instance.render());\n          });\n        }\n        if (Object.keys(columnsContent).length >= 0) {\n          $.each(columnsContent, function (name, fieldContents) {\n            layout = layout.replace('[column_' + name + ']', fieldContents.join(''));\n          });\n        }\n      }\n\n      // Элементы управления\n      if (_typeof(this._options.controls) === 'object' && Array.isArray(this._options.controls) && this._options.controls.length > 0) {\n        $.each(this._options.controls, function (key, control) {\n          var instance = that.initControl(control);\n          if (!instance || _typeof(instance) !== 'object') {\n            return;\n          }\n          controls.push({\n            show: !control.hasOwnProperty('show') || control.show,\n            index: that._controlsIndex - 1,\n            content: instance.render()\n          });\n        });\n      }\n      if (typeof this._options.validate === 'boolean' && this._options.validate) {\n        formAttr.push('novalidate');\n      }\n      var html = ejs.render(tpl['form.html'], {\n        form: this._options,\n        formAttr: formAttr ? ' ' + formAttr.join(' ') : '',\n        widthSizes: widthSizes,\n        layout: layout,\n        controls: controls\n      });\n      if (element === undefined) {\n        return html;\n      }\n\n      // Dom element\n      var domElement = {};\n      if (typeof element === 'string') {\n        domElement = document.getElementById(element);\n        if (!domElement) {\n          return '';\n        }\n      } else if (element instanceof HTMLElement) {\n        domElement = element;\n      }\n      domElement.innerHTML = html;\n      this.initEvents();\n    },\n    /**\r\n     *\r\n     */\n    lock: function lock() {\n      this._lock = true;\n      $.each(this._controls, function (key, control) {\n        var controlOptions = control.getOptions();\n        if (controlOptions.hasOwnProperty('type') && controlOptions.type === 'submit') {\n          control.lock();\n        }\n      });\n    },\n    /**\r\n     * Разблокировка\r\n     */\n    unlock: function unlock() {\n      this._lock = false;\n      $.each(this._controls, function (key, control) {\n        var controlOptions = control.getOptions();\n        if (controlOptions.hasOwnProperty('type') && controlOptions.type === 'submit') {\n          control.unlock();\n        }\n      });\n    },\n    /**\r\n     * Отправка данных формы\r\n     */\n    send: function send() {\n      if (this._lock) {\n        return;\n      }\n      if (typeof this._options.validate === 'boolean' && this._options.validate) {\n        var isValid = this.validate();\n        if (!isValid) {\n          return;\n        }\n      }\n      var onsubmit = null;\n      var data = this.getData();\n      if (typeof this._options.onSubmit === 'function') {\n        onsubmit = this._options.onSubmit;\n      } else if (typeof this._options.onSubmit === 'string' && this._options.onSubmit) {\n        var func = coreuiFormUtils.getFunctionByName(this._options.onSubmit);\n        if (typeof func === 'function') {\n          onsubmit = func;\n        } else if (typeof this._options.onSubmit === 'string') {\n          onsubmit = new Function('form', 'data', this._options.onSubmit);\n        }\n      }\n      if (typeof onsubmit === 'function') {\n        var onSubmitResult = onsubmit(this, data);\n        if (onSubmitResult === false) {\n          return;\n        }\n      }\n      var results = this._trigger('send.coreui.form', this, [this, data]);\n      var isStopSend = false;\n      $.each(results, function (key, result) {\n        if (result === false) {\n          isStopSend = true;\n          return false;\n        }\n      });\n      if (isStopSend) {\n        return;\n      }\n      this.lock();\n      var that = this;\n      var sendFormat = ['form', 'json'].indexOf(this._options.send.format) >= 0 ? this._options.send.format : 'form';\n      var dataFormat = null;\n      var contentType = null;\n      if (sendFormat === 'json') {\n        contentType = \"application/json; charset=utf-8\";\n        dataFormat = JSON.stringify(data);\n      } else {\n        contentType = false;\n        dataFormat = new FormData();\n        $.each(data, function (name, value) {\n          if (value instanceof File) {\n            dataFormat.append(name, value, value.name);\n          } else if (value instanceof FileList) {\n            $.each(value, function (key, file) {\n              dataFormat.append(name, file, file.name);\n            });\n          } else {\n            dataFormat.append(name, value);\n          }\n        });\n      }\n\n      /**\r\n       * Запрос выполнился успешно\r\n       * @param result\r\n       */\n      var successSend = function successSend(result) {\n        that.hideError();\n        that._trigger('success-send.coreui.form', that, [that, result]);\n        var jsonResponse = null;\n        if (typeof result === 'string') {\n          try {\n            var parsedResponse = JSON.parse(result);\n            if (_typeof(parsedResponse) === 'object' && parsedResponse !== null && !Array.isArray(parsedResponse)) {\n              jsonResponse = parsedResponse;\n            }\n          } catch (e) {\n            // ignore\n          }\n        } else {\n          jsonResponse = result;\n        }\n        if (jsonResponse !== null && _typeof(jsonResponse) === 'object') {\n          if (jsonResponse.hasOwnProperty('scripts') && Array.isArray(jsonResponse.scripts)) {\n            $.each(jsonResponse.scripts, function (key, script) {\n              if (typeof script === 'string') {\n                new Function(script)();\n              }\n            });\n          }\n          if (jsonResponse.hasOwnProperty('loadUrl') && typeof jsonResponse.loadUrl === 'string') {\n            location.href = jsonResponse.loadUrl;\n          }\n        }\n        if (that._options.hasOwnProperty('onSubmitSuccess')) {\n          if (typeof that._options.onSubmitSuccess === 'function') {\n            that._options.onSubmitSuccess();\n          } else if (typeof that._options.onSubmitSuccess === 'string') {\n            new Function(that._options.onSubmitSuccess)();\n          }\n        }\n        if (that._options.hasOwnProperty('successLoadUrl') && typeof that._options.successLoadUrl === 'string' && that._options.successLoadUrl !== '') {\n          var successLoadUrl = that._options.successLoadUrl;\n\n          // Замена параметров\n          if (jsonResponse !== null && _typeof(jsonResponse) === 'object') {\n            var regx = new RegExp('\\\\[response\\\\.([\\\\d\\\\w\\\\.]+)\\\\]', 'uig');\n            var urlParams = {};\n            while (result = regx.exec(successLoadUrl)) {\n              urlParams[result[0]] = result[1];\n            }\n            if (Object.keys(urlParams).length > 0) {\n              $.each(urlParams, function (param, path) {\n                var value = coreuiFormUtils.getObjValue(jsonResponse, path);\n                value = typeof value !== 'undefined' ? value : '';\n                successLoadUrl = successLoadUrl.replace(new RegExp(param.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), 'g'), value);\n              });\n            }\n          }\n          var equalHash = location.hash === successLoadUrl;\n          location.href = successLoadUrl;\n          if (equalHash) {\n            window.onhashchange();\n          }\n        }\n      };\n\n      /**\r\n       * Запрос с ошибкой\r\n       * @param xhr\r\n       * @param textStatus\r\n       * @param errorThrown\r\n       */\n      var errorSend = function errorSend(xhr, textStatus, errorThrown) {\n        var errorMessage = that.getLang().send_error || '';\n        var data = {};\n        try {\n          var parsedResponse = JSON.parse(xhr.responseText);\n          if (_typeof(parsedResponse) === 'object' && parsedResponse !== null && !Array.isArray(parsedResponse)) {\n            data = parsedResponse;\n          }\n        } catch (e) {\n          // ignore\n        }\n        if (data.hasOwnProperty('error_message') && typeof data.error_message === 'string' && data.error_message !== '') {\n          errorMessage = data.error_message;\n        }\n        that.showError(errorMessage);\n        that._trigger('error-send.coreui.form', that, [that, xhr, textStatus, errorThrown]);\n      };\n      $.ajax({\n        url: this._options.send.url,\n        method: this._options.send.method,\n        data: dataFormat,\n        contentType: contentType,\n        processData: false,\n        beforeSend: function beforeSend(xhr) {\n          that._trigger('start-send.coreui.form', that, [that, xhr]);\n        },\n        success: function success(result, textStatus, xhr) {\n          var isValidResponse = true;\n          if (_typeof(that._options.validResponse) === 'object') {\n            if (Array.isArray(that._options.validResponse.headers)) {\n              $.each(that._options.validResponse.headers, function (header, headerValues) {\n                if (typeof headerValues === 'string') {\n                  if (xhr.getResponseHeader(header) != headerValues) {\n                    isValidResponse = false;\n                    return false;\n                  }\n                } else if (Array.isArray(headerValues)) {\n                  if (headerValues.indexOf(xhr.getResponseHeader(header)) < 0) {\n                    isValidResponse = false;\n                    return false;\n                  }\n                }\n              });\n            }\n            if (isValidResponse) {\n              if (typeof that._options.validResponse.dataType === 'string') {\n                if (that._options.validResponse.dataType === 'json') {\n                  if (_typeof(result) !== 'object' && !Array.isArray(result) && !coreuiFormUtils.isJson(result)) {\n                    isValidResponse = false;\n                  }\n                }\n              } else if (Array.isArray(that._options.validResponse.dataType)) {\n                $.each(that._options.validResponse.dataType, function (key, dataType) {\n                  if (dataType === 'json') {\n                    if (_typeof(result) !== 'object' && !Array.isArray(result) && !coreuiFormUtils.isJson(result)) {\n                      isValidResponse = false;\n                      return false;\n                    }\n                  }\n                });\n              }\n            }\n          }\n          if (isValidResponse) {\n            successSend(result);\n          } else {\n            errorSend(xhr, textStatus);\n          }\n        },\n        error: errorSend,\n        complete: function complete(xhr, textStatus) {\n          that.unlock();\n          that._trigger('end-send.coreui.form', that, [that, xhr, textStatus]);\n        }\n      });\n    },\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\n    getOptions: function getOptions() {\n      return this._options;\n    },\n    /**\r\n     * Получение записи\r\n     * @returns {object}\r\n     */\n    getRecord: function getRecord() {\n      if (this._options.hasOwnProperty('record') && _typeof(this._options.record) === 'object') {\n        return this._options.record;\n      }\n      return {};\n    },\n    /**\r\n     * Получение данных с формы\r\n     * @returns {object}\r\n     */\n    getData: function getData() {\n      var data = {};\n      $.each(this._fields, function (key, field) {\n        var fieldOptions = field.getOptions();\n        if (fieldOptions.hasOwnProperty('name') && fieldOptions.name) {\n          var value = field.getValue();\n          if (value !== null) {\n            data[fieldOptions.name] = value;\n          }\n        }\n      });\n      return data;\n    },\n    /**\r\n     * Получение полей\r\n     * @returns {object}\r\n     */\n    getFields: function getFields() {\n      return this._fields;\n    },\n    /**\r\n     * Получение элементов управления\r\n     * @returns {object}\r\n     */\n    getControls: function getControls() {\n      return this._controls;\n    },\n    /**\r\n     * Получение групп полей\r\n     * @returns {object}\r\n     */\n    getGroups: function getGroups() {\n      return this._groups;\n    },\n    /**\r\n     * Получение поля\r\n     * @param {string} name\r\n     * @returns {object}\r\n     */\n    getField: function getField(name) {\n      var field = {};\n      $.each(this._fields, function (key, fieldInstance) {\n        var fieldOptions = fieldInstance.getOptions();\n        if (fieldOptions.hasOwnProperty('name') && fieldOptions.name === name) {\n          field = fieldInstance;\n        }\n      });\n      return field;\n    },\n    /**\r\n     * Смена состояний полей формы\r\n     */\n    readonly: function readonly(isReadonly) {\n      $.each(this._fields, function (key, fieldInstance) {\n        fieldInstance.readonly(isReadonly);\n      });\n      $.each(this._controls, function (key, control) {\n        var controlOptions = control.getOptions();\n        if (controlOptions.hasOwnProperty('type') && controlOptions.type === 'submit') {\n          if (isReadonly) {\n            control.hide();\n          } else {\n            control.show();\n          }\n        }\n      });\n    },\n    /**\r\n     * Показ всех элементов управления\r\n     */\n    showControls: function showControls() {\n      $.each(this._controls, function (key, control) {\n        control.show();\n      });\n    },\n    /**\r\n     * Скрытие всех элементов управления\r\n     */\n    hideControls: function hideControls() {\n      $.each(this._controls, function (key, control) {\n        control.hide();\n      });\n    },\n    /**\r\n     * Валидация полей\r\n     * @return {boolean}\r\n     */\n    validate: function validate() {\n      var isValid = true;\n      $.each(this._fields, function (key, field) {\n        if (field.isValid() === false) {\n          field.validate(false);\n          isValid = false;\n        } else {\n          field.validate(null);\n        }\n      });\n      return isValid;\n    },\n    /**\r\n     * Показ сообщения с ошибкой\r\n     * @param {string} message\r\n     * @param {object} options\r\n     */\n    showError: function showError(message, options) {\n      var formContainer = $('#coreui-form-' + this._options.id + ' > form');\n      var formError = formContainer.find('> .coreui-form__error');\n      if (formError[0]) {\n        formError.remove();\n      }\n      options = _typeof(options) === 'object' && !Array.isArray(options) && options !== null ? options : {};\n      if (typeof this._options.errorClass === 'string' && this._options.errorClass !== '') {\n        options[\"class\"] = options.hasOwnProperty('class') ? options[\"class\"] : '';\n        options[\"class\"] += ' ' + this._options.errorClass;\n      }\n      var errorOptions = {\n        \"class\": options.hasOwnProperty('class') && typeof options[\"class\"] === 'string' ? options[\"class\"] : '',\n        dismiss: options.hasOwnProperty('dismiss') ? !!options.dismiss : true\n      };\n      formContainer.prepend(ejs.render(tpl['form-error.html'], {\n        message: message,\n        options: errorOptions\n      }));\n      if (!options.hasOwnProperty('scroll') || options.scroll) {\n        var scrollOffset = this._formWrapper.getSetting('errorMessageScrollOffset');\n        $('html,body').animate({\n          scrollTop: formContainer.offset().top - scrollOffset\n        }, 'fast');\n      }\n    },\n    /**\r\n     * Скрытие сообщения с ошибкой\r\n     */\n    hideError: function hideError() {\n      $('#coreui-form-' + this._options.id + ' > form > .coreui-form__error').remove();\n    },\n    /**\r\n     * @param eventName\r\n     * @param callback\r\n     * @param context\r\n     * @param singleExec\r\n     */\n    on: function on(eventName, callback, context, singleExec) {\n      if (_typeof(this._events[eventName]) !== 'object') {\n        this._events[eventName] = [];\n      }\n      this._events[eventName].push({\n        context: context || this,\n        callback: callback,\n        singleExec: !!singleExec\n      });\n    },\n    /**\r\n     * Удаление формы\r\n     */\n    destruct: function destruct() {\n      $('#coreui-form-' + this._options.id).remove();\n      delete this._formWrapper._instances[this.getId()];\n    },\n    /**\r\n     * Инициализация поля\r\n     * @param field\r\n     * @return {object|null}\r\n     * @private\r\n     */\n    initField: function initField(field) {\n      if (_typeof(field) !== 'object') {\n        return null;\n      }\n      var type = field.hasOwnProperty('type') && typeof field.type === 'string' ? field.type : 'input';\n      if (type === 'group') {\n        return null;\n      }\n      if (!this._formWrapper.fields.hasOwnProperty(type)) {\n        type = 'input';\n      }\n      if (this._options.readonly) {\n        field.readonly = true;\n      }\n      var fieldInstance = $.extend(true, {\n        render: function render() {},\n        renderContent: function renderContent() {},\n        init: function init() {},\n        getValue: function getValue() {},\n        setValue: function setValue() {},\n        getOptions: function getOptions() {},\n        show: function show() {},\n        hide: function hide() {},\n        readonly: function readonly() {},\n        validate: function validate() {},\n        isValid: function isValid() {}\n      }, this._formWrapper.fields[type]);\n      fieldInstance.init(this, field, this._fieldsIndex++);\n      this._fields.push(fieldInstance);\n      return fieldInstance;\n    },\n    /**\r\n     * Инициализация группы\r\n     * @param group\r\n     * @return {object|null}\r\n     * @private\r\n     */\n    initGroup: function initGroup(group) {\n      if (_typeof(group) !== 'object') {\n        return null;\n      }\n      var type = group.hasOwnProperty('type') && typeof group.type === 'string' ? group.type : '';\n      if (type !== 'group') {\n        return null;\n      }\n      var groupInstance = $.extend(true, {\n        render: function render() {},\n        init: function init() {},\n        getOptions: function getOptions() {},\n        expand: function expand() {},\n        collapse: function collapse() {}\n      }, this._formWrapper.fields[type]);\n      groupInstance.init(this, group, this._groupsIndex++);\n      this._groups.push(groupInstance);\n      return groupInstance;\n    },\n    /**\r\n     * Инициализация контролов\r\n     * @param control\r\n     * @return {object|null}\r\n     * @private\r\n     */\n    initControl: function initControl(control) {\n      if (_typeof(control) !== 'object') {\n        return null;\n      }\n      var type = control.hasOwnProperty('type') && typeof control.type === 'string' ? control.type : null;\n      if (!type || !this._formWrapper.controls.hasOwnProperty(type)) {\n        return null;\n      }\n      if (type === 'submit' && this._options.readonly) {\n        control.show = false;\n      }\n      var controlInstance = $.extend(true, {\n        render: function render() {},\n        init: function init() {},\n        getOptions: function getOptions() {},\n        show: function show() {},\n        hide: function hide() {}\n      }, this._formWrapper.controls[type]);\n      controlInstance.init(this, control, this._controlsIndex++);\n      this._controls.push(controlInstance);\n      return controlInstance;\n    },\n    /**\r\n     * Получение настроек языка\r\n     * @private\r\n     */\n    getLang: function getLang() {\n      return $.extend(true, {}, this._options.langList);\n    },\n    /**\r\n     * @param name\r\n     * @param context\r\n     * @param params\r\n     * @return {object}\r\n     * @private\r\n     */\n    _trigger: function _trigger(name, context, params) {\n      params = params || [];\n      var results = [];\n      if (this._events[name] instanceof Object && this._events[name].length > 0) {\n        for (var i = 0; i < this._events[name].length; i++) {\n          var callback = this._events[name][i].callback;\n          context = context || this._events[name][i].context;\n          results.push(callback.apply(context, params));\n          if (this._events[name][i].singleExec) {\n            this._events[name].splice(i, 1);\n            i--;\n          }\n        }\n      }\n      return results;\n    },\n    /**\r\n     * @param {object} control\r\n     * @return {string}\r\n     * @private\r\n     */\n    _renderControl: function _renderControl(control) {\n      var content = '';\n      var type = control.hasOwnProperty('type') && typeof control.type === 'string' ? control.type : 'text';\n      if (this._formWrapper.control.hasOwnProperty(type)) {\n        content = this._formWrapper.control[type].render(control);\n      }\n      return content;\n    }\n  };\n\n  var coreuiForm = {\n    lang: {},\n    fields: {},\n    controls: {},\n    _instances: {},\n    _settings: {\n      labelWidth: 200,\n      lang: 'en',\n      \"class\": '',\n      sendDataFormat: 'form',\n      errorMessageScrollOffset: 70\n    },\n    /**\r\n     * Создание экземпляра формы\r\n     * @param {object} options\r\n     * @returns {coreuiFormInstance}\r\n     */\n    create: function create(options) {\n      if (!options.hasOwnProperty('lang')) {\n        options.lang = this.getSetting('lang');\n      }\n      var langList = this.lang.hasOwnProperty(options.lang) ? this.lang[options.lang] : {};\n      options.langList = options.hasOwnProperty('langList') && coreuiFormUtils.isObject(options.langList) ? $.extend(true, {}, langList, options.langList) : langList;\n      var instance = $.extend(true, {}, coreuiFormInstance);\n      instance._init(this, options instanceof Object ? options : {});\n      var formId = instance.getId();\n      this._instances[formId] = instance;\n      return instance;\n    },\n    /**\r\n     * Получение экземпляра формы по id\r\n     * @param {string} id\r\n     * @returns {coreuiFormInstance|null}\r\n     */\n    get: function get(id) {\n      if (!this._instances.hasOwnProperty(id)) {\n        return null;\n      }\n      if ($('#coreui-form-' + this._instances[id])[0]) {\n        delete this._instances[id];\n        return null;\n      }\n      return this._instances[id];\n    },\n    /**\r\n     * Установка настроек\r\n     * @param {object} settings\r\n     */\n    setSettings: function setSettings(settings) {\n      this._settings = $.extend({}, this._settings, settings);\n    },\n    /**\r\n     * Получение значения настройки\r\n     * @param {string} name\r\n     */\n    getSetting: function getSetting(name) {\n      var value = null;\n      if (this._settings.hasOwnProperty(name)) {\n        value = this._settings[name];\n      }\n      return value;\n    }\n  };\n\n  coreuiForm.lang.ru = {\n    \"modal_select\": \"Выбрать\",\n    \"modal_loading\": \"Загрузка...\",\n    \"switch_yes\": \"Да\",\n    \"switch_no\": \"Нет\",\n    \"dataset_add\": \"Добавить\",\n    \"date_months\": ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'],\n    \"date_week\": \"неделя\",\n    \"send_error\": \"Произошла ошибка. Попробуйте снова или обратитесь к администратору\",\n    \"required_field\": \"Обязательное поле\",\n    \"change\": \"изменить\",\n    \"cancel\": \"отмена\"\n  };\n\n  coreuiForm.lang.en = {\n    \"modal_select\": \"Select\",\n    \"modal_loading\": \"Loading...\",\n    \"switch_yes\": \"Yes\",\n    \"switch_no\": \"No\",\n    \"dataset_add\": \"Add\",\n    \"date_months\": [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n    \"date_week\": \"week\",\n    \"send_error\": \"An error has occurred. Please try again or contact your administrator\",\n    \"required_field\": \"Required field\",\n    \"change\": \"change\",\n    \"cancel\": \"cancel\"\n  };\n\n  coreuiForm.controls.button = {\n    _form: null,\n    _index: null,\n    _options: {\n      type: 'button',\n      href: null,\n      content: null,\n      onClick: null,\n      attr: {\n        \"class\": 'btn btn-secondary'\n      }\n    },\n    /**\r\n     * Инициализация\r\n     * @param {coreuiFormInstance} form\r\n     * @param {object} options\r\n     * @param {int} index\r\n     */\n    init: function init(form, options, index) {\n      this._options = $.extend({}, this._options, options);\n      this._form = form;\n      this._index = index;\n      var that = this;\n      form.on('shown.coreui.form', function () {\n        that._initEvents();\n      });\n    },\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\n    getOptions: function getOptions() {\n      return $.extend(true, {}, this._options);\n    },\n    /**\r\n     * Формирование контента для размещения на странице\r\n     * @returns {string}\r\n     */\n    render: function render() {\n      var attributes = [];\n      var options = this.getOptions();\n      options.attr.type = 'button';\n      $.each(options.attr, function (name, value) {\n        attributes.push(name + '=\"' + value + '\"');\n      });\n      return ejs.render(tpl['controls/button.html'], {\n        control: this._options,\n        render: {\n          attr: attributes.length > 0 ? ' ' + attributes.join(' ') : ''\n        }\n      });\n    },\n    /**\r\n     * Показ контрола\r\n     * @param {int} duration\r\n     */\n    show: function show(duration) {\n      $('#coreui-form-' + this._form.getId() + '-control-' + this._index).show(duration || 0);\n    },\n    /**\r\n     * Скрытие контрола\r\n     * @param {int} duration\r\n     */\n    hide: function hide(duration) {\n      $('#coreui-form-' + this._form.getId() + '-control-' + this._index).hide(duration || 0);\n    },\n    /**\r\n     *\r\n     */\n    lock: function lock() {\n      var button = $('#coreui-form-' + this._form.getId() + '-control-' + this._index + ' > button');\n      if (!button.find('.spinner-border')[0]) {\n        button.prepend('<span class=\"spinner-border spinner-border-sm\"></span> ');\n      }\n      if (!button.attr('disabled')) {\n        button.attr('disabled', 'disabled');\n      }\n    },\n    /**\r\n     * Инициализация событий связанных с элементом управления\r\n     */\n    _initEvents: function _initEvents() {\n      var that = this;\n      if (['function', 'string'].indexOf(_typeof(this._options.onClick)) >= 0) {\n        $('#coreui-form-' + this._form.getId() + '-control-' + this._index + ' > button').click(function (event) {\n          if (typeof that._options.onClick === 'function') {\n            that._options.onClick(that._form, event);\n          } else {\n            new Function('form', 'event', that._options.onClick)(that._form, event);\n          }\n        });\n      }\n    }\n  };\n\n  coreuiForm.controls.custom = {\n    _form: null,\n    _index: null,\n    _options: {\n      type: 'custom',\n      content: null\n    },\n    /**\r\n     * Инициализация\r\n     * @param {coreuiFormInstance} form\r\n     * @param {object} options\r\n     * @param {int} index\r\n     */\n    init: function init(form, options, index) {\n      this._options = $.extend({}, this._options, options);\n      this._form = form;\n      this._index = index;\n    },\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\n    getOptions: function getOptions() {\n      return $.extend(true, {}, this._options);\n    },\n    /**\r\n     * Показ контрола\r\n     * @param {int} duration\r\n     */\n    show: function show(duration) {\n      $('#coreui-form-' + form.getId() + '-control-' + this._index).show(duration || 0);\n    },\n    /**\r\n     * Скрытие контрола\r\n     * @param {int} duration\r\n     */\n    hide: function hide(duration) {\n      $('#coreui-form-' + form.getId() + '-control-' + this._index).hide(duration || 0);\n    },\n    /**\r\n     * Формирование контента для размещения на странице\r\n     * @returns {string}\r\n     */\n    render: function render() {\n      return this._options.content;\n    }\n  };\n\n  coreuiForm.controls.link = {\n    _form: null,\n    _index: null,\n    _options: {\n      type: 'link',\n      href: null,\n      content: null,\n      onClick: null,\n      attr: {\n        \"class\": 'btn btn-link'\n      }\n    },\n    /**\r\n     * Инициализация\r\n     * @param {coreuiFormInstance} form\r\n     * @param {object} options\r\n     * @param {int} index\r\n     */\n    init: function init(form, options, index) {\n      this._options = $.extend({}, this._options, options);\n      this._form = form;\n      this._index = index;\n      var that = this;\n      form.on('shown.coreui.form', function () {\n        that._initEvents();\n      });\n    },\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\n    getOptions: function getOptions() {\n      return $.extend(true, {}, this._options);\n    },\n    /**\r\n     * Показ контрола\r\n     * @param {int} duration\r\n     */\n    show: function show(duration) {\n      $('#coreui-form-' + this._form.getId() + '-control-' + this._index).show(duration || 0);\n    },\n    /**\r\n     * Скрытие контрола\r\n     * @param {int} duration\r\n     */\n    hide: function hide(duration) {\n      $('#coreui-form-' + this._form.getId() + '-control-' + this._index).hide(duration || 0);\n    },\n    /**\r\n     *\r\n     */\n    lock: function lock() {\n      var button = $('#coreui-form-' + this._form.getId() + '-control-' + this._index + ' > button');\n      if (!button.find('.spinner-border')[0]) {\n        button.prepend('<span class=\"spinner-border spinner-border-sm\"></span> ');\n      }\n      if (!button.attr('disabled')) {\n        button.attr('disabled', 'disabled');\n      }\n    },\n    /**\r\n     * Формирование контента для размещения на странице\r\n     * @returns {string}\r\n     */\n    render: function render() {\n      var attributes = [];\n      var options = this.getOptions();\n      $.each(options.attr, function (name, value) {\n        attributes.push(name + '=\"' + value + '\"');\n      });\n      return ejs.render(tpl['controls/link.html'], {\n        control: this._options,\n        render: {\n          attr: attributes.length > 0 ? ' ' + attributes.join(' ') : ''\n        }\n      });\n    },\n    /**\r\n     * Инициализация событий связанных с элементом управления\r\n     */\n    _initEvents: function _initEvents() {\n      var that = this;\n      if (['function', 'string'].indexOf(_typeof(this._options.onClick)) >= 0) {\n        $('#coreui-form-' + this._form.getId() + '-control-' + this._index + ' > a').click(function (event) {\n          if (typeof that._options.onClick === 'function') {\n            that._options.onClick(that._form, event);\n          } else {\n            new Function('form', 'event', that._options.onClick)(that._form, event);\n          }\n        });\n      }\n    }\n  };\n\n  coreuiForm.controls.submit = {\n    _form: null,\n    _index: null,\n    _options: {\n      type: 'submit',\n      href: null,\n      content: null,\n      onClick: null,\n      show: true,\n      attr: {\n        \"class\": 'btn btn-primary'\n      }\n    },\n    /**\r\n     * Инициализация\r\n     * @param {coreuiFormInstance} form\r\n     * @param {object} options\r\n     * @param {int} index\r\n     */\n    init: function init(form, options, index) {\n      this._options = $.extend({}, this._options, options);\n      this._form = form;\n      this._index = index;\n      var that = this;\n      form.on('shown.coreui.form', function () {\n        that._initEvents();\n      });\n    },\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\n    getOptions: function getOptions() {\n      return $.extend(true, {}, this._options);\n    },\n    /**\r\n     * Показ контрола\r\n     * @param {int} duration\r\n     */\n    show: function show(duration) {\n      $('#coreui-form-' + this._form.getId() + '-control-' + this._index).show(duration || 0);\n    },\n    /**\r\n     * Скрытие контрола\r\n     * @param {int} duration\r\n     */\n    hide: function hide(duration) {\n      $('#coreui-form-' + this._form.getId() + '-control-' + this._index).hide(duration || 0);\n    },\n    /**\r\n     *\r\n     */\n    lock: function lock() {\n      var button = $('#coreui-form-' + this._form.getId() + '-control-' + this._index + ' > button');\n      if (!button.find('.spinner-border')[0]) {\n        button.prepend('<span class=\"spinner-border spinner-border-sm\"></span> ');\n      }\n      if (!button.attr('disabled')) {\n        button.attr('disabled', 'disabled');\n      }\n    },\n    /**\r\n     *\r\n     */\n    unlock: function unlock() {\n      var button = $('#coreui-form-' + this._form.getId() + '-control-' + this._index + ' > button');\n      button.find('.spinner-border').remove();\n      button.removeAttr('disabled');\n    },\n    /**\r\n     * Формирование контента для размещения на странице\r\n     * @returns {string}\r\n     */\n    render: function render() {\n      var attributes = [];\n      var options = this.getOptions();\n      options.attr.type = 'submit';\n      $.each(options.attr, function (name, value) {\n        attributes.push(name + '=\"' + value + '\"');\n      });\n      return ejs.render(tpl['controls/button.html'], {\n        control: this._options,\n        render: {\n          attr: attributes.length > 0 ? ' ' + attributes.join(' ') : ''\n        }\n      });\n    },\n    /**\r\n     * Инициализация событий связанных с элементом управления\r\n     */\n    _initEvents: function _initEvents() {\n      var that = this;\n      if (['function', 'string'].indexOf(_typeof(this._options.onClick)) >= 0) {\n        $('#coreui-form-' + this._form.getId() + '-control-' + this._index + ' > button').click(function (event) {\n          if (typeof that._options.onClick === 'function') {\n            that._options.onClick(that._form, event);\n          } else {\n            new Function('form', 'event', that._options.onClick)(that._form, event);\n          }\n        });\n      }\n    }\n  };\n\n  coreuiForm.fields.checkbox = {\n    _id: '',\n    _hash: '',\n    _form: null,\n    _index: 0,\n    _value: [],\n    _options: {\n      type: 'checkbox',\n      name: null,\n      label: null,\n      labelWidth: null,\n      inline: false,\n      outContent: null,\n      description: null,\n      errorText: null,\n      options: [],\n      fields: null,\n      required: null,\n      readonly: null,\n      show: true,\n      column: null\n    },\n    /**\r\n     * Инициализация\r\n     * @param {coreuiFormInstance} form\r\n     * @param {object}             options\r\n     * @param {int}                index Порядковый номер на форме\r\n     */\n    init: function init(form, options, index) {\n      this._form = form;\n      this._id = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\n      this._hash = coreuiFormUtils.hashCode();\n      this._value = coreuiFormUtils.getFieldValue(form, options);\n      this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);\n    },\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\n    getOptions: function getOptions() {\n      return $.extend(true, {}, this._options);\n    },\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\n    readonly: function readonly(isReadonly) {\n      this._value = this.getValue();\n      this._options.readonly = !!isReadonly;\n      $('.content-' + this._hash).html(this.renderContent());\n    },\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\n    hide: function hide(duration) {\n      $('#coreui-form-' + this._id).hide(duration);\n    },\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\n    show: function show(duration) {\n      $('#coreui-form-' + this._id).show(duration);\n    },\n    /**\r\n     * Получение значения в поле\r\n     * @returns {object}\r\n     */\n    getValue: function getValue() {\n      if (this._options.readonly) {\n        return this._value;\n      } else {\n        var values = [];\n        $('.content-' + this._hash + ' input[type=checkbox]:checked').each(function () {\n          values.push($(this).val());\n        });\n        return values;\n      }\n    },\n    /**\r\n     * Установка значений в поле\r\n     * @param {object|null|string|number} value\r\n     */\n    setValue: function setValue(value) {\n      if (['string', 'number', 'object'].indexOf(_typeof(value)) < 0) {\n        return;\n      }\n      if (_typeof(value) === 'object') {\n        if (value !== null && !Array.isArray(value)) {\n          return;\n        }\n      } else {\n        value = [value];\n      }\n      var that = this;\n      this._value = [];\n      if (this._options.readonly) {\n        $('.content-' + that._hash).empty();\n        var fieldOptions = this.getOptions();\n        if (fieldOptions.hasOwnProperty('options') && _typeof(fieldOptions.options) === 'object' && Array.isArray(fieldOptions.options) && Array.isArray(value)) {\n          var selectedItems = [];\n          $.each(fieldOptions.options, function (key, option) {\n            if (option.hasOwnProperty('value')) {\n              $.each(value, function (key, val) {\n                if (option.value == val) {\n                  if (option.hasOwnProperty('text') && ['string', 'number'].indexOf(_typeof(option.text)) >= 0) {\n                    selectedItems.push(option.text);\n                  }\n                  that._value.push(val);\n                  return false;\n                }\n              });\n            }\n          });\n          $('.content-' + that._hash).text(selectedItems.join(', '));\n        }\n      } else {\n        $('.content-' + this._hash + ' input[type=radio]').prop('checked', false);\n        if (Array.isArray(value)) {\n          $('.content-' + this._hash + ' input[type=radio]').each(function (key, itemValue) {\n            $.each(value, function (key, val) {\n              if (val == $(itemValue).val()) {\n                $(itemValue).prop('checked', true);\n                that._value.push(val);\n                return false;\n              }\n            });\n          });\n        }\n      }\n    },\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\n    validate: function validate(isValid, text) {\n      if (this._options.readonly) {\n        return;\n      }\n      var container = $('.content-' + this._hash);\n      var lastInput = $('.form-check:last-child', container);\n      var inputs = $('input', container);\n      container.find('.valid-feedback').remove();\n      container.find('.invalid-feedback').remove();\n      if (isValid === null) {\n        inputs.removeClass('is-invalid');\n        inputs.removeClass('is-valid');\n      } else if (isValid) {\n        inputs.removeClass('is-invalid');\n        inputs.addClass('is-valid');\n        if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\n          text = this._options.validText;\n        }\n        if (typeof text === 'string') {\n          lastInput.append('<div class=\"valid-feedback\">' + text + '</div>');\n        }\n      } else {\n        inputs.removeClass('is-valid');\n        inputs.addClass('is-invalid');\n        if (typeof text === 'undefined') {\n          if (typeof this._options.invalidText === 'string') {\n            text = this._options.invalidText;\n          } else if (!text && this._options.required) {\n            text = this._form.getLang().required_field;\n          }\n        }\n        if (typeof text === 'string') {\n          lastInput.append('<div class=\"invalid-feedback\">' + text + '</div>');\n        }\n      }\n    },\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\n    isValid: function isValid() {\n      if (this._options.required && !this._options.readonly) {\n        return this.getValue().length > 0;\n      }\n      return true;\n    },\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\n    render: function render() {\n      var options = this.getOptions();\n      var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);\n      return ejs.render(tpl['form-field-label.html'], {\n        id: this._id,\n        form: this._form,\n        hash: this._hash,\n        field: this._options,\n        content: this.renderContent(),\n        attachFields: attachFields\n      });\n    },\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\n    renderContent: function renderContent() {\n      var that = this;\n      var checkboxOptions = [];\n      var fieldOptions = this.getOptions();\n      var selectedItems = [];\n      if (fieldOptions.hasOwnProperty('options') && _typeof(fieldOptions.options) === 'object' && Array.isArray(fieldOptions.options)) {\n        $.each(fieldOptions.options, function (key, option) {\n          var attributes = [];\n          var itemAttr = {\n            type: 'checkbox',\n            \"class\": 'form-check-input'\n          };\n          var optionText = option.hasOwnProperty('text') && ['string', 'number'].indexOf(_typeof(option.text)) >= 0 ? option.text : '';\n          if (fieldOptions.name) {\n            itemAttr.name = that._options.name;\n          }\n          if (fieldOptions.required) {\n            itemAttr.required = 'required';\n          }\n          $.each(option, function (name, value) {\n            if (name !== 'text') {\n              if (name === 'class') {\n                itemAttr[name] = itemAttr[name] + ' ' + value;\n              } else {\n                itemAttr[name] = value;\n              }\n            }\n          });\n          itemAttr.id = coreuiFormUtils.hashCode();\n          if (_typeof(that._value) === 'object' && Array.isArray(that._value)) {\n            $.each(that._value, function (key, itemValue) {\n              if (itemValue == option.value) {\n                itemAttr.checked = 'checked';\n                if (option.hasOwnProperty('text') && option.text) {\n                  selectedItems.push(option.text);\n                }\n                return false;\n              }\n            });\n          } else if (that._value == option.value) {\n            if (option.hasOwnProperty('text') && option.text) {\n              selectedItems.push(option.text);\n            }\n            itemAttr.checked = 'checked';\n          }\n          $.each(itemAttr, function (name, value) {\n            attributes.push(name + '=\"' + value + '\"');\n          });\n          checkboxOptions.push({\n            id: itemAttr.id,\n            text: optionText,\n            attr: attributes.length > 0 ? ' ' + attributes.join(' ') : ''\n          });\n        });\n      }\n      var value = _typeof(this._value) === 'object' && Array.isArray(this._value) ? this._value.join(', ') : this._value;\n      return ejs.render(tpl['fields/checkbox.html'], {\n        field: fieldOptions,\n        value: value,\n        render: {\n          options: checkboxOptions,\n          selectedItems: selectedItems\n        }\n      });\n    }\n  };\n\n  coreuiForm.fields.color = {\n    _id: '',\n    _hash: '',\n    _form: null,\n    _index: 0,\n    _value: '',\n    _options: {\n      type: 'color',\n      name: null,\n      label: null,\n      labelWidth: null,\n      width: null,\n      outContent: null,\n      description: null,\n      errorText: null,\n      attach: null,\n      attr: {\n        \"class\": 'form-control form-control-color d-inline-block'\n      },\n      required: null,\n      readonly: null,\n      datalist: null,\n      show: true,\n      column: null\n    },\n    /**\r\n     * Инициализация\r\n     * @param {coreuiFormInstance} form\r\n     * @param {object}             options\r\n     * @param {int}                index Порядковый номер на форме\r\n     */\n    init: function init(form, options, index) {\n      this._form = form;\n      this._id = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\n      this._hash = coreuiFormUtils.hashCode();\n      this._value = coreuiFormUtils.getFieldValue(form, options);\n      this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);\n    },\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\n    getOptions: function getOptions() {\n      return $.extend(true, {}, this._options);\n    },\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\n    readonly: function readonly(isReadonly) {\n      this._value = this.getValue();\n      this._options.readonly = !!isReadonly;\n      $('.content-' + this._hash).html(this.renderContent());\n    },\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\n    hide: function hide(duration) {\n      $('#coreui-form-' + this._id).hide(duration);\n    },\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\n    show: function show(duration) {\n      $('#coreui-form-' + this._id).show(duration);\n    },\n    /**\r\n     * Получение значения в поле\r\n     * @returns {string}\r\n     */\n    getValue: function getValue() {\n      return this._options.readonly ? this._value : $('.content-' + this._hash + ' input').val();\n    },\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\n    setValue: function setValue(value) {\n      if (['string', 'number'].indexOf(_typeof(value)) < 0) {\n        return;\n      }\n      this._value = value;\n      if (this._options.readonly) {\n        $('.content-' + this._hash).text(value);\n      } else {\n        $('.content-' + this._hash + ' input').val(value);\n      }\n    },\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\n    validate: function validate(isValid, text) {\n      if (this._options.readonly) {\n        return;\n      }\n      var container = $('.content-' + this._hash);\n      var input = $('input', container);\n      container.find('.valid-feedback').remove();\n      container.find('.invalid-feedback').remove();\n      if (isValid === null) {\n        input.removeClass('is-invalid');\n        input.removeClass('is-valid');\n      } else if (isValid) {\n        input.removeClass('is-invalid');\n        input.addClass('is-valid');\n        if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\n          text = this._options.validText;\n        }\n        if (typeof text === 'string') {\n          container.append('<div class=\"valid-feedback\">' + text + '</div>');\n        }\n      } else {\n        input.removeClass('is-valid');\n        input.addClass('is-invalid');\n        if (typeof text === 'undefined') {\n          if (typeof this._options.invalidText === 'string') {\n            text = this._options.invalidText;\n          } else if (!text && this._options.required) {\n            text = this._form.getLang().required_field;\n          }\n        }\n        if (typeof text === 'string') {\n          container.append('<div class=\"invalid-feedback\">' + text + '</div>');\n        }\n      }\n    },\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\n    isValid: function isValid() {\n      var input = $('.content-' + this._hash + ' input');\n      if (input[0]) {\n        return input.is(':valid');\n      }\n      return null;\n    },\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\n    render: function render() {\n      var options = this.getOptions();\n      var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);\n      return ejs.render(tpl['form-field-label.html'], {\n        id: this._id,\n        form: this._form,\n        hash: this._hash,\n        field: options,\n        content: this.renderContent(),\n        attachFields: attachFields\n      });\n    },\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\n    renderContent: function renderContent() {\n      return this._options.readonly ? this._renderContentReadonly() : this._renderContent();\n    },\n    /**\r\n     *\r\n     * @return {*}\r\n     * @private\r\n     */\n    _renderContent: function _renderContent() {\n      var attributes = [];\n      var datalist = [];\n      var options = this.getOptions();\n      var datalistId = coreuiFormUtils.hashCode();\n      if (!options.hasOwnProperty('attr') || _typeof(options.attr) !== 'object' || options.attr === null || Array.isArray(options.attr)) {\n        options.attr = {};\n      }\n      if (options.name) {\n        options.attr.name = this._options.name;\n      }\n      options.attr.type = options.type;\n      options.attr.value = this._value;\n      if (options.width) {\n        options.attr = coreuiFormUtils.mergeAttr({\n          style: 'width:' + options.width\n        }, options.attr);\n      }\n      if (options.required) {\n        options.attr.required = 'required';\n      }\n      if (options.hasOwnProperty('datalist') && _typeof(options.datalist) === 'object' && Array.isArray(options.datalist)) {\n        options.attr.list = datalistId;\n        $.each(options.datalist, function (key, itemAttributes) {\n          var datalistAttr = [];\n          $.each(itemAttributes, function (name, value) {\n            datalistAttr.push(name + '=\"' + value + '\"');\n          });\n          datalist.push({\n            attr: datalistAttr.length > 0 ? ' ' + datalistAttr.join(' ') : ''\n          });\n        });\n      }\n      $.each(options.attr, function (name, value) {\n        attributes.push(name + '=\"' + value + '\"');\n      });\n      return ejs.render(tpl['fields/color.html'], {\n        field: options,\n        datalistId: datalistId,\n        value: this._value,\n        render: {\n          attr: attributes.length > 0 ? ' ' + attributes.join(' ') : '',\n          datalist: datalist\n        }\n      });\n    },\n    /**\r\n     *\r\n     * @return {*}\r\n     * @private\r\n     */\n    _renderContentReadonly: function _renderContentReadonly() {\n      var options = this.getOptions();\n      return ejs.render(tpl['fields/color.html'], {\n        field: options,\n        value: this._value\n      });\n    }\n  };\n\n  coreuiForm.fields.custom = {\n    _id: '',\n    _hash: '',\n    _form: null,\n    _value: null,\n    _options: {\n      type: 'custom',\n      label: null,\n      labelWidth: null,\n      width: null,\n      content: '',\n      outContent: null,\n      description: null,\n      required: null,\n      show: true,\n      column: null\n    },\n    /**\r\n     * Инициализация\r\n     * @param {coreuiFormInstance} form\r\n     * @param {object}             options\r\n     * @param {int}                index Порядковый номер на форме\r\n     */\n    init: function init(form, options, index) {\n      this._form = form;\n      this._id = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\n      this._value = coreuiFormUtils.getFieldValue(form, options);\n      this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);\n      this._hash = coreuiFormUtils.hashCode();\n    },\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\n    getOptions: function getOptions() {\n      return $.extend(true, {}, this._options);\n    },\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\n    readonly: function readonly(isReadonly) {},\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\n    hide: function hide(duration) {\n      $('#coreui-form-' + this._id).hide(duration);\n    },\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\n    show: function show(duration) {\n      $('#coreui-form-' + this._id).show(duration);\n    },\n    /**\r\n     * Получение значения из поля\r\n     */\n    getValue: function getValue() {},\n    /**\r\n     * Установка значения в поле\r\n     * @param {object} value\r\n     */\n    setValue: function setValue(value) {},\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\n    render: function render() {\n      var that = this._hash;\n      var options = this.getOptions();\n      var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);\n      var field = $(ejs.render(tpl['form-field-label.html'], {\n        id: this._id,\n        form: this._form,\n        hash: this._hash,\n        field: options,\n        content: '',\n        attachFields: attachFields\n      }));\n      $.each(this.renderContent(), function (i, content) {\n        field.find(\".content-\" + that._hash).append(content);\n      });\n      return field;\n    },\n    /**\r\n     * Формирование контента поля\r\n     * @return {Array}\r\n     */\n    renderContent: function renderContent() {\n      var content = this.getOptions().content;\n      var result = [];\n      if (typeof content === 'string') {\n        result.push(content);\n      } else if (content instanceof Object) {\n        if (!Array.isArray(content)) {\n          content = [content];\n        }\n        for (var i = 0; i < content.length; i++) {\n          if (typeof content[i] === 'string') {\n            result.push(content[i]);\n          } else if (!Array.isArray(content[i]) && content[i].hasOwnProperty('component') && typeof content[i].component === 'string' && content[i].component.substring(0, 6) === 'coreui') {\n            var name = content[i].component.split('.')[1];\n            if (CoreUI.hasOwnProperty(name) && coreuiFormUtils.isObject(CoreUI[name])) {\n              var instance = CoreUI[name].create(content[i]);\n              result.push(instance.render());\n              this._form.on('shown.coreui.form', instance.initEvents, instance, true);\n            }\n          } else {\n            result.push(JSON.stringify(content[i]));\n          }\n        }\n      }\n      return result;\n    }\n  };\n\n  coreuiForm.fields.dataset = {\n    _id: '',\n    _hash: '',\n    _form: null,\n    _value: [],\n    _renderOptions: [],\n    _options: {\n      type: 'dataset',\n      name: null,\n      label: null,\n      labelWidth: null,\n      width: null,\n      outContent: null,\n      description: null,\n      errorText: null,\n      attach: null,\n      attr: {\n        \"class\": 'form-select d-inline-block'\n      },\n      required: null,\n      readonly: null,\n      datalist: null,\n      show: true,\n      column: null\n    },\n    /**\r\n     * Инициализация\r\n     * @param {coreuiFormInstance} form\r\n     * @param {object}             options\r\n     * @param {int}                index Порядковый номер на форме\r\n     */\n    init: function init(form, options, index) {\n      this._form = form;\n      this._id = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\n      this._value = coreuiFormUtils.getFieldValue(form, options);\n      this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);\n      this._hash = coreuiFormUtils.hashCode();\n      var that = this;\n      form.on('shown.coreui.form', function () {\n        if (!that._options.readonly) {\n          that._initEvents();\n        }\n      });\n      if (options.hasOwnProperty('options') && _typeof(options.options) === 'object' && Array.isArray(options.options)) {\n        $.each(options.options, function (key, option) {\n          var name = option.hasOwnProperty('name') && ['string', 'number'].indexOf(_typeof(option.name)) >= 0 ? option.name : '';\n          var type = option.hasOwnProperty('type') && typeof option.type === 'string' ? option.type : 'text';\n          var attributes = option.hasOwnProperty('attr') && _typeof(option.attr) === 'object' && !Array.isArray(option.attr) ? option.attr : {};\n          var items = option.hasOwnProperty('items') && _typeof(option.items) === 'object' && Array.isArray(option.items) ? option.items : [];\n          var valueY = option.hasOwnProperty('valueY') && ['string', 'numeric'].indexOf(_typeof(option.valueY)) >= 0 ? option.valueY : 'Y';\n          var valueN = option.hasOwnProperty('valueN') && ['string', 'numeric'].indexOf(_typeof(option.valueN)) >= 0 ? option.valueN : 'N';\n          if (name) {\n            attributes.name = name;\n          }\n          if (options.required) {\n            attributes.required = 'required';\n          }\n          if (type === 'select') {\n            attributes[\"class\"] = attributes.hasOwnProperty('class') ? 'form-select ' + attributes[\"class\"] : 'form-select';\n          } else if (type === 'switch') {\n            attributes[\"class\"] = attributes.hasOwnProperty('class') ? 'form-check-input ' + attributes[\"class\"] : 'form-check-input';\n            attributes.type = 'checkbox';\n            attributes.value = valueY;\n          } else {\n            attributes[\"class\"] = attributes.hasOwnProperty('class') ? 'form-control ' + attributes[\"class\"] : 'form-control';\n            attributes.type = type;\n          }\n          that._renderOptions.push({\n            type: type,\n            name: name,\n            attr: attributes,\n            items: items,\n            valueY: valueY,\n            valueN: valueN\n          });\n        });\n      }\n    },\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\n    getOptions: function getOptions() {\n      return $.extend(true, {}, this._options);\n    },\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\n    readonly: function readonly(isReadonly) {\n      this._value = this.getValue();\n      this._options.readonly = !!isReadonly;\n      $('.content-' + this._hash).html(this.renderContent());\n      if (!this._options.readonly) {\n        this._initEvents();\n      }\n    },\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\n    hide: function hide(duration) {\n      $('#coreui-form-' + this._id).hide(duration);\n    },\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\n    show: function show(duration) {\n      $('#coreui-form-' + this._id).show(duration);\n    },\n    /**\r\n     * Получение значения в поле\r\n     * @returns {array}\r\n     */\n    getValue: function getValue() {\n      if (this._options.readonly) {\n        return this._value;\n      } else {\n        var container = $('.content-' + this._hash);\n        var data = [];\n        $('.coreui-form__field-dataset-list .coreui-form__field-dataset-item', container).each(function () {\n          var items = {};\n          $.each($(this).find('input, select').serializeArray(), function (key, item) {\n            if (item.name) {\n              items[item.name] = item.value;\n            }\n          });\n          data.push(items);\n        });\n        return data;\n      }\n    },\n    /**\r\n     * Установка значения в поле\r\n     * @param {object} value\r\n     */\n    setValue: function setValue(value) {\n      if (_typeof(value) !== 'object' || Array.isArray(value) || value === null) {\n        return;\n      }\n      this._value.push(value);\n      if (this._options.readonly) {\n        $('.content-' + this._hash + ' .coreui-form__field-dataset-list').append(this._renderRowReadonly(value));\n      } else {\n        this._eventAdd(value);\n      }\n    },\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\n    validate: function validate(isValid, text) {\n      if (this._options.readonly) {\n        return;\n      }\n      var container = $('.content-' + this._hash);\n      container.find('.text-success').remove();\n      container.find('.text-danger').remove();\n      if (isValid === null) {\n        return;\n      }\n      if (isValid) {\n        if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\n          text = this._options.validText;\n        }\n        if (typeof text === 'string') {\n          container.append('<div class=\"ps-2 text-success\">' + text + '</div>');\n        }\n      } else {\n        if (typeof text === 'undefined') {\n          if (typeof this._options.invalidText === 'string') {\n            text = this._options.invalidText;\n          } else if (!text && this._options.required) {\n            text = this._form.getLang().required_field;\n          }\n        }\n        if (typeof text === 'string') {\n          container.append('<div class=\"ps-2 text-danger\">' + text + '</div>');\n        }\n      }\n    },\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\n    isValid: function isValid() {\n      if (this._options.required && !this._options.readonly) {\n        return this.getValue().length > 0;\n      }\n      return true;\n    },\n    /**\r\n     * Удаление всех строк\r\n     */\n    removeItems: function removeItems() {\n      $('#coreui-form-' + this._id + ' .content-' + this._hash + ' .coreui-form__field-dataset-list').empty();\n    },\n    /**\r\n     * Удаление строки по id\r\n     * @param {int} itemId\r\n     */\n    removeItem: function removeItem(itemId) {\n      var element = '#coreui-form-' + this._id + ' .content-' + this._hash;\n      $('#' + itemId).hide('fast', function () {\n        $('#' + itemId).remove();\n        if ($(element + ' .coreui-form__field-dataset-item').length === 0) {\n          $(element + ' .coreui-form__field-dataset-container').hide();\n        }\n      });\n    },\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\n    render: function render() {\n      var options = this.getOptions();\n      var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);\n      return ejs.render(tpl['form-field-label.html'], {\n        id: this._id,\n        form: this._form,\n        hash: this._hash,\n        field: options,\n        content: this.renderContent(),\n        attachFields: attachFields\n      });\n    },\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\n    renderContent: function renderContent() {\n      return this._options.readonly ? this._renderContentReadonly() : this._renderContent();\n    },\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\n    _renderContent: function _renderContent() {\n      var options = this.getOptions();\n      var rows = [];\n      var headers = [];\n      var that = this;\n      if (options.hasOwnProperty('options') && _typeof(options.options) === 'object' && Array.isArray(options.options)) {\n        // Заголовок\n        $.each(options.options, function (key, option) {\n          var title = option.hasOwnProperty('title') && ['string', 'numeric'].indexOf(_typeof(option.title)) >= 0 ? option.title : '';\n          headers.push({\n            title: title\n          });\n        });\n\n        // Строки\n        if (_typeof(this._value) === 'object' && Array.isArray(this._value)) {\n          $.each(this._value, function (key, row) {\n            if (_typeof(row) !== 'object' || Array.isArray(row)) {\n              return;\n            }\n            rows.push(that._renderRow(row));\n          });\n        }\n      }\n      return ejs.render(tpl['fields/dataset.html'], {\n        field: options,\n        value: this._value !== null ? this._value : '',\n        lang: this._form.getLang(),\n        render: {\n          headers: headers,\n          rows: rows\n        }\n      });\n    },\n    /**\r\n     *\r\n     * @private\r\n     */\n    _renderContentReadonly: function _renderContentReadonly() {\n      var options = this.getOptions();\n      var rows = [];\n      var headers = [];\n      var that = this;\n      if (options.hasOwnProperty('options') && _typeof(options.options) === 'object' && Array.isArray(options.options)) {\n        // Заголовок\n        $.each(options.options, function (key, option) {\n          var title = option.hasOwnProperty('title') && ['string', 'numeric'].indexOf(_typeof(option.title)) >= 0 ? option.title : '';\n          headers.push({\n            title: title\n          });\n        });\n\n        // Строки\n        if (_typeof(this._value) === 'object' && Array.isArray(this._value)) {\n          $.each(this._value, function (key, row) {\n            if (_typeof(row) !== 'object' || Array.isArray(row)) {\n              return;\n            }\n            rows.push(that._renderRowReadonly(row));\n          });\n        }\n      }\n      return ejs.render(tpl['fields/dataset.html'], {\n        field: options,\n        value: this._value !== null ? this._value : '',\n        lang: this._form.getLang(),\n        render: {\n          headers: headers,\n          rows: rows\n        }\n      });\n    },\n    /**\r\n     * Инициализация событий\r\n     * @private\r\n     */\n    _initEvents: function _initEvents() {\n      var that = this;\n      var element = '#coreui-form-' + this._id + ' .content-' + this._hash;\n\n      // Кнопка удаления\n      $(element + ' .btn-dataset-remove').click(function () {\n        that.removeItem($(this).data('item-id'));\n      });\n\n      // Кнопка добавления\n      $(element + ' .btn-dataset-add').click(function () {\n        that._eventAdd();\n      });\n    },\n    /**\r\n     * Событие добавления\r\n     */\n    _eventAdd: function _eventAdd(row) {\n      var that = this;\n      var element = '#coreui-form-' + this._id + ' .content-' + this._hash;\n      row = row || {};\n      if ($(element + ' .coreui-form__field-dataset-item').length === 0) {\n        $(element + ' .coreui-form__field-dataset-container').show();\n      }\n      $(element + ' .coreui-form__field-dataset-list').append(this._renderRow(row));\n      $(element + ' .coreui-form__field-dataset-item:last-child .btn-dataset-remove').click(function () {\n        that.removeItem($(this).data('item-id'));\n      });\n    },\n    /**\r\n     * Формирование строки\r\n     * @param {object} row\r\n     * @private\r\n     */\n    _renderRow: function _renderRow(row) {\n      var rowOptions = [];\n      var itemOptions = [];\n      $.each(this._renderOptions, function (key, option) {\n        var cellValue = row.hasOwnProperty(option.name) ? row[option.name] : '';\n        if (option.type === 'select') {\n          $.each(option.items, function (key, item) {\n            var title = item.hasOwnProperty('title') && ['string', 'numeric'].indexOf(_typeof(item.title)) >= 0 ? item.title : '';\n            var itemValue = item.hasOwnProperty('value') && ['string', 'numeric'].indexOf(_typeof(item.value)) >= 0 ? item.value : '';\n            var itemAttr = {};\n            $.each(item, function (name, value) {\n              if (name !== 'title') {\n                itemAttr[name] = value;\n              }\n            });\n            if (_typeof(cellValue) === 'object' && Array.isArray(cellValue)) {\n              $.each(cellValue, function (key, cellItemValue) {\n                if (cellItemValue == itemValue) {\n                  itemAttr.selected = 'selected';\n                  return false;\n                }\n              });\n            } else if (cellValue == item.value) {\n              itemAttr.selected = 'selected';\n            }\n            var attributes = [];\n            $.each(itemAttr, function (name, value) {\n              attributes.push(name + '=\"' + value + '\"');\n            });\n            itemOptions.push({\n              attr: attributes.length > 0 ? ' ' + attributes.join(' ') : '',\n              title: title\n            });\n          });\n        } else if (option.type === 'switch') {\n          if (cellValue == option.valueY) {\n            option.attr.checked = 'checked';\n          }\n        } else {\n          if (['string', 'number'].indexOf(_typeof(cellValue)) >= 0) {\n            option.attr.value = cellValue !== null ? cellValue : '';\n          }\n        }\n        var attributes = [];\n        $.each(option.attr, function (name, value) {\n          attributes.push(name + '=\"' + value + '\"');\n        });\n        rowOptions.push({\n          type: option.type,\n          attr: attributes.length > 0 ? ' ' + attributes.join(' ') : '',\n          items: itemOptions\n        });\n      });\n      return ejs.render(tpl['fields/dataset-row.html'], {\n        hashItem: coreuiFormUtils.hashCode(),\n        options: rowOptions\n      });\n    },\n    /**\r\n     * Формирование строки\r\n     * @param {object} row\r\n     * @private\r\n     */\n    _renderRowReadonly: function _renderRowReadonly(row) {\n      var rowOptions = [];\n      var lang = this._form.getLang();\n      $.each(this._renderOptions, function (key, option) {\n        var optionValue = '';\n        var cellValue = row.hasOwnProperty(option.name) ? row[option.name] : '';\n        if (option.type === 'select') {\n          var itemOptions = [];\n          $.each(option.items, function (key, item) {\n            item.hasOwnProperty('title') && ['string', 'numeric'].indexOf(_typeof(item.title)) >= 0 ? item.title : '';\n            var itemValue = item.hasOwnProperty('value') && ['string', 'numeric'].indexOf(_typeof(item.value)) >= 0 ? item.value : '';\n            if (_typeof(cellValue) === 'object' && Array.isArray(cellValue)) {\n              $.each(cellValue, function (key, cellItemValue) {\n                if (cellItemValue == itemValue) {\n                  itemOptions.push(itemValue);\n                  return false;\n                }\n              });\n            } else if (cellValue == item.value) {\n              itemOptions.push(cellValue);\n            }\n          });\n        } else if (option.type === 'switch') {\n          var valueY = 'Y';\n          if (option.hasOwnProperty('valueY')) {\n            valueY = option.valueY;\n          }\n          optionValue = cellValue == valueY ? lang.switch_yes : lang.switch_no;\n        } else {\n          if (['string', 'number'].indexOf(_typeof(cellValue)) >= 0) {\n            optionValue = cellValue;\n            switch (option.type) {\n              case 'date':\n                optionValue = coreuiFormUtils.formatDate(optionValue);\n                break;\n              case 'datetime-local':\n                optionValue = coreuiFormUtils.formatDateTime(optionValue);\n                break;\n              case 'month':\n                optionValue = coreuiFormUtils.formatDateMonth(optionValue, lang);\n                break;\n              case 'week':\n                optionValue = coreuiFormUtils.formatDateWeek(optionValue, lang);\n                break;\n              default:\n                optionValue = cellValue;\n            }\n          }\n        }\n        rowOptions.push({\n          value: optionValue\n        });\n      });\n      return ejs.render(tpl['fields/dataset-row-readonly.html'], {\n        options: rowOptions\n      });\n    }\n  };\n\n  coreuiForm.fields.group = {\n    _id: '',\n    _form: null,\n    _index: 0,\n    _options: {\n      type: 'group',\n      label: '',\n      show: true,\n      showCollapsible: true,\n      fields: [],\n      column: null\n    },\n    /**\r\n     * Инициализация\r\n     * @param {coreuiFormInstance} form\r\n     * @param {object}             options\r\n     * @param {int}                index Порядковый номер на форме\r\n     */\n    init: function init(form, options, index) {\n      this._form = form;\n      this._index = index;\n      this._id = form.getId() + \"-group-\" + index;\n      this._options = $.extend(true, {}, this._options, options);\n      var that = this;\n      form.on('shown.coreui.form', function () {\n        that._initEvents();\n      });\n    },\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\n    getOptions: function getOptions() {\n      return $.extend(true, {}, this._options, options);\n    },\n    /**\r\n     * Скрытие группы\r\n     * @param {int} duration\r\n     */\n    collapse: function collapse(duration) {\n      var container = '#coreui-form-' + this._id;\n      $(container + ' > .coreui-form__group_label .btn-collapsible .bi').removeClass('bi-chevron-down');\n      $(container + ' > .coreui-form__group_label .btn-collapsible .bi').addClass('bi-chevron-right');\n      $(container + ' .coreui-form__group_content').slideUp(duration);\n    },\n    /**\r\n     * Показ группы\r\n     * @param {int} duration\r\n     */\n    expand: function expand(duration) {\n      var container = '#coreui-form-' + this._id;\n      $(container + ' > .coreui-form__group_label .btn-collapsible .bi').removeClass('bi-chevron-right');\n      $(container + ' > .coreui-form__group_label .btn-collapsible .bi').addClass('bi-chevron-down');\n      $(container + ' .coreui-form__group_content').slideDown(duration);\n    },\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\n    render: function render() {\n      return ejs.render(tpl['form-field-group.html'], {\n        id: this._id,\n        form: this._form,\n        group: this._options,\n        content: this.renderContent()\n      });\n    },\n    /**\r\n     * Формирование контента поля\r\n     * @return {string}\r\n     */\n    renderContent: function renderContent() {\n      var fields = [];\n      var that = this;\n      $.each(this._options.fields, function (key, field) {\n        var fieldInstance = that._form.initField(field);\n        if (_typeof(fieldInstance) !== 'object') {\n          return;\n        }\n        fields.push(fieldInstance.render());\n      });\n      return fields.join('');\n    },\n    /**\r\n     * Инициализация событий\r\n     * @private\r\n     */\n    _initEvents: function _initEvents() {\n      if (this._options.showCollapsible) {\n        var that = this;\n        var container = '#coreui-form-' + this._id;\n        $(container + ' > .coreui-form__group_label .btn-collapsible').click(function () {\n          if ($(container + ' > .coreui-form__group_content').is(':visible')) {\n            that.collapse(80);\n          } else {\n            that.expand(80);\n          }\n        });\n      }\n    }\n  };\n\n  coreuiForm.fields.hidden = {\n    _id: '',\n    _form: null,\n    _index: 0,\n    _value: '',\n    _options: {\n      type: 'hidden',\n      name: null,\n      attr: {},\n      required: null,\n      column: null\n    },\n    /**\r\n     * Инициализация\r\n     * @param {coreuiFormInstance} form\r\n     * @param {object}             options\r\n     * @param {int}                index Порядковый номер на форме\r\n     */\n    init: function init(form, options, index) {\n      this._form = form;\n      this._id = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\n      this._value = coreuiFormUtils.getFieldValue(form, options);\n      this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);\n    },\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\n    getOptions: function getOptions() {\n      return $.extend(true, {}, this._options);\n    },\n    /**\r\n     * Получение значения в поле\r\n     * @returns {string}\r\n     */\n    getValue: function getValue() {\n      return this._options.readonly ? this._value : $('#coreui-form-' + this._id).val();\n    },\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\n    setValue: function setValue(value) {\n      if (['string', 'number'].indexOf(_typeof(value)) < 0) {\n        return;\n      }\n      this._value = value;\n      if (!this._options.readonly) {\n        $('#coreui-form-' + this._id).val(value);\n      }\n    },\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\n    render: function render() {\n      return ejs.render(tpl['form-field-content.html'], {\n        content: this.renderContent()\n      });\n    },\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\n    renderContent: function renderContent() {\n      var attributes = [];\n      var options = this.getOptions();\n      if (!options.hasOwnProperty('attr') || _typeof(options.attr) !== 'object' || options.attr === null || Array.isArray(options.attr)) {\n        options.attr = {};\n      }\n      options.attr.id = 'coreui-form-' + this._id;\n      if (options.name) {\n        options.attr.name = options.name;\n      }\n      options.attr.type = 'hidden';\n      options.attr.value = this._value !== null ? this._value : '';\n      $.each(options.attr, function (name, value) {\n        attributes.push(name + '=\"' + value + '\"');\n      });\n      return ejs.render(tpl['fields/hidden.html'], {\n        value: this._value !== null ? this._value : '',\n        field: options,\n        render: {\n          attr: attributes.length > 0 ? ' ' + attributes.join(' ') : ''\n        }\n      });\n    }\n  };\n\n  coreuiForm.fields.input = {\n    _id: '',\n    _hash: '',\n    _form: null,\n    _index: 0,\n    _value: '',\n    _options: {\n      type: 'text',\n      name: null,\n      label: null,\n      labelWidth: null,\n      width: null,\n      outContent: null,\n      description: null,\n      errorText: null,\n      attach: null,\n      attr: {\n        \"class\": 'form-control d-inline-block'\n      },\n      required: null,\n      invalidText: null,\n      validText: null,\n      readonly: null,\n      datalist: null,\n      show: true,\n      column: null\n    },\n    /**\r\n     * Инициализация\r\n     * @param {coreuiFormInstance} form\r\n     * @param {object}             options\r\n     * @param {int}                index Порядковый номер на форме\r\n     */\n    init: function init(form, options, index) {\n      this._form = form;\n      this._index = index;\n      this._id = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\n      this._hash = coreuiFormUtils.hashCode();\n      this._value = coreuiFormUtils.getFieldValue(form, options);\n      this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);\n    },\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\n    getOptions: function getOptions() {\n      return $.extend(true, {}, this._options);\n    },\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\n    readonly: function readonly(isReadonly) {\n      this._value = this.getValue();\n      this._options.readonly = !!isReadonly;\n      $('.content-' + this._hash).html(this.renderContent());\n    },\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\n    hide: function hide(duration) {\n      $('#coreui-form-' + this._id).hide(duration);\n    },\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\n    show: function show(duration) {\n      $('#coreui-form-' + this._id).show(duration);\n    },\n    /**\r\n     * Получение значения в поле\r\n     * @returns {string}\r\n     */\n    getValue: function getValue() {\n      return this._options.readonly ? this._value : $('.content-' + this._hash + ' input').val();\n    },\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\n    setValue: function setValue(value) {\n      if (['string', 'number'].indexOf(_typeof(value)) < 0) {\n        return;\n      }\n      this._value = value;\n      if (this._options.readonly) {\n        $('.content-' + this._hash).text(value);\n      } else {\n        $('.content-' + this._hash + ' input').val(value);\n      }\n    },\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\n    validate: function validate(isValid, text) {\n      if (this._options.readonly) {\n        return;\n      }\n      var container = $('.content-' + this._hash);\n      var input = $('input', container);\n      container.find('.valid-feedback').remove();\n      container.find('.invalid-feedback').remove();\n      if (isValid === null) {\n        input.removeClass('is-invalid');\n        input.removeClass('is-valid');\n      } else if (isValid) {\n        input.removeClass('is-invalid');\n        input.addClass('is-valid');\n        if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\n          text = this._options.validText;\n        }\n        if (typeof text === 'string') {\n          container.append('<div class=\"valid-feedback\">' + text + '</div>');\n        }\n      } else {\n        input.removeClass('is-valid');\n        input.addClass('is-invalid');\n        if (typeof text === 'undefined') {\n          if (typeof this._options.invalidText === 'string') {\n            text = this._options.invalidText;\n          } else if (!text && this._options.required) {\n            text = this._form.getLang().required_field;\n          }\n        }\n        if (typeof text === 'string') {\n          container.append('<div class=\"invalid-feedback\">' + text + '</div>');\n        }\n      }\n    },\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean|null}\r\n     */\n    isValid: function isValid() {\n      var input = $('.content-' + this._hash + ' input');\n      if (input[0]) {\n        return input.is(':valid');\n      }\n      return null;\n    },\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\n    render: function render() {\n      var options = this.getOptions();\n      var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);\n      return ejs.render(tpl['form-field-label.html'], {\n        id: this._id,\n        form: this._form,\n        hash: this._hash,\n        field: options,\n        content: this.renderContent(),\n        attachFields: attachFields\n      });\n    },\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\n    renderContent: function renderContent() {\n      return this._options.readonly ? this._renderContentReadonly() : this._renderContent();\n    },\n    /**\r\n     *\r\n     * @private\r\n     */\n    _renderContent: function _renderContent() {\n      var attributes = [];\n      var datalist = [];\n      var options = this.getOptions();\n      var datalistId = coreuiFormUtils.hashCode();\n      if (!options.hasOwnProperty('attr') || _typeof(options.attr) !== 'object' || options.attr === null || Array.isArray(options.attr)) {\n        options.attr = {};\n      }\n      if (options.name) {\n        options.attr.name = this._options.name;\n      }\n      options.attr.type = options.type;\n      options.attr.value = this._value !== null ? this._value : '';\n      if (options.width) {\n        options.attr = coreuiFormUtils.mergeAttr({\n          style: 'width:' + options.width\n        }, options.attr);\n      }\n      if (options.required) {\n        options.attr.required = 'required';\n      }\n      if (options.hasOwnProperty('datalist') && _typeof(options.datalist) === 'object' && Array.isArray(options.datalist)) {\n        options.attr.list = datalistId;\n        $.each(options.datalist, function (key, itemAttributes) {\n          var datalistAttr = [];\n          $.each(itemAttributes, function (name, value) {\n            datalistAttr.push(name + '=\"' + value + '\"');\n          });\n          datalist.push({\n            attr: datalistAttr.length > 0 ? ' ' + datalistAttr.join(' ') : ''\n          });\n        });\n      }\n      $.each(options.attr, function (name, value) {\n        attributes.push(name + '=\"' + value + '\"');\n      });\n      return ejs.render(tpl['fields/input.html'], {\n        field: options,\n        datalistId: datalistId,\n        value: this._value !== null ? this._value : '',\n        render: {\n          attr: attributes.length > 0 ? ' ' + attributes.join(' ') : '',\n          datalist: datalist\n        }\n      });\n    },\n    /**\r\n     *\r\n     * @private\r\n     */\n    _renderContentReadonly: function _renderContentReadonly() {\n      var options = this.getOptions();\n      var type = 'text';\n      var value = this._value;\n      var lang = this._form.getLang();\n      if (options.hasOwnProperty('type') && typeof options.type === 'string') {\n        type = options.type;\n      }\n      try {\n        switch (type) {\n          case 'date':\n            value = coreuiFormUtils.formatDate(value);\n            break;\n          case 'datetime-local':\n            value = coreuiFormUtils.formatDateTime(value);\n            break;\n          case 'month':\n            value = coreuiFormUtils.formatDateMonth(value, lang);\n            break;\n          case 'week':\n            value = coreuiFormUtils.formatDateWeek(value, lang);\n            break;\n        }\n      } catch (e) {\n        console.error(e);\n        // ignore\n      }\n\n      return ejs.render(tpl['fields/input.html'], {\n        field: options,\n        value: value,\n        hash: this._hash\n      });\n    }\n  };\n\n  /**\n   * jquery.mask.js\n   * @version: v1.14.16\n   * @author: Igor Escobar\n   *\n   * Created by Igor Escobar on 2012-03-10. Please report any bug at github.com/igorescobar/jQuery-Mask-Plugin\n   *\n   * Copyright (c) 2012 Igor Escobar http://igorescobar.com\n   *\n   * The MIT License (http://www.opensource.org/licenses/mit-license.php)\n   *\n   * Permission is hereby granted, free of charge, to any person\n   * obtaining a copy of this software and associated documentation\n   * files (the \"Software\"), to deal in the Software without\n   * restriction, including without limitation the rights to use,\n   * copy, modify, merge, publish, distribute, sublicense, and/or sell\n   * copies of the Software, and to permit persons to whom the\n   * Software is furnished to do so, subject to the following\n   * conditions:\n   *\n   * The above copyright notice and this permission notice shall be\n   * included in all copies or substantial portions of the Software.\n   *\n   * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n   * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n   * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n   * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n   * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n   * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n   * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n   * OTHER DEALINGS IN THE SOFTWARE.\n   */\n\n  /* jshint laxbreak: true */\n  /* jshint maxcomplexity:17 */\n  /* global define */\n\n  // UMD (Universal Module Definition) patterns for JavaScript modules that work everywhere.\n  // https://github.com/umdjs/umd/blob/master/templates/jqueryPlugin.js\n  (function (factory, jQuery, Zepto) {\n    if (typeof define === 'function' && define.amd) {\n      define(['jquery'], factory);\n    } else if (typeof exports === 'object' && typeof Meteor === 'undefined') {\n      module.exports = factory(require('jquery'));\n    } else {\n      factory(jQuery || Zepto);\n    }\n  })(function ($) {\n\n    var Mask = function (el, mask, options) {\n      var p = {\n        invalid: [],\n        getCaret: function () {\n          try {\n            var sel,\n              pos = 0,\n              ctrl = el.get(0),\n              dSel = document.selection,\n              cSelStart = ctrl.selectionStart;\n\n            // IE Support\n            if (dSel && navigator.appVersion.indexOf('MSIE 10') === -1) {\n              sel = dSel.createRange();\n              sel.moveStart('character', -p.val().length);\n              pos = sel.text.length;\n            }\n            // Firefox support\n            else if (cSelStart || cSelStart === '0') {\n              pos = cSelStart;\n            }\n            return pos;\n          } catch (e) {}\n        },\n        setCaret: function (pos) {\n          try {\n            if (el.is(':focus')) {\n              var range,\n                ctrl = el.get(0);\n\n              // Firefox, WebKit, etc..\n              if (ctrl.setSelectionRange) {\n                ctrl.setSelectionRange(pos, pos);\n              } else {\n                // IE\n                range = ctrl.createTextRange();\n                range.collapse(true);\n                range.moveEnd('character', pos);\n                range.moveStart('character', pos);\n                range.select();\n              }\n            }\n          } catch (e) {}\n        },\n        events: function () {\n          el.on('keydown.mask', function (e) {\n            el.data('mask-keycode', e.keyCode || e.which);\n            el.data('mask-previus-value', el.val());\n            el.data('mask-previus-caret-pos', p.getCaret());\n            p.maskDigitPosMapOld = p.maskDigitPosMap;\n          }).on($.jMaskGlobals.useInput ? 'input.mask' : 'keyup.mask', p.behaviour).on('paste.mask drop.mask', function () {\n            setTimeout(function () {\n              el.keydown().keyup();\n            }, 100);\n          }).on('change.mask', function () {\n            el.data('changed', true);\n          }).on('blur.mask', function () {\n            if (oldValue !== p.val() && !el.data('changed')) {\n              el.trigger('change');\n            }\n            el.data('changed', false);\n          })\n          // it's very important that this callback remains in this position\n          // otherwhise oldValue it's going to work buggy\n          .on('blur.mask', function () {\n            oldValue = p.val();\n          })\n          // select all text on focus\n          .on('focus.mask', function (e) {\n            if (options.selectOnFocus === true) {\n              $(e.target).select();\n            }\n          })\n          // clear the value if it not complete the mask\n          .on('focusout.mask', function () {\n            if (options.clearIfNotMatch && !regexMask.test(p.val())) {\n              p.val('');\n            }\n          });\n        },\n        getRegexMask: function () {\n          var maskChunks = [],\n            translation,\n            pattern,\n            optional,\n            recursive,\n            oRecursive,\n            r;\n          for (var i = 0; i < mask.length; i++) {\n            translation = jMask.translation[mask.charAt(i)];\n            if (translation) {\n              pattern = translation.pattern.toString().replace(/.{1}$|^.{1}/g, '');\n              optional = translation.optional;\n              recursive = translation.recursive;\n              if (recursive) {\n                maskChunks.push(mask.charAt(i));\n                oRecursive = {\n                  digit: mask.charAt(i),\n                  pattern: pattern\n                };\n              } else {\n                maskChunks.push(!optional && !recursive ? pattern : pattern + '?');\n              }\n            } else {\n              maskChunks.push(mask.charAt(i).replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&'));\n            }\n          }\n          r = maskChunks.join('');\n          if (oRecursive) {\n            r = r.replace(new RegExp('(' + oRecursive.digit + '(.*' + oRecursive.digit + ')?)'), '($1)?').replace(new RegExp(oRecursive.digit, 'g'), oRecursive.pattern);\n          }\n          return new RegExp(r);\n        },\n        destroyEvents: function () {\n          el.off(['input', 'keydown', 'keyup', 'paste', 'drop', 'blur', 'focusout', ''].join('.mask '));\n        },\n        val: function (v) {\n          var isInput = el.is('input'),\n            method = isInput ? 'val' : 'text',\n            r;\n          if (arguments.length > 0) {\n            if (el[method]() !== v) {\n              el[method](v);\n            }\n            r = el;\n          } else {\n            r = el[method]();\n          }\n          return r;\n        },\n        calculateCaretPosition: function (oldVal) {\n          var newVal = p.getMasked(),\n            caretPosNew = p.getCaret();\n          if (oldVal !== newVal) {\n            var caretPosOld = el.data('mask-previus-caret-pos') || 0,\n              newValL = newVal.length,\n              oldValL = oldVal.length,\n              maskDigitsBeforeCaret = 0,\n              maskDigitsAfterCaret = 0,\n              maskDigitsBeforeCaretAll = 0,\n              maskDigitsBeforeCaretAllOld = 0,\n              i = 0;\n            for (i = caretPosNew; i < newValL; i++) {\n              if (!p.maskDigitPosMap[i]) {\n                break;\n              }\n              maskDigitsAfterCaret++;\n            }\n            for (i = caretPosNew - 1; i >= 0; i--) {\n              if (!p.maskDigitPosMap[i]) {\n                break;\n              }\n              maskDigitsBeforeCaret++;\n            }\n            for (i = caretPosNew - 1; i >= 0; i--) {\n              if (p.maskDigitPosMap[i]) {\n                maskDigitsBeforeCaretAll++;\n              }\n            }\n            for (i = caretPosOld - 1; i >= 0; i--) {\n              if (p.maskDigitPosMapOld[i]) {\n                maskDigitsBeforeCaretAllOld++;\n              }\n            }\n\n            // if the cursor is at the end keep it there\n            if (caretPosNew > oldValL) {\n              caretPosNew = newValL * 10;\n            } else if (caretPosOld >= caretPosNew && caretPosOld !== oldValL) {\n              if (!p.maskDigitPosMapOld[caretPosNew]) {\n                var caretPos = caretPosNew;\n                caretPosNew -= maskDigitsBeforeCaretAllOld - maskDigitsBeforeCaretAll;\n                caretPosNew -= maskDigitsBeforeCaret;\n                if (p.maskDigitPosMap[caretPosNew]) {\n                  caretPosNew = caretPos;\n                }\n              }\n            } else if (caretPosNew > caretPosOld) {\n              caretPosNew += maskDigitsBeforeCaretAll - maskDigitsBeforeCaretAllOld;\n              caretPosNew += maskDigitsAfterCaret;\n            }\n          }\n          return caretPosNew;\n        },\n        behaviour: function (e) {\n          e = e || window.event;\n          p.invalid = [];\n          var keyCode = el.data('mask-keycode');\n          if ($.inArray(keyCode, jMask.byPassKeys) === -1) {\n            var newVal = p.getMasked(),\n              caretPos = p.getCaret(),\n              oldVal = el.data('mask-previus-value') || '';\n\n            // this is a compensation to devices/browsers that don't compensate\n            // caret positioning the right way\n            setTimeout(function () {\n              p.setCaret(p.calculateCaretPosition(oldVal));\n            }, $.jMaskGlobals.keyStrokeCompensation);\n            p.val(newVal);\n            p.setCaret(caretPos);\n            return p.callbacks(e);\n          }\n        },\n        getMasked: function (skipMaskChars, val) {\n          var buf = [],\n            value = val === undefined ? p.val() : val + '',\n            m = 0,\n            maskLen = mask.length,\n            v = 0,\n            valLen = value.length,\n            offset = 1,\n            addMethod = 'push',\n            resetPos = -1,\n            maskDigitCount = 0,\n            maskDigitPosArr = [],\n            lastMaskChar,\n            check;\n          if (options.reverse) {\n            addMethod = 'unshift';\n            offset = -1;\n            lastMaskChar = 0;\n            m = maskLen - 1;\n            v = valLen - 1;\n            check = function () {\n              return m > -1 && v > -1;\n            };\n          } else {\n            lastMaskChar = maskLen - 1;\n            check = function () {\n              return m < maskLen && v < valLen;\n            };\n          }\n          var lastUntranslatedMaskChar;\n          while (check()) {\n            var maskDigit = mask.charAt(m),\n              valDigit = value.charAt(v),\n              translation = jMask.translation[maskDigit];\n            if (translation) {\n              if (valDigit.match(translation.pattern)) {\n                buf[addMethod](valDigit);\n                if (translation.recursive) {\n                  if (resetPos === -1) {\n                    resetPos = m;\n                  } else if (m === lastMaskChar && m !== resetPos) {\n                    m = resetPos - offset;\n                  }\n                  if (lastMaskChar === resetPos) {\n                    m -= offset;\n                  }\n                }\n                m += offset;\n              } else if (valDigit === lastUntranslatedMaskChar) {\n                // matched the last untranslated (raw) mask character that we encountered\n                // likely an insert offset the mask character from the last entry; fall\n                // through and only increment v\n                maskDigitCount--;\n                lastUntranslatedMaskChar = undefined;\n              } else if (translation.optional) {\n                m += offset;\n                v -= offset;\n              } else if (translation.fallback) {\n                buf[addMethod](translation.fallback);\n                m += offset;\n                v -= offset;\n              } else {\n                p.invalid.push({\n                  p: v,\n                  v: valDigit,\n                  e: translation.pattern\n                });\n              }\n              v += offset;\n            } else {\n              if (!skipMaskChars) {\n                buf[addMethod](maskDigit);\n              }\n              if (valDigit === maskDigit) {\n                maskDigitPosArr.push(v);\n                v += offset;\n              } else {\n                lastUntranslatedMaskChar = maskDigit;\n                maskDigitPosArr.push(v + maskDigitCount);\n                maskDigitCount++;\n              }\n              m += offset;\n            }\n          }\n          var lastMaskCharDigit = mask.charAt(lastMaskChar);\n          if (maskLen === valLen + 1 && !jMask.translation[lastMaskCharDigit]) {\n            buf.push(lastMaskCharDigit);\n          }\n          var newVal = buf.join('');\n          p.mapMaskdigitPositions(newVal, maskDigitPosArr, valLen);\n          return newVal;\n        },\n        mapMaskdigitPositions: function (newVal, maskDigitPosArr, valLen) {\n          var maskDiff = options.reverse ? newVal.length - valLen : 0;\n          p.maskDigitPosMap = {};\n          for (var i = 0; i < maskDigitPosArr.length; i++) {\n            p.maskDigitPosMap[maskDigitPosArr[i] + maskDiff] = 1;\n          }\n        },\n        callbacks: function (e) {\n          var val = p.val(),\n            changed = val !== oldValue,\n            defaultArgs = [val, e, el, options],\n            callback = function (name, criteria, args) {\n              if (typeof options[name] === 'function' && criteria) {\n                options[name].apply(this, args);\n              }\n            };\n          callback('onChange', changed === true, defaultArgs);\n          callback('onKeyPress', changed === true, defaultArgs);\n          callback('onComplete', val.length === mask.length, defaultArgs);\n          callback('onInvalid', p.invalid.length > 0, [val, e, el, p.invalid, options]);\n        }\n      };\n      el = $(el);\n      var jMask = this,\n        oldValue = p.val(),\n        regexMask;\n      mask = typeof mask === 'function' ? mask(p.val(), undefined, el, options) : mask;\n\n      // public methods\n      jMask.mask = mask;\n      jMask.options = options;\n      jMask.remove = function () {\n        var caret = p.getCaret();\n        if (jMask.options.placeholder) {\n          el.removeAttr('placeholder');\n        }\n        if (el.data('mask-maxlength')) {\n          el.removeAttr('maxlength');\n        }\n        p.destroyEvents();\n        p.val(jMask.getCleanVal());\n        p.setCaret(caret);\n        return el;\n      };\n\n      // get value without mask\n      jMask.getCleanVal = function () {\n        return p.getMasked(true);\n      };\n\n      // get masked value without the value being in the input or element\n      jMask.getMaskedVal = function (val) {\n        return p.getMasked(false, val);\n      };\n      jMask.init = function (onlyMask) {\n        onlyMask = onlyMask || false;\n        options = options || {};\n        jMask.clearIfNotMatch = $.jMaskGlobals.clearIfNotMatch;\n        jMask.byPassKeys = $.jMaskGlobals.byPassKeys;\n        jMask.translation = $.extend({}, $.jMaskGlobals.translation, options.translation);\n        jMask = $.extend(true, {}, jMask, options);\n        regexMask = p.getRegexMask();\n        if (onlyMask) {\n          p.events();\n          p.val(p.getMasked());\n        } else {\n          if (options.placeholder) {\n            el.attr('placeholder', options.placeholder);\n          }\n\n          // this is necessary, otherwise if the user submit the form\n          // and then press the \"back\" button, the autocomplete will erase\n          // the data. Works fine on IE9+, FF, Opera, Safari.\n          if (el.data('mask')) {\n            el.attr('autocomplete', 'off');\n          }\n\n          // detect if is necessary let the user type freely.\n          // for is a lot faster than forEach.\n          for (var i = 0, maxlength = true; i < mask.length; i++) {\n            var translation = jMask.translation[mask.charAt(i)];\n            if (translation && translation.recursive) {\n              maxlength = false;\n              break;\n            }\n          }\n          if (maxlength) {\n            el.attr('maxlength', mask.length).data('mask-maxlength', true);\n          }\n          p.destroyEvents();\n          p.events();\n          var caret = p.getCaret();\n          p.val(p.getMasked());\n          p.setCaret(caret);\n        }\n      };\n      jMask.init(!el.is('input'));\n    };\n    $.maskWatchers = {};\n    var HTMLAttributes = function () {\n        var input = $(this),\n          options = {},\n          prefix = 'data-mask-',\n          mask = input.attr('data-mask');\n        if (input.attr(prefix + 'reverse')) {\n          options.reverse = true;\n        }\n        if (input.attr(prefix + 'clearifnotmatch')) {\n          options.clearIfNotMatch = true;\n        }\n        if (input.attr(prefix + 'selectonfocus') === 'true') {\n          options.selectOnFocus = true;\n        }\n        if (notSameMaskObject(input, mask, options)) {\n          return input.data('mask', new Mask(this, mask, options));\n        }\n      },\n      notSameMaskObject = function (field, mask, options) {\n        options = options || {};\n        var maskObject = $(field).data('mask'),\n          stringify = JSON.stringify,\n          value = $(field).val() || $(field).text();\n        try {\n          if (typeof mask === 'function') {\n            mask = mask(value);\n          }\n          return typeof maskObject !== 'object' || stringify(maskObject.options) !== stringify(options) || maskObject.mask !== mask;\n        } catch (e) {}\n      },\n      eventSupported = function (eventName) {\n        var el = document.createElement('div'),\n          isSupported;\n        eventName = 'on' + eventName;\n        isSupported = eventName in el;\n        if (!isSupported) {\n          el.setAttribute(eventName, 'return;');\n          isSupported = typeof el[eventName] === 'function';\n        }\n        el = null;\n        return isSupported;\n      };\n    $.fn.mask = function (mask, options) {\n      options = options || {};\n      var selector = this.selector,\n        globals = $.jMaskGlobals,\n        interval = globals.watchInterval,\n        watchInputs = options.watchInputs || globals.watchInputs,\n        maskFunction = function () {\n          if (notSameMaskObject(this, mask, options)) {\n            return $(this).data('mask', new Mask(this, mask, options));\n          }\n        };\n      $(this).each(maskFunction);\n      if (selector && selector !== '' && watchInputs) {\n        clearInterval($.maskWatchers[selector]);\n        $.maskWatchers[selector] = setInterval(function () {\n          $(document).find(selector).each(maskFunction);\n        }, interval);\n      }\n      return this;\n    };\n    $.fn.masked = function (val) {\n      return this.data('mask').getMaskedVal(val);\n    };\n    $.fn.unmask = function () {\n      clearInterval($.maskWatchers[this.selector]);\n      delete $.maskWatchers[this.selector];\n      return this.each(function () {\n        var dataMask = $(this).data('mask');\n        if (dataMask) {\n          dataMask.remove().removeData('mask');\n        }\n      });\n    };\n    $.fn.cleanVal = function () {\n      return this.data('mask').getCleanVal();\n    };\n    $.applyDataMask = function (selector) {\n      selector = selector || $.jMaskGlobals.maskElements;\n      var $selector = selector instanceof $ ? selector : $(selector);\n      $selector.filter($.jMaskGlobals.dataMaskAttr).each(HTMLAttributes);\n    };\n    var globals = {\n      maskElements: 'input,td,span,div',\n      dataMaskAttr: '*[data-mask]',\n      dataMask: true,\n      watchInterval: 300,\n      watchInputs: true,\n      keyStrokeCompensation: 10,\n      // old versions of chrome dont work great with input event\n      useInput: !/Chrome\\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent) && eventSupported('input'),\n      watchDataMask: false,\n      byPassKeys: [9, 16, 17, 18, 36, 37, 38, 39, 40, 91],\n      translation: {\n        '0': {\n          pattern: /\\d/\n        },\n        '9': {\n          pattern: /\\d/,\n          optional: true\n        },\n        '#': {\n          pattern: /\\d/,\n          recursive: true\n        },\n        'A': {\n          pattern: /[a-zA-Z0-9]/\n        },\n        'S': {\n          pattern: /[a-zA-Z]/\n        }\n      }\n    };\n    $.jMaskGlobals = $.jMaskGlobals || {};\n    globals = $.jMaskGlobals = $.extend(true, {}, globals, $.jMaskGlobals);\n\n    // looking for inputs with data-mask attribute\n    if (globals.dataMask) {\n      $.applyDataMask();\n    }\n    setInterval(function () {\n      if ($.jMaskGlobals.watchDataMask) {\n        $.applyDataMask();\n      }\n    }, globals.watchInterval);\n  }, window.jQuery, window.Zepto);\n\n  coreuiForm.fields.mask = {\n    _id: '',\n    _hash: '',\n    _form: null,\n    _index: 0,\n    _value: '',\n    _options: {\n      type: 'mask',\n      name: null,\n      label: null,\n      labelWidth: null,\n      width: null,\n      outContent: null,\n      description: null,\n      errorText: null,\n      attach: null,\n      attr: {\n        \"class\": 'form-control d-inline-block'\n      },\n      required: null,\n      readonly: null,\n      datalist: null,\n      show: true,\n      column: null\n    },\n    /**\r\n     * Инициализация\r\n     * @param {coreuiFormInstance} form\r\n     * @param {object}             options\r\n     * @param {int}                index Порядковый номер на форме\r\n     */\n    init: function init(form, options, index) {\n      this._form = form;\n      this._index = index;\n      this._id = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\n      this._value = coreuiFormUtils.getFieldValue(form, options);\n      this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);\n      this._hash = coreuiFormUtils.hashCode();\n      var that = this;\n      form.on('shown.coreui.form', function () {\n        if (!that._options.readonly) {\n          that._initEvents();\n        }\n      });\n    },\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\n    getOptions: function getOptions() {\n      return $.extend(true, {}, this._options);\n    },\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\n    readonly: function readonly(isReadonly) {\n      this._value = this.getValue();\n      this._options.readonly = !!isReadonly;\n      $('.content-' + this._hash).html(this.renderContent());\n      if (!this._options.readonly) {\n        this._initEvents();\n      }\n    },\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\n    hide: function hide(duration) {\n      $('#coreui-form-' + this._id).hide(duration);\n    },\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\n    show: function show(duration) {\n      $('#coreui-form-' + this._id).show(duration);\n    },\n    /**\r\n     * Получение значения в поле\r\n     * @returns {string}\r\n     */\n    getValue: function getValue() {\n      return this._options.readonly ? this._value : $('.content-' + this._hash + ' input').val();\n    },\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\n    setValue: function setValue(value) {\n      if (['string', 'number'].indexOf(_typeof(value)) < 0) {\n        return;\n      }\n      value = value.replace(/[^\\d\\w]/g, '');\n      this._value = value;\n      if (this._options.readonly) {\n        $('.content-' + this._hash).text(value);\n      } else {\n        $('.content-' + this._hash + ' input').val(value);\n      }\n    },\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\n    validate: function validate(isValid, text) {\n      if (this._options.readonly) {\n        return;\n      }\n      var container = $('.content-' + this._hash);\n      var input = $('input', container);\n      container.find('.valid-feedback').remove();\n      container.find('.invalid-feedback').remove();\n      if (isValid === null) {\n        input.removeClass('is-invalid');\n        input.removeClass('is-valid');\n      } else if (isValid) {\n        input.removeClass('is-invalid');\n        input.addClass('is-valid');\n        if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\n          text = this._options.validText;\n        }\n        if (typeof text === 'string') {\n          container.append('<div class=\"valid-feedback\">' + text + '</div>');\n        }\n      } else {\n        input.removeClass('is-valid');\n        input.addClass('is-invalid');\n        if (typeof text === 'undefined') {\n          if (typeof this._options.invalidText === 'string') {\n            text = this._options.invalidText;\n          } else if (!text && this._options.required) {\n            text = this._form.getLang().required_field;\n          }\n        }\n        if (typeof text === 'string') {\n          container.append('<div class=\"invalid-feedback\">' + text + '</div>');\n        }\n      }\n    },\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\n    isValid: function isValid() {\n      var input = $('.content-' + this._hash + ' input');\n      if (input[0]) {\n        return input.is(':valid');\n      }\n      return null;\n    },\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\n    render: function render() {\n      var options = this.getOptions();\n      var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);\n      return ejs.render(tpl['form-field-label.html'], {\n        id: this._id,\n        form: this._form,\n        hash: this._hash,\n        field: options,\n        content: this.renderContent(),\n        attachFields: attachFields\n      });\n    },\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\n    renderContent: function renderContent() {\n      return this._options.readonly ? this._renderContentReadonly() : this._renderContent();\n    },\n    /**\r\n     *\r\n     * @return {*}\r\n     * @private\r\n     */\n    _renderContent: function _renderContent() {\n      var attributes = [];\n      var datalist = [];\n      var options = this.getOptions();\n      var datalistId = coreuiFormUtils.hashCode();\n      if (!options.hasOwnProperty('attr') || _typeof(options.attr) !== 'object' || options.attr === null || Array.isArray(options.attr)) {\n        options.attr = {};\n      }\n      if (options.name) {\n        options.attr.name = this._options.name;\n      }\n      options.attr.type = 'text';\n      options.attr.value = this._value !== null ? this._value : '';\n      if (options.width) {\n        options.attr = coreuiFormUtils.mergeAttr({\n          style: 'width:' + options.width\n        }, options.attr);\n      }\n      if (options.required) {\n        options.attr.required = 'required';\n      }\n      if (options.hasOwnProperty('datalist') && _typeof(options.datalist) === 'object' && Array.isArray(options.datalist)) {\n        options.attr.list = datalistId;\n        $.each(options.datalist, function (key, itemAttributes) {\n          var datalistAttr = [];\n          $.each(itemAttributes, function (name, value) {\n            datalistAttr.push(name + '=\"' + value + '\"');\n          });\n          datalist.push({\n            attr: datalistAttr.length > 0 ? ' ' + datalistAttr.join(' ') : ''\n          });\n        });\n      }\n      $.each(options.attr, function (name, value) {\n        attributes.push(name + '=\"' + value + '\"');\n      });\n      return ejs.render(tpl['fields/input.html'], {\n        field: options,\n        datalistId: datalistId,\n        value: this._value !== null ? this._value : '',\n        render: {\n          attr: attributes.length > 0 ? ' ' + attributes.join(' ') : '',\n          datalist: datalist\n        }\n      });\n    },\n    /**\r\n     *\r\n     * @private\r\n     */\n    _renderContentReadonly: function _renderContentReadonly() {\n      var options = this.getOptions();\n      return ejs.render(tpl['fields/input.html'], {\n        field: options,\n        value: this._value !== null ? this._value : ''\n      });\n    },\n    /**\r\n     * Инициализация событий\r\n     * @private\r\n     */\n    _initEvents: function _initEvents() {\n      $('#coreui-form-' + this._id + ' .content-' + this._hash + ' input').mask(this._options.mask, this._options.options);\n    }\n  };\n\n  coreuiForm.fields.modal = {\n    _id: '',\n    _hash: '',\n    _form: null,\n    _value: '',\n    _text: '',\n    _options: {\n      type: 'modal',\n      name: null,\n      label: null,\n      labelWidth: null,\n      width: null,\n      outContent: null,\n      description: null,\n      errorText: null,\n      fields: [],\n      options: {\n        title: '',\n        size: 'lg',\n        url: '',\n        onHidden: null,\n        onClear: null,\n        onChange: null\n      },\n      required: null,\n      readonly: null,\n      show: true,\n      column: null\n    },\n    /**\r\n     * Инициализация\r\n     * @param {coreuiFormInstance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\n    init: function init(form, options, index) {\n      var formRecord = form.getRecord();\n      this._form = form;\n      this._id = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\n      this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);\n      this._hash = coreuiFormUtils.hashCode();\n      if (typeof options.name === 'string' && formRecord.hasOwnProperty(options.name) && ['object'].indexOf(_typeof(formRecord[options.name])) >= 0) {\n        var record = formRecord[options.name];\n        this._value = record.hasOwnProperty('value') && ['number', 'string'].indexOf(_typeof(record.value)) >= 0 ? record.value : '';\n        this._text = record.hasOwnProperty('text') && ['number', 'string'].indexOf(_typeof(record.text)) >= 0 ? record.text : '';\n      }\n      var that = this;\n      form.on('shown.coreui.form', function () {\n        that._initEvents();\n      });\n    },\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\n    getOptions: function getOptions() {\n      return $.extend(true, {}, this._options);\n    },\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\n    readonly: function readonly(isReadonly) {\n      this._value = this.getValue();\n      this._options.readonly = !!isReadonly;\n      $('.content-' + this._hash).html(this.renderContent());\n      if (!this._options.readonly) {\n        this._initEvents();\n      }\n    },\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\n    hide: function hide(duration) {\n      $('#coreui-form-' + this._id).hide(duration);\n    },\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\n    show: function show(duration) {\n      $('#coreui-form-' + this._id).show(duration);\n    },\n    /**\r\n     * Получение значения в поле\r\n     * @returns {string}\r\n     */\n    getValue: function getValue() {\n      return this._options.readonly ? this._value : $('.content-' + this._hash + ' input.coreui-form-modal-value').val();\n    },\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     * @param {string} text\r\n     */\n    setValue: function setValue(value, text) {\n      if (['string', 'number'].indexOf(_typeof(value)) < 0) {\n        return;\n      }\n      this._value = value;\n      if (this._options.readonly) {\n        $('.content-' + this._hash).text(text);\n      } else {\n        var elementValue = $('.content-' + this._hash + ' .coreui-form-modal-value');\n        var elementText = $('.content-' + this._hash + ' .coreui-form-modal-text');\n        var oldValue = elementValue.val();\n        elementValue.val(value);\n        elementText.val(text);\n        if (oldValue != value) {\n          var modal = this._options.hasOwnProperty('options') && _typeof(this._options.options) === 'object' ? this._options.options : {};\n          if (modal.hasOwnProperty('onChange')) {\n            if (typeof modal.onChange === 'function') {\n              modal.onChange(this);\n            } else if (typeof modal.onChange === 'string') {\n              new Function('modal', modal.onChange)(this);\n            }\n          }\n          this._form._trigger('change-modal.coreui.form', this, [this]);\n        }\n      }\n    },\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\n    validate: function validate(isValid, text) {\n      if (this._options.readonly) {\n        return;\n      }\n      var container = $('.content-' + this._hash);\n      container.find('.text-success').remove();\n      container.find('.text-danger').remove();\n      if (isValid === null) {\n        return;\n      }\n      if (isValid) {\n        if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\n          text = this._options.validText;\n        }\n        if (typeof text === 'string') {\n          container.append('<div class=\"ps-2 text-success\">' + text + '</div>');\n        }\n      } else {\n        if (typeof text === 'undefined') {\n          if (typeof this._options.invalidText === 'string') {\n            text = this._options.invalidText;\n          } else if (!text && this._options.required) {\n            text = this._form.getLang().required_field;\n          }\n        }\n        if (typeof text === 'string') {\n          container.append('<div class=\"ps-2 text-danger\">' + text + '</div>');\n        }\n      }\n    },\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\n    isValid: function isValid() {\n      if (this._options.required && !this._options.readonly) {\n        return !!this.getValue();\n      }\n      return true;\n    },\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\n    render: function render() {\n      var options = this.getOptions();\n      var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);\n      return ejs.render(tpl['form-field-label.html'], {\n        id: this._id,\n        form: this._form,\n        hash: this._hash,\n        field: options,\n        content: this.renderContent(),\n        attachFields: attachFields\n      });\n    },\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\n    renderContent: function renderContent() {\n      var fieldOptions = this.getOptions();\n      var attributes = [];\n      var textAttr = {\n        type: 'text',\n        readonly: 'readonly',\n        \"class\": 'form-control coreui-form-modal-text',\n        value: this._text !== null ? this._text : ''\n      };\n      if (fieldOptions.required) {\n        textAttr.required = 'required';\n      }\n      if (fieldOptions.hasOwnProperty('attr') && _typeof(fieldOptions.attr) === 'object' && Array.isArray(fieldOptions.attr)) {\n        textAttr = coreuiFormUtils.mergeAttr(textAttr, fieldOptions.attr);\n      }\n      $.each(textAttr, function (name, value) {\n        attributes.push(name + '=\"' + value + '\"');\n      });\n      return ejs.render(tpl['fields/modal.html'], {\n        field: fieldOptions,\n        value: this._value !== null ? this._value : '',\n        text: this._text !== null ? this._text : '',\n        lang: this._form.getLang(),\n        render: {\n          width: this._options.width,\n          attr: attributes.length > 0 ? attributes.join(' ') : ''\n        }\n      });\n    },\n    /**\r\n     * Инициализация событий\r\n     * @private\r\n     */\n    _initEvents: function _initEvents() {\n      var that = this;\n      var modal = this._options.hasOwnProperty('options') && _typeof(this._options.options) === 'object' ? this._options.options : {};\n\n      // Очистка\n      $('.content-' + this._hash + ' .btn-modal-clear').click(function (e) {\n        if (modal.hasOwnProperty('onClear')) {\n          if (typeof modal.onClear === 'function') {\n            modal.onClear(that);\n          } else if (typeof modal.onClear === 'string') {\n            new Function('field', modal.onClear)(that);\n          }\n        }\n        that._form._trigger('clear-modal.coreui.form', that, [that, e]);\n        that.setValue('', '');\n      });\n\n      // Выбор\n      $('.content-' + this._hash + ' .btn-modal-select').click(function (e) {\n        var title = modal.hasOwnProperty('title') && typeof modal.title === 'string' ? modal.title : '';\n        var size = modal.hasOwnProperty('size') && typeof modal.size === 'string' ? modal.size : 'lg';\n        var url = modal.hasOwnProperty('url') && typeof modal.url === 'string' ? modal.url : '';\n        if (!url) {\n          return;\n        }\n        var modalId = coreuiFormUtils.hashCode();\n        var modalLoading = ejs.render(tpl['fields/modal-loading.html'], {\n          lang: that._form.getLang()\n        });\n        if (CoreUI.hasOwnProperty('modal')) {\n          var onShow = null;\n          var onHidden = null;\n          if (modal.hasOwnProperty('onHidden')) {\n            if (typeof modal.onHidden === 'function') {\n              onHidden = modal.onHidden;\n            } else if (typeof modal.onHidden === 'string') {\n              onHidden = new Function(modal.onHidden);\n            }\n          }\n          if (modal.hasOwnProperty('onShow')) {\n            if (typeof modal.onShow === 'function') {\n              onShow = modal.onShow;\n            } else if (typeof modal.onShow === 'string') {\n              onShow = new Function(modal.onShow);\n            }\n          }\n          CoreUI.modal.show(title, modalLoading, {\n            id: modalId,\n            size: size,\n            onShow: onShow,\n            onHidden: onHidden\n          });\n        }\n        $.ajax({\n          url: url,\n          method: 'GET',\n          beforeSend: function beforeSend(xhr) {\n            that._form._trigger('before-load-modal.coreui.form', that, [that, xhr]);\n          },\n          success: function success(result) {\n            $('#modal-' + modalId + ' .modal-body').html(result);\n            that._form._trigger('success-load-modal.coreui.form', that, [that, result]);\n          },\n          error: function error(xhr, textStatus, errorThrown) {\n            that._form._trigger('error-load-modal.coreui.form', that, [that, xhr, textStatus, errorThrown]);\n          },\n          complete: function complete(xhr, textStatus) {\n            that._form._trigger('complete-load-modal.coreui.form', that, [that, xhr, textStatus]);\n          }\n        });\n        that._form._trigger('select-modal.coreui.form', that, [that, e]);\n      });\n    }\n  };\n\n  coreuiForm.fields.number = {\n    _id: '',\n    _hash: '',\n    _form: null,\n    _index: 0,\n    _value: '',\n    _options: {\n      type: 'number',\n      name: null,\n      label: null,\n      labelWidth: null,\n      width: null,\n      outContent: null,\n      description: null,\n      errorText: null,\n      attach: null,\n      attr: {\n        \"class\": 'form-control d-inline-block',\n        step: 'any'\n      },\n      required: null,\n      readonly: null,\n      datalist: null,\n      show: true,\n      column: null,\n      precision: null\n    },\n    /**\r\n     * Инициализация\r\n     * @param {coreuiFormInstance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\n    init: function init(form, options, index) {\n      this._form = form;\n      this._index = index;\n      this._id = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\n      this._hash = coreuiFormUtils.hashCode();\n      this._value = coreuiFormUtils.getFieldValue(form, options);\n      this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);\n\n      // Установка точности\n      if (this._options.precision === null) {\n        var precision = 0;\n        if (this._options.attr.hasOwnProperty('step') && this._options.attr.step !== 'any' && ['string', 'number'].indexOf(_typeof(this._options.attr.step)) >= 0) {\n          var match = $.trim(this._options.attr.step.toString()).match(/\\.(\\d+)$/);\n          if (match && match.hasOwnProperty(1)) {\n            precision = match ? match[1].length : precision;\n          }\n        }\n        this._options.precision = precision;\n      }\n      var that = this;\n      form.on('shown.coreui.form', function () {\n        if (!that._options.readonly) {\n          that._initEvents();\n        }\n      });\n    },\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\n    getOptions: function getOptions() {\n      return $.extend(true, {}, this._options);\n    },\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\n    readonly: function readonly(isReadonly) {\n      this._value = this.getValue();\n      this._options.readonly = !!isReadonly;\n      $('.content-' + this._hash).html(this.renderContent());\n      if (!this._options.readonly) {\n        this._initEvents();\n      }\n    },\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\n    hide: function hide(duration) {\n      $('#coreui-form-' + this._id).hide(duration);\n    },\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\n    show: function show(duration) {\n      $('#coreui-form-' + this._id).show(duration);\n    },\n    /**\r\n     * Получение значения в поле\r\n     * @returns {string}\r\n     */\n    getValue: function getValue() {\n      return this._options.readonly ? this._value : $('.content-' + this._hash + ' input').val();\n    },\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\n    setValue: function setValue(value) {\n      if (['string', 'number'].indexOf(_typeof(value)) < 0 || !value.toString().match(/^\\-?\\d+\\.?\\d*$/)) {\n        return;\n      }\n      if (this._options.precision >= 0) {\n        value = coreuiFormUtils.round(value, this._options.precision);\n      }\n      if (this._options.attr.hasOwnProperty('min')) {\n        value = value < Number(this._options.attr.min) ? Number(this._options.attr.min) : value;\n      }\n      if (this._options.attr.hasOwnProperty('max')) {\n        value = value > Number(this._options.attr.max) ? Number(this._options.attr.max) : value;\n      }\n      this._value = value;\n      if (this._options.readonly) {\n        $('.content-' + this._hash).text(value);\n      } else {\n        $('.content-' + this._hash + ' input').val(value);\n      }\n    },\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\n    validate: function validate(isValid, text) {\n      if (this._options.readonly) {\n        return;\n      }\n      var container = $('.content-' + this._hash);\n      var input = $('input', container);\n      container.find('.valid-feedback').remove();\n      container.find('.invalid-feedback').remove();\n      if (isValid === null) {\n        input.removeClass('is-invalid');\n        input.removeClass('is-valid');\n      } else if (isValid) {\n        input.removeClass('is-invalid');\n        input.addClass('is-valid');\n        if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\n          text = this._options.validText;\n        }\n        if (typeof text === 'string') {\n          container.append('<div class=\"valid-feedback\">' + text + '</div>');\n        }\n      } else {\n        input.removeClass('is-valid');\n        input.addClass('is-invalid');\n        if (typeof text === 'undefined') {\n          if (typeof this._options.invalidText === 'string') {\n            text = this._options.invalidText;\n          } else if (!text && this._options.required) {\n            text = this._form.getLang().required_field;\n          }\n        }\n        if (typeof text === 'string') {\n          container.append('<div class=\"invalid-feedback\">' + text + '</div>');\n        }\n      }\n    },\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\n    isValid: function isValid() {\n      var input = $('.content-' + this._hash + ' input');\n      if (input[0]) {\n        return input.is(':valid');\n      }\n      return null;\n    },\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\n    render: function render() {\n      var options = $.extend(true, {}, this._options);\n      var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);\n      return ejs.render(tpl['form-field-label.html'], {\n        id: this._id,\n        form: this._form,\n        hash: this._hash,\n        field: options,\n        content: this.renderContent(),\n        attachFields: attachFields\n      });\n    },\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\n    renderContent: function renderContent() {\n      var attributes = [];\n      var datalist = [];\n      var options = this.getOptions();\n      var datalistId = coreuiFormUtils.hashCode();\n      if (!options.hasOwnProperty('attr') || _typeof(options.attr) !== 'object' || options.attr === null || Array.isArray(options.attr)) {\n        options.attr = {};\n      }\n      if (options.name) {\n        options.attr.name = this._options.name;\n      }\n      options.attr.type = 'number';\n      options.attr.value = this._value !== null ? this._value : '';\n      if (options.width) {\n        options.attr = coreuiFormUtils.mergeAttr({\n          style: 'width:' + options.width\n        }, options.attr);\n      }\n      if (options.required) {\n        options.attr.required = 'required';\n      }\n      if (options.hasOwnProperty('datalist') && _typeof(options.datalist) === 'object' && Array.isArray(options.datalist)) {\n        options.attr.list = datalistId;\n        $.each(options.datalist, function (key, itemAttributes) {\n          var datalistAttr = [];\n          $.each(itemAttributes, function (name, value) {\n            datalistAttr.push(name + '=\"' + value + '\"');\n          });\n          datalist.push({\n            attr: datalistAttr.length > 0 ? ' ' + datalistAttr.join(' ') : ''\n          });\n        });\n      }\n      $.each(options.attr, function (name, value) {\n        attributes.push(name + '=\"' + value + '\"');\n      });\n      return ejs.render(tpl['fields/input.html'], {\n        field: options,\n        datalistId: datalistId,\n        value: this._value !== null ? this._value : '',\n        render: {\n          attr: attributes.length > 0 ? ' ' + attributes.join(' ') : '',\n          datalist: datalist\n        }\n      });\n    },\n    /**\r\n     * Инициализация событий\r\n     * @private\r\n     */\n    _initEvents: function _initEvents() {\n      $('.content-' + this._hash + ' input').keydown(function (e) {\n        var k = e.keyCode || e.which;\n        var ok = k >= 35 && k <= 40 ||\n        // arrows\n        k >= 96 && k <= 105 ||\n        // 0-9 numpad\n        k === 189 || k === 109 ||\n        // minus\n        k === 110 || k === 190 ||\n        // dot\n        k === 9 ||\n        //tab\n        k === 46 ||\n        //del\n        k === 8 ||\n        // backspaces\n        !e.shiftKey && k >= 48 && k <= 57; // only 0-9 (ignore SHIFT options)\n\n        if (!ok || e.ctrlKey && e.altKey) {\n          e.preventDefault();\n        }\n      });\n      var that = this;\n      $('.content-' + this._hash + ' input').blur(function (e) {\n        var value = $(this).val();\n        if (that._options.precision >= 0) {\n          value = coreuiFormUtils.round(value, that._options.precision);\n        }\n        if (that._options.attr.hasOwnProperty('min')) {\n          value = value < Number(that._options.attr.min) ? Number(that._options.attr.min) : value;\n        }\n        if (that._options.attr.hasOwnProperty('max')) {\n          value = value > Number(that._options.attr.max) ? Number(that._options.attr.max) : value;\n        }\n        $(this).val(value);\n      });\n    }\n  };\n\n  coreuiForm.fields.radio = {\n    _id: '',\n    _hash: '',\n    _form: null,\n    _index: 0,\n    _value: '',\n    _options: {\n      type: 'radio',\n      name: null,\n      label: null,\n      labelWidth: null,\n      inline: false,\n      outContent: null,\n      description: null,\n      errorText: null,\n      options: [],\n      fields: [],\n      required: null,\n      readonly: null,\n      show: true,\n      column: null\n    },\n    /**\r\n     * Инициализация\r\n     * @param {coreuiFormInstance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\n    init: function init(form, options, index) {\n      this._form = form;\n      this._id = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\n      this._hash = coreuiFormUtils.hashCode();\n      this._value = coreuiFormUtils.getFieldValue(form, options);\n      this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);\n    },\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\n    getOptions: function getOptions() {\n      return $.extend(true, {}, this._options);\n    },\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\n    readonly: function readonly(isReadonly) {\n      this._value = this.getValue();\n      this._options.readonly = !!isReadonly;\n      $('.content-' + this._hash).html(this.renderContent());\n    },\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\n    hide: function hide(duration) {\n      $('#coreui-form-' + this._id).hide(duration);\n    },\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\n    show: function show(duration) {\n      $('#coreui-form-' + this._id).show(duration);\n    },\n    /**\r\n     * Получение значения в поле\r\n     * @returns {string}\r\n     */\n    getValue: function getValue() {\n      return this._options.readonly ? this._value : $('.content-' + this._hash + ' input[type=radio]:checked').val();\n    },\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\n    setValue: function setValue(value) {\n      if (['string', 'number'].indexOf(_typeof(value)) < 0) {\n        return;\n      }\n      if (this._options.readonly) {\n        var that = this;\n        var fieldOptions = this.getOptions();\n        if (fieldOptions.hasOwnProperty('options') && _typeof(fieldOptions.options) === 'object' && Array.isArray(fieldOptions.options)) {\n          $.each(fieldOptions.options, function (key, option) {\n            if (option.hasOwnProperty('value') && option.value == value) {\n              var text = option.hasOwnProperty('text') && ['string', 'number'].indexOf(_typeof(option.text)) >= 0 ? option.text : '';\n              $('.content-' + that._hash).text(text);\n              that._value = value;\n              return false;\n            }\n          });\n        }\n      } else {\n        var input = $('.content-' + this._hash + ' input[type=radio][value=\"' + value + '\"]');\n        if (input[0]) {\n          input.prop('checked', true);\n          this._value = value;\n        }\n      }\n    },\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\n    validate: function validate(isValid, text) {\n      if (this._options.readonly) {\n        return;\n      }\n      var container = $('.content-' + this._hash);\n      var lastInput = $('.form-check:last-child', container);\n      var inputs = $('input', container);\n      container.find('.valid-feedback').remove();\n      container.find('.invalid-feedback').remove();\n      if (isValid === null) {\n        inputs.removeClass('is-invalid');\n        inputs.removeClass('is-valid');\n      } else if (isValid) {\n        inputs.removeClass('is-invalid');\n        inputs.addClass('is-valid');\n        if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\n          text = this._options.validText;\n        }\n        if (typeof text === 'string') {\n          lastInput.append('<div class=\"valid-feedback\">' + text + '</div>');\n        }\n      } else {\n        inputs.removeClass('is-valid');\n        inputs.addClass('is-invalid');\n        if (typeof text === 'undefined') {\n          if (typeof this._options.invalidText === 'string') {\n            text = this._options.invalidText;\n          } else if (!text && this._options.required) {\n            text = this._form.getLang().required_field;\n          }\n        }\n        if (typeof text === 'string') {\n          lastInput.append('<div class=\"invalid-feedback\">' + text + '</div>');\n        }\n      }\n    },\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\n    isValid: function isValid() {\n      if (this._options.required && !this._options.readonly) {\n        var value = this.getValue();\n        return typeof value === 'string' && value !== '';\n      }\n      return true;\n    },\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\n    render: function render() {\n      var options = this.getOptions();\n      var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);\n      return ejs.render(tpl['form-field-label.html'], {\n        id: this._id,\n        form: this._form,\n        hash: this._hash,\n        field: this._options,\n        content: this.renderContent(),\n        attachFields: attachFields\n      });\n    },\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\n    renderContent: function renderContent() {\n      var that = this;\n      var radioOptions = [];\n      var fieldOptions = this.getOptions();\n      var selectedItem = [];\n      if (fieldOptions.hasOwnProperty('options') && _typeof(fieldOptions.options) === 'object' && Array.isArray(fieldOptions.options)) {\n        $.each(fieldOptions.options, function (key, option) {\n          var attributes = [];\n          var itemAttr = {\n            type: 'radio',\n            \"class\": 'form-check-input'\n          };\n          var optionText = option.hasOwnProperty('text') && ['string', 'number'].indexOf(_typeof(option.text)) >= 0 ? option.text : '';\n          if (fieldOptions.name) {\n            itemAttr.name = that._options.name;\n          }\n          if (fieldOptions.required) {\n            itemAttr.required = 'required';\n          }\n          $.each(option, function (name, value) {\n            if (name !== 'text') {\n              if (name === 'class') {\n                itemAttr[name] = itemAttr[name] + ' ' + value;\n              } else {\n                itemAttr[name] = value;\n              }\n            }\n          });\n          itemAttr.id = coreuiFormUtils.hashCode();\n          if (that._value == option.value) {\n            if (option.hasOwnProperty('text') && option.text) {\n              selectedItem.push(option.text);\n            }\n            itemAttr.checked = 'checked';\n          }\n          $.each(itemAttr, function (name, value) {\n            attributes.push(name + '=\"' + value + '\"');\n          });\n          radioOptions.push({\n            id: itemAttr.id,\n            text: optionText,\n            attr: attributes.length > 0 ? ' ' + attributes.join(' ') : ''\n          });\n        });\n      }\n      return ejs.render(tpl['fields/radio.html'], {\n        field: fieldOptions,\n        value: this._value,\n        render: {\n          options: radioOptions,\n          selectedItem: selectedItem\n        }\n      });\n    }\n  };\n\n  coreuiForm.fields.range = {\n    _id: '',\n    _hash: '',\n    _form: null,\n    _index: 0,\n    _value: '',\n    _options: {\n      type: 'range',\n      name: null,\n      label: null,\n      labelWidth: null,\n      width: null,\n      outContent: null,\n      description: null,\n      errorText: null,\n      attach: null,\n      attr: {\n        \"class\": 'form-range d-inline-block pt-1'\n      },\n      required: null,\n      readonly: null,\n      datalist: null,\n      show: true,\n      column: null\n    },\n    /**\r\n     * Инициализация\r\n     * @param {coreuiFormInstance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\n    init: function init(form, options, index) {\n      this._form = form;\n      this._index = index;\n      this._id = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\n      this._hash = coreuiFormUtils.hashCode();\n      this._value = coreuiFormUtils.getFieldValue(form, options);\n      this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);\n    },\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\n    getOptions: function getOptions() {\n      return $.extend(true, {}, this._options);\n    },\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\n    readonly: function readonly(isReadonly) {\n      this._value = this.getValue();\n      this._options.readonly = !!isReadonly;\n      $('.content-' + this._hash).html(this.renderContent());\n    },\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\n    hide: function hide(duration) {\n      $('#coreui-form-' + this._id).hide(duration);\n    },\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\n    show: function show(duration) {\n      $('#coreui-form-' + this._id).show(duration);\n    },\n    /**\r\n     * Получение значения в поле\r\n     * @returns {string}\r\n     */\n    getValue: function getValue() {\n      return this._options.readonly ? this._value : $('.content-' + this._hash + ' input').val();\n    },\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\n    setValue: function setValue(value) {\n      if (['string', 'number'].indexOf(_typeof(value)) < 0) {\n        return;\n      }\n      this._value = value;\n      if (this._options.readonly) {\n        $('.content-' + this._hash).text(value);\n      } else {\n        $('.content-' + this._hash + ' input').val(value);\n      }\n    },\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\n    validate: function validate(isValid, text) {\n      if (this._options.readonly) {\n        return;\n      }\n      var container = $('.content-' + this._hash);\n      var input = $('input', container);\n      container.find('.valid-feedback').remove();\n      container.find('.invalid-feedback').remove();\n      if (isValid === null) {\n        input.removeClass('is-invalid');\n        input.removeClass('is-valid');\n      } else if (isValid) {\n        input.removeClass('is-invalid');\n        input.addClass('is-valid');\n        if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\n          text = this._options.validText;\n        }\n        if (typeof text === 'string') {\n          container.append('<div class=\"valid-feedback\">' + text + '</div>');\n        }\n      } else {\n        input.removeClass('is-valid');\n        input.addClass('is-invalid');\n        if (typeof text === 'undefined') {\n          if (typeof this._options.invalidText === 'string') {\n            text = this._options.invalidText;\n          } else if (!text && this._options.required) {\n            text = this._form.getLang().required_field;\n          }\n        }\n        if (typeof text === 'string') {\n          container.append('<div class=\"invalid-feedback\">' + text + '</div>');\n        }\n      }\n    },\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\n    isValid: function isValid() {\n      var input = $('.content-' + this._hash + ' input');\n      if (input[0]) {\n        return input.is(':valid');\n      }\n      return null;\n    },\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\n    render: function render() {\n      var options = this.getOptions();\n      var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);\n      return ejs.render(tpl['form-field-label.html'], {\n        id: this._id,\n        form: this._form,\n        hash: this._hash,\n        field: options,\n        content: this.renderContent(),\n        attachFields: attachFields\n      });\n    },\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\n    renderContent: function renderContent() {\n      var attributes = [];\n      var datalist = [];\n      var options = this.getOptions();\n      var datalistId = coreuiFormUtils.hashCode();\n      if (!options.hasOwnProperty('attr') || _typeof(options.attr) !== 'object' || options.attr === null || Array.isArray(options.attr)) {\n        options.attr = {};\n      }\n      if (options.name) {\n        options.attr.name = this._options.name;\n      }\n      options.attr.type = 'range';\n      options.attr.value = this._value;\n      if (options.width) {\n        options.attr = coreuiFormUtils.mergeAttr({\n          style: 'width:' + options.width\n        }, options.attr);\n      }\n      if (options.required) {\n        options.attr.required = 'required';\n      }\n      if (options.hasOwnProperty('datalist') && _typeof(options.datalist) === 'object' && Array.isArray(options.datalist)) {\n        options.attr.list = datalistId;\n        $.each(options.datalist, function (key, itemAttributes) {\n          var datalistAttr = [];\n          $.each(itemAttributes, function (name, value) {\n            datalistAttr.push(name + '=\"' + value + '\"');\n          });\n          datalist.push({\n            attr: datalistAttr.length > 0 ? ' ' + datalistAttr.join(' ') : ''\n          });\n        });\n      }\n      $.each(options.attr, function (name, value) {\n        attributes.push(name + '=\"' + value + '\"');\n      });\n      return ejs.render(tpl['fields/input.html'], {\n        field: options,\n        datalistId: datalistId,\n        value: this._value,\n        render: {\n          attr: attributes.length > 0 ? ' ' + attributes.join(' ') : '',\n          datalist: datalist\n        }\n      });\n    }\n  };\n\n  coreuiForm.fields.select = {\n    _id: '',\n    _hash: '',\n    _form: null,\n    _index: 0,\n    _value: [],\n    _options: {\n      type: 'select',\n      name: null,\n      label: null,\n      labelWidth: null,\n      width: null,\n      outContent: null,\n      description: null,\n      errorText: null,\n      attach: null,\n      attr: {\n        \"class\": 'form-select d-inline-block'\n      },\n      required: null,\n      readonly: null,\n      datalist: null,\n      show: true,\n      column: null\n    },\n    /**\r\n     * Инициализация\r\n     * @param {coreuiFormInstance} form\r\n     * @param {object}             options\r\n     * @param {int}                index Порядковый номер на форме\r\n     */\n    init: function init(form, options, index) {\n      this._form = form;\n      this._index = index;\n      this._id = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\n      this._hash = coreuiFormUtils.hashCode();\n      this._value = coreuiFormUtils.getFieldValue(form, options);\n      this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);\n    },\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\n    getOptions: function getOptions() {\n      return $.extend(true, {}, this._options);\n    },\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\n    readonly: function readonly(isReadonly) {\n      this._value = this.getValue();\n      this._options.readonly = !!isReadonly;\n      $('.content-' + this._hash).html(this.renderContent());\n    },\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\n    hide: function hide(duration) {\n      $('#coreui-form-' + this._id).hide(duration);\n    },\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\n    show: function show(duration) {\n      $('#coreui-form-' + this._id).show(duration);\n    },\n    /**\r\n     * Получение значения из поля\r\n     * @returns {array|string}\r\n     */\n    getValue: function getValue() {\n      if (this._options.readonly) {\n        return this._value;\n      } else {\n        if (this._options.hasOwnProperty('attr') && _typeof(this._options.attr) === 'object' && this._options.attr !== null && !Array.isArray(this._options.attr) && this._options.attr.hasOwnProperty('multiple')) {\n          var values = [];\n          $('.content-' + this._hash + ' select option:selected').each(function () {\n            values.push($(this).val());\n          });\n          return values;\n        } else {\n          return $('.content-' + this._hash + ' select option:selected').val();\n        }\n      }\n    },\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\n    setValue: function setValue(value) {\n      if (['string', 'number', 'object'].indexOf(_typeof(value)) < 0) {\n        return;\n      }\n      if (_typeof(value) === 'object') {\n        if (value !== null && !Array.isArray(value)) {\n          return;\n        }\n      } else {\n        value = [value];\n      }\n      var that = this;\n      this._value = [];\n      if (this._options.readonly) {\n        $('.content-' + that._hash).empty();\n        var fieldOptions = this.getOptions();\n        if (fieldOptions.hasOwnProperty('options') && _typeof(fieldOptions.options) === 'object' && Array.isArray(fieldOptions.options) && Array.isArray(value)) {\n          var selectedItems = [];\n          $.each(fieldOptions.options, function (key, option) {\n            if (option.hasOwnProperty('value')) {\n              $.each(value, function (key, val) {\n                if (option.value == val) {\n                  if (option.hasOwnProperty('text') && ['string', 'number'].indexOf(_typeof(option.text)) >= 0) {\n                    selectedItems.push(option.text);\n                  }\n                  that._value.push(val);\n                  return false;\n                }\n              });\n            }\n          });\n          $('.content-' + that._hash).text(selectedItems.join(', '));\n        }\n      } else {\n        $('.content-' + this._hash + ' select > option').prop('selected', false);\n        if (Array.isArray(value)) {\n          $('.content-' + this._hash + ' select > option').each(function (key, itemValue) {\n            $.each(value, function (key, val) {\n              if (val == $(itemValue).val()) {\n                $(itemValue).prop('selected', true);\n                that._value.push(val);\n                return false;\n              }\n            });\n          });\n        }\n      }\n    },\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\n    validate: function validate(isValid, text) {\n      if (this._options.readonly) {\n        return;\n      }\n      var container = $('.content-' + this._hash);\n      var select = $('select', container);\n      container.find('.valid-feedback').remove();\n      container.find('.invalid-feedback').remove();\n      if (isValid === null) {\n        select.removeClass('is-invalid');\n        select.removeClass('is-valid');\n      } else if (isValid) {\n        select.removeClass('is-invalid');\n        select.addClass('is-valid');\n        if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\n          text = this._options.validText;\n        }\n        if (typeof text === 'string') {\n          container.append('<div class=\"valid-feedback\">' + text + '</div>');\n        }\n      } else {\n        select.removeClass('is-valid');\n        select.addClass('is-invalid');\n        if (typeof text === 'undefined') {\n          if (typeof this._options.invalidText === 'string') {\n            text = this._options.invalidText;\n          } else if (!text && this._options.required) {\n            text = this._form.getLang().required_field;\n          }\n        }\n        if (typeof text === 'string') {\n          container.append('<div class=\"invalid-feedback\">' + text + '</div>');\n        }\n      }\n    },\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean|null}\r\n     */\n    isValid: function isValid() {\n      var select = $('.content-' + this._hash + ' select');\n      if (this._options.required && select.val() === '') {\n        return false;\n      }\n      if (select[0]) {\n        return select.is(':valid');\n      }\n      return null;\n    },\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\n    render: function render() {\n      var options = this.getOptions();\n      var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);\n      return ejs.render(tpl['form-field-label.html'], {\n        id: this._id,\n        form: this._form,\n        hash: this._hash,\n        field: options,\n        content: this.renderContent(),\n        attachFields: attachFields\n      });\n    },\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\n    renderContent: function renderContent() {\n      return this._options.readonly ? this._renderContentReadonly() : this._renderContent();\n    },\n    /**\r\n     * Формирование контента\r\n     * @return {*}\r\n     * @private\r\n     */\n    _renderContent: function _renderContent() {\n      var that = this;\n      var options = this.getOptions();\n      var attributes = [];\n      var selectOptions = [];\n      if (!options.hasOwnProperty('attr') || _typeof(options.attr) !== 'object' || options.attr === null || Array.isArray(options.attr)) {\n        options.attr = {};\n      }\n      if (options.name) {\n        options.attr.name = this._options.name;\n      }\n      if (options.width) {\n        options.attr = coreuiFormUtils.mergeAttr({\n          style: 'width:' + options.width\n        }, options.attr);\n      }\n      if (options.required) {\n        options.attr.required = 'required';\n      }\n      if (options.hasOwnProperty('options') && _typeof(options.options) === 'object' && options.options !== null) {\n        $.each(options.options, function (key, option) {\n          if (typeof option === 'string' || typeof option === 'number') {\n            selectOptions.push(that._renderOption({\n              type: 'option',\n              value: key,\n              text: option\n            }));\n          } else if (_typeof(option) === 'object') {\n            var type = option.hasOwnProperty('type') && typeof option.type === 'string' ? option.type : 'option';\n            if (type === 'group') {\n              var renderAttr = [];\n              var groupAttr = {};\n              var groupOptions = [];\n              if (option.hasOwnProperty('attr') && _typeof(option.attr) === 'object' && option.attr !== null && !Array.isArray(option.attr)) {\n                groupAttr = option.attr;\n              }\n              if (option.hasOwnProperty('label') && ['string', 'number'].indexOf(_typeof(option.label)) >= 0) {\n                groupAttr.label = option.label;\n              }\n              $.each(groupAttr, function (name, value) {\n                renderAttr.push(name + '=\"' + value + '\"');\n              });\n              if (Array.isArray(option.options)) {\n                $.each(option.options, function (key, groupOption) {\n                  groupOptions.push(that._renderOption(groupOption));\n                });\n              }\n              selectOptions.push({\n                type: 'group',\n                attr: renderAttr.length > 0 ? ' ' + renderAttr.join(' ') : '',\n                options: groupOptions\n              });\n            } else {\n              selectOptions.push(that._renderOption(option));\n            }\n          }\n        });\n      }\n      $.each(options.attr, function (name, value) {\n        attributes.push(name + '=\"' + value + '\"');\n      });\n      return ejs.render(tpl['fields/select.html'], {\n        field: options,\n        value: this._value,\n        render: {\n          attr: attributes.length > 0 ? ' ' + attributes.join(' ') : '',\n          options: selectOptions\n        }\n      });\n    },\n    /**\r\n     *\r\n     * @return {string}\r\n     * @private\r\n     */\n    _renderContentReadonly: function _renderContentReadonly() {\n      var that = this;\n      var options = this.getOptions();\n      var selectedOptions = [];\n      if (options.hasOwnProperty('options') && _typeof(options.options) === 'object' && Array.isArray(options.options)) {\n        $.each(options.options, function (key, option) {\n          var type = option.hasOwnProperty('type') && typeof option.type === 'string' ? option.type : 'option';\n          if (type === 'group') {\n            if (Array.isArray(option.options)) {\n              $.each(option.options, function (key, groupOption) {\n                var optionText = groupOption.hasOwnProperty('text') && ['string', 'number'].indexOf(_typeof(groupOption.text)) >= 0 ? groupOption.text : '';\n                if (!optionText || optionText === '') {\n                  return;\n                }\n                if (Array.isArray(that._value)) {\n                  $.each(that._value, function (key, itemValue) {\n                    if (itemValue == groupOption.value) {\n                      selectedOptions.push(optionText);\n                      return false;\n                    }\n                  });\n                } else if (that._value == groupOption.value) {\n                  selectedOptions.push(optionText);\n                }\n              });\n            }\n          } else {\n            var optionText = option.hasOwnProperty('text') && ['string', 'number'].indexOf(_typeof(option.text)) >= 0 ? option.text : '';\n            if (!optionText || optionText === '') {\n              return;\n            }\n            if (Array.isArray(that._value)) {\n              $.each(that._value, function (key, itemValue) {\n                if (itemValue == option.value) {\n                  selectedOptions.push(optionText);\n                  return false;\n                }\n              });\n            } else if (that._value == option.value) {\n              selectedOptions.push(optionText);\n            }\n          }\n        });\n      }\n      return ejs.render(tpl['fields/select.html'], {\n        field: options,\n        render: {\n          selectedOptions: selectedOptions\n        }\n      });\n    },\n    /**\r\n     * Сборка опции\r\n     * @param option\r\n     * @return {object}\r\n     * @private\r\n     */\n    _renderOption: function _renderOption(option) {\n      var optionAttr = [];\n      var optionText = option.hasOwnProperty('text') && ['string', 'number'].indexOf(_typeof(option.text)) >= 0 ? option.text : '';\n      $.each(option, function (name, value) {\n        if (name !== 'text') {\n          optionAttr.push(name + '=\"' + value + '\"');\n        }\n      });\n      if (Array.isArray(this._value)) {\n        $.each(this._value, function (key, itemValue) {\n          if (itemValue == option.value) {\n            optionAttr.push('selected=\"selected\"');\n            return false;\n          }\n        });\n      } else if (this._value == option.value) {\n        optionAttr.push('selected=\"selected\"');\n      }\n      return {\n        type: 'option',\n        text: optionText,\n        attr: optionAttr.length > 0 ? ' ' + optionAttr.join(' ') : ''\n      };\n    }\n  };\n\n  coreuiForm.fields[\"switch\"] = {\n    _id: '',\n    _hash: '',\n    _form: null,\n    _index: 0,\n    _value: '',\n    _options: {\n      type: 'switch',\n      name: null,\n      label: null,\n      labelWidth: null,\n      outContent: null,\n      description: null,\n      errorText: null,\n      valueY: 'Y',\n      valueN: 'N',\n      fields: [],\n      required: null,\n      readonly: null,\n      show: true,\n      column: null\n    },\n    /**\r\n     * Инициализация\r\n     * @param {coreuiFormInstance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\n    init: function init(form, options, index) {\n      this._form = form;\n      this._index = index;\n      this._id = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\n      this._hash = coreuiFormUtils.hashCode();\n      this._value = coreuiFormUtils.getFieldValue(form, options);\n      this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);\n    },\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\n    getOptions: function getOptions() {\n      return $.extend(true, {}, this._options);\n    },\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\n    readonly: function readonly(isReadonly) {\n      this._value = this.getValue();\n      this._options.readonly = !!isReadonly;\n      $('.content-' + this._hash).html(this.renderContent());\n    },\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\n    hide: function hide(duration) {\n      $('#coreui-form-' + this._id).hide(duration);\n    },\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\n    show: function show(duration) {\n      $('#coreui-form-' + this._id).show(duration);\n    },\n    /**\r\n     * Получение значения в поле\r\n     * @returns {string}\r\n     */\n    getValue: function getValue() {\n      var result;\n      if (this._options.readonly) {\n        result = this._value;\n      } else {\n        result = $('.content-' + this._hash + ' input').prop('checked') ? this._options.valueY : this._options.valueN;\n      }\n      return result;\n    },\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\n    setValue: function setValue(value) {\n      if (['string', 'number'].indexOf(_typeof(value)) < 0) {\n        return;\n      }\n      this._value = value;\n      if (this._options.readonly) {\n        $('.content-' + this._hash).text(value);\n      } else {\n        $('.content-' + this._hash + ' input[type=checkbox]').prop('checked', value === this._options.valueY);\n      }\n    },\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\n    validate: function validate(isValid, text) {\n      if (this._options.readonly) {\n        return;\n      }\n      var container = $('.content-' + this._hash);\n      var switchContainer = $('.form-switch', container);\n      var inputs = $('input', container);\n      container.find('.valid-feedback').remove();\n      container.find('.invalid-feedback').remove();\n      if (isValid === null) {\n        inputs.removeClass('is-invalid');\n        inputs.removeClass('is-valid');\n      } else if (isValid) {\n        inputs.removeClass('is-invalid');\n        inputs.addClass('is-valid');\n        if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\n          text = this._options.validText;\n        }\n        if (typeof text === 'string') {\n          switchContainer.append('<div class=\"valid-feedback\">' + text + '</div>');\n        }\n      } else {\n        inputs.removeClass('is-valid');\n        inputs.addClass('is-invalid');\n        if (typeof text === 'undefined') {\n          if (typeof this._options.invalidText === 'string') {\n            text = this._options.invalidText;\n          } else if (!text) {\n            text = this._form.getLang().required_field;\n          }\n        }\n        if (typeof text === 'string') {\n          switchContainer.append('<div class=\"invalid-feedback\">' + text + '</div>');\n        }\n      }\n    },\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\n    isValid: function isValid() {\n      return null;\n    },\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\n    render: function render() {\n      var options = this.getOptions();\n      var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);\n      return ejs.render(tpl['form-field-label.html'], {\n        id: this._id,\n        form: this._form,\n        hash: this._hash,\n        field: options,\n        content: this.renderContent(),\n        attachFields: attachFields\n      });\n    },\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\n    renderContent: function renderContent() {\n      var attributes = [];\n      var options = this.getOptions();\n      var itemAttr = {\n        type: 'checkbox',\n        \"class\": 'form-check-input',\n        value: options.valueY\n      };\n      if (options.name) {\n        itemAttr.name = this._options.name;\n      }\n      if (options.required) {\n        itemAttr.required = 'required';\n      }\n      if (options.hasOwnProperty('attr') && _typeof(options.attr) === 'object' && Array.isArray(options.attr)) {\n        itemAttr = coreuiFormUtils.mergeAttr(itemAttr, options.attr);\n      }\n      if (this._value === options.valueY) {\n        itemAttr.checked = 'checked';\n      }\n      $.each(itemAttr, function (name, value) {\n        attributes.push(name + '=\"' + value + '\"');\n      });\n      return ejs.render(tpl['fields/switch.html'], {\n        field: options,\n        value: this._value,\n        lang: this._form.getLang(),\n        render: {\n          attr: attributes.length > 0 ? attributes.join(' ') : ''\n        }\n      });\n    }\n  };\n\n  coreuiForm.fields.textarea = {\n    _id: '',\n    _form: null,\n    _index: 0,\n    _value: '',\n    _options: {\n      type: 'textarea',\n      name: null,\n      label: null,\n      labelWidth: null,\n      width: null,\n      outContent: null,\n      description: null,\n      errorText: null,\n      attach: null,\n      attr: {\n        \"class\": 'form-control d-inline-block'\n      },\n      required: null,\n      readonly: null,\n      datalist: null,\n      show: true,\n      column: null\n    },\n    /**\r\n     * Инициализация\r\n     * @param {coreuiFormInstance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\n    init: function init(form, options, index) {\n      this._form = form;\n      this._index = index;\n      this._id = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\n      this._hash = coreuiFormUtils.hashCode();\n      this._value = coreuiFormUtils.getFieldValue(form, options);\n      this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);\n    },\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\n    getOptions: function getOptions() {\n      return $.extend(true, {}, this._options);\n    },\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\n    readonly: function readonly(isReadonly) {\n      this._value = this.getValue();\n      this._options.readonly = !!isReadonly;\n      $('.content-' + this._hash).html(this.renderContent());\n    },\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\n    hide: function hide(duration) {\n      $('#coreui-form-' + this._id).hide(duration);\n    },\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\n    show: function show(duration) {\n      $('#coreui-form-' + this._id).show(duration);\n    },\n    /**\r\n     * Получение значения в поле\r\n     * @returns {string}\r\n     */\n    getValue: function getValue() {\n      return this._options.readonly ? this._value : $('.content-' + this._hash + ' textarea').val();\n    },\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\n    setValue: function setValue(value) {\n      if (['string', 'number'].indexOf(_typeof(value)) < 0) {\n        return;\n      }\n      this._value = value;\n      if (this._options.readonly) {\n        $('.content-' + this._hash).text(value);\n      } else {\n        $('.content-' + this._hash + ' textarea').val(value);\n      }\n    },\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\n    validate: function validate(isValid, text) {\n      if (this._options.readonly) {\n        return;\n      }\n      var container = $('.content-' + this._hash);\n      var textarea = $('textarea', container);\n      container.find('.valid-feedback').remove();\n      container.find('.invalid-feedback').remove();\n      if (isValid === null) {\n        textarea.removeClass('is-invalid');\n        textarea.removeClass('is-valid');\n      } else if (isValid) {\n        textarea.removeClass('is-invalid');\n        textarea.addClass('is-valid');\n        if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\n          text = this._options.validText;\n        }\n        if (typeof text === 'string') {\n          container.append('<div class=\"valid-feedback\">' + text + '</div>');\n        }\n      } else {\n        textarea.removeClass('is-valid');\n        textarea.addClass('is-invalid');\n        if (typeof text === 'undefined') {\n          if (typeof this._options.invalidText === 'string') {\n            text = this._options.invalidText;\n          } else if (!text && this._options.required) {\n            text = this._form.getLang().required_field;\n          }\n        }\n        if (typeof text === 'string') {\n          container.append('<div class=\"invalid-feedback\">' + text + '</div>');\n        }\n      }\n    },\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\n    isValid: function isValid() {\n      var input = $('.content-' + this._hash + ' textarea');\n      if (input[0]) {\n        return input.is(':valid');\n      }\n    },\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\n    render: function render() {\n      var options = this.getOptions();\n      var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);\n      return ejs.render(tpl['form-field-label.html'], {\n        id: this._id,\n        form: this._form,\n        hash: this._hash,\n        field: options,\n        content: this.renderContent(),\n        attachFields: attachFields\n      });\n    },\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\n    renderContent: function renderContent() {\n      var attributes = [];\n      var options = this.getOptions();\n      if (!options.hasOwnProperty('attr') || _typeof(options.attr) !== 'object' || options.attr === null || Array.isArray(options.attr)) {\n        options.attr = {};\n      }\n      if (options.name) {\n        options.attr.name = this._options.name;\n      }\n      if (options.width) {\n        options.attr = coreuiFormUtils.mergeAttr({\n          style: 'width:' + options.width\n        }, options.attr);\n      }\n      if (options.required) {\n        options.attr.required = 'required';\n      }\n      $.each(options.attr, function (name, value) {\n        attributes.push(name + '=\"' + value + '\"');\n      });\n      return ejs.render(tpl['fields/textarea.html'], {\n        field: options,\n        value: this._value !== null ? this._value : '',\n        render: {\n          attr: attributes.length > 0 ? ' ' + attributes.join(' ') : ''\n        }\n      });\n    }\n  };\n\n  coreuiForm.fields.wysiwyg = {\n    _id: '',\n    _hash: '',\n    _form: null,\n    _value: null,\n    _editor: null,\n    _editorHash: null,\n    _options: {\n      type: 'wysiwyg',\n      label: null,\n      labelWidth: null,\n      width: null,\n      minWidth: null,\n      maxWidth: null,\n      height: null,\n      minHeight: null,\n      maxHeight: null,\n      options: {},\n      outContent: null,\n      description: null,\n      required: null,\n      readonly: false,\n      show: true,\n      column: null\n    },\n    /**\r\n     * Инициализация\r\n     * @param {coreuiFormInstance} form\r\n     * @param {object}               options\r\n     * @param {int}                  index Порядковый номер на форме\r\n     */\n    init: function init(form, options, index) {\n      this._form = form;\n      this._index = index;\n      this._id = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\n      this._hash = coreuiFormUtils.hashCode();\n      this._editorHash = coreuiFormUtils.hashCode();\n      this._value = coreuiFormUtils.getFieldValue(form, options);\n      this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);\n      var that = this;\n      form.on('shown.coreui.form', function () {\n        if (!that._options.readonly) {\n          that._initEvents();\n        }\n      });\n    },\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\n    getOptions: function getOptions() {\n      return $.extend(true, {}, this._options);\n    },\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\n    readonly: function readonly(isReadonly) {\n      this._value = this.getValue();\n      this._options.readonly = !!isReadonly;\n      $('.content-' + this._hash).html(this.renderContent());\n      if (!this._options.readonly) {\n        this._initEvents();\n      }\n    },\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\n    hide: function hide(duration) {\n      $('#coreui-form-' + this._id).hide(duration || 0);\n    },\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\n    show: function show(duration) {\n      $('#coreui-form-' + this._id).show(duration || 0);\n    },\n    /**\r\n     * Получение значения из поля\r\n     * @return {string|null}\r\n     */\n    getValue: function getValue() {\n      if (this._options.readonly) {\n        return this._value;\n      } else {\n        return this._editor ? this._editor.getContent() : this._value;\n      }\n    },\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\n    setValue: function setValue(value) {\n      this._value = value;\n      if (this._options.readonly) {\n        $('.content-' + this._hash).text(value);\n      } else {\n        if (this._editor) {\n          this._editor.setContent(value);\n        }\n      }\n    },\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\n    validate: function validate(isValid, text) {\n      if (this._options.readonly) {\n        return;\n      }\n      var container = $('.content-' + this._hash);\n      container.find('.text-success').remove();\n      container.find('.text-danger').remove();\n      if (isValid === null) {\n        return;\n      }\n      if (isValid) {\n        if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\n          text = this._options.validText;\n        }\n        if (typeof text === 'string') {\n          container.append('<div class=\"ps-2 text-success\">' + text + '</div>');\n        }\n      } else {\n        if (typeof text === 'undefined') {\n          if (typeof this._options.invalidText === 'string') {\n            text = this._options.invalidText;\n          } else if (!text && this._options.required) {\n            text = this._form.getLang().required_field;\n          }\n        }\n        if (typeof text === 'string') {\n          container.append('<div class=\"ps-2 text-danger\">' + text + '</div>');\n        }\n      }\n    },\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean}\r\n     */\n    isValid: function isValid() {\n      if (this._options.required && !this._options.readonly) {\n        return !!this.getValue();\n      }\n      return true;\n    },\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\n    render: function render() {\n      var options = this.getOptions();\n      var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);\n      return ejs.render(tpl['form-field-label.html'], {\n        id: this._id,\n        form: this._form,\n        hash: this._hash,\n        field: options,\n        content: this.renderContent(),\n        attachFields: attachFields\n      });\n    },\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\n    renderContent: function renderContent() {\n      var options = this.getOptions();\n      return ejs.render(tpl['fields/wysiwyg.html'], {\n        field: options,\n        value: this._value !== null ? this._value : '',\n        editorHash: this._editorHash\n      });\n    },\n    /**\r\n     * Инициализация событий\r\n     * @private\r\n     */\n    _initEvents: function _initEvents() {\n      if (this._options.readonly) {\n        return;\n      }\n      var tinyMceOptions = {};\n      var than = this;\n      var textareaId = 'editor-' + this._editorHash;\n      if (_typeof(this._options.options) === 'object' && !Array.isArray(this._options.options) && Object.keys(this._options.options).length > 0) {\n        tinyMceOptions = this._options.options;\n      } else if (this._options.options === 'simple') {\n        tinyMceOptions = {\n          plugins: 'image lists anchor charmap',\n          toolbar: 'blocks | bold italic underline | alignleft aligncenter ' + 'alignright alignjustify | bullist numlist outdent indent | ' + 'forecolor backcolor removeformat',\n          menubar: false,\n          branding: false\n        };\n      } else {\n        tinyMceOptions = {\n          promotion: false,\n          branding: false,\n          plugins: 'preview importcss searchreplace autolink autosave save directionality code ' + 'visualblocks visualchars fullscreen image link media template codesample table ' + 'charmap pagebreak nonbreaking anchor insertdatetime advlist lists wordcount help charmap quickbars emoticons',\n          menubar: 'file edit view insert format tools table help',\n          toolbar: 'undo redo | bold italic underline strikethrough | fontfamily fontsize blocks | ' + 'alignleft aligncenter alignright alignjustify | outdent indent | numlist bullist | ' + 'forecolor backcolor removeformat | pagebreak | charmap emoticons | fullscreen ' + 'preview save print | insertfile image media template link anchor codesample | ltr rtl'\n        };\n      }\n      tinyMceOptions.selector = '#editor-' + this._editorHash;\n      if (['string', 'number'].indexOf(_typeof(this._options.width)) >= 0) {\n        tinyMceOptions.width = this._options.width;\n      }\n      if (['string', 'number'].indexOf(_typeof(this._options.minWidth)) >= 0) {\n        tinyMceOptions.min_width = this._options.minWidth;\n      }\n      if (['string', 'number'].indexOf(_typeof(this._options.maxWidth)) >= 0) {\n        tinyMceOptions.max_width = this._options.maxWidth;\n      }\n      if (['string', 'number'].indexOf(_typeof(this._options.height)) >= 0) {\n        tinyMceOptions.height = this._options.height;\n      }\n      if (['string', 'number'].indexOf(_typeof(this._options.minHeight)) >= 0) {\n        tinyMceOptions.min_height = this._options.minHeight;\n      }\n      if (['string', 'number'].indexOf(_typeof(this._options.maxHeight)) >= 0) {\n        tinyMceOptions.max_height = this._options.maxHeight;\n      }\n      tinymce.init(tinyMceOptions).then(function () {\n        than._editor = tinymce.get(textareaId);\n      });\n    }\n  };\n\n  coreuiForm.fields.passwordRepeat = {\n    _id: '',\n    _hash: '',\n    _form: null,\n    _index: 0,\n    _isChangeState: true,\n    _value: '',\n    _options: {\n      type: 'password',\n      name: null,\n      label: null,\n      labelWidth: null,\n      width: null,\n      outContent: null,\n      description: null,\n      errorText: null,\n      attach: null,\n      attr: {\n        type: 'password',\n        \"class\": 'form-control d-inline-block flex-shrink-0'\n      },\n      required: null,\n      invalidText: null,\n      validText: null,\n      readonly: null,\n      datalist: null,\n      show: true,\n      showBtn: true,\n      column: null\n    },\n    /**\r\n     * Инициализация\r\n     * @param {coreuiFormInstance} form\r\n     * @param {object}             options\r\n     * @param {int}                index Порядковый номер на форме\r\n     */\n    init: function init(form, options, index) {\n      this._form = form;\n      this._index = index;\n      this._id = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\n      this._hash = coreuiFormUtils.hashCode();\n      this._value = coreuiFormUtils.getFieldValue(form, options);\n      this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);\n      var that = this;\n      form.on('shown.coreui.form', function () {\n        that._initEvents();\n      });\n    },\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\n    getOptions: function getOptions() {\n      return $.extend(true, {}, this._options);\n    },\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\n    readonly: function readonly(isReadonly) {\n      this._value = this.getValue();\n      this._options.readonly = !!isReadonly;\n      $('.content-' + this._hash).html(this.renderContent());\n      if (!this._options.readonly) {\n        this._initEvents();\n      }\n    },\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\n    hide: function hide(duration) {\n      $('#coreui-form-' + this._id).hide(duration);\n    },\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\n    show: function show(duration) {\n      $('#coreui-form-' + this._id).show(duration);\n    },\n    /**\r\n     * Получение значения в поле\r\n     * @returns {string}\r\n     */\n    getValue: function getValue() {\n      var result;\n      if (this._options.readonly) {\n        result = this._value;\n      } else {\n        var pass = $('.content-' + this._hash + ' input[type=\"password\"]').eq(0);\n        if (typeof pass.attr('disabled') !== 'undefined' && pass.attr('disabled') !== false) {\n          result = null;\n        } else {\n          result = pass.val();\n        }\n      }\n      return result;\n    },\n    /**\r\n     * Установка значения в поле\r\n     * @param {string} value\r\n     */\n    setValue: function setValue(value) {\n      if (['string', 'number'].indexOf(_typeof(value)) < 0) {\n        return;\n      }\n      this._value = value;\n      if (this._options.readonly) {\n        $('.content-' + this._hash).text(value ? '******' : '');\n      } else {\n        $('.content-' + this._hash + ' input[type=\"password\"]').val(value);\n      }\n    },\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\n    validate: function validate(isValid, text) {\n      if (this._options.readonly) {\n        return;\n      }\n      var container = $('.content-' + this._hash);\n      var input = $('input[type=\"password\"]', container);\n      container.find('.valid-feedback').remove();\n      container.find('.invalid-feedback').remove();\n      if (isValid === null) {\n        input.removeClass('is-invalid');\n        input.removeClass('is-valid');\n      } else if (isValid) {\n        input.removeClass('is-invalid');\n        input.addClass('is-valid');\n        if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\n          text = this._options.validText;\n        }\n        if (typeof text === 'string') {\n          container.append('<div class=\"valid-feedback d-block\">' + text + '</div>');\n        }\n      } else {\n        input.removeClass('is-valid');\n        input.addClass('is-invalid');\n        if (typeof text === 'undefined') {\n          if (typeof this._options.invalidText === 'string') {\n            text = this._options.invalidText;\n          } else if (!text && this._options.required) {\n            text = this._form.getLang().required_field;\n          }\n        }\n        if (typeof text === 'string') {\n          container.append('<div class=\"invalid-feedback d-block\">' + text + '</div>');\n        }\n      }\n    },\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean|null}\r\n     */\n    isValid: function isValid() {\n      if (!this._isChangeState || this._options.readonly) {\n        return true;\n      }\n      var input = $('.content-' + this._hash + ' input[type=\"password\"]');\n      if (input.eq(0).val() !== input.eq(1).val()) {\n        return false;\n      }\n      if (input[0]) {\n        return input.eq(0).is(':valid');\n      }\n      return null;\n    },\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\n    render: function render() {\n      var options = this.getOptions();\n      var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);\n      return ejs.render(tpl['form-field-label.html'], {\n        id: this._id,\n        form: this._form,\n        hash: this._hash,\n        field: options,\n        content: this.renderContent(),\n        attachFields: attachFields\n      });\n    },\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\n    renderContent: function renderContent() {\n      return this._options.readonly ? this._renderContentReadonly() : this._renderContent();\n    },\n    /**\r\n     *\r\n     * @private\r\n     */\n    _renderContent: function _renderContent() {\n      var attributes = [];\n      var attributes2 = [];\n      var datalist = [];\n      var options = this.getOptions();\n      this._isChangeState = !options.showBtn ? true : !this._value;\n      if (!options.hasOwnProperty('attr') || _typeof(options.attr) !== 'object' || options.attr === null || Array.isArray(options.attr)) {\n        options.attr = {};\n      }\n      if (!this._isChangeState) {\n        options.attr.disabled = '';\n      }\n      if (options.name) {\n        options.attr.name = this._options.name;\n      }\n      options.attr.value = this._value ? '******' : '';\n      if (options.width) {\n        options.attr = coreuiFormUtils.mergeAttr({\n          style: 'width:' + options.width\n        }, options.attr);\n      }\n      if (options.required) {\n        options.attr.required = 'required';\n      }\n      $.each(options.attr, function (name, value) {\n        attributes.push(name + '=\"' + value + '\"');\n      });\n      $.each(options.attr, function (name, value) {\n        if (['name', 'value'].indexOf(name) < 0) {\n          attributes2.push(name + '=\"' + value + '\"');\n        }\n      });\n      var lang = this._form.getLang();\n      return ejs.render(tpl['fields/passwordRepeat.html'], {\n        field: options,\n        value: this._value !== null ? this._value : '',\n        lang: lang,\n        btn_text: this._isChangeState ? lang.cancel : lang.change,\n        render: {\n          attr: attributes.length > 0 ? ' ' + attributes.join(' ') : '',\n          attr2: attributes2.length > 0 ? ' ' + attributes2.join(' ') : '',\n          datalist: datalist\n        }\n      });\n    },\n    /**\r\n     *\r\n     * @private\r\n     */\n    _renderContentReadonly: function _renderContentReadonly() {\n      var options = this.getOptions();\n      return ejs.render(tpl['fields/passwordRepeat.html'], {\n        field: options,\n        value: this._value ? '******' : '',\n        hash: this._hash\n      });\n    },\n    /**\r\n     * Инициализация событий\r\n     * @private\r\n     */\n    _initEvents: function _initEvents() {\n      var that = this;\n      $('.content-' + this._hash + ' .btn-password-change').click(function (e) {\n        var textChange = $(this).data('change');\n        var textCancel = $(this).data('cancel');\n        if (that._isChangeState) {\n          $('.content-' + that._hash + ' [type=\"password\"]').attr('disabled', 'disabled');\n          $(this).text(textChange);\n          that._isChangeState = false;\n        } else {\n          $('.content-' + that._hash + ' [type=\"password\"]').removeAttr('disabled');\n          $(this).text(textCancel);\n          that._isChangeState = true;\n        }\n      });\n    }\n  };\n\n  coreuiForm.fields.file = {\n    _id: '',\n    _hash: '',\n    _form: null,\n    _index: 0,\n    _value: '',\n    _options: {\n      type: 'file',\n      name: null,\n      label: null,\n      labelWidth: null,\n      width: null,\n      outContent: null,\n      description: null,\n      errorText: null,\n      attach: null,\n      attr: {\n        \"class\": 'form-control d-inline-block'\n      },\n      required: null,\n      invalidText: null,\n      validText: null,\n      readonly: null,\n      datalist: null,\n      show: true,\n      column: null\n    },\n    /**\r\n     * Инициализация\r\n     * @param {coreuiFormInstance} form\r\n     * @param {object}             options\r\n     * @param {int}                index Порядковый номер на форме\r\n     */\n    init: function init(form, options, index) {\n      this._form = form;\n      this._index = index;\n      this._id = form.getId() + \"-field-\" + (options.hasOwnProperty('name') ? options.name : index);\n      this._hash = coreuiFormUtils.hashCode();\n      this._value = coreuiFormUtils.getFieldValue(form, options);\n      this._options = coreuiFormUtils.mergeFieldOptions(form, this._options, options);\n    },\n    /**\r\n     * Получение параметров\r\n     * @returns {object}\r\n     */\n    getOptions: function getOptions() {\n      return $.extend(true, {}, this._options);\n    },\n    /**\r\n     * Изменение режима поля только для чтения\r\n     * @param {bool} isReadonly\r\n     */\n    readonly: function readonly(isReadonly) {\n      this._value = this.getValue();\n      this._options.readonly = !!isReadonly;\n      $('.content-' + this._hash).html(this.renderContent());\n    },\n    /**\r\n     * Скрытие поля\r\n     * @param {int} duration\r\n     */\n    hide: function hide(duration) {\n      $('#coreui-form-' + this._id).hide(duration);\n    },\n    /**\r\n     * Показ поля\r\n     * @param {int} duration\r\n     */\n    show: function show(duration) {\n      $('#coreui-form-' + this._id).show(duration);\n    },\n    /**\r\n     * Получение значения в поле\r\n     * @returns {File[]}\r\n     */\n    getValue: function getValue() {\n      return this._options.readonly ? this._value : $('.content-' + this._hash + ' input')[0].files;\n    },\n    /**\r\n     * Установка значения в поле\r\n     * @param {File|File[]} value\r\n     */\n    setValue: function setValue(value) {\n      if (!(value instanceof File) && !(value instanceof FileList)) {\n        return;\n      }\n      this._value = value;\n      if (this._options.readonly) {\n        $('.content-' + this._hash).text('');\n      } else {\n        var container = new DataTransfer();\n        if (value instanceof File) {\n          container.items.add(value);\n        } else {\n          $.each(value, function (key, file) {\n            if (value instanceof File) {\n              container.items.add(file);\n            }\n          });\n        }\n        $('.content-' + this._hash + ' input')[0].files = container.files;\n      }\n    },\n    /**\r\n     * Установка валидности поля\r\n     * @param {bool|null} isValid\r\n     * @param {text} text\r\n     */\n    validate: function validate(isValid, text) {\n      if (this._options.readonly) {\n        return;\n      }\n      var container = $('.content-' + this._hash);\n      var input = $('input', container);\n      container.find('.valid-feedback').remove();\n      container.find('.invalid-feedback').remove();\n      if (isValid === null) {\n        input.removeClass('is-invalid');\n        input.removeClass('is-valid');\n      } else if (isValid) {\n        input.removeClass('is-invalid');\n        input.addClass('is-valid');\n        if (typeof text === 'undefined' && typeof this._options.validText === 'string') {\n          text = this._options.validText;\n        }\n        if (typeof text === 'string') {\n          container.append('<div class=\"valid-feedback\">' + text + '</div>');\n        }\n      } else {\n        input.removeClass('is-valid');\n        input.addClass('is-invalid');\n        if (typeof text === 'undefined') {\n          if (typeof this._options.invalidText === 'string') {\n            text = this._options.invalidText;\n          } else if (!text && this._options.required) {\n            text = this._form.getLang().required_field;\n          }\n        }\n        if (typeof text === 'string') {\n          container.append('<div class=\"invalid-feedback\">' + text + '</div>');\n        }\n      }\n    },\n    /**\r\n     * Проверка валидности поля\r\n     * @return {boolean|null}\r\n     */\n    isValid: function isValid() {\n      var input = $('.content-' + this._hash + ' input');\n      if (input[0]) {\n        return input.is(':valid');\n      }\n      return null;\n    },\n    /**\r\n     * Формирование поля\r\n     * @returns {string}\r\n     */\n    render: function render() {\n      var options = this.getOptions();\n      var attachFields = coreuiFormUtils.getAttacheFields(this._form, options);\n      return ejs.render(tpl['form-field-label.html'], {\n        id: this._id,\n        form: this._form,\n        hash: this._hash,\n        field: options,\n        content: this.renderContent(),\n        attachFields: attachFields\n      });\n    },\n    /**\r\n     * Формирование контента поля\r\n     * @return {*}\r\n     */\n    renderContent: function renderContent() {\n      return this._options.readonly ? this._renderContentReadonly() : this._renderContent();\n    },\n    /**\r\n     *\r\n     * @private\r\n     */\n    _renderContent: function _renderContent() {\n      var attributes = [];\n      var datalist = [];\n      var options = this.getOptions();\n      var datalistId = coreuiFormUtils.hashCode();\n      if (!options.hasOwnProperty('attr') || _typeof(options.attr) !== 'object' || options.attr === null || Array.isArray(options.attr)) {\n        options.attr = {};\n      }\n      if (options.name) {\n        options.attr.name = this._options.name;\n      }\n      options.attr.type = options.type;\n      options.attr.value = this._value !== null ? this._value : '';\n      if (options.width) {\n        options.attr = coreuiFormUtils.mergeAttr({\n          style: 'width:' + options.width\n        }, options.attr);\n      }\n      if (options.required) {\n        options.attr.required = 'required';\n      }\n      if (options.hasOwnProperty('datalist') && _typeof(options.datalist) === 'object' && Array.isArray(options.datalist)) {\n        options.attr.list = datalistId;\n        $.each(options.datalist, function (key, itemAttributes) {\n          var datalistAttr = [];\n          $.each(itemAttributes, function (name, value) {\n            datalistAttr.push(name + '=\"' + value + '\"');\n          });\n          datalist.push({\n            attr: datalistAttr.length > 0 ? ' ' + datalistAttr.join(' ') : ''\n          });\n        });\n      }\n      $.each(options.attr, function (name, value) {\n        attributes.push(name + '=\"' + value + '\"');\n      });\n      return ejs.render(tpl['fields/input.html'], {\n        field: options,\n        datalistId: datalistId,\n        value: this._value !== null ? this._value : '',\n        render: {\n          attr: attributes.length > 0 ? ' ' + attributes.join(' ') : '',\n          datalist: datalist\n        }\n      });\n    },\n    /**\r\n     *\r\n     * @private\r\n     */\n    _renderContentReadonly: function _renderContentReadonly() {\n      var options = this.getOptions();\n      var type = 'text';\n      var value = this._value;\n      var lang = this._form.getLang();\n      if (options.hasOwnProperty('type') && typeof options.type === 'string') {\n        type = options.type;\n      }\n      try {\n        switch (type) {\n          case 'date':\n            value = coreuiFormUtils.formatDate(value);\n            break;\n          case 'datetime-local':\n            value = coreuiFormUtils.formatDateTime(value);\n            break;\n          case 'month':\n            value = coreuiFormUtils.formatDateMonth(value, lang);\n            break;\n          case 'week':\n            value = coreuiFormUtils.formatDateWeek(value, lang);\n            break;\n        }\n      } catch (e) {\n        console.error(e);\n        // ignore\n      }\n\n      return ejs.render(tpl['fields/input.html'], {\n        field: options,\n        value: value,\n        hash: this._hash\n      });\n    }\n  };\n\n  return coreuiForm;\n\n}));\n"],"names":["global","factory","exports","module","define","amd","globalThis","self","CoreUI","form","this","_typeof","o","Symbol","iterator","constructor","prototype","f","window","ejs","r","e","n","t","i","c","require","u","a","Error","code","p","call","length","1","fs","path","utils","scopeOptionWarned","_VERSION_STRING","version","_DEFAULT_LOCALS_NAME","_OPTS_PASSABLE_WITH_DATA","_OPTS_PASSABLE_WITH_DATA_EXPRESS","concat","_BOM","_JS_IDENTIFIER","resolvePaths","name","paths","filePath","some","v","resolveInclude","existsSync","handleCache","options","template","func","filename","hasTemplate","arguments","cache","get","fileLoader","toString","replace","compile","set","includeFile","opts","shallowCopy","createNullProtoObjWherePossible","includePath","views","match","exec","Array","isArray","root","includer","escapeFunction","includerResult","rethrow","err","str","flnm","lineno","esc","lines","split","start","Math","max","end","min","context","slice","map","line","curr","join","message","stripSemi","Template","text","templateText","mode","truncate","currentLine","source","client","escape","escapeXML","compileDebug","debug","openDelimiter","closeDelimiter","delimiter","strict","rmWhitespace","outputFunctionName","localsName","async","destructuredLocals","legacyInclude","_with","regex","createRegex","readFileSync","promiseImpl","Function","Promise","isDir","dirname","extname","resolve","scope","console","warn","render","d","data","shallowCopyFromList","renderFile","cb","result","args","shift","pop","settings","viewOpts","reject","clearCache","reset","modes","EVAL","ESCAPED","RAW","COMMENT","LITERAL","delim","escapeRegExpChars","open","close","RegExp","fn","prepended","appended","escapeFn","sanitizedFilename","JSON","stringify","generateSource","test","destructuring","src","log","ctor","SyntaxError","returnedFn","apply","includeData","Object","defineProperty","basename","value","writable","enumerable","configurable","matches","parseTemplateText","forEach","index","indexOf","closing","scanLine","firstPos","pat","arr","push","substring","_addOutput","newLineCount","lastIndexOf","__express","VERSION","../package.json","./utils","2","hasOwn","obj","key","hasOwnProperty","regExpChars","_ENCODE_HTML_RULES","string","String","&","<",">","\"","'","_MATCH_HTML","encode_char","escapeXMLToString","markup","undefined","to","from","list","_data","val","remove","hyphenToCamel","toUpperCase","create","__proto__","3","4","process","normalizeArray","parts","allowAboveRoot","up","last","splice","unshift","filter","xs","res","resolvedPath","resolvedAbsolute","cwd","TypeError","charAt","normalize","isAbsolute","trailingSlash","substr","relative","trim","fromParts","toParts","samePartsLength","outputParts","sep","hasRoot","charCodeAt","matchedSlash","ext","startDot","startPart","preDotState","len","_process","5","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","setTimeout","clearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","runClearTimeout","marker","Item","array","noop","nextTick","title","browser","env","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","chdir","dir","umask","6","description","keywords","author","license","bin","main","jsdelivr","unpkg","repository","type","url","bugs","homepage","dependencies","jake","devDependencies","browserify","eslint","git-directory-deploy","jsdoc","lru-cache","mocha","uglify-js","engines","node","scripts","jQuery","Zepto","tpl","coreuiFormUtils","getFieldValue","fieldOptions","formRecord","getRecord","getFunctionByName","functionName","namespaces","mergeFieldOptions","defaultOptions","$","extend","attr","mergeAttr","width","unit","_options","fieldWidth","_unit","labelWidth","_unit2","_unit3","attr1","attr2","assign","each","getAttacheFields","fields","field","instance","initField","hash","_hash","direction","fieldsDirection","content","renderContent","formatDate","year","day","month","date","Date","getFullYear","getMonth","getDate","formatDateTime","getHours","getMinutes","getSeconds","formatDateMonth","lang","date_months","formatDateWeek","week","date_week","getObjValue","isJson","json","parse","error","isObject","isNumeric","num","isNaN","hashCode","crc32","getTime","random","round","number","precision","_pow","parseInt","pow","coreuiFormInstance","id","langList","send","method","format","validResponse","headers","dataType","minWidth","maxWidth","controlsOffset","readonly","validate","successLoadUrl","errorClass","layout","onSubmit","onSubmitSuccess","record","controls","_lock","_fieldsIndex","_groupsIndex","_controlsIndex","_groups","_fields","_controls","_events","_formWrapper","_init","formWrapper","getSetting","initEvents","that","formContainer","_trigger","getId","element","columns","columnsContent","widthSizes","formAttr","html","matchAll","column","initGroup","keys","fieldContents","control","initControl","show","domElement","document","getElementById","HTMLElement","innerHTML","lock","controlOptions","getOptions","unlock","onsubmit","getData","dataFormat","errorSend","results","isStopSend","sendFormat","contentType","FormData","File","append","FileList","file","xhr","textStatus","errorThrown","errorMessage","getLang","send_error","parsedResponse","responseText","error_message","showError","ajax","processData","beforeSend","success","isValidResponse","header","headerValues","getResponseHeader","successSend","jsonResponse","hideError","script","loadUrl","location","href","regx","urlParams","param","equalHash","onhashchange","complete","getValue","getFields","getControls","getGroups","getField","fieldInstance","isReadonly","hide","showControls","hideControls","isValid","formError","find","errorOptions","class","dismiss","prepend","scroll","scrollOffset","animate","scrollTop","offset","top","eventName","callback","singleExec","destruct","_instances","init","setValue","group","groupInstance","expand","collapse","controlInstance","params","_renderControl","coreuiForm","_settings","sendDataFormat","errorMessageScrollOffset","formId","setSettings","ru","modal_select","modal_loading","switch_yes","switch_no","dataset_add","required_field","change","cancel","en","button","_form","_index","onClick","_initEvents","attributes","duration","click","event","custom","link","submit","removeAttr","checkbox","_id","_value","label","inline","outContent","errorText","required","values","selectedItems","empty","option","prop","itemValue","container","lastInput","inputs","removeClass","addClass","validText","invalidText","attachFields","checkboxOptions","itemAttr","optionText","checked","color","attach","datalist","input","is","_renderContentReadonly","_renderContent","datalistId","style","itemAttributes","datalistAttr","component","dataset","_renderOptions","items","valueY","valueN","serializeArray","item","_renderRowReadonly","_eventAdd","removeItems","removeItem","itemId","rows","row","_renderRow","rowOptions","itemOptions","cellValue","cellItemValue","selected","hashItem","optionValue","showCollapsible","slideUp","slideDown","hidden","Mask","el","mask","regexMask","invalid","getCaret","sel","pos","ctrl","dSel","selection","cSelStart","selectionStart","navigator","appVersion","createRange","moveStart","setCaret","range","setSelectionRange","createTextRange","moveEnd","select","events","keyCode","which","maskDigitPosMapOld","maskDigitPosMap","jMaskGlobals","useInput","behaviour","keydown","keyup","oldValue","trigger","selectOnFocus","target","clearIfNotMatch","getRegexMask","pattern","optional","recursive","oRecursive","maskChunks","translation","jMask","digit","destroyEvents","calculateCaretPosition","oldVal","newVal","getMasked","caretPosNew","caretPosOld","newValL","oldValL","maskDigitsBeforeCaret","maskDigitsAfterCaret","maskDigitsBeforeCaretAll","maskDigitsBeforeCaretAllOld","caretPos","inArray","byPassKeys","keyStrokeCompensation","callbacks","skipMaskChars","lastMaskChar","lastUntranslatedMaskChar","buf","m","maskLen","valLen","addMethod","resetPos","maskDigitCount","maskDigitPosArr","check","reverse","maskDigit","valDigit","fallback","lastMaskCharDigit","mapMaskdigitPositions","maskDiff","criteria","changed","defaultArgs","caret","placeholder","getCleanVal","getMaskedVal","onlyMask","maxlength","HTMLAttributes","prefix","notSameMaskObject","maskObject","maskWatchers","maskFunction","selector","globals","interval","watchInterval","watchInputs","clearInterval","setInterval","masked","unmask","dataMask","removeData","cleanVal","applyDataMask","maskElements","dataMaskAttr","isSupported","userAgent","createElement","setAttribute","watchDataMask","0","9","#","A","S","Meteor","modal","_text","size","onHidden","onClear","onChange","elementText","elementValue","textAttr","modalId","modalLoading","onShow","step","Number","k","shiftKey","ctrlKey","altKey","preventDefault","blur","radio","radioOptions","selectedItem","selectOptions","renderAttr","groupOptions","_renderOption","groupAttr","groupOption","selectedOptions","optionAttr","switchContainer","textarea","wysiwyg","_editor","_editorHash","height","minHeight","maxHeight","getContent","setContent","editorHash","than","textareaId","tinyMceOptions","plugins","toolbar","menubar","branding","promotion","min_width","max_width","min_height","max_height","tinymce","then","passwordRepeat","_isChangeState","showBtn","pass","eq","attributes2","disabled","btn_text","textChange","textCancel","files","DataTransfer","add"],"mappings":"AAAA,CAAA,SAAWA,EAAQC,GACE,UAAnB,OAAOC,SAA0C,aAAlB,OAAOC,OAAyBA,OAAOD,QAAUD,EAAQ,EACtE,YAAlB,OAAOG,QAAyBA,OAAOC,IAAMD,OAAOH,CAAO,IAC1DD,EAA+B,aAAtB,OAAOM,WAA6BA,WAAaN,GAAUO,MAAcC,OAASR,EAAOQ,QAAU,GAAIR,EAAOQ,OAAOC,KAAOR,EAAQ,EAC/I,EAAES,KAAM,WAAe,aAEtB,SAASC,EAAQC,GAGf,OAAOD,EAAU,YAAc,OAAOE,QAAU,UAAY,OAAOA,OAAOC,SAAW,SAAUF,GAC7F,OAAO,OAAOA,CAChB,EAAI,SAAUA,GACZ,OAAOA,GAAK,YAAc,OAAOC,QAAUD,EAAEG,cAAgBF,QAAUD,IAAMC,OAAOG,UAAY,SAAW,OAAOJ,CACpH,GAAWA,CAAC,CACd,CAEA,CAAA,SAAWK,GACc,UAAnB,OAAOf,SAA0C,aAAlB,OAAOC,OACxCA,OAAOD,QAAUe,EAAE,EACQ,YAAlB,OAAOb,QAAyBA,OAAOC,IAChDD,OAAO,GAAIa,CAAC,GAGU,aAAlB,OAAOC,OACLA,OACuB,aAAlB,OAAOlB,OACZA,OACqB,aAAhB,OAAOO,KACZA,KAEAG,MAEJS,IAAMF,EAAE,CAEb,EAAE,WACD,OACE,SAASG,EAAEC,EAAGC,EAAGC,GACf,SAASX,EAAEY,EAAGP,GACZ,GAAI,CAACK,EAAEE,GAAI,CACT,GAAI,CAACH,EAAEG,GAAI,CACT,IAAIC,EAAI,YAAc,OAAOC,SAAWA,QACxC,GAAI,CAACT,GAAKQ,EAAG,OAAOA,EAAED,EAAG,CAAA,CAAE,EAC3B,GAAIG,EAAG,OAAOA,EAAEH,EAAG,CAAA,CAAE,EAErB,MADII,EAAI,IAAIC,MAAM,uBAAyBL,EAAI,GAAG,GAC1CM,KAAO,mBAAoBF,CACrC,CACIG,EAAIT,EAAEE,GAAK,CACbtB,QAAS,EACX,EACAmB,EAAEG,GAAG,GAAGQ,KAAKD,EAAE7B,QAAS,SAAUkB,GAEhC,OAAOR,EADCS,EAAEG,GAAG,GAAGJ,IACFA,CAAC,CACjB,EAAGW,EAAGA,EAAE7B,QAASkB,EAAGC,EAAGC,EAAGC,CAAC,CAC7B,CACA,OAAOD,EAAEE,GAAGtB,OACd,CACA,IAAK,IAAIyB,EAAI,YAAc,OAAOD,SAAWA,QAASF,EAAI,EAAGA,EAAID,EAAEU,OAAQT,CAAC,GAAIZ,EAAEW,EAAEC,EAAE,EACtF,OAAOZ,CACT,EAEE,CACFsB,EAAG,CAAC,SAAUR,EAASvB,EAAQD,GAE7B,IAAIiC,EAAKT,EAAQ,IAAI,EACjBU,EAAOV,EAAQ,MAAM,EACrBW,EAAQX,EAAQ,SAAS,EACzBY,EAAoB,CAAA,EACpBC,EAAkBb,EAAQ,iBAAiB,EAAEc,QAI7CC,EAAuB,SAGvBC,EAA2B,CAAC,YAAa,QAAS,UAAW,QAAS,eAAgB,SAAU,QAAS,eAAgB,SAAU,WAAY,SAC/IC,EAAmCD,EAAyBE,OAAO,OAAO,EAC1EC,EAAO,UACPC,EAAiB,6BAgBrB,SAASC,EAAaC,EAAMC,GAC1B,IAAIC,EACJ,GAAID,EAAME,KAAK,SAAUC,GAEvB,OADAF,EAAWhD,EAAQmD,eAAeL,EAAMI,EAAG,CAAA,CAAI,EACxCjB,EAAGmB,WAAWJ,CAAQ,CAC/B,CAAC,EACC,OAAOA,CAEX,CA6BA,SAASK,EAAYC,EAASC,GAC5B,IAAIC,EACAC,EAAWH,EAAQG,SACnBC,EAAiC,EAAnBC,UAAU5B,OAC5B,GAAIuB,EAAQM,MAAO,CACjB,GAAI,CAACH,EACH,MAAM,IAAI9B,MAAM,kCAAkC,EAGpD,GADA6B,EAAOxD,EAAQ4D,MAAMC,IAAIJ,CAAQ,EAE/B,OAAOD,EAEJE,IACHH,EAAWO,EAAWL,CAAQ,EAAEM,SAAS,EAAEC,QAAQrB,EAAM,EAAE,EAE/D,MAAO,GAAI,CAACe,EAAa,CACvB,GAAI,CAACD,EACH,MAAM,IAAI9B,MAAM,uDAA4D,EAE9E4B,EAAWO,EAAWL,CAAQ,EAAEM,SAAS,EAAEC,QAAQrB,EAAM,EAAE,CAC7D,CAKA,OAJAa,EAAOxD,EAAQiE,QAAQV,EAAUD,CAAO,EACpCA,EAAQM,OACV5D,EAAQ4D,MAAMM,IAAIT,EAAUD,CAAI,EAE3BA,CACT,CAyBA,SAASM,EAAWd,GAClB,OAAOhD,EAAQ8D,WAAWd,CAAQ,CACpC,CACA,SAASmB,EAAYjC,EAAMoB,GACzB,IAAIc,EAAOjC,EAAMkC,YAAYlC,EAAMmC,gCAAgC,EAAGhB,CAAO,EAE7E,GADAc,EAAKX,SApFP,SAAwBvB,EAAMoB,GAC5B,IAAIiB,EAEAC,EAAQlB,EAAQkB,MAChBC,EAAQ,oBAAoBC,KAAKxC,CAAI,EACzC,GAAIuC,GAASA,EAAM1C,OACjBG,EAAOA,EAAK8B,QAAQ,OAAQ,EAAE,EAE5BO,EADEI,MAAMC,QAAQtB,EAAQuB,IAAI,EACdhC,EAAaX,EAAMoB,EAAQuB,IAAI,EAE/B7E,EAAQmD,eAAejB,EAAMoB,EAAQuB,MAAQ,IAAK,CAAA,CAAI,OAYtE,GAAI,EAFFN,EADE,EAHAA,EAHAjB,EAAQG,WACVT,EAAWhD,EAAQmD,eAAejB,EAAMoB,EAAQG,QAAQ,EACpDxB,EAAGmB,WAAWJ,CAAQ,GACVA,EAGbuB,IAAeI,MAAMC,QAAQJ,CAAK,EACvB3B,EAAaX,EAAMsC,CAAK,EAEnCD,IAA2C,YAA5B,OAAOjB,EAAQwB,SACjC,MAAM,IAAInD,MAAM,oCAAsC2B,EAAQyB,eAAe7C,CAAI,EAAI,GAAG,EAG5F,OAAOqC,CACT,EAyDiCrC,EAAMkC,CAAI,EACT,YAA5B,OAAOd,EAAQwB,SAAyB,CACtCE,EAAiB1B,EAAQwB,SAAS5C,EAAMkC,EAAKX,QAAQ,EACzD,GAAIuB,IACEA,EAAevB,WACjBW,EAAKX,SAAWuB,EAAevB,UAE7BuB,EAAezB,UACjB,OAAOF,EAAYe,EAAMY,EAAezB,QAAQ,CAGtD,CACA,OAAOF,EAAYe,CAAI,CACzB,CACA,SAASa,EAAQC,EAAKC,EAAKC,EAAMC,EAAQC,GACvC,IAAIC,EAAQJ,EAAIK,MAAM,IAAI,EACtBC,EAAQC,KAAKC,IAAIN,EAAS,EAAG,CAAC,EAC9BO,EAAMF,KAAKG,IAAIN,EAAMxD,OAAQsD,EAAS,CAAC,EACvC5B,EAAW6B,EAAIF,CAAI,EACnBU,EAAUP,EAAMQ,MAAMN,EAAOG,CAAG,EAAEI,IAAI,SAAUC,EAAM3E,GACpD4E,EAAO5E,EAAImE,EAAQ,EACvB,OAAQS,GAAQb,EAAS,OAAS,QAAUa,EAAO,KAAOD,CAC5D,CAAC,EAAEE,KAAK,IAAI,EAGZ,MAFAjB,EAAIhD,KAAOuB,EACXyB,EAAIkB,SAAW3C,GAAY,OAAS,IAAM4B,EAAS,KAAOS,EAAU,OAASZ,EAAIkB,QAC3ElB,CACR,CACA,SAASmB,EAAUlB,GACjB,OAAOA,EAAInB,QAAQ,UAAW,IAAI,CACpC,CAiEA,SAASsC,EAASC,EAAMnC,GACtBA,EAAOA,GAAQjC,EAAMmC,gCAAgC,EACrD,IAAIhB,EAAUnB,EAAMmC,gCAAgC,EACpD9D,KAAKgG,aAAeD,EACpB/F,KAAKiG,KAAO,KACZjG,KAAKkG,SAAW,CAAA,EAChBlG,KAAKmG,YAAc,EACnBnG,KAAKoG,OAAS,GACdtD,EAAQuD,OAASzC,EAAKyC,QAAU,CAAA,EAChCvD,EAAQyB,eAAiBX,EAAK0C,QAAU1C,EAAKW,gBAAkB5C,EAAM4E,UACrEzD,EAAQ0D,aAAqC,CAAA,IAAtB5C,EAAK4C,aAC5B1D,EAAQ2D,MAAQ,CAAC,CAAC7C,EAAK6C,MACvB3D,EAAQG,SAAWW,EAAKX,SACxBH,EAAQ4D,cAAgB9C,EAAK8C,eAAiBlH,EAAQkH,eAjO1B,IAkO5B5D,EAAQ6D,eAAiB/C,EAAK+C,gBAAkBnH,EAAQmH,gBAjO3B,IAkO7B7D,EAAQ8D,UAAYhD,EAAKgD,WAAapH,EAAQoH,WAjOvB,IAkOvB9D,EAAQ+D,OAASjD,EAAKiD,QAAU,CAAA,EAChC/D,EAAQwC,QAAU1B,EAAK0B,QACvBxC,EAAQM,MAAQQ,EAAKR,OAAS,CAAA,EAC9BN,EAAQgE,aAAelD,EAAKkD,aAC5BhE,EAAQuB,KAAOT,EAAKS,KACpBvB,EAAQwB,SAAWV,EAAKU,SACxBxB,EAAQiE,mBAAqBnD,EAAKmD,mBAClCjE,EAAQkE,WAAapD,EAAKoD,YAAcxH,EAAQwH,YAAcjF,EAC9De,EAAQkB,MAAQJ,EAAKI,MACrBlB,EAAQmE,MAAQrD,EAAKqD,MACrBnE,EAAQoE,mBAAqBtD,EAAKsD,mBAClCpE,EAAQqE,cAA6C,KAAA,IAAtBvD,EAAKuD,eAA+B,CAAC,CAACvD,EAAKuD,cACtErE,EAAQ+D,OACV/D,EAAQsE,MAAQ,CAAA,EAEhBtE,EAAQsE,MAA6B,KAAA,IAAdxD,EAAKwD,OAAuBxD,EAAKwD,MAE1DpH,KAAK4D,KAAOd,EACZ9C,KAAKqH,MAAQrH,KAAKsH,YAAY,CAChC,CA7OA9H,EAAQ4D,MAAQzB,EAAMyB,MACtB5D,EAAQ8D,WAAa7B,EAAG8F,aACxB/H,EAAQwH,WAAajF,EACrBvC,EAAQgI,YAAc,IAAIC,SAAS,cAAc,EAAE,EAAEC,QACrDlI,EAAQmD,eAAiB,SAAUL,EAAMW,EAAU0E,GACjD,IAAIC,EAAUlG,EAAKkG,QACfC,EAAUnG,EAAKmG,QAEf9D,GAAc+D,EADJpG,EAAKoG,SACOH,EAAQ1E,EAAW2E,EAAQ3E,CAAQ,EAAGX,CAAI,EAKpE,OAJUuF,EAAQvF,CAAI,IAEpByB,GAAe,QAEVA,CACT,EA4HAvE,EAAQiE,QAAU,SAAiBV,EAAUa,GAa3C,OAXIA,GAAQA,EAAKmE,QACVnG,IACHoG,QAAQC,KAAK,2DAA2D,EACxErG,EAAoB,CAAA,GAEjBgC,EAAK0B,UACR1B,EAAK0B,QAAU1B,EAAKmE,OAEtB,OAAOnE,EAAKmE,OAEN,IAAIjC,EAAS/C,EAAUa,CAAI,EACtBH,QAAQ,CACvB,EACAjE,EAAQ0I,OAAS,SAAUnF,EAAUoF,EAAGjI,GAClCkI,EAAOD,GAAKxG,EAAMmC,gCAAgC,EAClDF,EAAO1D,GAAKyB,EAAMmC,gCAAgC,EAItD,OAHwB,GAApBX,UAAU5B,QACZI,EAAM0G,oBAAoBzE,EAAMwE,EAAMpG,CAAwB,EAEzDa,EAAYe,EAAMb,CAAQ,EAAEqF,CAAI,CACzC,EACA5I,EAAQ8I,WAAa,WACnB,IAEIC,EAIAH,EAxFAI,EAkFAC,EAAOtE,MAAM7D,UAAUiF,MAAMjE,KAAK6B,SAAS,EAC3CF,EAAWwF,EAAKC,MAAM,EAEtB9E,EAAO,CACTX,SAAUA,CACZ,EAxFsBH,GA2FwB,YAA1C,OAAOK,UAAUA,UAAU5B,OAAS,KACtCgH,EAAKE,EAAKE,IAAI,GAEZF,EAAKlH,QACP6G,EAAOK,EAAKC,MAAM,EACdD,EAAKlH,OACPI,EAAMkC,YAAYD,EAAM6E,EAAKE,IAAI,CAAC,GAE9BP,EAAKQ,WACHR,EAAKQ,SAAS5E,QAChBJ,EAAKI,MAAQoE,EAAKQ,SAAS5E,OAEzBoE,EAAKQ,SAAS,gBAChBhF,EAAKR,MAAQ,CAAA,GAEfyF,EAAWT,EAAKQ,SAAS,kBAEvBjH,EAAMkC,YAAYD,EAAMiF,CAAQ,EAGpClH,EAAM0G,oBAAoBzE,EAAMwE,EAAMnG,CAAgC,GAExE2B,EAAKX,SAAWA,GAEhBmF,EAAOzG,EAAMmC,gCAAgC,EAEzBF,GArHSwE,EAqHHA,EArHSG,EAqHHA,EAnHlC,GAAKA,CAAAA,EAAI,CACP,GAAkC,YAA9B,OAAO/I,EAAQgI,YACjB,OAAO,IAAIhI,EAAQgI,YAAY,SAAUM,EAASgB,GAChD,IAEEhB,EADAU,EAAS3F,EAAYC,CAAO,EAAEsF,CAAI,CACpB,CAGhB,CAFE,MAAO1D,GACPoE,EAAOpE,CAAG,CACZ,CACF,CAAC,EAED,MAAM,IAAIvD,MAAM,oCAAoC,CAExD,CACE,IACEqH,EAAS3F,EAAYC,CAAO,EAAEsF,CAAI,CAGpC,CAFE,MAAO1D,GACP,OAAO6D,EAAG7D,CAAG,CACf,CACA6D,EAAG,KAAMC,CAAM,CAiGnB,EACAhJ,EAAQsG,SAAWA,EACnBtG,EAAQuJ,WAAa,WACnBvJ,EAAQ4D,MAAM4F,MAAM,CACtB,EAqCAlD,EAASmD,MAAQ,CACfC,KAAM,OACNC,QAAS,UACTC,IAAK,MACLC,QAAS,UACTC,QAAS,SACX,EACAxD,EAASxF,UAAY,CACnBgH,YAAa,WACX,IAAI3C,EA5PY,0CA6PZ4E,EAAQ5H,EAAM6H,kBAAkBxJ,KAAK4D,KAAKgD,SAAS,EACnD6C,EAAO9H,EAAM6H,kBAAkBxJ,KAAK4D,KAAK8C,aAAa,EACtDgD,EAAQ/H,EAAM6H,kBAAkBxJ,KAAK4D,KAAK+C,cAAc,EAC5DhC,EAAMA,EAAInB,QAAQ,KAAM+F,CAAK,EAAE/F,QAAQ,KAAMiG,CAAI,EAAEjG,QAAQ,KAAMkG,CAAK,EACtE,OAAO,IAAIC,OAAOhF,CAAG,CACvB,EACAlB,QAAS,WACP,IACImG,EACAhG,EAAO5D,KAAK4D,KACZiG,EAAY,GACZC,EAAW,GACXC,EAAWnG,EAAKW,eAEhByF,EAAoBpG,EAAKX,SAAWgH,KAAKC,UAAUtG,EAAKX,QAAQ,EAAI,YACxE,GAAI,CAACjD,KAAKoG,OAAQ,CAGhB,GAFApG,KAAKmK,eAAe,EACpBN,GAAa,sGACTjG,EAAKmD,mBAAoB,CAC3B,GAAI,CAAC3E,EAAegI,KAAKxG,EAAKmD,kBAAkB,EAC9C,MAAM,IAAI5F,MAAM,kDAAkD,EAEpE0I,GAAa,SAAWjG,EAAKmD,mBAAsC,gBACrE,CACA,GAAInD,EAAKoD,YAAc,CAAC5E,EAAegI,KAAKxG,EAAKoD,UAAU,EACzD,MAAM,IAAI7F,MAAM,0CAA0C,EAE5D,GAAIyC,EAAKsD,oBAAsBtD,EAAKsD,mBAAmB3F,OAAQ,CAE7D,IADA,IAAI8I,EAAgB,qBAAuBzG,EAAKoD,WAAa,aACpDlG,EAAI,EAAGA,EAAI8C,EAAKsD,mBAAmB3F,OAAQT,CAAC,GAAI,CACvD,IAAIwB,EAAOsB,EAAKsD,mBAAmBpG,GACnC,GAAI,CAACsB,EAAegI,KAAK9H,CAAI,EAC3B,MAAM,IAAInB,MAAM,sBAAwBL,EAAI,iCAAiC,EAEvE,EAAJA,IACFuJ,GAAiB,SAEnBA,GAAiB/H,EAAO,eAAiBA,CAC3C,CACAuH,GAAaQ,EAAgB,KAC/B,CACmB,CAAA,IAAfzG,EAAKwD,QACPyC,GAAa,WAAajG,EAAKoD,WAA2B,cAC1D8C,GAAY,SAGd9J,KAAKoG,OAASyD,EAAY7J,KAAKoG,QAD/B0D,GAAY,uBAEd,CAEEQ,EADE1G,EAAK4C,aACD,iCAA6CyD,KAAKC,UAAUlK,KAAKgG,YAAY,EAAW,sBAAsBgE,EAA2C,aAAOhK,KAAKoG,OAAwG,2EAE7QpG,KAAKoG,OAETxC,EAAKyC,SACPiE,EAAM,0BAA4BP,EAASxG,SAAS,EAAU,MAAO+G,EACjE1G,EAAK4C,gBACP8D,EAAM,wBAA0B7F,EAAQlB,SAAS,EAAU,MAAO+G,GAGlE1G,EAAKiD,SACPyD,EAAM,kBAAoBA,GAExB1G,EAAK6C,OACPuB,QAAQuC,IAAID,CAAG,EAEb1G,EAAK4C,cAAgB5C,EAAKX,WAC5BqH,EAAMA,EAAa,mBAAmBN,EAAoB,MAE5D,IACE,GAAIpG,EAAKqD,MACP,IACEuD,EAAO,IAAI/C,SAAS,0CAA0C,EAAE,CAOlE,CANE,MAAO9G,GACP,MAAIA,aAAa8J,YACT,IAAItJ,MAAM,+CAA+C,EAEzDR,CAEV,MAEA6J,EAAO/C,SAETmC,EAAK,IAAIY,EAAK5G,EAAKoD,WAAa,+BAAgCsD,CAAG,CAerE,CAdE,MAAO3J,GAaP,MAZIA,aAAa8J,cACX7G,EAAKX,WACPtC,EAAEiF,SAAW,OAAShC,EAAKX,UAE7BtC,EAAEiF,SAAW,2BACbjF,EAAEiF,SAAW,qEACbjF,EAAEiF,SAAW,sCACRhC,EAAKqD,QACRtG,EAAEiF,SAAW,KACbjF,EAAEiF,SAAW,mFAGXjF,CACR,CACI+J,EAAa9G,EAAKyC,OAASuD,EAAK,SAAmBxB,GAQrD,OAAOwB,EAAGe,MAAM/G,EAAK0B,QAAS,CAAC8C,GAAQzG,EAAMmC,gCAAgC,EAAGiG,EAPlE,SAAUrI,EAAMkJ,GAC5B,IAAIzC,EAAIxG,EAAMkC,YAAYlC,EAAMmC,gCAAgC,EAAGsE,CAAI,EAIvE,OAHIwC,IACFzC,EAAIxG,EAAMkC,YAAYsE,EAAGyC,CAAW,GAE/BjH,EAAYjC,EAAMkC,CAAI,EAAEuE,CAAC,CAClC,EACmG1D,EAAQ,CAC7G,EACA,GAAIb,EAAKX,UAA6C,YAAjC,OAAO4H,OAAOC,eAA+B,CAChE,IAAI7H,EAAWW,EAAKX,SAChB8H,EAAWrJ,EAAKqJ,SAAS9H,EAAUvB,EAAKmG,QAAQ5E,CAAQ,CAAC,EAC7D,IACE4H,OAAOC,eAAeJ,EAAY,OAAQ,CACxCM,MAAOD,EACPE,SAAU,CAAA,EACVC,WAAY,CAAA,EACZC,aAAc,CAAA,CAChB,CAAC,CACU,CAAX,MAAOxK,IACX,CACA,OAAO+J,CACT,EACAP,eAAgB,WACHnK,KAAK4D,KACPkD,eACP9G,KAAKgG,aAAehG,KAAKgG,aAAaxC,QAAQ,WAAY,IAAI,EAAEA,QAAQ,cAAe,EAAE,GAE3FxD,KAAKgG,aAAehG,KAAKgG,aAAaxC,QAAQ,cAAe,KAAK,EAAEA,QAAQ,cAAe,KAAK,EAJhG,IAKI3D,EAAOG,KACPoL,EAAUpL,KAAKqL,kBAAkB,EACjClD,EAAInI,KAAK4D,KAAKgD,UACd1G,EAAIF,KAAK4D,KAAK8C,cACd3F,EAAIf,KAAK4D,KAAK+C,eACdyE,GAAWA,EAAQ7J,QACrB6J,EAAQE,QAAQ,SAAU7F,EAAM8F,GAE9B,GAA4B,IAAxB9F,EAAK+F,QAAQtL,EAAIiI,CAAC,GAAuC,IAA5B1C,EAAK+F,QAAQtL,EAAIiI,EAAIA,CAAC,IACrDsD,EAAUL,EAAQG,EAAQ,KACTpD,EAAIpH,GAAK0K,GAAW,IAAMtD,EAAIpH,GAAK0K,GAAW,IAAMtD,EAAIpH,EACvE,MAAM,IAAII,MAAM,0CAA4CsE,EAAO,IAAI,EAG3E5F,EAAK6L,SAASjG,CAAI,CACpB,CAAC,CAEL,EACA4F,kBAAmB,WAMjB,IALA,IAIIM,EAJAhH,EAAM3E,KAAKgG,aACX4F,EAAM5L,KAAKqH,MACXmB,EAASoD,EAAI1H,KAAKS,CAAG,EACrBkH,EAAM,GAEHrD,GAEY,KADjBmD,EAAWnD,EAAO+C,SAEhBM,EAAIC,KAAKnH,EAAIoH,UAAU,EAAGJ,CAAQ,CAAC,EACnChH,EAAMA,EAAIY,MAAMoG,CAAQ,GAE1BE,EAAIC,KAAKtD,EAAO,EAAE,EAClB7D,EAAMA,EAAIY,MAAMiD,EAAO,GAAGjH,MAAM,EAChCiH,EAASoD,EAAI1H,KAAKS,CAAG,EAKvB,OAHIA,GACFkH,EAAIC,KAAKnH,CAAG,EAEPkH,CACT,EACAG,WAAY,SAAUvG,GAKpB,GAJIzF,KAAKkG,WACPT,EAAOA,EAAKjC,QAAQ,kBAAmB,EAAE,EACzCxD,KAAKkG,SAAW,CAAA,GAEd,CAACT,EACH,OAAOA,EAKTA,GADAA,GADAA,GADAA,EAAOA,EAAKjC,QAAQ,MAAO,MAAM,GACrBA,QAAQ,MAAO,KAAK,GACpBA,QAAQ,MAAO,KAAK,GACpBA,QAAQ,KAAM,KAAK,EAC/BxD,KAAKoG,QAAU,mBAAqBX,EAAc,MACpD,EACAiG,SAAU,SAAUjG,GAClB,IACI0C,EAAInI,KAAK4D,KAAKgD,UACd1G,EAAIF,KAAK4D,KAAK8C,cACd3F,EAAIf,KAAK4D,KAAK+C,eAElBsF,EAAexG,EAAKT,MAAM,IAAI,EAAEzD,OAAS,EACzC,OAAQkE,GACN,KAAKvF,EAAIiI,EACT,KAAKjI,EAAIiI,EAAI,IACXnI,KAAKiG,KAAOH,EAASmD,MAAMC,KAC3B,MACF,KAAKhJ,EAAIiI,EAAI,IACXnI,KAAKiG,KAAOH,EAASmD,MAAME,QAC3B,MACF,KAAKjJ,EAAIiI,EAAI,IACXnI,KAAKiG,KAAOH,EAASmD,MAAMG,IAC3B,MACF,KAAKlJ,EAAIiI,EAAI,IACXnI,KAAKiG,KAAOH,EAASmD,MAAMI,QAC3B,MACF,KAAKnJ,EAAIiI,EAAIA,EACXnI,KAAKiG,KAAOH,EAASmD,MAAMK,QAC3BtJ,KAAKoG,QAAU,mBAAqBX,EAAKjC,QAAQtD,EAAIiI,EAAIA,EAAGjI,EAAIiI,CAAC,EAAW,OAC5E,MACF,KAAKA,EAAIA,EAAIpH,EACXf,KAAKiG,KAAOH,EAASmD,MAAMK,QAC3BtJ,KAAKoG,QAAU,mBAAqBX,EAAKjC,QAAQ2E,EAAIA,EAAIpH,EAAGoH,EAAIpH,CAAC,EAAW,OAC5E,MACF,KAAKoH,EAAIpH,EACT,IAAK,IAAMoH,EAAIpH,EACf,IAAK,IAAMoH,EAAIpH,EACTf,KAAKiG,MAAQH,EAASmD,MAAMK,SAC9BtJ,KAAKgM,WAAWvG,CAAI,EAEtBzF,KAAKiG,KAAO,KACZjG,KAAKkG,SAAiC,IAAtBT,EAAK+F,QAAQ,GAAG,GAAiC,IAAtB/F,EAAK+F,QAAQ,GAAG,EAC3D,MACF,QACE,GAAIxL,KAAKiG,KAAM,CACb,OAAQjG,KAAKiG,MACX,KAAKH,EAASmD,MAAMC,KACpB,KAAKpD,EAASmD,MAAME,QACpB,KAAKrD,EAASmD,MAAMG,IACd3D,EAAKyG,YAAY,IAAI,EAAIzG,EAAKyG,YAAY,IAAI,IAChDzG,GAAQ,KAEd,CACA,OAAQzF,KAAKiG,MACX,KAAKH,EAASmD,MAAMC,KAClBlJ,KAAKoG,QAAU,SAAWX,EAAO,KACjC,MACF,KAAKK,EAASmD,MAAME,QAClBnJ,KAAKoG,QAAU,2BAA6BP,EAAUJ,CAAI,EAAW,OACrE,MACF,KAAKK,EAASmD,MAAMG,IAClBpJ,KAAKoG,QAAU,kBAAoBP,EAAUJ,CAAI,EAAU,MAC3D,MACF,KAAKK,EAASmD,MAAMI,QAClB,MACF,KAAKvD,EAASmD,MAAMK,QAClBtJ,KAAKgM,WAAWvG,CAAI,CAExB,CACF,MACEzF,KAAKgM,WAAWvG,CAAI,CAE1B,CAlEWzF,KAmEF4D,KAAK4C,cAAgByF,IAC5BjM,KAAKmG,aAAe8F,EACpBjM,KAAKoG,QAAU,kBAAoBpG,KAAKmG,YAAc,KAE1D,CACF,EACA3G,EAAQ+G,UAAY5E,EAAM4E,UAC1B/G,EAAQ2M,UAAY3M,EAAQ8I,WAC5B9I,EAAQ4M,QAAUvK,EAClBrC,EAAQ8C,KAhgBI,MAigBS,aAAjB,OAAO9B,SACTA,OAAOC,IAAMjB,EAEjB,EAAG,CACD6M,kBAAmB,EACnBC,UAAW,EACX7K,GAAI,EACJC,KAAM,CACR,GACA6K,EAAG,CAAC,SAAUvL,EAASvB,EAAQD,GAIhB,SAATgN,EAAmBC,EAAKC,GAC1B,OAAOC,EAAehC,MAAM8B,EAAK,CAACC,EAAI,CACxC,CAJA,IAAIE,EAAc,sBACdD,EAAiB9B,OAAOvK,UAAUqM,eAUlCE,GANJrN,EAAQgK,kBAAoB,SAAUsD,GACpC,OAAKA,EAGEC,OAAOD,CAAM,EAAEtJ,QAAQoJ,EAAa,MAAM,EAFxC,EAGX,EACyB,CACvBI,IAAK,QACLC,IAAK,OACLC,IAAK,OACLC,IAAK,QACLC,IAAK,OACP,GACIC,EAAc,WAClB,SAASC,EAAYvM,GACnB,OAAO8L,EAAmB9L,IAAMA,CAClC,CAKA,SAASwM,IACP,OAAO9F,SAASnH,UAAUiD,SAASjC,KAAKtB,IAAI,EAL1B,kPAMpB,CALAR,EAAQ+G,UAAY,SAAUiH,GAC5B,OAAiBC,MAAVD,EAAsB,GAAKT,OAAOS,CAAM,EAAEhK,QAAQ6J,EAAaC,CAAW,CACnF,EAIA,IACuC,YAAjC,OAAOzC,OAAOC,eAChBD,OAAOC,eAAetL,EAAQ+G,UAAW,WAAY,CACnDyE,MAAOuC,CACT,CAAC,EAED/N,EAAQ+G,UAAUhD,SAAWgK,CAIjC,CAFE,MAAO7I,GACPsD,QAAQC,KAAK,sEAAsE,CACrF,CACAzI,EAAQqE,YAAc,SAAU6J,EAAIC,GAElC,GADAA,EAAOA,GAAQ,GACXD,MAAAA,EACF,IAAK,IAAIrM,KAAKsM,EACPnB,EAAOmB,EAAMtM,CAAC,GAGT,cAANA,GAA2B,gBAANA,IAGzBqM,EAAGrM,GAAKsM,EAAKtM,IAGjB,OAAOqM,CACT,EACAlO,EAAQ6I,oBAAsB,SAAUqF,EAAIC,EAAMC,GAGhD,GAFAA,EAAOA,GAAQ,GACfD,EAAOA,GAAQ,GACXD,MAAAA,EACF,IAAK,IAAI5M,EAAI,EAAGA,EAAI8M,EAAKrM,OAAQT,CAAC,GAAI,CACpC,IAAIO,EAAIuM,EAAK9M,GACS,KAAA,IAAX6M,EAAKtM,IACTmL,EAAOmB,EAAMtM,CAAC,GAGT,cAANA,GAA2B,gBAANA,IAGzBqM,EAAGrM,GAAKsM,EAAKtM,GAEjB,CAEF,OAAOqM,CACT,EACAlO,EAAQ4D,MAAQ,CACdyK,MAAO,GACPnK,IAAK,SAAUgJ,EAAKoB,GAClB9N,KAAK6N,MAAMnB,GAAOoB,CACpB,EACAzK,IAAK,SAAUqJ,GACb,OAAO1M,KAAK6N,MAAMnB,EACpB,EACAqB,OAAQ,SAAUrB,GAChB,OAAO1M,KAAK6N,MAAMnB,EACpB,EACA1D,MAAO,WACLhJ,KAAK6N,MAAQ,EACf,CACF,EACArO,EAAQwO,cAAgB,SAAUrJ,GAChC,OAAOA,EAAInB,QAAQ,UAAW,SAAUS,GACtC,OAAOA,EAAM,GAAGgK,YAAY,CAC9B,CAAC,CACH,EACAzO,EAAQsE,gCACsB,YAAxB,OAAO+G,OAAOqD,OACT,WACL,OAAOrD,OAAOqD,OAAO,IAAI,CAC3B,EAEI,CACJC,UAAW,IACb,YAAatD,OAON,WACL,MAAO,EACT,EARS,WACL,MAAO,CACLsD,UAAW,IACb,CACF,CAMN,EAAG,IACHC,EAAG,CAAC,SAAUpN,EAASvB,EAAQD,KAAa,IAC5C6O,EAAG,CAAC,SAAUrN,EAASvB,EAAQD,GAC7B,CAAA,SAAW8O,GACT,SAASC,EAAeC,EAAOC,GAE7B,IADA,IAAIC,EAAK,EACA5N,EAAI0N,EAAMjN,OAAS,EAAQ,GAALT,EAAQA,CAAC,GAAI,CAC1C,IAAI6N,EAAOH,EAAM1N,GACJ,MAAT6N,EACFH,EAAMI,OAAO9N,EAAG,CAAC,EACC,OAAT6N,GACTH,EAAMI,OAAO9N,EAAG,CAAC,EACjB4N,CAAE,IACOA,IACTF,EAAMI,OAAO9N,EAAG,CAAC,EACjB4N,CAAE,GAEN,CACA,GAAID,EACF,KAAOC,CAAE,IACPF,EAAMK,QAAQ,IAAI,EAGtB,OAAOL,CACT,CAiKA,SAASM,EAAOC,EAAIxO,GAClB,GAAIwO,EAAGD,OAAQ,OAAOC,EAAGD,OAAOvO,CAAC,EAEjC,IADA,IAAIyO,EAAM,GACDlO,EAAI,EAAGA,EAAIiO,EAAGxN,OAAQT,CAAC,GAC1BP,EAAEwO,EAAGjO,GAAIA,EAAGiO,CAAE,GAAGC,EAAIlD,KAAKiD,EAAGjO,EAAE,EAErC,OAAOkO,CACT,CAvKAxP,EAAQsI,QAAU,WAGhB,IAFA,IAAImH,EAAe,GACjBC,EAAmB,CAAA,EACZpO,EAAIqC,UAAU5B,OAAS,EAAQ,CAAC,GAANT,GAAW,CAACoO,EAAkBpO,CAAC,GAAI,CACpE,IAAIY,EAAY,GAALZ,EAASqC,UAAUrC,GAAKwN,EAAQa,IAAI,EAC/C,GAAoB,UAAhB,OAAOzN,EACT,MAAM,IAAI0N,UAAU,2CAA2C,EACrD1N,IAGZuN,EAAevN,EAAO,IAAMuN,EAC5BC,EAAsC,MAAnBxN,EAAK2N,OAAO,CAAC,EAClC,CAIA,OAAQH,EAAmB,IAAM,KAHjCD,EAAeV,EAAeO,EAAOG,EAAajK,MAAM,GAAG,EAAG,SAAU3D,GACtE,MAAO,CAAC,CAACA,CACX,CAAC,EAAG,CAAC6N,CAAgB,EAAEvJ,KAAK,GAAG,IACwB,GACzD,EACAnG,EAAQ8P,UAAY,SAAU5N,GAC5B,IAAI6N,EAAa/P,EAAQ+P,WAAW7N,CAAI,EACtC8N,EAAqC,MAArBC,EAAO/N,EAAM,CAAC,CAAC,EAUjC,OALEA,GAJFA,EAAO6M,EAAeO,EAAOpN,EAAKsD,MAAM,GAAG,EAAG,SAAU3D,GACtD,MAAO,CAAC,CAACA,CACX,CAAC,EAAG,CAACkO,CAAU,EAAE5J,KAAK,GAAG,IACX4J,EAGV7N,EAFK,MAEG8N,IACV9N,GAAQ,MAEF6N,EAAa,IAAM,IAAM7N,CACnC,EACAlC,EAAQ+P,WAAa,SAAU7N,GAC7B,MAA0B,MAAnBA,EAAK2N,OAAO,CAAC,CACtB,EACA7P,EAAQmG,KAAO,WACb,IAAIpD,EAAQ4B,MAAM7D,UAAUiF,MAAMjE,KAAK6B,UAAW,CAAC,EACnD,OAAO3D,EAAQ8P,UAAUR,EAAOvM,EAAO,SAAUlB,EAAGkK,GAClD,GAAiB,UAAb,OAAOlK,EACT,MAAM,IAAI+N,UAAU,wCAAwC,EAE9D,OAAO/N,CACT,CAAC,EAAEsE,KAAK,GAAG,CAAC,CACd,EACAnG,EAAQkQ,SAAW,SAAU/B,EAAMD,GAGjC,SAASiC,EAAK9D,GAEZ,IADA,IAAI5G,EAAQ,EACLA,EAAQ4G,EAAItK,QACE,KAAfsK,EAAI5G,GADiBA,CAAK,IAIhC,IADA,IAAIG,EAAMyG,EAAItK,OAAS,EACT,GAAP6D,GACY,KAAbyG,EAAIzG,GADOA,CAAG,IAGpB,OAAYA,EAARH,EAAoB,GACjB4G,EAAItG,MAAMN,EAAOG,EAAMH,EAAQ,CAAC,CACzC,CAbA0I,EAAOnO,EAAQsI,QAAQ6F,CAAI,EAAE8B,OAAO,CAAC,EACrC/B,EAAKlO,EAAQsI,QAAQ4F,CAAE,EAAE+B,OAAO,CAAC,EAiBjC,IAJA,IAAIG,EAAYD,EAAKhC,EAAK3I,MAAM,GAAG,CAAC,EAChC6K,EAAUF,EAAKjC,EAAG1I,MAAM,GAAG,CAAC,EAC5BzD,EAAS2D,KAAKG,IAAIuK,EAAUrO,OAAQsO,EAAQtO,MAAM,EAClDuO,EAAkBvO,EACbT,EAAI,EAAGA,EAAIS,EAAQT,CAAC,GAC3B,GAAI8O,EAAU9O,KAAO+O,EAAQ/O,GAAI,CAC/BgP,EAAkBhP,EAClB,KACF,CAGF,IADA,IAAIiP,EAAc,GACTjP,EAAIgP,EAAiBhP,EAAI8O,EAAUrO,OAAQT,CAAC,GACnDiP,EAAYjE,KAAK,IAAI,EAGvB,OADAiE,EAAcA,EAAY7N,OAAO2N,EAAQtK,MAAMuK,CAAe,CAAC,GAC5CnK,KAAK,GAAG,CAC7B,EACAnG,EAAQwQ,IAAM,IACdxQ,EAAQoH,UAAY,IACpBpH,EAAQoI,QAAU,SAAUlG,GAE1B,GADoB,UAAhB,OAAOA,IAAmBA,GAAc,IACxB,IAAhBA,EAAKH,OAAc,MAAO,IAK9B,IAJA,IACI0O,EAAmB,KADZvO,EAAKwO,WAAW,CAAC,EAExB9K,EAAM,CAAC,EACP+K,EAAe,CAAA,EACVrP,EAAIY,EAAKH,OAAS,EAAQ,GAALT,EAAQ,EAAEA,EAEtC,GAAa,KADNY,EAAKwO,WAAWpP,CAAC,GAEtB,GAAI,CAACqP,EAAc,CACjB/K,EAAMtE,EACN,KACF,CAAA,MAEAqP,EAAe,CAAA,EAGnB,MAAY,CAAC,IAAT/K,EAAmB6K,EAAU,IAAM,IACnCA,GAAmB,IAAR7K,EACN,IAEF1D,EAAK6D,MAAM,EAAGH,CAAG,CAC1B,EAqBA5F,EAAQuL,SAAW,SAAUrJ,EAAM0O,GAC7B7P,EArBN,SAAkBmB,GACI,UAAhB,OAAOA,IAAmBA,GAAc,IAK5C,IAJA,IAAIuD,EAAQ,EACRG,EAAM,CAAC,EACP+K,EAAe,CAAA,EAEdrP,EAAIY,EAAKH,OAAS,EAAQ,GAALT,EAAQ,EAAEA,EAClC,GAA2B,KAAvBY,EAAKwO,WAAWpP,CAAC,GACnB,GAAI,CAACqP,EAAc,CACjBlL,EAAQnE,EAAI,EACZ,KACF,CAAA,KACiB,CAAC,IAATsE,IACT+K,EAAe,CAAA,EACf/K,EAAMtE,EAAI,GAGd,MAAY,CAAC,IAATsE,EAAmB,GAChB1D,EAAK6D,MAAMN,EAAOG,CAAG,CAC9B,EAEmB1D,CAAI,EAIrB,OAFEnB,EADE6P,GAAO7P,EAAEkP,OAAO,CAAC,EAAIW,EAAI7O,MAAM,IAAM6O,EACnC7P,EAAEkP,OAAO,EAAGlP,EAAEgB,OAAS6O,EAAI7O,MAAM,EAEhChB,CACT,EACAf,EAAQqI,QAAU,SAAUnG,GACN,UAAhB,OAAOA,IAAmBA,GAAc,IAM5C,IALA,IAAI2O,EAAW,CAAC,EACZC,EAAY,EACZlL,EAAM,CAAC,EACP+K,EAAe,CAAA,EACfI,EAAc,EACTzP,EAAIY,EAAKH,OAAS,EAAQ,GAALT,EAAQ,EAAEA,EAAG,CACzC,IAAIM,EAAOM,EAAKwO,WAAWpP,CAAC,EAC5B,GAAa,KAATM,EAAa,CACf,GAAK+O,EAIL,SAHEG,EAAYxP,EAAI,EAChB,KAGJ,CACY,CAAC,IAATsE,IACF+K,EAAe,CAAA,EACf/K,EAAMtE,EAAI,GAEC,KAATM,EACe,CAAC,IAAdiP,EAAiBA,EAAWvP,EAA2B,IAAhByP,IAAmBA,EAAc,GACtD,CAAC,IAAdF,IACTE,EAAc,CAAC,EAEnB,CACA,MAAiB,CAAC,IAAdF,GAA2B,CAAC,IAATjL,GAA8B,IAAhBmL,GAAqC,IAAhBA,GAAqBF,IAAajL,EAAM,GAAKiL,IAAaC,EAAY,EACvH,GAEF5O,EAAK6D,MAAM8K,EAAUjL,CAAG,CACjC,EASA,IAAIqK,EAA6B,MAApB,KAAKA,OAAO,CAAC,CAAC,EAAY,SAAU9K,EAAKM,EAAOuL,GAC3D,OAAO7L,EAAI8K,OAAOxK,EAAOuL,CAAG,CAC9B,EAAI,SAAU7L,EAAKM,EAAOuL,GAExB,OADIvL,EAAQ,IAAGA,EAAQN,EAAIpD,OAAS0D,GAC7BN,EAAI8K,OAAOxK,EAAOuL,CAAG,CAC9B,CACD,EAAElP,KAAKtB,KAAMgB,EAAQ,UAAU,CAAC,CACnC,EAAG,CACDyP,SAAU,CACZ,GACAC,EAAG,CAAC,SAAU1P,EAASvB,EAAQD,GAC7B,IACImR,EACAC,EAFAtC,EAAU7O,EAAOD,QAAU,GAG/B,SAASqR,IACP,MAAM,IAAI1P,MAAM,iCAAiC,CACnD,CACA,SAAS2P,IACP,MAAM,IAAI3P,MAAM,mCAAmC,CACrD,CAEE,IAEIwP,EADwB,YAAtB,OAAOI,WACUA,WAEAF,CAIvB,CAFE,MAAOlQ,GACPgQ,EAAmBE,CACrB,CACA,IAEID,EAD0B,YAAxB,OAAOI,aACYA,aAEAF,CAIzB,CAFE,MAAOnQ,GACPiQ,EAAqBE,CACvB,CAEF,SAASG,EAAWC,GAClB,GAAIP,IAAqBI,WACvB,OAAOA,WAAWG,EAAK,CAAC,EAE1B,IAAKP,IAAqBE,GAAoB,CAACF,IAAqBI,WAElE,OADAJ,EAAmBI,YACDG,EAAK,CAAC,EAE1B,IACE,OAAOP,EAAiBO,EAAK,CAAC,CAOhC,CANE,MAAOvQ,GACP,IACE,OAAOgQ,EAAiBrP,KAAK,KAAM4P,EAAK,CAAC,CAG3C,CAFE,MAAOvQ,GACP,OAAOgQ,EAAiBrP,KAAKtB,KAAMkR,EAAK,CAAC,CAC3C,CACF,CACF,CAmBA,IAEIC,EAFAC,EAAQ,GACRC,EAAW,CAAA,EAEXC,EAAa,CAAC,EAClB,SAASC,IACFF,GAAaF,IAGlBE,EAAW,CAAA,EACPF,EAAa5P,OACf6P,EAAQD,EAAajP,OAAOkP,CAAK,EAEjCE,EAAa,CAAC,EAEZF,EAAM7P,SACRiQ,EAAW,CAEf,CACA,SAASA,IACP,GAAIH,CAAAA,EAAJ,CAMA,IAHA,IAAII,EAAUR,EAAWM,CAAe,EAEpCf,GADJa,EAAW,CAAA,EACDD,EAAM7P,QACTiP,GAAK,CAGV,IAFAW,EAAeC,EACfA,EAAQ,GACD,EAAEE,EAAad,GAChBW,GACFA,EAAaG,GAAYI,IAAI,EAGjCJ,EAAa,CAAC,EACdd,EAAMY,EAAM7P,MACd,CACA4P,EAAe,KACfE,EAAW,CAAA,EACXM,CAxDF,SAAyBC,GACvB,GAAIhB,IAAuBI,aACzB,OAAOA,aAAaY,CAAM,EAE5B,IAAKhB,IAAuBE,GAAuB,CAACF,IAAuBI,aAEzE,OADAJ,EAAqBI,cACDY,CAAM,EAE5B,IACShB,EAAmBgB,CAAM,CAOlC,CANE,MAAOjR,GACP,IACE,OAAOiQ,EAAmBtP,KAAK,KAAMsQ,CAAM,CAG7C,CAFE,MAAOjR,GACP,OAAOiQ,EAAmBtP,KAAKtB,KAAM4R,CAAM,CAC7C,CACF,CACF,EAuCkBH,CAAO,CAjBvB,CAkBF,CAaA,SAASI,EAAKX,EAAKY,GACjB9R,KAAKkR,IAAMA,EACXlR,KAAK8R,MAAQA,CACf,CAUA,SAASC,KAzBTzD,EAAQ0D,SAAW,SAAUd,GAC3B,IAAIzI,EAAO,IAAItE,MAAMhB,UAAU5B,OAAS,CAAC,EACzC,GAAuB,EAAnB4B,UAAU5B,OACZ,IAAK,IAAIT,EAAI,EAAGA,EAAIqC,UAAU5B,OAAQT,CAAC,GACrC2H,EAAK3H,EAAI,GAAKqC,UAAUrC,GAG5BsQ,EAAMtF,KAAK,IAAI+F,EAAKX,EAAKzI,CAAI,CAAC,EACT,IAAjB2I,EAAM7P,QAAiB8P,GACzBJ,EAAWO,CAAU,CAEzB,EAKAK,EAAKvR,UAAUoR,IAAM,WACnB1R,KAAKkR,IAAIvG,MAAM,KAAM3K,KAAK8R,KAAK,CACjC,EACAxD,EAAQ2D,MAAQ,UAChB3D,EAAQ4D,QAAU,CAAA,EAClB5D,EAAQ6D,IAAM,GACd7D,EAAQ8D,KAAO,GACf9D,EAAQxM,QAAU,GAClBwM,EAAQ+D,SAAW,GAEnB/D,EAAQgE,GAAKP,EACbzD,EAAQiE,YAAcR,EACtBzD,EAAQkE,KAAOT,EACfzD,EAAQmE,IAAMV,EACdzD,EAAQoE,eAAiBX,EACzBzD,EAAQqE,mBAAqBZ,EAC7BzD,EAAQsE,KAAOb,EACfzD,EAAQuE,gBAAkBd,EAC1BzD,EAAQwE,oBAAsBf,EAC9BzD,EAAQyE,UAAY,SAAUzQ,GAC5B,MAAO,EACT,EACAgM,EAAQ0E,QAAU,SAAU1Q,GAC1B,MAAM,IAAInB,MAAM,kCAAkC,CACpD,EACAmN,EAAQa,IAAM,WACZ,MAAO,GACT,EACAb,EAAQ2E,MAAQ,SAAUC,GACxB,MAAM,IAAI/R,MAAM,gCAAgC,CAClD,EACAmN,EAAQ6E,MAAQ,WACd,OAAO,CACT,CACF,EAAG,IACHC,EAAG,CAAC,SAAUpS,EAASvB,EAAQD,GAC7BC,EAAOD,QAAU,CACf8C,KAAM,MACN+Q,YAAa,gCACbC,SAAU,CAAC,WAAY,SAAU,OACjCxR,QAAS,QACTyR,OAAQ,0DACRC,QAAS,aACTC,IAAK,CACHhT,IAAK,cACP,EACAiT,KAAM,eACNC,SAAU,aACVC,MAAO,aACPC,WAAY,CACVC,KAAM,MACNC,IAAK,8BACP,EACAC,KAAM,oCACNC,SAAU,6BACVC,aAAc,CACZC,KAAM,SACR,EACAC,gBAAiB,CACfC,WAAY,UACZC,OAAQ,SACRC,uBAAwB,SACxBC,MAAO,SACPC,YAAa,SACbC,MAAO,UACPC,YAAa,SACf,EACAC,QAAS,CACPC,KAAM,UACR,EACAC,QAAS,CACP1K,KAAM,cACR,CACF,CACF,EAAG,GACL,EAAG,GAAI,CAAC,EAAE,EAAE,CAAC,CACf,CAAC,EAED,IAi/FW7K,EAASwV,EAAQC,EAj/FxBC,EAAMpK,OAAOqD,OAAO,IAAI,EAwBxBgH,GAvBJD,EAAI,mBAAqB,iPACzBA,EAAI,2BAA6B,iBACjCA,EAAI,yBAA2B,mkBAC/BA,EAAI,yBAA2B,46CAC/BA,EAAI,aAAe,+hCACnBA,EAAI,wBAA0B,6DAC9BA,EAAI,sBAAwB,6EAC5BA,EAAI,wBAA0B,qbAC9BA,EAAI,qBAAuB,iZAC3BA,EAAI,oCAAsC,8JAC1CA,EAAI,2BAA6B,ksBACjCA,EAAI,uBAAyB,o8BAC7BA,EAAI,sBAAwB,qEAC5BA,EAAI,qBAAuB,mVAC3BA,EAAI,6BAA+B,sJACnCA,EAAI,qBAAuB,gpBAC3BA,EAAI,8BAAgC,yiBACpCA,EAAI,qBAAuB,uaAC3BA,EAAI,sBAAwB,uiBAC5BA,EAAI,sBAAwB,gQAC5BA,EAAI,wBAA0B,qLAC9BA,EAAI,uBAAyB,yNAEP,CAOpBE,cAAe,SAAuBpV,EAAMqV,GACtCC,EAAatV,EAAKuV,UAAU,EAChC,OAAIF,GAAgBC,GAA2C,UAA7B,OAAOD,EAAa9S,MAA6C,WAAxBrC,EAAQoV,CAAU,GAAkBA,EAAW1I,eAAeyI,EAAa9S,IAAI,GAAuF,GAAlF,CAAC,SAAU,SAAU,UAAUkJ,QAAQvL,EAAQoV,EAAWD,EAAa9S,KAAK,CAAC,EACnO+S,EAAWD,EAAa9S,MAE1B,EACT,EAQAiT,kBAAmB,SAA2BC,EAAclQ,GAC1D,IAAImQ,EAAaD,EAAaxQ,MAAM,GAAG,EACnChC,EAAOyS,EAAW9M,IAAI,EAC1BrD,EAAUA,GAAW9E,OACrB,IAAK,IAAIM,EAAI,EAAGA,EAAI2U,EAAWlU,OAAQT,CAAC,GAAI,CAC1C,GAAIwE,CAAAA,EAAQqH,eAAe8I,EAAW3U,EAAE,EAGtC,OAAO,KAFPwE,EAAUA,EAAQmQ,EAAW3U,GAIjC,CACA,MAA6B,YAAzB,OAAOwE,EAAQtC,GACVsC,EAAQtC,GAEV,IACT,EAOA0S,kBAAmB,SAA2B3V,EAAM4V,EAAgBP,GAC9DtS,EAAU8S,EAAEC,OAAO,CAAA,EAAM,GAAIF,CAAc,EAyB/C,OAxBIP,IACEtS,EAAQ6J,eAAe,MAAM,GAA+B,WAA1B1M,EAAQ6C,EAAQgT,IAAI,GAAkBV,EAAazI,eAAe,MAAM,GAAoC,WAA/B1M,EAAQmV,EAAaU,IAAI,IAC1IV,EAAaU,KAAO9V,KAAK+V,UAAUjT,EAAQgT,KAAMV,EAAaU,IAAI,GAEpEhT,EAAU8S,EAAEC,OAAO,CAAA,EAAM,GAAI/S,EAASsS,CAAY,GAEhDtS,EAAQ6J,eAAe,OAAO,IAC5B7J,EAAQkT,OACNC,EAAgC,UAAzB,OAAOnT,EAAQkT,MAAqB,KAAO,GACtDlT,EAAQkT,MAAQlT,EAAQkT,MAAQC,GACvBlW,EAAKmW,SAASC,YAA+B,UAAjBrT,EAAQgR,OACzCsC,EAA4C,UAApC,OAAOrW,EAAKmW,SAASC,WAA0B,KAAO,GAClErT,EAAQkT,MAAQjW,EAAKmW,SAASC,WAAaC,IAG3CtT,EAAQ6J,eAAe,YAAY,IACX,GAAtB7J,EAAQuT,YAA0C,OAAvBvT,EAAQuT,YACjCC,EAAuC,UAA9B,OAAOxT,EAAQuT,WAA0B,KAAO,GAC7DvT,EAAQuT,WAAavT,EAAQuT,WAAaC,GACjCvW,EAAKmW,SAASG,aACnBE,EAA6C,UAApC,OAAOxW,EAAKmW,SAASG,WAA0B,KAAO,GACnEvT,EAAQuT,WAAatW,EAAKmW,SAASG,WAAaE,IAG7CzT,CACT,EAOAiT,UAAW,SAAmBS,EAAOC,GACnC,IAAIV,EAAYlL,OAAO6L,OAAO,GAAIF,CAAK,EAgBvC,MAfuB,WAAnBvW,EAAQwW,CAAK,GACfb,EAAEe,KAAKF,EAAO,SAAUnU,EAAM0I,GACxB+K,EAAUpJ,eAAerK,CAAI,EAClB,UAATA,EACFyT,EAAUzT,IAAS,IAAM0I,EACP,UAAT1I,EACTyT,EAAUzT,IAAS,IAAM0I,EAEzB+K,EAAUzT,GAAQ0I,EAGpB+K,EAAUzT,GAAQ0I,CAEtB,CAAC,EAEI+K,CACT,EAQAa,iBAAkB,SAA0B7W,EAAM+C,GAChD,IAAI+T,EAAS,GAcb,MAbyB,WAArB5W,EAAQ6C,CAAO,GAA8C,WAA5B7C,EAAQ6C,EAAQ+T,MAAM,GAAkB1S,MAAMC,QAAQtB,EAAQ+T,MAAM,GACvGjB,EAAEe,KAAK7T,EAAQ+T,OAAQ,SAAUnK,EAAKoK,GAChCC,EAAWhX,EAAKiX,UAAUF,CAAK,EACT,WAAtB7W,EAAQ8W,CAAQ,GAGpBF,EAAO/K,KAAK,CACVmL,KAAMF,EAASG,MACfC,UAAWrU,EAAQ6J,eAAe,iBAAiB,EAAI7J,EAAQsU,gBAAkB,MACjFC,QAASN,EAASO,cAAc,CAClC,CAAC,CACH,CAAC,EAEIT,CACT,EAMAU,WAAY,SAAoBvM,GAC9B,IAEMwM,EAGJC,EACAC,EAGF,OATI1M,GAA0B,KAAjBA,EAAMzJ,SAEbiW,GADAG,EAAO,IAAIC,KAAK5M,CAAK,GACT6M,YAAY,EACxBH,EAAQC,EAAKG,SAAS,EAAI,EAI9B9M,GAAQyM,GAHJA,EAAME,EAAKI,QAAQ,GACX,GAAK,IAAMN,EAAMA,GAEf,KAAMC,EADZA,EAAQ,GAAK,IAAMA,EAAQA,GACP,IAAMF,GAE7BxM,CACT,EAMAgN,eAAgB,SAAwBhN,GACtC,IACM2M,EACAH,EAMJC,EACAC,EAGF,OAZI1M,GAAyB,IAAhBA,EAAMzJ,SAEbiW,GADAG,EAAO,IAAIC,KAAK5M,CAAK,GACT6M,YAAY,EACxBH,EAAQC,EAAKG,SAAS,EAAI,EAO9B9M,GAAQyM,GANJA,EAAME,EAAKI,QAAQ,GAIX,GAAK,IAAMN,EAAMA,GAEf,KAAMC,EADZA,EAAQ,GAAK,IAAMA,EAAQA,GACP,IAAMF,EAAO,KAL7B,KAAOG,EAAKM,SAAS,GAAG1S,MAAM,CAAC,CAAC,EAKU,KAJ3C,KAAOoS,EAAKO,WAAW,GAAG3S,MAAM,CAAC,CAAC,EAIqB,KAHvD,KAAOoS,EAAKQ,WAAW,GAAG5S,MAAM,CAAC,CAAC,GAKxCyF,CACT,EAOAoN,gBAAiB,SAAyBpN,EAAOqN,GAC/C,IAEMb,EACAE,EAIN,OAPI1M,GAA0B,IAAjBA,EAAMzJ,SAEbiW,GADAG,EAAO,IAAIC,KAAK5M,CAAK,GACT6M,YAAY,EACxBH,EAAQC,EAAKG,SAAS,EAE1B9M,GADgBqN,EAAKC,YAAY3L,eAAe+K,CAAK,EAAIW,EAAKC,YAAYZ,GAAS,IAC/D,IAAMF,GAErBxM,CACT,EAOAuN,eAAgB,SAAwBvN,EAAOqN,GAC7C,IACMb,EACAgB,EAGN,OALIxN,GAAyB,GAAhBA,EAAMzJ,SACbiW,EAAOxM,EAAMe,UAAU,EAAG,CAAC,EAC3ByM,EAAOxN,EAAMe,UAAU,CAAC,EAC5Bf,EAAQwM,EAAO,IAAMa,EAAKI,UAAY,IAAMD,GAEvCxN,CACT,EAOA0N,YAAa,SAAqBjM,EAAK/K,GAErC,IAAK,IAAIZ,EAAI,EAAG0P,GADhB9O,EAAOA,EAAKsD,MAAM,GAAG,GACMzD,OAAQT,EAAI0P,EAAK1P,CAAC,GAC3C2L,EAAMA,EAAI/K,EAAKZ,IAEjB,OAAO2L,CACT,EAMAkM,OAAQ,SAAgB5S,GACtB,GAAoB,UAAhB,OAAOA,EACT,MAAO,CAAA,EAET,IACE,IAAI6S,EAAO3O,KAAK4O,MAAM9S,CAAI,EAC1B,MAAyB,WAAlB9F,EAAQ2Y,CAAI,GAAkBzU,MAAMC,QAAQwU,CAAI,CAGzD,CAFE,MAAOE,GACP,MAAO,CAAA,CACT,CACF,EAKAC,SAAU,SAAkB/N,GAC1B,MAA0B,WAAnB/K,EAAQ+K,CAAK,GAAkB,CAAC7G,MAAMC,QAAQ4G,CAAK,GAAe,OAAVA,CACjE,EAOAgO,UAAW,SAAmBC,GAC5B,OAAuB,UAAf,OAAOA,GAAmC,UAAf,OAAOA,GAAmC,KAAfA,EAAItJ,KAAK,IAAa,CAACuJ,MAAMD,CAAG,CAChG,EAKAE,SAAU,WACR,OAAOnZ,KAAKoZ,QAAO,IAAIxB,MAAOyB,QAAQ,EAAInU,KAAKoU,OAAO,GAAG/V,SAAS,CAAC,EAAEA,SAAS,EAAE,CAClF,EAOA6V,MAAO,SAAezU,GACpB,IAAK,IAAOzE,EAAI,GAAIa,EAAI,EAAGA,EAAI,IAAKA,CAAC,GAAI,CAEvC,IAAK,IADLG,EAAIH,EACKR,EAAI,EAAGA,EAAI,EAAGA,CAAC,GACtBW,EAAI,EAAIA,EAAI,WAAaA,IAAM,EAAIA,IAAM,EAE3ChB,EAAEa,GAAKG,CACT,CACA,IAAK,IAAIN,EAAI,CAAC,EAAGC,EAAI,EAAGA,EAAI8D,EAAIpD,OAAQV,CAAC,GACvCD,EAAIA,IAAM,EAAIV,EAAE,KAAOU,EAAI+D,EAAIuL,WAAWrP,CAAC,IAE7C,OAAQ,CAAC,EAAID,KAAO,CACtB,EAOA2Y,MAAO,SAAeC,EAAQC,GAE5B,IAMMC,EANN,OAAkB,KADlBD,EAAiC,KAAA,IAAdA,EAA4BE,SAASF,CAAS,EAAI,GAE5DvU,KAAKqU,MAAMC,CAAM,EACH,EAAZC,GACLG,EAAM1U,KAAK0U,IAAI,GAAIH,CAAS,EACzBvU,KAAKqU,MAAMC,EAASI,CAAG,EAAIA,IAE9BF,EAAOxU,KAAK0U,IAAI,GAAIH,CAAS,EAC1BvU,KAAKqU,MAAMC,EAASE,CAAI,EAAIA,EAEvC,CACF,GAEIG,EAAqB,CACvB3D,SAAU,CACR4D,GAAI,KACJ7H,MAAO,GACPoG,KAAM,KACN0B,SAAU,GACVC,KAAM,CACJjG,IAAK,GACLkG,OAAQ,OACRC,OAAQ,MACV,EACAlE,MAAO,KACPmE,cAAe,CACbC,QAAS,KACTC,SAAU,IACZ,EACAC,SAAU,KACVC,SAAU,KACVlE,WAAY,IACZmE,eAAgB,KAChBC,SAAU,CAAA,EACVC,SAAU,CAAA,EACVC,eAAgB,GAChBC,WAAY,GACZC,OAAQ,mBACRC,SAAU,KACVC,gBAAiB,KACjBC,OAAQ,GACRnE,OAAQ,GACRoE,SAAU,EACZ,EACAC,MAAO,CAAA,EACPC,aAAc,EACdC,aAAc,EACdC,eAAgB,EAChBC,QAAS,GACTC,QAAS,GACTC,UAAW,GACXC,QAAS,GACTC,aAAc,GAOdC,MAAO,SAAeC,EAAa9Y,GACjC9C,KAAKkW,SAASG,WAAauF,EAAYC,WAAW,YAAY,EAC9D7b,KAAKkW,SAAS0E,WAAagB,EAAYC,WAAW,YAAY,EAC9D7b,KAAKkW,SAAS8D,KAAKE,OAAS0B,EAAYC,WAAW,gBAAgB,EACnE7b,KAAK0b,aAAeE,EACpB5b,KAAKkW,SAAWN,EAAEC,OAAO,CAAA,EAAM,GAAI7V,KAAKkW,SAAUpT,CAAO,EACpD9C,KAAKkW,SAAS4D,KACjB9Z,KAAKkW,SAAS4D,GAAK5E,EAAgBiE,SAAS,GAE1CnZ,KAAKkW,SAASvJ,eAAe,YAAY,GACX,GAA5B3M,KAAKkW,SAASG,YAAgD,OAA7BrW,KAAKkW,SAASG,aAC7CJ,EAA2C,UAApC,OAAOjW,KAAKkW,SAASG,WAA0B,KAAO,GACjErW,KAAKkW,SAASG,WAAarW,KAAKkW,SAASG,WAAaJ,GAGrDjW,KAAKkW,SAASvJ,eAAe,gBAAgB,GAAsC,OAAjC3M,KAAKkW,SAASsE,eAG/B,GAAhCxa,KAAKkW,SAASsE,iBACZpE,EAAgD,UAAxC,OAAOpW,KAAKkW,SAASsE,eAA8B,KAAO,GACtExa,KAAKkW,SAASsE,eAAiBxa,KAAKkW,SAASsE,eAAiBpE,GAJhEpW,KAAKkW,SAASsE,eAAiBxa,KAAKkW,SAASG,UAOjD,EAIAyF,WAAY,WACV,IAAIC,EAAO/b,KACPgc,EAAgB,gBAAkBhc,KAAKkW,SAAS4D,GAAK,UACzDlE,EAAEoG,CAAa,EAAE1J,GAAG,SAAU,WAI5B,OAHAvB,WAAW,WACTgL,EAAK/B,KAAKrP,MAAMoR,CAAI,CACtB,EAAG,CAAC,EACG,CAAA,CACT,CAAC,EACD/b,KAAKic,SAAS,mBAAmB,CACnC,EAKAC,MAAO,WACL,OAAOlc,KAAKkW,SAASvJ,eAAe,IAAI,EAAI3M,KAAKkW,SAAS4D,GAAK,IACjE,EAMA5R,OAAQ,SAAgBiU,GACtB,IAqBMC,EACAC,EAtBFN,EAAO/b,KACPsc,EAAa,GACbzB,EAAS7a,KAAKkW,SAAS2E,OACvBI,EAAW,GACXsB,EAAW,GAsEXC,GArEAxc,KAAKkW,SAASF,QACZC,EAAsC,UAA/B,OAAOjW,KAAKkW,SAASF,MAAqB,KAAO,GAC5DsG,EAAWxQ,KAAK,SAAW9L,KAAKkW,SAASF,MAAQC,CAAI,GAEnDjW,KAAKkW,SAASoE,WACZhE,EAA2C,UAAlC,OAAOtW,KAAKkW,SAASoE,SAAwB,KAAO,GACjEgC,EAAWxQ,KAAK,aAAe9L,KAAKkW,SAASoE,SAAWhE,CAAM,GAE5DtW,KAAKkW,SAASqE,WACZhE,EAA2C,UAAlC,OAAOvW,KAAKkW,SAASqE,SAAwB,KAAO,GACjE+B,EAAWxQ,KAAK,aAAe9L,KAAKkW,SAASqE,SAAWhE,CAAM,GAI1B,WAAlCtW,EAAQD,KAAKkW,SAASW,MAAM,GAAkB1S,MAAMC,QAAQpE,KAAKkW,SAASW,MAAM,GAAmC,EAA9B7W,KAAKkW,SAASW,OAAOtV,QAAcsZ,GAA4B,UAAlB,OAAOA,IACvIzP,EAAUjH,MAAMwJ,KAAKkN,EAAO4B,SAAS,wBAAwB,CAAC,EAC9DL,EAAU,GACVC,EAAiB,GACA,EAAjBjR,EAAQ7J,QACVqU,EAAEe,KAAKvL,EAAS,SAAUsB,EAAKzI,GAC7BmY,EAAQtQ,KAAK7H,EAAM,EAAE,CACvB,CAAC,EAEkB,EAAjBmY,EAAQ7a,QACVqU,EAAEe,KAAK3W,KAAKkW,SAASW,OAAQ,SAAUnK,EAAKoK,GAC1C,IAOEC,EAPE2F,EAAS5F,CAAAA,EAAMnK,eAAe,QAAQ,GAA8B,UAAxB,OAAOmK,EAAM4F,QAA+C,UAAxB,OAAO5F,EAAM4F,OAAkF,UAA1B,GAAjCN,EAAQ5Q,QAAQsL,EAAM4F,MAAM,EAAS5F,EAAM4F,OAAS,KACtJ,UAAlB,OAAOA,IAIP3F,EAAW,KAMVA,EALQ,WAFFD,EAAMnK,eAAe,MAAM,GAA2B,UAAtB,OAAOmK,EAAMhD,KAAoBgD,EAAMhD,KAAO,IAG5EiI,EAAKY,UAAU7F,CAAK,EAEpBiF,EAAK/E,UAAUF,CAAK,IAEM,WAAtB7W,EAAQ8W,CAAQ,IAG5BsF,EAAe1P,eAAe+P,CAAM,IACvCL,EAAeK,GAAU,IAE3BL,EAAeK,GAAQ5Q,KAAKiL,EAAS7O,OAAO,CAAC,EAC/C,CAAC,EAEuC,GAAtC2C,OAAO+R,KAAKP,CAAc,EAAE9a,SAC9BqU,EAAEe,KAAK0F,EAAgB,SAAU/Z,EAAMua,GACrChC,EAASA,EAAOrX,QAAQ,WAAalB,EAAO,IAAKua,EAAclX,KAAK,EAAE,CAAC,CACzE,CAAC,EAKmC,WAApC1F,EAAQD,KAAKkW,SAAS+E,QAAQ,GAAkB9W,MAAMC,QAAQpE,KAAKkW,SAAS+E,QAAQ,GAAqC,EAAhCjb,KAAKkW,SAAS+E,SAAS1Z,QAClHqU,EAAEe,KAAK3W,KAAKkW,SAAS+E,SAAU,SAAUvO,EAAKoQ,GAC5C,IAAI/F,EAAWgF,EAAKgB,YAAYD,CAAO,EAClC/F,GAAkC,WAAtB9W,EAAQ8W,CAAQ,GAGjCkE,EAASnP,KAAK,CACZkR,KAAM,CAACF,EAAQnQ,eAAe,MAAM,GAAKmQ,EAAQE,KACjDzR,MAAOwQ,EAAKV,eAAiB,EAC7BhE,QAASN,EAAS7O,OAAO,CAC3B,CAAC,CACH,CAAC,EAEmC,WAAlC,OAAOlI,KAAKkW,SAASwE,UAA0B1a,KAAKkW,SAASwE,UAC/D6B,EAASzQ,KAAK,YAAY,EAEjBrL,IAAIyH,OAAO+M,EAAI,aAAc,CACtClV,KAAMC,KAAKkW,SACXqG,SAAUA,EAAW,IAAMA,EAAS5W,KAAK,GAAG,EAAI,GAChD2W,WAAYA,EACZzB,OAAQA,EACRI,SAAUA,CACZ,CAAC,GACD,GAAgBxN,KAAAA,IAAZ0O,EACF,OAAOK,EAILS,EAAa,GACjB,GAAuB,UAAnB,OAAOd,GAET,GAAI,EADJc,EAAaC,SAASC,eAAehB,CAAO,GAE1C,MAAO,EACT,MACSA,aAAmBiB,cAC5BH,EAAad,GAEfc,EAAWI,UAAYb,EACvBxc,KAAK8b,WAAW,CAClB,EAIAwB,KAAM,WACJtd,KAAKkb,MAAQ,CAAA,EACbtF,EAAEe,KAAK3W,KAAKwb,UAAW,SAAU9O,EAAKoQ,GACpC,IAAIS,EAAiBT,EAAQU,WAAW,EACpCD,EAAe5Q,eAAe,MAAM,GAA6B,WAAxB4Q,EAAezJ,MAC1DgJ,EAAQQ,KAAK,CAEjB,CAAC,CACH,EAIAG,OAAQ,WACNzd,KAAKkb,MAAQ,CAAA,EACbtF,EAAEe,KAAK3W,KAAKwb,UAAW,SAAU9O,EAAKoQ,GACpC,IAAIS,EAAiBT,EAAQU,WAAW,EACpCD,EAAe5Q,eAAe,MAAM,GAA6B,WAAxB4Q,EAAezJ,MAC1DgJ,EAAQW,OAAO,CAEnB,CAAC,CACH,EAIAzD,KAAM,WACJ,GAAIha,CAAAA,KAAKkb,MAAT,CAGA,GAAsC,WAAlC,OAAOlb,KAAKkW,SAASwE,UAA0B1a,KAAKkW,SAASwE,SAE/D,GAAI,CADU1a,KAAK0a,SAAS,EAE1B,OAGJ,IAAIgD,EAAW,KACXtV,EAAOpI,KAAK2d,QAAQ,EAWxB,GAVsC,YAAlC,OAAO3d,KAAKkW,SAAS4E,SACvB4C,EAAW1d,KAAKkW,SAAS4E,SACkB,UAAlC,OAAO9a,KAAKkW,SAAS4E,UAAyB9a,KAAKkW,SAAS4E,WAEjD,YAAhB,OADA9X,EAAOkS,EAAgBK,kBAAkBvV,KAAKkW,SAAS4E,QAAQ,GAEjE4C,EAAW1a,EACgC,UAAlC,OAAOhD,KAAKkW,SAAS4E,WAC9B4C,EAAW,IAAIjW,SAAS,OAAQ,OAAQzH,KAAKkW,SAAS4E,QAAQ,IAG1C,YAApB,OAAO4C,EAET,GAAuB,CAAA,IADFA,EAAS1d,KAAMoI,CAAI,EAEtC,OAGJ,IAYI2T,EAEA6B,EA4FAC,EA1GAC,EAAU9d,KAAKic,SAAS,mBAAoBjc,KAAM,CAACA,KAAMoI,EAAK,EAC9D2V,EAAa,CAAA,EACjBnI,EAAEe,KAAKmH,EAAS,SAAUpR,EAAKlE,GAC7B,GAAe,CAAA,IAAXA,EAEF,MAAO,EADPuV,EAAa,CAAA,EAGjB,CAAC,EACGA,IAGJ/d,KAAKsd,KAAK,EACNvB,EAAO/b,KACPge,EAAoE,GAAvD,CAAC,OAAQ,QAAQxS,QAAQxL,KAAKkW,SAAS8D,KAAKE,MAAM,EAASla,KAAKkW,SAAS8D,KAAKE,OAAS,OAEpG+D,EADAL,EAAa,KAEE,SAAfI,GACFC,EAAc,kCACdL,EAAa3T,KAAKC,UAAU9B,CAAI,IAEhC6V,EAAc,CAAA,EACdL,EAAa,IAAIM,SACjBtI,EAAEe,KAAKvO,EAAM,SAAU9F,EAAM0I,GACvBA,aAAiBmT,KACnBP,EAAWQ,OAAO9b,EAAM0I,EAAOA,EAAM1I,IAAI,EAChC0I,aAAiBqT,SAC1BzI,EAAEe,KAAK3L,EAAO,SAAU0B,EAAK4R,GAC3BV,EAAWQ,OAAO9b,EAAMgc,EAAMA,EAAKhc,IAAI,CACzC,CAAC,EAEDsb,EAAWQ,OAAO9b,EAAM0I,CAAK,CAEjC,CAAC,GA0EC6S,EAAY,SAAmBU,EAAKC,EAAYC,GAClD,IAAIC,EAAe3C,EAAK4C,QAAQ,EAAEC,YAAc,GAC5CxW,EAAO,GACX,IACE,IAAIyW,EAAiB5U,KAAK4O,MAAM0F,EAAIO,YAAY,EAChB,WAA5B7e,EAAQ4e,CAAc,GAAqC,OAAnBA,GAA4B1a,MAAMC,QAAQya,CAAc,IAClGzW,EAAOyW,EAIX,CAFE,MAAOle,IAGLyH,EAAKuE,eAAe,eAAe,GAAmC,UAA9B,OAAOvE,EAAK2W,eAAqD,KAAvB3W,EAAK2W,gBACzFL,EAAetW,EAAK2W,eAEtBhD,EAAKiD,UAAUN,CAAY,EAC3B3C,EAAKE,SAAS,yBAA0BF,EAAM,CAACA,EAAMwC,EAAKC,EAAYC,EAAY,CACpF,EACA7I,EAAEqJ,KAAK,CACLlL,IAAK/T,KAAKkW,SAAS8D,KAAKjG,IACxBkG,OAAQja,KAAKkW,SAAS8D,KAAKC,OAC3B7R,KAAMwV,EACNK,YAAaA,EACbiB,YAAa,CAAA,EACbC,WAAY,SAAoBZ,GAC9BxC,EAAKE,SAAS,yBAA0BF,EAAM,CAACA,EAAMwC,EAAI,CAC3D,EACAa,QAAS,SAAiB5W,EAAQgW,EAAYD,GAC5C,IAAIc,EAAkB,CAAA,EAoCtB,GAnC6C,WAAzCpf,EAAQ8b,EAAK7F,SAASiE,aAAa,IACjChW,MAAMC,QAAQ2X,EAAK7F,SAASiE,cAAcC,OAAO,GACnDxE,EAAEe,KAAKoF,EAAK7F,SAASiE,cAAcC,QAAS,SAAUkF,EAAQC,GAC5D,GAA4B,UAAxB,OAAOA,GACT,GAAIhB,EAAIiB,kBAAkBF,CAAM,GAAKC,EAEnC,OADAF,EAAkB,CAAA,CAEpB,MACK,GAAIlb,MAAMC,QAAQmb,CAAY,GAC/BA,EAAa/T,QAAQ+S,EAAIiB,kBAAkBF,CAAM,CAAC,EAAI,EAExD,OADAD,EAAkB,CAAA,CAIxB,CAAC,EAECA,KACkD,UAAhD,OAAOtD,EAAK7F,SAASiE,cAAcE,SACQ,SAAzC0B,EAAK7F,SAASiE,cAAcE,UACN,WAApBpa,EAAQuI,CAAM,GAAmBrE,MAAMC,QAAQoE,CAAM,GAAM0M,EAAgByD,OAAOnQ,CAAM,IAC1F6W,EAAkB,CAAA,GAGblb,MAAMC,QAAQ2X,EAAK7F,SAASiE,cAAcE,QAAQ,GAC3DzE,EAAEe,KAAKoF,EAAK7F,SAASiE,cAAcE,SAAU,SAAU3N,EAAK2N,GAC1D,GAAiB,SAAbA,GACsB,WAApBpa,EAAQuI,CAAM,GAAkB,CAACrE,MAAMC,QAAQoE,CAAM,GAAK,CAAC0M,EAAgByD,OAAOnQ,CAAM,EAE1F,OADA6W,EAAkB,CAAA,CAIxB,CAAC,GAIHA,EAAiB,CACnBI,IAnIiCjX,EAmIrBA,EAhIZkX,GAFJ3D,EAAK4D,UAAU,EACf5D,EAAKE,SAAS,2BAA4BF,EAAM,CAACA,EAAMvT,EAAO,EAC3C,MACnB,GAAsB,UAAlB,OAAOA,EACT,IACE,IAAIqW,EAAiB5U,KAAK4O,MAAMrQ,CAAM,EACN,WAA5BvI,EAAQ4e,CAAc,GAAqC,OAAnBA,GAA4B1a,MAAMC,QAAQya,CAAc,IAClGa,EAAeb,EAInB,CAFE,MAAOle,SAIT+e,EAAelX,EAqBjB,GAnBqB,OAAjBkX,GAAmD,WAA1Bzf,EAAQyf,CAAY,IAC3CA,EAAa/S,eAAe,SAAS,GAAKxI,MAAMC,QAAQsb,EAAa5K,OAAO,GAC9Ec,EAAEe,KAAK+I,EAAa5K,QAAS,SAAUpI,EAAKkT,GACpB,UAAlB,OAAOA,GACT,IAAInY,SAASmY,CAAM,EAAE,CAEzB,CAAC,EAECF,EAAa/S,eAAe,SAAS,IAAqC,UAAhC,OAAO+S,EAAaG,UAChEC,SAASC,KAAOL,EAAaG,SAG7B9D,EAAK7F,SAASvJ,eAAe,iBAAiB,IACH,YAAzC,OAAOoP,EAAK7F,SAAS6E,gBACvBgB,EAAK7F,SAAS6E,gBAAgB,EACoB,UAAzC,OAAOgB,EAAK7F,SAAS6E,iBAC9B,IAAItT,SAASsU,EAAK7F,SAAS6E,eAAe,EAAE,GAG5CgB,EAAK7F,SAASvJ,eAAe,gBAAgB,GAA6C,UAAxC,OAAOoP,EAAK7F,SAASyE,gBAAgE,KAAjCoB,EAAK7F,SAASyE,eAAuB,CAC7I,IAAIA,EAAiBoB,EAAK7F,SAASyE,eAGnC,GAAqB,OAAjB+E,GAAmD,WAA1Bzf,EAAQyf,CAAY,EAAgB,CAG/D,IAFA,IAAIM,EAAO,IAAIrW,OAAO,kCAAmC,KAAK,EAC1DsW,EAAY,GACTzX,EAASwX,EAAK9b,KAAKyW,CAAc,GACtCsF,EAAUzX,EAAO,IAAMA,EAAO,GAEI,EAAhCqC,OAAO+R,KAAKqD,CAAS,EAAE1e,QACzBqU,EAAEe,KAAKsJ,EAAW,SAAUC,EAAOxe,GAEjCsJ,EAAyB,KAAA,KAAVA,EADHkK,EAAgBwD,YAAYgH,EAAche,CAAI,GACnBsJ,EAAQ,GAC/C2P,EAAiBA,EAAenX,QAAQ,IAAImG,OAAOuW,EAAM1c,QAAQ,sBAAuB,MAAM,EAAG,GAAG,EAAGwH,CAAK,CAC9G,CAAC,CAEL,CACImV,EAAYL,SAAS7I,OAAS0D,EAClCmF,SAASC,KAAOpF,EACZwF,GACF3f,OAAO4f,aAAa,CAExB,CA0EE,MACEvC,EAAUU,EAAKC,CAAU,CAE7B,EACA1F,MAAO+E,EACPwC,SAAU,SAAkB9B,EAAKC,GAC/BzC,EAAK0B,OAAO,EACZ1B,EAAKE,SAAS,uBAAwBF,EAAM,CAACA,EAAMwC,EAAKC,EAAW,CACrE,CACF,CAAC,EA7MD,CA8MF,EAKAhB,WAAY,WACV,OAAOxd,KAAKkW,QACd,EAKAZ,UAAW,WACT,OAAItV,KAAKkW,SAASvJ,eAAe,QAAQ,GAAuC,WAAlC1M,EAAQD,KAAKkW,SAAS8E,MAAM,EACjEhb,KAAKkW,SAAS8E,OAEhB,EACT,EAKA2C,QAAS,WACP,IAAIvV,EAAO,GAUX,OATAwN,EAAEe,KAAK3W,KAAKub,QAAS,SAAU7O,EAAKoK,GAClC,IAAI1B,EAAe0B,EAAM0G,WAAW,EAChCpI,EAAazI,eAAe,MAAM,GAAKyI,EAAa9S,MAExC,QADV0I,EAAQ8L,EAAMwJ,SAAS,KAEzBlY,EAAKgN,EAAa9S,MAAQ0I,EAGhC,CAAC,EACM5C,CACT,EAKAmY,UAAW,WACT,OAAOvgB,KAAKub,OACd,EAKAiF,YAAa,WACX,OAAOxgB,KAAKwb,SACd,EAKAiF,UAAW,WACT,OAAOzgB,KAAKsb,OACd,EAMAoF,SAAU,SAAkBpe,GAC1B,IAAIwU,EAAQ,GAOZ,OANAlB,EAAEe,KAAK3W,KAAKub,QAAS,SAAU7O,EAAKiU,GAClC,IAAIvL,EAAeuL,EAAcnD,WAAW,EACxCpI,EAAazI,eAAe,MAAM,GAAKyI,EAAa9S,OAASA,IAC/DwU,EAAQ6J,EAEZ,CAAC,EACM7J,CACT,EAIA2D,SAAU,SAAkBmG,GAC1BhL,EAAEe,KAAK3W,KAAKub,QAAS,SAAU7O,EAAKiU,GAClCA,EAAclG,SAASmG,CAAU,CACnC,CAAC,EACDhL,EAAEe,KAAK3W,KAAKwb,UAAW,SAAU9O,EAAKoQ,GACpC,IAAIS,EAAiBT,EAAQU,WAAW,EACpCD,EAAe5Q,eAAe,MAAM,GAA6B,WAAxB4Q,EAAezJ,OACtD8M,EACF9D,EAAQ+D,KAAK,EAEb/D,EAAQE,KAAK,EAGnB,CAAC,CACH,EAIA8D,aAAc,WACZlL,EAAEe,KAAK3W,KAAKwb,UAAW,SAAU9O,EAAKoQ,GACpCA,EAAQE,KAAK,CACf,CAAC,CACH,EAIA+D,aAAc,WACZnL,EAAEe,KAAK3W,KAAKwb,UAAW,SAAU9O,EAAKoQ,GACpCA,EAAQ+D,KAAK,CACf,CAAC,CACH,EAKAnG,SAAU,WACR,IAAIsG,EAAU,CAAA,EASd,OARApL,EAAEe,KAAK3W,KAAKub,QAAS,SAAU7O,EAAKoK,GACV,CAAA,IAApBA,EAAMkK,QAAQ,GAChBlK,EAAM4D,SAAS,CAAA,CAAK,EACpBsG,EAAU,CAAA,GAEVlK,EAAM4D,SAAS,IAAI,CAEvB,CAAC,EACMsG,CACT,EAMAhC,UAAW,SAAmBpZ,EAAS9C,GACrC,IAAIkZ,EAAgBpG,EAAE,gBAAkB5V,KAAKkW,SAAS4D,GAAK,SAAS,EAChEmH,EAAYjF,EAAckF,KAAK,uBAAuB,EAStDC,GARAF,EAAU,IACZA,EAAUlT,OAAO,EAEnBjL,EAA+B,WAArB7C,EAAQ6C,CAAO,GAAmBqB,MAAMC,QAAQtB,CAAO,GAAiB,OAAZA,EAA6B,GAAVA,EACjD,UAApC,OAAO9C,KAAKkW,SAAS0E,YAAwD,KAA7B5a,KAAKkW,SAAS0E,aAChE9X,EAAe,MAAIA,EAAQ6J,eAAe,OAAO,EAAI7J,EAAe,MAAI,GACxEA,EAAe,OAAK,IAAM9C,KAAKkW,SAAS0E,YAEvB,CACjBwG,MAASte,EAAQ6J,eAAe,OAAO,GAAiC,UAA5B,OAAO7J,EAAe,MAAiBA,EAAe,MAAI,GACtGue,QAASve,CAAAA,EAAQ6J,eAAe,SAAS,GAAI,CAAC,CAAC7J,EAAQue,OACzD,GACArF,EAAcsF,QAAQ7gB,IAAIyH,OAAO+M,EAAI,mBAAoB,CACvDrP,QAASA,EACT9C,QAASqe,CACX,CAAC,CAAC,EACGre,EAAQ6J,eAAe,QAAQ,GAAK7J,CAAAA,EAAQye,SAC3CC,EAAexhB,KAAK0b,aAAaG,WAAW,0BAA0B,EAC1EjG,EAAE,WAAW,EAAE6L,QAAQ,CACrBC,UAAW1F,EAAc2F,OAAO,EAAEC,IAAMJ,CAC1C,EAAG,MAAM,EAEb,EAIA7B,UAAW,WACT/J,EAAE,gBAAkB5V,KAAKkW,SAAS4D,GAAK,+BAA+B,EAAE/L,OAAO,CACjF,EAOAuE,GAAI,SAAYuP,EAAWC,EAAUxc,EAASyc,GACH,WAArC9hB,EAAQD,KAAKyb,QAAQoG,EAAU,IACjC7hB,KAAKyb,QAAQoG,GAAa,IAE5B7hB,KAAKyb,QAAQoG,GAAW/V,KAAK,CAC3BxG,QAASA,GAAWtF,KACpB8hB,SAAUA,EACVC,WAAY,CAAC,CAACA,CAChB,CAAC,CACH,EAIAC,SAAU,WACRpM,EAAE,gBAAkB5V,KAAKkW,SAAS4D,EAAE,EAAE/L,OAAO,EAC7C,OAAO/N,KAAK0b,aAAauG,WAAWjiB,KAAKkc,MAAM,EACjD,EAOAlF,UAAW,SAAmBF,GAC5B,GAAuB,WAAnB7W,EAAQ6W,CAAK,EACf,OAAO,KAET,IAAIhD,EAAOgD,EAAMnK,eAAe,MAAM,GAA2B,UAAtB,OAAOmK,EAAMhD,KAAoBgD,EAAMhD,KAAO,QACzF,GAAa,UAATA,EACF,OAAO,KAEJ9T,KAAK0b,aAAa7E,OAAOlK,eAAemH,CAAI,IAC/CA,EAAO,SAEL9T,KAAKkW,SAASuE,WAChB3D,EAAM2D,SAAW,CAAA,GAEfkG,EAAgB/K,EAAEC,OAAO,CAAA,EAAM,CACjC3N,OAAQ,aACRoP,cAAe,aACf4K,KAAM,aACN5B,SAAU,aACV6B,SAAU,aACV3E,WAAY,aACZR,KAAM,aACN6D,KAAM,aACNpG,SAAU,aACVC,SAAU,aACVsG,QAAS,YACX,EAAGhhB,KAAK0b,aAAa7E,OAAO/C,EAAK,EAGjC,OAFA6M,EAAcuB,KAAKliB,KAAM8W,EAAO9W,KAAKmb,YAAY,EAAE,EACnDnb,KAAKub,QAAQzP,KAAK6U,CAAa,EACxBA,CACT,EAOAhE,UAAW,SAAmByF,GAC5B,IAOIC,EAPJ,MAAuB,WAAnBpiB,EAAQmiB,CAAK,GAIJ,WADTtO,EAAOsO,EAAMzV,eAAe,MAAM,GAA2B,UAAtB,OAAOyV,EAAMtO,KAAoBsO,EAAMtO,KAAO,IAEhF,OAELuO,EAAgBzM,EAAEC,OAAO,CAAA,EAAM,CACjC3N,OAAQ,aACRga,KAAM,aACN1E,WAAY,aACZ8E,OAAQ,aACRC,SAAU,YACZ,EAAGviB,KAAK0b,aAAa7E,OAAO/C,EAAK,GACnBoO,KAAKliB,KAAMoiB,EAAOpiB,KAAKob,YAAY,EAAE,EACnDpb,KAAKsb,QAAQxP,KAAKuW,CAAa,EACxBA,EACT,EAOAtF,YAAa,SAAqBD,GAChC,GAAyB,WAArB7c,EAAQ6c,CAAO,EACjB,OAAO,KAET,IAAIhJ,EAAOgJ,EAAQnQ,eAAe,MAAM,GAA6B,UAAxB,OAAOmQ,EAAQhJ,KAAoBgJ,EAAQhJ,KAAO,KAC/F,GAAI,CAACA,GAAQ,CAAC9T,KAAK0b,aAAaT,SAAStO,eAAemH,CAAI,EAC1D,OAAO,KAEI,WAATA,GAAqB9T,KAAKkW,SAASuE,WACrCqC,EAAQE,KAAO,CAAA,GAEbwF,EAAkB5M,EAAEC,OAAO,CAAA,EAAM,CACnC3N,OAAQ,aACRga,KAAM,aACN1E,WAAY,aACZR,KAAM,aACN6D,KAAM,YACR,EAAG7gB,KAAK0b,aAAaT,SAASnH,EAAK,EAGnC,OAFA0O,EAAgBN,KAAKliB,KAAM8c,EAAS9c,KAAKqb,cAAc,EAAE,EACzDrb,KAAKwb,UAAU1P,KAAK0W,CAAe,EAC5BA,CACT,EAKA7D,QAAS,WACP,OAAO/I,EAAEC,OAAO,CAAA,EAAM,GAAI7V,KAAKkW,SAAS6D,QAAQ,CAClD,EAQAkC,SAAU,SAAkB3Z,EAAMgD,EAASmd,GACzCA,EAASA,GAAU,GACnB,IAAI3E,EAAU,GACd,GAAI9d,KAAKyb,QAAQnZ,aAAiBuI,QAAsC,EAA5B7K,KAAKyb,QAAQnZ,GAAMf,OAC7D,IAAK,IAAIT,EAAI,EAAGA,EAAId,KAAKyb,QAAQnZ,GAAMf,OAAQT,CAAC,GAAI,CAClD,IAAIghB,EAAW9hB,KAAKyb,QAAQnZ,GAAMxB,GAAGghB,SACrCxc,EAAUA,GAAWtF,KAAKyb,QAAQnZ,GAAMxB,GAAGwE,QAC3CwY,EAAQhS,KAAKgW,EAASnX,MAAMrF,EAASmd,CAAM,CAAC,EACxCziB,KAAKyb,QAAQnZ,GAAMxB,GAAGihB,aACxB/hB,KAAKyb,QAAQnZ,GAAMsM,OAAO9N,EAAG,CAAC,EAC9BA,CAAC,GAEL,CAEF,OAAOgd,CACT,EAMA4E,eAAgB,SAAwB5F,GACtC,IAAIzF,EAAU,GACVvD,EAAOgJ,EAAQnQ,eAAe,MAAM,GAA6B,UAAxB,OAAOmQ,EAAQhJ,KAAoBgJ,EAAQhJ,KAAO,OAI/F,OAFEuD,EADErX,KAAK0b,aAAaoB,QAAQnQ,eAAemH,CAAI,EACrC9T,KAAK0b,aAAaoB,QAAQhJ,GAAM5L,OAAO4U,CAAO,EAEnDzF,CACT,CACF,EAEIsL,EAAa,CACftK,KAAM,GACNxB,OAAQ,GACRoE,SAAU,GACVgH,WAAY,GACZW,UAAW,CACTvM,WAAY,IACZgC,KAAM,KACN+I,MAAS,GACTyB,eAAgB,OAChBC,yBAA0B,EAC5B,EAMA5U,OAAQ,SAAgBpL,GACjBA,EAAQ6J,eAAe,MAAM,IAChC7J,EAAQuV,KAAOrY,KAAK6b,WAAW,MAAM,GAEvC,IAAI9B,EAAW/Z,KAAKqY,KAAK1L,eAAe7J,EAAQuV,IAAI,EAAIrY,KAAKqY,KAAKvV,EAAQuV,MAAQ,GAE9EtB,GADJjU,EAAQiX,SAAWjX,EAAQ6J,eAAe,UAAU,GAAKuI,EAAgB6D,SAASjW,EAAQiX,QAAQ,EAAInE,EAAEC,OAAO,CAAA,EAAM,GAAIkE,EAAUjX,EAAQiX,QAAQ,EAAIA,EACxInE,EAAEC,OAAO,CAAA,EAAM,GAAIgE,CAAkB,GAEhDkJ,GADJhM,EAAS4E,MAAM3b,KAAM8C,aAAmB+H,OAAS/H,EAAU,EAAE,EAChDiU,EAASmF,MAAM,GAE5B,OADAlc,KAAKiiB,WAAWc,GAAUhM,CAE5B,EAMA1T,IAAK,SAAayW,GAChB,OAAK9Z,KAAKiiB,WAAWtV,eAAemN,CAAE,EAGlClE,EAAE,gBAAkB5V,KAAKiiB,WAAWnI,EAAG,EAAE,IAC3C,OAAO9Z,KAAKiiB,WAAWnI,GAChB,MAEF9Z,KAAKiiB,WAAWnI,GANd,IAOX,EAKAkJ,YAAa,SAAqBpa,GAChC5I,KAAK4iB,UAAYhN,EAAEC,OAAO,GAAI7V,KAAK4iB,UAAWha,CAAQ,CACxD,EAKAiT,WAAY,SAAoBvZ,GAC9B,IAAI0I,EAAQ,KAIZ,OAFEA,EADEhL,KAAK4iB,UAAUjW,eAAerK,CAAI,EAC5BtC,KAAK4iB,UAAUtgB,GAElB0I,CACT,CACF,EAmqKA,OAjqKA2X,EAAWtK,KAAK4K,GAAK,CACnBC,aAAgB,UAChBC,cAAiB,cACjBC,WAAc,KACdC,UAAa,MACbC,YAAe,WACfhL,YAAe,CAAC,SAAU,UAAW,OAAQ,SAAU,MAAO,OAAQ,OAAQ,SAAU,WAAY,UAAW,SAAU,WACzHG,UAAa,SACbmG,WAAc,qEACd2E,eAAkB,oBAClBC,OAAU,WACVC,OAAU,QACZ,EAEAd,EAAWtK,KAAKqL,GAAK,CACnBR,aAAgB,SAChBC,cAAiB,aACjBC,WAAc,MACdC,UAAa,KACbC,YAAe,MACfhL,YAAe,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YAC9HG,UAAa,OACbmG,WAAc,wEACd2E,eAAkB,iBAClBC,OAAU,SACVC,OAAU,QACZ,EAEAd,EAAW1H,SAAS0I,OAAS,CAC3BC,MAAO,KACPC,OAAQ,KACR3N,SAAU,CACRpC,KAAM,SACNiM,KAAM,KACN1I,QAAS,KACTyM,QAAS,KACThO,KAAM,CACJsL,MAAS,mBACX,CACF,EAOAc,KAAM,SAAcniB,EAAM+C,EAASyI,GACjCvL,KAAKkW,SAAWN,EAAEC,OAAO,GAAI7V,KAAKkW,SAAUpT,CAAO,EACnD9C,KAAK4jB,MAAQ7jB,EACbC,KAAK6jB,OAAStY,EACd,IAAIwQ,EAAO/b,KACXD,EAAKuS,GAAG,oBAAqB,WAC3ByJ,EAAKgI,YAAY,CACnB,CAAC,CACH,EAKAvG,WAAY,WACV,OAAO5H,EAAEC,OAAO,CAAA,EAAM,GAAI7V,KAAKkW,QAAQ,CACzC,EAKAhO,OAAQ,WACN,IAAI8b,EAAa,GACblhB,EAAU9C,KAAKwd,WAAW,EAK9B,OAJA1a,EAAQgT,KAAKhC,KAAO,SACpB8B,EAAEe,KAAK7T,EAAQgT,KAAM,SAAUxT,EAAM0I,GACnCgZ,EAAWlY,KAAKxJ,EAAO,KAAO0I,EAAQ,GAAG,CAC3C,CAAC,EACMvK,IAAIyH,OAAO+M,EAAI,wBAAyB,CAC7C6H,QAAS9c,KAAKkW,SACdhO,OAAQ,CACN4N,KAA0B,EAApBkO,EAAWziB,OAAa,IAAMyiB,EAAWre,KAAK,GAAG,EAAI,EAC7D,CACF,CAAC,CACH,EAKAqX,KAAM,SAAciH,GAClBrO,EAAE,gBAAkB5V,KAAK4jB,MAAM1H,MAAM,EAAI,YAAclc,KAAK6jB,MAAM,EAAE7G,KAAKiH,GAAY,CAAC,CACxF,EAKApD,KAAM,SAAcoD,GAClBrO,EAAE,gBAAkB5V,KAAK4jB,MAAM1H,MAAM,EAAI,YAAclc,KAAK6jB,MAAM,EAAEhD,KAAKoD,GAAY,CAAC,CACxF,EAIA3G,KAAM,WACJ,IAAIqG,EAAS/N,EAAE,gBAAkB5V,KAAK4jB,MAAM1H,MAAM,EAAI,YAAclc,KAAK6jB,OAAS,WAAW,EACxFF,EAAOzC,KAAK,iBAAiB,EAAE,IAClCyC,EAAOrC,QAAQ,yDAAyD,EAErEqC,EAAO7N,KAAK,UAAU,GACzB6N,EAAO7N,KAAK,WAAY,UAAU,CAEtC,EAIAiO,YAAa,WACX,IAAIhI,EAAO/b,KAC2D,GAAlE,CAAC,WAAY,UAAUwL,QAAQvL,EAAQD,KAAKkW,SAAS4N,OAAO,CAAC,GAC/DlO,EAAE,gBAAkB5V,KAAK4jB,MAAM1H,MAAM,EAAI,YAAclc,KAAK6jB,OAAS,WAAW,EAAEK,MAAM,SAAUC,GAC3D,YAAjC,OAAOpI,EAAK7F,SAAS4N,QACvB/H,EAAK7F,SAAS4N,QAAQ/H,EAAK6H,MAAOO,CAAK,EAEvC,IAAI1c,SAAS,OAAQ,QAASsU,EAAK7F,SAAS4N,OAAO,EAAE/H,EAAK6H,MAAOO,CAAK,CAE1E,CAAC,CAEL,CACF,EAEAxB,EAAW1H,SAASmJ,OAAS,CAC3BR,MAAO,KACPC,OAAQ,KACR3N,SAAU,CACRpC,KAAM,SACNuD,QAAS,IACX,EAOA6K,KAAM,SAAcniB,EAAM+C,EAASyI,GACjCvL,KAAKkW,SAAWN,EAAEC,OAAO,GAAI7V,KAAKkW,SAAUpT,CAAO,EACnD9C,KAAK4jB,MAAQ7jB,EACbC,KAAK6jB,OAAStY,CAChB,EAKAiS,WAAY,WACV,OAAO5H,EAAEC,OAAO,CAAA,EAAM,GAAI7V,KAAKkW,QAAQ,CACzC,EAKA8G,KAAM,SAAciH,GAClBrO,EAAE,gBAAkB7V,KAAKmc,MAAM,EAAI,YAAclc,KAAK6jB,MAAM,EAAE7G,KAAKiH,GAAY,CAAC,CAClF,EAKApD,KAAM,SAAcoD,GAClBrO,EAAE,gBAAkB7V,KAAKmc,MAAM,EAAI,YAAclc,KAAK6jB,MAAM,EAAEhD,KAAKoD,GAAY,CAAC,CAClF,EAKA/b,OAAQ,WACN,OAAOlI,KAAKkW,SAASmB,OACvB,CACF,EAEAsL,EAAW1H,SAASoJ,KAAO,CACzBT,MAAO,KACPC,OAAQ,KACR3N,SAAU,CACRpC,KAAM,OACNiM,KAAM,KACN1I,QAAS,KACTyM,QAAS,KACThO,KAAM,CACJsL,MAAS,cACX,CACF,EAOAc,KAAM,SAAcniB,EAAM+C,EAASyI,GACjCvL,KAAKkW,SAAWN,EAAEC,OAAO,GAAI7V,KAAKkW,SAAUpT,CAAO,EACnD9C,KAAK4jB,MAAQ7jB,EACbC,KAAK6jB,OAAStY,EACd,IAAIwQ,EAAO/b,KACXD,EAAKuS,GAAG,oBAAqB,WAC3ByJ,EAAKgI,YAAY,CACnB,CAAC,CACH,EAKAvG,WAAY,WACV,OAAO5H,EAAEC,OAAO,CAAA,EAAM,GAAI7V,KAAKkW,QAAQ,CACzC,EAKA8G,KAAM,SAAciH,GAClBrO,EAAE,gBAAkB5V,KAAK4jB,MAAM1H,MAAM,EAAI,YAAclc,KAAK6jB,MAAM,EAAE7G,KAAKiH,GAAY,CAAC,CACxF,EAKApD,KAAM,SAAcoD,GAClBrO,EAAE,gBAAkB5V,KAAK4jB,MAAM1H,MAAM,EAAI,YAAclc,KAAK6jB,MAAM,EAAEhD,KAAKoD,GAAY,CAAC,CACxF,EAIA3G,KAAM,WACJ,IAAIqG,EAAS/N,EAAE,gBAAkB5V,KAAK4jB,MAAM1H,MAAM,EAAI,YAAclc,KAAK6jB,OAAS,WAAW,EACxFF,EAAOzC,KAAK,iBAAiB,EAAE,IAClCyC,EAAOrC,QAAQ,yDAAyD,EAErEqC,EAAO7N,KAAK,UAAU,GACzB6N,EAAO7N,KAAK,WAAY,UAAU,CAEtC,EAKA5N,OAAQ,WACN,IAAI8b,EAAa,GACblhB,EAAU9C,KAAKwd,WAAW,EAI9B,OAHA5H,EAAEe,KAAK7T,EAAQgT,KAAM,SAAUxT,EAAM0I,GACnCgZ,EAAWlY,KAAKxJ,EAAO,KAAO0I,EAAQ,GAAG,CAC3C,CAAC,EACMvK,IAAIyH,OAAO+M,EAAI,sBAAuB,CAC3C6H,QAAS9c,KAAKkW,SACdhO,OAAQ,CACN4N,KAA0B,EAApBkO,EAAWziB,OAAa,IAAMyiB,EAAWre,KAAK,GAAG,EAAI,EAC7D,CACF,CAAC,CACH,EAIAoe,YAAa,WACX,IAAIhI,EAAO/b,KAC2D,GAAlE,CAAC,WAAY,UAAUwL,QAAQvL,EAAQD,KAAKkW,SAAS4N,OAAO,CAAC,GAC/DlO,EAAE,gBAAkB5V,KAAK4jB,MAAM1H,MAAM,EAAI,YAAclc,KAAK6jB,OAAS,MAAM,EAAEK,MAAM,SAAUC,GACtD,YAAjC,OAAOpI,EAAK7F,SAAS4N,QACvB/H,EAAK7F,SAAS4N,QAAQ/H,EAAK6H,MAAOO,CAAK,EAEvC,IAAI1c,SAAS,OAAQ,QAASsU,EAAK7F,SAAS4N,OAAO,EAAE/H,EAAK6H,MAAOO,CAAK,CAE1E,CAAC,CAEL,CACF,EAEAxB,EAAW1H,SAASqJ,OAAS,CAC3BV,MAAO,KACPC,OAAQ,KACR3N,SAAU,CACRpC,KAAM,SACNiM,KAAM,KACN1I,QAAS,KACTyM,QAAS,KACT9G,KAAM,CAAA,EACNlH,KAAM,CACJsL,MAAS,iBACX,CACF,EAOAc,KAAM,SAAcniB,EAAM+C,EAASyI,GACjCvL,KAAKkW,SAAWN,EAAEC,OAAO,GAAI7V,KAAKkW,SAAUpT,CAAO,EACnD9C,KAAK4jB,MAAQ7jB,EACbC,KAAK6jB,OAAStY,EACd,IAAIwQ,EAAO/b,KACXD,EAAKuS,GAAG,oBAAqB,WAC3ByJ,EAAKgI,YAAY,CACnB,CAAC,CACH,EAKAvG,WAAY,WACV,OAAO5H,EAAEC,OAAO,CAAA,EAAM,GAAI7V,KAAKkW,QAAQ,CACzC,EAKA8G,KAAM,SAAciH,GAClBrO,EAAE,gBAAkB5V,KAAK4jB,MAAM1H,MAAM,EAAI,YAAclc,KAAK6jB,MAAM,EAAE7G,KAAKiH,GAAY,CAAC,CACxF,EAKApD,KAAM,SAAcoD,GAClBrO,EAAE,gBAAkB5V,KAAK4jB,MAAM1H,MAAM,EAAI,YAAclc,KAAK6jB,MAAM,EAAEhD,KAAKoD,GAAY,CAAC,CACxF,EAIA3G,KAAM,WACJ,IAAIqG,EAAS/N,EAAE,gBAAkB5V,KAAK4jB,MAAM1H,MAAM,EAAI,YAAclc,KAAK6jB,OAAS,WAAW,EACxFF,EAAOzC,KAAK,iBAAiB,EAAE,IAClCyC,EAAOrC,QAAQ,yDAAyD,EAErEqC,EAAO7N,KAAK,UAAU,GACzB6N,EAAO7N,KAAK,WAAY,UAAU,CAEtC,EAIA2H,OAAQ,WACN,IAAIkG,EAAS/N,EAAE,gBAAkB5V,KAAK4jB,MAAM1H,MAAM,EAAI,YAAclc,KAAK6jB,OAAS,WAAW,EAC7FF,EAAOzC,KAAK,iBAAiB,EAAEnT,OAAO,EACtC4V,EAAOY,WAAW,UAAU,CAC9B,EAKArc,OAAQ,WACN,IAAI8b,EAAa,GACblhB,EAAU9C,KAAKwd,WAAW,EAK9B,OAJA1a,EAAQgT,KAAKhC,KAAO,SACpB8B,EAAEe,KAAK7T,EAAQgT,KAAM,SAAUxT,EAAM0I,GACnCgZ,EAAWlY,KAAKxJ,EAAO,KAAO0I,EAAQ,GAAG,CAC3C,CAAC,EACMvK,IAAIyH,OAAO+M,EAAI,wBAAyB,CAC7C6H,QAAS9c,KAAKkW,SACdhO,OAAQ,CACN4N,KAA0B,EAApBkO,EAAWziB,OAAa,IAAMyiB,EAAWre,KAAK,GAAG,EAAI,EAC7D,CACF,CAAC,CACH,EAIAoe,YAAa,WACX,IAAIhI,EAAO/b,KAC2D,GAAlE,CAAC,WAAY,UAAUwL,QAAQvL,EAAQD,KAAKkW,SAAS4N,OAAO,CAAC,GAC/DlO,EAAE,gBAAkB5V,KAAK4jB,MAAM1H,MAAM,EAAI,YAAclc,KAAK6jB,OAAS,WAAW,EAAEK,MAAM,SAAUC,GAC3D,YAAjC,OAAOpI,EAAK7F,SAAS4N,QACvB/H,EAAK7F,SAAS4N,QAAQ/H,EAAK6H,MAAOO,CAAK,EAEvC,IAAI1c,SAAS,OAAQ,QAASsU,EAAK7F,SAAS4N,OAAO,EAAE/H,EAAK6H,MAAOO,CAAK,CAE1E,CAAC,CAEL,CACF,EAEAxB,EAAW9L,OAAO2N,SAAW,CAC3BC,IAAK,GACLvN,MAAO,GACP0M,MAAO,KACPC,OAAQ,EACRa,OAAQ,GACRxO,SAAU,CACRpC,KAAM,WACNxR,KAAM,KACNqiB,MAAO,KACPtO,WAAY,KACZuO,OAAQ,CAAA,EACRC,WAAY,KACZxR,YAAa,KACbyR,UAAW,KACXhiB,QAAS,GACT+T,OAAQ,KACRkO,SAAU,KACVtK,SAAU,KACVuC,KAAM,CAAA,EACNN,OAAQ,IACV,EAOAwF,KAAM,SAAcniB,EAAM+C,EAASyI,GACjCvL,KAAK4jB,MAAQ7jB,EACbC,KAAKykB,IAAM1kB,EAAKmc,MAAM,EAAI,WAAapZ,EAAQ6J,eAAe,MAAM,EAAI7J,EAAQR,KAAOiJ,GACvFvL,KAAKkX,MAAQhC,EAAgBiE,SAAS,EACtCnZ,KAAK0kB,OAASxP,EAAgBC,cAAcpV,EAAM+C,CAAO,EACzD9C,KAAKkW,SAAWhB,EAAgBQ,kBAAkB3V,EAAMC,KAAKkW,SAAUpT,CAAO,CAChF,EAKA0a,WAAY,WACV,OAAO5H,EAAEC,OAAO,CAAA,EAAM,GAAI7V,KAAKkW,QAAQ,CACzC,EAKAuE,SAAU,SAAkBmG,GAC1B5gB,KAAK0kB,OAAS1kB,KAAKsgB,SAAS,EAC5BtgB,KAAKkW,SAASuE,SAAW,CAAC,CAACmG,EAC3BhL,EAAE,YAAc5V,KAAKkX,KAAK,EAAEsF,KAAKxc,KAAKsX,cAAc,CAAC,CACvD,EAKAuJ,KAAM,SAAcoD,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAE5D,KAAKoD,CAAQ,CAC7C,EAKAjH,KAAM,SAAciH,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAEzH,KAAKiH,CAAQ,CAC7C,EAKA3D,SAAU,WACR,IAGM0E,EAHN,OAAIhlB,KAAKkW,SAASuE,SACTza,KAAK0kB,QAERM,EAAS,GACbpP,EAAE,YAAc5V,KAAKkX,MAAQ,+BAA+B,EAAEP,KAAK,WACjEqO,EAAOlZ,KAAK8J,EAAE5V,IAAI,EAAE8N,IAAI,CAAC,CAC3B,CAAC,EACMkX,EAEX,EAKA7C,SAAU,SAAkBnX,GAC1B,GAAI,EAAA,CAAC,SAAU,SAAU,UAAUQ,QAAQvL,EAAQ+K,CAAK,CAAC,EAAI,GAA7D,CAGA,GAAuB,WAAnB/K,EAAQ+K,CAAK,GACf,GAAc,OAAVA,GAAkB,CAAC7G,MAAMC,QAAQ4G,CAAK,EACxC,MACF,MAEAA,EAAQ,CAACA,GAEX,IAIMoK,EAEE6P,EANJlJ,EAAO/b,KACXA,KAAK0kB,OAAS,GACV1kB,KAAKkW,SAASuE,UAChB7E,EAAE,YAAcmG,EAAK7E,KAAK,EAAEgO,MAAM,GAC9B9P,EAAepV,KAAKwd,WAAW,GAClB7Q,eAAe,SAAS,GAAuC,WAAlC1M,EAAQmV,EAAatS,OAAO,GAAkBqB,MAAMC,QAAQgR,EAAatS,OAAO,GAAKqB,MAAMC,QAAQ4G,CAAK,IAChJia,EAAgB,GACpBrP,EAAEe,KAAKvB,EAAatS,QAAS,SAAU4J,EAAKyY,GACtCA,EAAOxY,eAAe,OAAO,GAC/BiJ,EAAEe,KAAK3L,EAAO,SAAU0B,EAAKoB,GAC3B,GAAIqX,EAAOna,OAAS8C,EAKlB,OAJIqX,EAAOxY,eAAe,MAAM,GAA2D,GAAtD,CAAC,SAAU,UAAUnB,QAAQvL,EAAQklB,EAAOpf,IAAI,CAAC,GACpFkf,EAAcnZ,KAAKqZ,EAAOpf,IAAI,EAEhCgW,EAAK2I,OAAO5Y,KAAKgC,CAAG,EACb,CAAA,CAEX,CAAC,CAEL,CAAC,EACD8H,EAAE,YAAcmG,EAAK7E,KAAK,EAAEnR,KAAKkf,EAActf,KAAK,IAAI,CAAC,KAG3DiQ,EAAE,YAAc5V,KAAKkX,MAAQ,oBAAoB,EAAEkO,KAAK,UAAW,CAAA,CAAK,EACpEjhB,MAAMC,QAAQ4G,CAAK,GACrB4K,EAAE,YAAc5V,KAAKkX,MAAQ,oBAAoB,EAAEP,KAAK,SAAUjK,EAAK2Y,GACrEzP,EAAEe,KAAK3L,EAAO,SAAU0B,EAAKoB,GAC3B,GAAIA,GAAO8H,EAAEyP,CAAS,EAAEvX,IAAI,EAG1B,OAFA8H,EAAEyP,CAAS,EAAED,KAAK,UAAW,CAAA,CAAI,EACjCrJ,EAAK2I,OAAO5Y,KAAKgC,CAAG,EACb,CAAA,CAEX,CAAC,CACH,CAAC,EAzCL,CA4CF,EAMA4M,SAAU,SAAkBsG,EAASjb,GACnC,IAGIuf,EACAC,EACAC,EALAxlB,KAAKkW,SAASuE,WAGd6K,EAAY1P,EAAE,YAAc5V,KAAKkX,KAAK,EACtCqO,EAAY3P,EAAE,yBAA0B0P,CAAS,EACjDE,EAAS5P,EAAE,QAAS0P,CAAS,EACjCA,EAAUpE,KAAK,iBAAiB,EAAEnT,OAAO,EACzCuX,EAAUpE,KAAK,mBAAmB,EAAEnT,OAAO,EAC3B,OAAZiT,GACFwE,EAAOC,YAAY,YAAY,EAC/BD,EAAOC,YAAY,UAAU,GACpBzE,GACTwE,EAAOC,YAAY,YAAY,EAC/BD,EAAOE,SAAS,UAAU,EAIN,UAAhB,OAFF3f,EADkB,KAAA,IAATA,GAA2D,UAAnC,OAAO/F,KAAKkW,SAASyP,UAC/C3lB,KAAKkW,SAASyP,UAEZ5f,IACTwf,EAAUnH,OAAO,+BAAiCrY,EAAO,QAAQ,IAGnEyf,EAAOC,YAAY,UAAU,EAC7BD,EAAOE,SAAS,YAAY,EACR,KAAA,IAAT3f,IACgC,UAArC,OAAO/F,KAAKkW,SAAS0P,YACvB7f,EAAO/F,KAAKkW,SAAS0P,YACZ,CAAC7f,GAAQ/F,KAAKkW,SAAS6O,WAChChf,EAAO/F,KAAK4jB,MAAMjF,QAAQ,EAAE4E,iBAGZ,UAAhB,OAAOxd,GACTwf,EAAUnH,OAAO,iCAAmCrY,EAAO,QAAQ,GAGzE,EAKAib,QAAS,WACP,MAAIhhB,EAAAA,KAAKkW,SAAS6O,UAAa/kB,CAAAA,KAAKkW,SAASuE,WACX,EAAzBza,KAAKsgB,SAAS,EAAE/e,MAG3B,EAKA2G,OAAQ,WACN,IAAIpF,EAAU9C,KAAKwd,WAAW,EAC1BqI,EAAe3Q,EAAgB0B,iBAAiB5W,KAAK4jB,MAAO9gB,CAAO,EACvE,OAAOrC,IAAIyH,OAAO+M,EAAI,yBAA0B,CAC9C6E,GAAI9Z,KAAKykB,IACT1kB,KAAMC,KAAK4jB,MACX3M,KAAMjX,KAAKkX,MACXJ,MAAO9W,KAAKkW,SACZmB,QAASrX,KAAKsX,cAAc,EAC5BuO,aAAcA,CAChB,CAAC,CACH,EAKAvO,cAAe,WACb,IAAIyE,EAAO/b,KACP8lB,EAAkB,GAClB1Q,EAAepV,KAAKwd,WAAW,EAC/ByH,EAAgB,GAmDhBja,GAlDAoK,EAAazI,eAAe,SAAS,GAAuC,WAAlC1M,EAAQmV,EAAatS,OAAO,GAAkBqB,MAAMC,QAAQgR,EAAatS,OAAO,GAC5H8S,EAAEe,KAAKvB,EAAatS,QAAS,SAAU4J,EAAKyY,GAC1C,IAAInB,EAAa,GACb+B,EAAW,CACbjS,KAAM,WACNsN,MAAS,kBACX,EACI4E,EAAab,EAAOxY,eAAe,MAAM,GAA2D,GAAtD,CAAC,SAAU,UAAUnB,QAAQvL,EAAQklB,EAAOpf,IAAI,CAAC,EAASof,EAAOpf,KAAO,GACtHqP,EAAa9S,OACfyjB,EAASzjB,KAAOyZ,EAAK7F,SAAS5T,MAE5B8S,EAAa2P,WACfgB,EAAShB,SAAW,YAEtBnP,EAAEe,KAAKwO,EAAQ,SAAU7iB,EAAM0I,GAChB,SAAT1I,IAEAyjB,EAASzjB,GADE,UAATA,EACeyjB,EAASzjB,GAAQ,IAAM0I,EAEvBA,EAGvB,CAAC,EACD+a,EAASjM,GAAK5E,EAAgBiE,SAAS,EACV,WAAzBlZ,EAAQ8b,EAAK2I,MAAM,GAAkBvgB,MAAMC,QAAQ2X,EAAK2I,MAAM,EAChE9O,EAAEe,KAAKoF,EAAK2I,OAAQ,SAAUhY,EAAK2Y,GACjC,GAAIA,GAAaF,EAAOna,MAKtB,OAJA+a,EAASE,QAAU,UACfd,EAAOxY,eAAe,MAAM,GAAKwY,EAAOpf,MAC1Ckf,EAAcnZ,KAAKqZ,EAAOpf,IAAI,EAEzB,CAAA,CAEX,CAAC,EACQgW,EAAK2I,QAAUS,EAAOna,QAC3Bma,EAAOxY,eAAe,MAAM,GAAKwY,EAAOpf,MAC1Ckf,EAAcnZ,KAAKqZ,EAAOpf,IAAI,EAEhCggB,EAASE,QAAU,WAErBrQ,EAAEe,KAAKoP,EAAU,SAAUzjB,EAAM0I,GAC/BgZ,EAAWlY,KAAKxJ,EAAO,KAAO0I,EAAQ,GAAG,CAC3C,CAAC,EACD8a,EAAgBha,KAAK,CACnBgO,GAAIiM,EAASjM,GACb/T,KAAMigB,EACNlQ,KAA0B,EAApBkO,EAAWziB,OAAa,IAAMyiB,EAAWre,KAAK,GAAG,EAAI,EAC7D,CAAC,CACH,CAAC,EAEkC,WAAzB1F,EAAQD,KAAK0kB,MAAM,GAAkBvgB,MAAMC,QAAQpE,KAAK0kB,MAAM,EAAI1kB,KAAK0kB,OAAO/e,KAAK,IAAI,EAAI3F,KAAK0kB,QAC5G,OAAOjkB,IAAIyH,OAAO+M,EAAI,wBAAyB,CAC7C6B,MAAO1B,EACPpK,MAAOA,EACP9C,OAAQ,CACNpF,QAASgjB,EACTb,cAAeA,CACjB,CACF,CAAC,CACH,CACF,EAEAtC,EAAW9L,OAAOqP,MAAQ,CACxBzB,IAAK,GACLvN,MAAO,GACP0M,MAAO,KACPC,OAAQ,EACRa,OAAQ,GACRxO,SAAU,CACRpC,KAAM,QACNxR,KAAM,KACNqiB,MAAO,KACPtO,WAAY,KACZL,MAAO,KACP6O,WAAY,KACZxR,YAAa,KACbyR,UAAW,KACXqB,OAAQ,KACRrQ,KAAM,CACJsL,MAAS,gDACX,EACA2D,SAAU,KACVtK,SAAU,KACV2L,SAAU,KACVpJ,KAAM,CAAA,EACNN,OAAQ,IACV,EAOAwF,KAAM,SAAcniB,EAAM+C,EAASyI,GACjCvL,KAAK4jB,MAAQ7jB,EACbC,KAAKykB,IAAM1kB,EAAKmc,MAAM,EAAI,WAAapZ,EAAQ6J,eAAe,MAAM,EAAI7J,EAAQR,KAAOiJ,GACvFvL,KAAKkX,MAAQhC,EAAgBiE,SAAS,EACtCnZ,KAAK0kB,OAASxP,EAAgBC,cAAcpV,EAAM+C,CAAO,EACzD9C,KAAKkW,SAAWhB,EAAgBQ,kBAAkB3V,EAAMC,KAAKkW,SAAUpT,CAAO,CAChF,EAKA0a,WAAY,WACV,OAAO5H,EAAEC,OAAO,CAAA,EAAM,GAAI7V,KAAKkW,QAAQ,CACzC,EAKAuE,SAAU,SAAkBmG,GAC1B5gB,KAAK0kB,OAAS1kB,KAAKsgB,SAAS,EAC5BtgB,KAAKkW,SAASuE,SAAW,CAAC,CAACmG,EAC3BhL,EAAE,YAAc5V,KAAKkX,KAAK,EAAEsF,KAAKxc,KAAKsX,cAAc,CAAC,CACvD,EAKAuJ,KAAM,SAAcoD,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAE5D,KAAKoD,CAAQ,CAC7C,EAKAjH,KAAM,SAAciH,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAEzH,KAAKiH,CAAQ,CAC7C,EAKA3D,SAAU,WACR,OAAOtgB,KAAKkW,SAASuE,SAAWza,KAAK0kB,OAAS9O,EAAE,YAAc5V,KAAKkX,MAAQ,QAAQ,EAAEpJ,IAAI,CAC3F,EAKAqU,SAAU,SAAkBnX,GACtB,CAAC,SAAU,UAAUQ,QAAQvL,EAAQ+K,CAAK,CAAC,EAAI,IAGnDhL,KAAK0kB,OAAS1Z,EACVhL,KAAKkW,SAASuE,SAChB7E,EAAE,YAAc5V,KAAKkX,KAAK,EAAEnR,KAAKiF,CAAK,EAEtC4K,EAAE,YAAc5V,KAAKkX,MAAQ,QAAQ,EAAEpJ,IAAI9C,CAAK,EAEpD,EAMA0P,SAAU,SAAkBsG,EAASjb,GACnC,IAGIuf,EACAe,EAJArmB,KAAKkW,SAASuE,WAGd6K,EAAY1P,EAAE,YAAc5V,KAAKkX,KAAK,EACtCmP,EAAQzQ,EAAE,QAAS0P,CAAS,EAChCA,EAAUpE,KAAK,iBAAiB,EAAEnT,OAAO,EACzCuX,EAAUpE,KAAK,mBAAmB,EAAEnT,OAAO,EAC3B,OAAZiT,GACFqF,EAAMZ,YAAY,YAAY,EAC9BY,EAAMZ,YAAY,UAAU,GACnBzE,GACTqF,EAAMZ,YAAY,YAAY,EAC9BY,EAAMX,SAAS,UAAU,EAIL,UAAhB,OAFF3f,EADkB,KAAA,IAATA,GAA2D,UAAnC,OAAO/F,KAAKkW,SAASyP,UAC/C3lB,KAAKkW,SAASyP,UAEZ5f,IACTuf,EAAUlH,OAAO,+BAAiCrY,EAAO,QAAQ,IAGnEsgB,EAAMZ,YAAY,UAAU,EAC5BY,EAAMX,SAAS,YAAY,EACP,KAAA,IAAT3f,IACgC,UAArC,OAAO/F,KAAKkW,SAAS0P,YACvB7f,EAAO/F,KAAKkW,SAAS0P,YACZ,CAAC7f,GAAQ/F,KAAKkW,SAAS6O,WAChChf,EAAO/F,KAAK4jB,MAAMjF,QAAQ,EAAE4E,iBAGZ,UAAhB,OAAOxd,GACTuf,EAAUlH,OAAO,iCAAmCrY,EAAO,QAAQ,GAGzE,EAKAib,QAAS,WACP,IAAIqF,EAAQzQ,EAAE,YAAc5V,KAAKkX,MAAQ,QAAQ,EACjD,OAAImP,EAAM,GACDA,EAAMC,GAAG,QAAQ,EAEnB,IACT,EAKApe,OAAQ,WACN,IAAIpF,EAAU9C,KAAKwd,WAAW,EAC1BqI,EAAe3Q,EAAgB0B,iBAAiB5W,KAAK4jB,MAAO9gB,CAAO,EACvE,OAAOrC,IAAIyH,OAAO+M,EAAI,yBAA0B,CAC9C6E,GAAI9Z,KAAKykB,IACT1kB,KAAMC,KAAK4jB,MACX3M,KAAMjX,KAAKkX,MACXJ,MAAOhU,EACPuU,QAASrX,KAAKsX,cAAc,EAC5BuO,aAAcA,CAChB,CAAC,CACH,EAKAvO,cAAe,WACb,OAAOtX,KAAKkW,SAASuE,SAAWza,KAAKumB,uBAAuB,EAAIvmB,KAAKwmB,eAAe,CACtF,EAMAA,eAAgB,WACd,IAAIxC,EAAa,GACboC,EAAW,GACXtjB,EAAU9C,KAAKwd,WAAW,EAC1BiJ,EAAavR,EAAgBiE,SAAS,EAgC1C,OA/BKrW,EAAQ6J,eAAe,MAAM,GAA+B,WAA1B1M,EAAQ6C,EAAQgT,IAAI,GAAmC,OAAjBhT,EAAQgT,MAAiB3R,CAAAA,MAAMC,QAAQtB,EAAQgT,IAAI,IAC9HhT,EAAQgT,KAAO,IAEbhT,EAAQR,OACVQ,EAAQgT,KAAKxT,KAAOtC,KAAKkW,SAAS5T,MAEpCQ,EAAQgT,KAAKhC,KAAOhR,EAAQgR,KAC5BhR,EAAQgT,KAAK9K,MAAQhL,KAAK0kB,OACtB5hB,EAAQkT,QACVlT,EAAQgT,KAAOZ,EAAgBa,UAAU,CACvC2Q,MAAO,SAAW5jB,EAAQkT,KAC5B,EAAGlT,EAAQgT,IAAI,GAEbhT,EAAQiiB,WACVjiB,EAAQgT,KAAKiP,SAAW,YAEtBjiB,EAAQ6J,eAAe,UAAU,GAAmC,WAA9B1M,EAAQ6C,EAAQsjB,QAAQ,GAAkBjiB,MAAMC,QAAQtB,EAAQsjB,QAAQ,IAChHtjB,EAAQgT,KAAKlI,KAAO6Y,EACpB7Q,EAAEe,KAAK7T,EAAQsjB,SAAU,SAAU1Z,EAAKia,GACtC,IAAIC,EAAe,GACnBhR,EAAEe,KAAKgQ,EAAgB,SAAUrkB,EAAM0I,GACrC4b,EAAa9a,KAAKxJ,EAAO,KAAO0I,EAAQ,GAAG,CAC7C,CAAC,EACDob,EAASta,KAAK,CACZgK,KAA4B,EAAtB8Q,EAAarlB,OAAa,IAAMqlB,EAAajhB,KAAK,GAAG,EAAI,EACjE,CAAC,CACH,CAAC,GAEHiQ,EAAEe,KAAK7T,EAAQgT,KAAM,SAAUxT,EAAM0I,GACnCgZ,EAAWlY,KAAKxJ,EAAO,KAAO0I,EAAQ,GAAG,CAC3C,CAAC,EACMvK,IAAIyH,OAAO+M,EAAI,qBAAsB,CAC1C6B,MAAOhU,EACP2jB,WAAYA,EACZzb,MAAOhL,KAAK0kB,OACZxc,OAAQ,CACN4N,KAA0B,EAApBkO,EAAWziB,OAAa,IAAMyiB,EAAWre,KAAK,GAAG,EAAI,GAC3DygB,SAAUA,CACZ,CACF,CAAC,CACH,EAMAG,uBAAwB,WACtB,IAAIzjB,EAAU9C,KAAKwd,WAAW,EAC9B,OAAO/c,IAAIyH,OAAO+M,EAAI,qBAAsB,CAC1C6B,MAAOhU,EACPkI,MAAOhL,KAAK0kB,MACd,CAAC,CACH,CACF,EAEA/B,EAAW9L,OAAOuN,OAAS,CACzBK,IAAK,GACLvN,MAAO,GACP0M,MAAO,KACPc,OAAQ,KACRxO,SAAU,CACRpC,KAAM,SACN6Q,MAAO,KACPtO,WAAY,KACZL,MAAO,KACPqB,QAAS,GACTwN,WAAY,KACZxR,YAAa,KACb0R,SAAU,KACV/H,KAAM,CAAA,EACNN,OAAQ,IACV,EAOAwF,KAAM,SAAcniB,EAAM+C,EAASyI,GACjCvL,KAAK4jB,MAAQ7jB,EACbC,KAAKykB,IAAM1kB,EAAKmc,MAAM,EAAI,WAAapZ,EAAQ6J,eAAe,MAAM,EAAI7J,EAAQR,KAAOiJ,GACvFvL,KAAK0kB,OAASxP,EAAgBC,cAAcpV,EAAM+C,CAAO,EACzD9C,KAAKkW,SAAWhB,EAAgBQ,kBAAkB3V,EAAMC,KAAKkW,SAAUpT,CAAO,EAC9E9C,KAAKkX,MAAQhC,EAAgBiE,SAAS,CACxC,EAKAqE,WAAY,WACV,OAAO5H,EAAEC,OAAO,CAAA,EAAM,GAAI7V,KAAKkW,QAAQ,CACzC,EAKAuE,SAAU,SAAkBmG,KAK5BC,KAAM,SAAcoD,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAE5D,KAAKoD,CAAQ,CAC7C,EAKAjH,KAAM,SAAciH,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAEzH,KAAKiH,CAAQ,CAC7C,EAIA3D,SAAU,aAKV6B,SAAU,SAAkBnX,KAK5B9C,OAAQ,WACN,IAAI6T,EAAO/b,KAAKkX,MACZpU,EAAU9C,KAAKwd,WAAW,EAC1BqI,EAAe3Q,EAAgB0B,iBAAiB5W,KAAK4jB,MAAO9gB,CAAO,EACnEgU,EAAQlB,EAAEnV,IAAIyH,OAAO+M,EAAI,yBAA0B,CACrD6E,GAAI9Z,KAAKykB,IACT1kB,KAAMC,KAAK4jB,MACX3M,KAAMjX,KAAKkX,MACXJ,MAAOhU,EACPuU,QAAS,GACTwO,aAAcA,CAChB,CAAC,CAAC,EAIF,OAHAjQ,EAAEe,KAAK3W,KAAKsX,cAAc,EAAG,SAAUxW,EAAGuW,GACxCP,EAAMoK,KAAK,YAAcnF,EAAK7E,KAAK,EAAEkH,OAAO/G,CAAO,CACrD,CAAC,EACMP,CACT,EAKAQ,cAAe,WACb,IAAID,EAAUrX,KAAKwd,WAAW,EAAEnG,QAC5B7O,EAAS,GACb,GAAuB,UAAnB,OAAO6O,EACT7O,EAAOsD,KAAKuL,CAAO,OACd,GAAIA,aAAmBxM,OAAQ,CAC/B1G,MAAMC,QAAQiT,CAAO,IACxBA,EAAU,CAACA,IAEb,IAAK,IAMKN,EANDjW,EAAI,EAAGA,EAAIuW,EAAQ9V,OAAQT,CAAC,GACT,UAAtB,OAAOuW,EAAQvW,GACjB0H,EAAOsD,KAAKuL,EAAQvW,EAAE,EACb,CAACqD,MAAMC,QAAQiT,EAAQvW,EAAE,GAAKuW,EAAQvW,GAAG6L,eAAe,WAAW,GAAqC,UAAhC,OAAO0K,EAAQvW,GAAG+lB,WAAmE,WAAzCxP,EAAQvW,GAAG+lB,UAAU9a,UAAU,EAAG,CAAC,GAC5JzJ,EAAO+U,EAAQvW,GAAG+lB,UAAU7hB,MAAM,GAAG,EAAE,GACvClF,OAAO6M,eAAerK,CAAI,GAAK4S,EAAgB6D,SAASjZ,OAAOwC,EAAK,IAClEyU,EAAWjX,OAAOwC,GAAM4L,OAAOmJ,EAAQvW,EAAE,EAC7C0H,EAAOsD,KAAKiL,EAAS7O,OAAO,CAAC,EAC7BlI,KAAK4jB,MAAMtR,GAAG,oBAAqByE,EAAS+E,WAAY/E,EAAU,CAAA,CAAI,IAGxEvO,EAAOsD,KAAK7B,KAAKC,UAAUmN,EAAQvW,EAAE,CAAC,CAG5C,CACA,OAAO0H,CACT,CACF,EAEAma,EAAW9L,OAAOiQ,QAAU,CAC1BrC,IAAK,GACLvN,MAAO,GACP0M,MAAO,KACPc,OAAQ,GACRqC,eAAgB,GAChB7Q,SAAU,CACRpC,KAAM,UACNxR,KAAM,KACNqiB,MAAO,KACPtO,WAAY,KACZL,MAAO,KACP6O,WAAY,KACZxR,YAAa,KACbyR,UAAW,KACXqB,OAAQ,KACRrQ,KAAM,CACJsL,MAAS,4BACX,EACA2D,SAAU,KACVtK,SAAU,KACV2L,SAAU,KACVpJ,KAAM,CAAA,EACNN,OAAQ,IACV,EAOAwF,KAAM,SAAcniB,EAAM+C,EAASyI,GACjCvL,KAAK4jB,MAAQ7jB,EACbC,KAAKykB,IAAM1kB,EAAKmc,MAAM,EAAI,WAAapZ,EAAQ6J,eAAe,MAAM,EAAI7J,EAAQR,KAAOiJ,GACvFvL,KAAK0kB,OAASxP,EAAgBC,cAAcpV,EAAM+C,CAAO,EACzD9C,KAAKkW,SAAWhB,EAAgBQ,kBAAkB3V,EAAMC,KAAKkW,SAAUpT,CAAO,EAC9E9C,KAAKkX,MAAQhC,EAAgBiE,SAAS,EACtC,IAAI4C,EAAO/b,KACXD,EAAKuS,GAAG,oBAAqB,WACtByJ,EAAK7F,SAASuE,UACjBsB,EAAKgI,YAAY,CAErB,CAAC,EACGjhB,EAAQ6J,eAAe,SAAS,GAAkC,WAA7B1M,EAAQ6C,EAAQA,OAAO,GAAkBqB,MAAMC,QAAQtB,EAAQA,OAAO,GAC7G8S,EAAEe,KAAK7T,EAAQA,QAAS,SAAU4J,EAAKyY,GACrC,IAAI7iB,EAAO6iB,EAAOxY,eAAe,MAAM,GAA2D,GAAtD,CAAC,SAAU,UAAUnB,QAAQvL,EAAQklB,EAAO7iB,IAAI,CAAC,EAAS6iB,EAAO7iB,KAAO,GAChHwR,EAAOqR,EAAOxY,eAAe,MAAM,GAA4B,UAAvB,OAAOwY,EAAOrR,KAAoBqR,EAAOrR,KAAO,OACxFkQ,EAAamB,EAAOxY,eAAe,MAAM,GAA8B,WAAzB1M,EAAQklB,EAAOrP,IAAI,GAAkB,CAAC3R,MAAMC,QAAQ+gB,EAAOrP,IAAI,EAAIqP,EAAOrP,KAAO,GAC/HkR,EAAQ7B,EAAOxY,eAAe,OAAO,GAA+B,WAA1B1M,EAAQklB,EAAO6B,KAAK,GAAkB7iB,MAAMC,QAAQ+gB,EAAO6B,KAAK,EAAI7B,EAAO6B,MAAQ,GAC7HC,EAAS9B,EAAOxY,eAAe,QAAQ,GAA8D,GAAzD,CAAC,SAAU,WAAWnB,QAAQvL,EAAQklB,EAAO8B,MAAM,CAAC,EAAS9B,EAAO8B,OAAS,IACzHC,EAAS/B,EAAOxY,eAAe,QAAQ,GAA8D,GAAzD,CAAC,SAAU,WAAWnB,QAAQvL,EAAQklB,EAAO+B,MAAM,CAAC,EAAS/B,EAAO+B,OAAS,IACzH5kB,IACF0hB,EAAW1hB,KAAOA,GAEhBQ,EAAQiiB,WACVf,EAAWe,SAAW,YAEX,WAATjR,EACFkQ,EAAkB,MAAIA,EAAWrX,eAAe,OAAO,EAAI,eAAiBqX,EAAkB,MAAI,cAChF,WAATlQ,GACTkQ,EAAkB,MAAIA,EAAWrX,eAAe,OAAO,EAAI,oBAAsBqX,EAAkB,MAAI,mBACvGA,EAAWlQ,KAAO,WAClBkQ,EAAWhZ,MAAQic,IAEnBjD,EAAkB,MAAIA,EAAWrX,eAAe,OAAO,EAAI,gBAAkBqX,EAAkB,MAAI,eACnGA,EAAWlQ,KAAOA,GAEpBiI,EAAKgL,eAAejb,KAAK,CACvBgI,KAAMA,EACNxR,KAAMA,EACNwT,KAAMkO,EACNgD,MAAOA,EACPC,OAAQA,EACRC,OAAQA,CACV,CAAC,CACH,CAAC,CAEL,EAKA1J,WAAY,WACV,OAAO5H,EAAEC,OAAO,CAAA,EAAM,GAAI7V,KAAKkW,QAAQ,CACzC,EAKAuE,SAAU,SAAkBmG,GAC1B5gB,KAAK0kB,OAAS1kB,KAAKsgB,SAAS,EAC5BtgB,KAAKkW,SAASuE,SAAW,CAAC,CAACmG,EAC3BhL,EAAE,YAAc5V,KAAKkX,KAAK,EAAEsF,KAAKxc,KAAKsX,cAAc,CAAC,EAChDtX,KAAKkW,SAASuE,UACjBza,KAAK+jB,YAAY,CAErB,EAKAlD,KAAM,SAAcoD,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAE5D,KAAKoD,CAAQ,CAC7C,EAKAjH,KAAM,SAAciH,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAEzH,KAAKiH,CAAQ,CAC7C,EAKA3D,SAAU,WACR,IAGMgF,EACAld,EAJN,OAAIpI,KAAKkW,SAASuE,SACTza,KAAK0kB,QAERY,EAAY1P,EAAE,YAAc5V,KAAKkX,KAAK,EACtC9O,EAAO,GACXwN,EAAE,oEAAqE0P,CAAS,EAAE3O,KAAK,WACrF,IAAIqQ,EAAQ,GACZpR,EAAEe,KAAKf,EAAE5V,IAAI,EAAEkhB,KAAK,eAAe,EAAEiG,eAAe,EAAG,SAAUza,EAAK0a,GAChEA,EAAK9kB,OACP0kB,EAAMI,EAAK9kB,MAAQ8kB,EAAKpc,MAE5B,CAAC,EACD5C,EAAK0D,KAAKkb,CAAK,CACjB,CAAC,EACM5e,EAEX,EAKA+Z,SAAU,SAAkBnX,GACH,WAAnB/K,EAAQ+K,CAAK,GAAkB7G,MAAMC,QAAQ4G,CAAK,GAAe,OAAVA,IAG3DhL,KAAK0kB,OAAO5Y,KAAKd,CAAK,EAClBhL,KAAKkW,SAASuE,SAChB7E,EAAE,YAAc5V,KAAKkX,MAAQ,mCAAmC,EAAEkH,OAAOpe,KAAKqnB,mBAAmBrc,CAAK,CAAC,EAEvGhL,KAAKsnB,UAAUtc,CAAK,EAExB,EAMA0P,SAAU,SAAkBsG,EAASjb,GACnC,IAGIuf,EAHAtlB,KAAKkW,SAASuE,YAGd6K,EAAY1P,EAAE,YAAc5V,KAAKkX,KAAK,GAChCgK,KAAK,eAAe,EAAEnT,OAAO,EACvCuX,EAAUpE,KAAK,cAAc,EAAEnT,OAAO,EACtB,OAAZiT,IAGAA,EAIkB,UAAhB,OAFFjb,EADkB,KAAA,IAATA,GAA2D,UAAnC,OAAO/F,KAAKkW,SAASyP,UAC/C3lB,KAAKkW,SAASyP,UAEZ5f,IACTuf,EAAUlH,OAAO,kCAAoCrY,EAAO,QAAQ,GAGlD,KAAA,IAATA,IACgC,UAArC,OAAO/F,KAAKkW,SAAS0P,YACvB7f,EAAO/F,KAAKkW,SAAS0P,YACZ,CAAC7f,GAAQ/F,KAAKkW,SAAS6O,WAChChf,EAAO/F,KAAK4jB,MAAMjF,QAAQ,EAAE4E,iBAGZ,UAAhB,OAAOxd,GACTuf,EAAUlH,OAAO,iCAAmCrY,EAAO,QAAQ,IAGzE,EAKAib,QAAS,WACP,MAAIhhB,EAAAA,KAAKkW,SAAS6O,UAAa/kB,CAAAA,KAAKkW,SAASuE,WACX,EAAzBza,KAAKsgB,SAAS,EAAE/e,MAG3B,EAIAgmB,YAAa,WACX3R,EAAE,gBAAkB5V,KAAKykB,IAAM,aAAezkB,KAAKkX,MAAQ,mCAAmC,EAAEgO,MAAM,CACxG,EAKAsC,WAAY,SAAoBC,GAC9B,IAAItL,EAAU,gBAAkBnc,KAAKykB,IAAM,aAAezkB,KAAKkX,MAC/DtB,EAAE,IAAM6R,CAAM,EAAE5G,KAAK,OAAQ,WAC3BjL,EAAE,IAAM6R,CAAM,EAAE1Z,OAAO,EACyC,IAA5D6H,EAAEuG,EAAU,mCAAmC,EAAE5a,QACnDqU,EAAEuG,EAAU,wCAAwC,EAAE0E,KAAK,CAE/D,CAAC,CACH,EAKA3Y,OAAQ,WACN,IAAIpF,EAAU9C,KAAKwd,WAAW,EAC1BqI,EAAe3Q,EAAgB0B,iBAAiB5W,KAAK4jB,MAAO9gB,CAAO,EACvE,OAAOrC,IAAIyH,OAAO+M,EAAI,yBAA0B,CAC9C6E,GAAI9Z,KAAKykB,IACT1kB,KAAMC,KAAK4jB,MACX3M,KAAMjX,KAAKkX,MACXJ,MAAOhU,EACPuU,QAASrX,KAAKsX,cAAc,EAC5BuO,aAAcA,CAChB,CAAC,CACH,EAKAvO,cAAe,WACb,OAAOtX,KAAKkW,SAASuE,SAAWza,KAAKumB,uBAAuB,EAAIvmB,KAAKwmB,eAAe,CACtF,EAKAA,eAAgB,WACd,IAAI1jB,EAAU9C,KAAKwd,WAAW,EAC1BkK,EAAO,GACPtN,EAAU,GACV2B,EAAO/b,KAoBX,OAnBI8C,EAAQ6J,eAAe,SAAS,GAAkC,WAA7B1M,EAAQ6C,EAAQA,OAAO,GAAkBqB,MAAMC,QAAQtB,EAAQA,OAAO,IAE7G8S,EAAEe,KAAK7T,EAAQA,QAAS,SAAU4J,EAAKyY,GACjClT,EAAQkT,EAAOxY,eAAe,OAAO,GAA6D,GAAxD,CAAC,SAAU,WAAWnB,QAAQvL,EAAQklB,EAAOlT,KAAK,CAAC,EAASkT,EAAOlT,MAAQ,GACzHmI,EAAQtO,KAAK,CACXmG,MAAOA,CACT,CAAC,CACH,CAAC,EAG4B,WAAzBhS,EAAQD,KAAK0kB,MAAM,IAAkBvgB,MAAMC,QAAQpE,KAAK0kB,MAAM,GAChE9O,EAAEe,KAAK3W,KAAK0kB,OAAQ,SAAUhY,EAAKib,GACZ,WAAjB1nB,EAAQ0nB,CAAG,GAAkBxjB,MAAMC,QAAQujB,CAAG,GAGlDD,EAAK5b,KAAKiQ,EAAK6L,WAAWD,CAAG,CAAC,CAChC,CAAC,EAGElnB,IAAIyH,OAAO+M,EAAI,uBAAwB,CAC5C6B,MAAOhU,EACPkI,MAAuB,OAAhBhL,KAAK0kB,OAAkB1kB,KAAK0kB,OAAS,GAC5CrM,KAAMrY,KAAK4jB,MAAMjF,QAAQ,EACzBzW,OAAQ,CACNkS,QAASA,EACTsN,KAAMA,CACR,CACF,CAAC,CACH,EAKAnB,uBAAwB,WACtB,IAAIzjB,EAAU9C,KAAKwd,WAAW,EAC1BkK,EAAO,GACPtN,EAAU,GACV2B,EAAO/b,KAoBX,OAnBI8C,EAAQ6J,eAAe,SAAS,GAAkC,WAA7B1M,EAAQ6C,EAAQA,OAAO,GAAkBqB,MAAMC,QAAQtB,EAAQA,OAAO,IAE7G8S,EAAEe,KAAK7T,EAAQA,QAAS,SAAU4J,EAAKyY,GACjClT,EAAQkT,EAAOxY,eAAe,OAAO,GAA6D,GAAxD,CAAC,SAAU,WAAWnB,QAAQvL,EAAQklB,EAAOlT,KAAK,CAAC,EAASkT,EAAOlT,MAAQ,GACzHmI,EAAQtO,KAAK,CACXmG,MAAOA,CACT,CAAC,CACH,CAAC,EAG4B,WAAzBhS,EAAQD,KAAK0kB,MAAM,IAAkBvgB,MAAMC,QAAQpE,KAAK0kB,MAAM,GAChE9O,EAAEe,KAAK3W,KAAK0kB,OAAQ,SAAUhY,EAAKib,GACZ,WAAjB1nB,EAAQ0nB,CAAG,GAAkBxjB,MAAMC,QAAQujB,CAAG,GAGlDD,EAAK5b,KAAKiQ,EAAKsL,mBAAmBM,CAAG,CAAC,CACxC,CAAC,EAGElnB,IAAIyH,OAAO+M,EAAI,uBAAwB,CAC5C6B,MAAOhU,EACPkI,MAAuB,OAAhBhL,KAAK0kB,OAAkB1kB,KAAK0kB,OAAS,GAC5CrM,KAAMrY,KAAK4jB,MAAMjF,QAAQ,EACzBzW,OAAQ,CACNkS,QAASA,EACTsN,KAAMA,CACR,CACF,CAAC,CACH,EAKA3D,YAAa,WACX,IAAIhI,EAAO/b,KACPmc,EAAU,gBAAkBnc,KAAKykB,IAAM,aAAezkB,KAAKkX,MAG/DtB,EAAEuG,EAAU,sBAAsB,EAAE+H,MAAM,WACxCnI,EAAKyL,WAAW5R,EAAE5V,IAAI,EAAEoI,KAAK,SAAS,CAAC,CACzC,CAAC,EAGDwN,EAAEuG,EAAU,mBAAmB,EAAE+H,MAAM,WACrCnI,EAAKuL,UAAU,CACjB,CAAC,CACH,EAIAA,UAAW,SAAmBK,GAC5B,IAAI5L,EAAO/b,KACPmc,EAAU,gBAAkBnc,KAAKykB,IAAM,aAAezkB,KAAKkX,MAC/DyQ,EAAMA,GAAO,GACmD,IAA5D/R,EAAEuG,EAAU,mCAAmC,EAAE5a,QACnDqU,EAAEuG,EAAU,wCAAwC,EAAEa,KAAK,EAE7DpH,EAAEuG,EAAU,mCAAmC,EAAEiC,OAAOpe,KAAK4nB,WAAWD,CAAG,CAAC,EAC5E/R,EAAEuG,EAAU,kEAAkE,EAAE+H,MAAM,WACpFnI,EAAKyL,WAAW5R,EAAE5V,IAAI,EAAEoI,KAAK,SAAS,CAAC,CACzC,CAAC,CACH,EAMAwf,WAAY,SAAoBD,GAC9B,IAAIE,EAAa,GACbC,EAAc,GAmDlB,OAlDAlS,EAAEe,KAAK3W,KAAK+mB,eAAgB,SAAUra,EAAKyY,GACzC,IAAI4C,EAAYJ,EAAIhb,eAAewY,EAAO7iB,IAAI,EAAIqlB,EAAIxC,EAAO7iB,MAAQ,GAuCjE0hB,GAtCgB,WAAhBmB,EAAOrR,KACT8B,EAAEe,KAAKwO,EAAO6B,MAAO,SAAUta,EAAK0a,GAClC,IAAInV,EAAQmV,EAAKza,eAAe,OAAO,GAA2D,GAAtD,CAAC,SAAU,WAAWnB,QAAQvL,EAAQmnB,EAAKnV,KAAK,CAAC,EAASmV,EAAKnV,MAAQ,GAC/GoT,EAAY+B,EAAKza,eAAe,OAAO,GAA2D,GAAtD,CAAC,SAAU,WAAWnB,QAAQvL,EAAQmnB,EAAKpc,KAAK,CAAC,EAASoc,EAAKpc,MAAQ,GACnH+a,EAAW,GAgBX/B,GAfJpO,EAAEe,KAAKyQ,EAAM,SAAU9kB,EAAM0I,GACd,UAAT1I,IACFyjB,EAASzjB,GAAQ0I,EAErB,CAAC,EAC0B,WAAvB/K,EAAQ8nB,CAAS,GAAkB5jB,MAAMC,QAAQ2jB,CAAS,EAC5DnS,EAAEe,KAAKoR,EAAW,SAAUrb,EAAKsb,GAC/B,GAAIA,GAAiB3C,EAEnB,MAAO,EADPU,EAASkC,SAAW,WAGxB,CAAC,EACQF,GAAaX,EAAKpc,QAC3B+a,EAASkC,SAAW,YAEL,IACjBrS,EAAEe,KAAKoP,EAAU,SAAUzjB,EAAM0I,GAC/BgZ,EAAWlY,KAAKxJ,EAAO,KAAO0I,EAAQ,GAAG,CAC3C,CAAC,EACD8c,EAAYhc,KAAK,CACfgK,KAA0B,EAApBkO,EAAWziB,OAAa,IAAMyiB,EAAWre,KAAK,GAAG,EAAI,GAC3DsM,MAAOA,CACT,CAAC,CACH,CAAC,EACwB,WAAhBkT,EAAOrR,KACZiU,GAAa5C,EAAO8B,SACtB9B,EAAOrP,KAAKmQ,QAAU,WAGgC,GAApD,CAAC,SAAU,UAAUza,QAAQvL,EAAQ8nB,CAAS,CAAC,IACjD5C,EAAOrP,KAAK9K,MAAsB,OAAd+c,EAAqBA,EAAY,IAGxC,IACjBnS,EAAEe,KAAKwO,EAAOrP,KAAM,SAAUxT,EAAM0I,GAClCgZ,EAAWlY,KAAKxJ,EAAO,KAAO0I,EAAQ,GAAG,CAC3C,CAAC,EACD6c,EAAW/b,KAAK,CACdgI,KAAMqR,EAAOrR,KACbgC,KAA0B,EAApBkO,EAAWziB,OAAa,IAAMyiB,EAAWre,KAAK,GAAG,EAAI,GAC3DqhB,MAAOc,CACT,CAAC,CACH,CAAC,EACMrnB,IAAIyH,OAAO+M,EAAI,2BAA4B,CAChDiT,SAAUhT,EAAgBiE,SAAS,EACnCrW,QAAS+kB,CACX,CAAC,CACH,EAMAR,mBAAoB,SAA4BM,GAC9C,IAAIE,EAAa,GACbxP,EAAOrY,KAAK4jB,MAAMjF,QAAQ,EAmD9B,OAlDA/I,EAAEe,KAAK3W,KAAK+mB,eAAgB,SAAUra,EAAKyY,GACzC,IAAIgD,EAAc,GACdJ,EAAYJ,EAAIhb,eAAewY,EAAO7iB,IAAI,EAAIqlB,EAAIxC,EAAO7iB,MAAQ,GACrE,GAAoB,WAAhB6iB,EAAOrR,KAAmB,CAC5B,IAAIgU,EAAc,GAClBlS,EAAEe,KAAKwO,EAAO6B,MAAO,SAAUta,EAAK0a,GAClCA,EAAKza,eAAe,OAAO,GAA2D,GAAtD,CAAC,SAAU,WAAWnB,QAAQvL,EAAQmnB,EAAKnV,KAAK,CAAC,GAASmV,EAAKnV,MAC/F,IAAIoT,EAAY+B,EAAKza,eAAe,OAAO,GAA2D,GAAtD,CAAC,SAAU,WAAWnB,QAAQvL,EAAQmnB,EAAKpc,KAAK,CAAC,EAASoc,EAAKpc,MAAQ,GAC5F,WAAvB/K,EAAQ8nB,CAAS,GAAkB5jB,MAAMC,QAAQ2jB,CAAS,EAC5DnS,EAAEe,KAAKoR,EAAW,SAAUrb,EAAKsb,GAC/B,GAAIA,GAAiB3C,EAEnB,OADAyC,EAAYhc,KAAKuZ,CAAS,EACnB,CAAA,CAEX,CAAC,EACQ0C,GAAaX,EAAKpc,OAC3B8c,EAAYhc,KAAKic,CAAS,CAE9B,CAAC,CACH,MAAO,GAAoB,WAAhB5C,EAAOrR,KAAmB,CACnC,IAAImT,EAAS,IACT9B,EAAOxY,eAAe,QAAQ,IAChCsa,EAAS9B,EAAO8B,QAElBkB,EAAcJ,GAAad,EAAS5O,EAAK+K,WAAa/K,EAAKgL,SAC7D,MACE,GAAwD,GAApD,CAAC,SAAU,UAAU7X,QAAQvL,EAAQ8nB,CAAS,CAAC,EAEjD,OADAI,EAAcJ,EACN5C,EAAOrR,MACb,IAAK,OACHqU,EAAcjT,EAAgBqC,WAAW4Q,CAAW,EACpD,MACF,IAAK,iBACHA,EAAcjT,EAAgB8C,eAAemQ,CAAW,EACxD,MACF,IAAK,QACHA,EAAcjT,EAAgBkD,gBAAgB+P,EAAa9P,CAAI,EAC/D,MACF,IAAK,OACH8P,EAAcjT,EAAgBqD,eAAe4P,EAAa9P,CAAI,EAC9D,MACF,QACE8P,EAAcJ,CAClB,CAGJF,EAAW/b,KAAK,CACdd,MAAOmd,CACT,CAAC,CACH,CAAC,EACM1nB,IAAIyH,OAAO+M,EAAI,oCAAqC,CACzDnS,QAAS+kB,CACX,CAAC,CACH,CACF,EAEAlF,EAAW9L,OAAOuL,MAAQ,CACxBqC,IAAK,GACLb,MAAO,KACPC,OAAQ,EACR3N,SAAU,CACRpC,KAAM,QACN6Q,MAAO,GACP3H,KAAM,CAAA,EACNoL,gBAAiB,CAAA,EACjBvR,OAAQ,GACR6F,OAAQ,IACV,EAOAwF,KAAM,SAAcniB,EAAM+C,EAASyI,GACjCvL,KAAK4jB,MAAQ7jB,EACbC,KAAK6jB,OAAStY,EACdvL,KAAKykB,IAAM1kB,EAAKmc,MAAM,EAAI,UAAY3Q,EACtCvL,KAAKkW,SAAWN,EAAEC,OAAO,CAAA,EAAM,GAAI7V,KAAKkW,SAAUpT,CAAO,EACzD,IAAIiZ,EAAO/b,KACXD,EAAKuS,GAAG,oBAAqB,WAC3ByJ,EAAKgI,YAAY,CACnB,CAAC,CACH,EAKAvG,WAAY,WACV,OAAO5H,EAAEC,OAAO,CAAA,EAAM,GAAI7V,KAAKkW,SAAUpT,OAAO,CAClD,EAKAyf,SAAU,SAAkB0B,GAC1B,IAAIqB,EAAY,gBAAkBtlB,KAAKykB,IACvC7O,EAAE0P,EAAY,mDAAmD,EAAEG,YAAY,iBAAiB,EAChG7P,EAAE0P,EAAY,mDAAmD,EAAEI,SAAS,kBAAkB,EAC9F9P,EAAE0P,EAAY,8BAA8B,EAAE+C,QAAQpE,CAAQ,CAChE,EAKA3B,OAAQ,SAAgB2B,GACtB,IAAIqB,EAAY,gBAAkBtlB,KAAKykB,IACvC7O,EAAE0P,EAAY,mDAAmD,EAAEG,YAAY,kBAAkB,EACjG7P,EAAE0P,EAAY,mDAAmD,EAAEI,SAAS,iBAAiB,EAC7F9P,EAAE0P,EAAY,8BAA8B,EAAEgD,UAAUrE,CAAQ,CAClE,EAKA/b,OAAQ,WACN,OAAOzH,IAAIyH,OAAO+M,EAAI,yBAA0B,CAC9C6E,GAAI9Z,KAAKykB,IACT1kB,KAAMC,KAAK4jB,MACXxB,MAAOpiB,KAAKkW,SACZmB,QAASrX,KAAKsX,cAAc,CAC9B,CAAC,CACH,EAKAA,cAAe,WACb,IAAIT,EAAS,GACTkF,EAAO/b,KAQX,OAPA4V,EAAEe,KAAK3W,KAAKkW,SAASW,OAAQ,SAAUnK,EAAKoK,GACtC6J,EAAgB5E,EAAK6H,MAAM5M,UAAUF,CAAK,EACf,WAA3B7W,EAAQ0gB,CAAa,GAGzB9J,EAAO/K,KAAK6U,EAAczY,OAAO,CAAC,CACpC,CAAC,EACM2O,EAAOlR,KAAK,EAAE,CACvB,EAKAoe,YAAa,WACX,IACMhI,EACAuJ,EAFFtlB,KAAKkW,SAASkS,kBAEZ9C,EAAY,iBADZvJ,EAAO/b,MAC4BykB,IACvC7O,EAAE0P,EAAY,+CAA+C,EAAEpB,MAAM,WAC/DtO,EAAE0P,EAAY,gCAAgC,EAAEgB,GAAG,UAAU,EAC/DvK,EAAKwG,SAAS,EAAE,EAEhBxG,EAAKuG,OAAO,EAAE,CAElB,CAAC,EAEL,CACF,EAEAK,EAAW9L,OAAO0R,OAAS,CACzB9D,IAAK,GACLb,MAAO,KACPC,OAAQ,EACRa,OAAQ,GACRxO,SAAU,CACRpC,KAAM,SACNxR,KAAM,KACNwT,KAAM,GACNiP,SAAU,KACVrI,OAAQ,IACV,EAOAwF,KAAM,SAAcniB,EAAM+C,EAASyI,GACjCvL,KAAK4jB,MAAQ7jB,EACbC,KAAKykB,IAAM1kB,EAAKmc,MAAM,EAAI,WAAapZ,EAAQ6J,eAAe,MAAM,EAAI7J,EAAQR,KAAOiJ,GACvFvL,KAAK0kB,OAASxP,EAAgBC,cAAcpV,EAAM+C,CAAO,EACzD9C,KAAKkW,SAAWhB,EAAgBQ,kBAAkB3V,EAAMC,KAAKkW,SAAUpT,CAAO,CAChF,EAKA0a,WAAY,WACV,OAAO5H,EAAEC,OAAO,CAAA,EAAM,GAAI7V,KAAKkW,QAAQ,CACzC,EAKAoK,SAAU,WACR,OAAOtgB,KAAKkW,SAASuE,SAAWza,KAAK0kB,OAAS9O,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAE3W,IAAI,CAClF,EAKAqU,SAAU,SAAkBnX,GACtB,CAAC,SAAU,UAAUQ,QAAQvL,EAAQ+K,CAAK,CAAC,EAAI,IAGnDhL,KAAK0kB,OAAS1Z,EACThL,KAAKkW,SAASuE,WACjB7E,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAE3W,IAAI9C,CAAK,CAE3C,EAKA9C,OAAQ,WACN,OAAOzH,IAAIyH,OAAO+M,EAAI,2BAA4B,CAChDoC,QAASrX,KAAKsX,cAAc,CAC9B,CAAC,CACH,EAKAA,cAAe,WACb,IAAI0M,EAAa,GACblhB,EAAU9C,KAAKwd,WAAW,EAa9B,OAZK1a,EAAQ6J,eAAe,MAAM,GAA+B,WAA1B1M,EAAQ6C,EAAQgT,IAAI,GAAmC,OAAjBhT,EAAQgT,MAAiB3R,CAAAA,MAAMC,QAAQtB,EAAQgT,IAAI,IAC9HhT,EAAQgT,KAAO,IAEjBhT,EAAQgT,KAAKgE,GAAK,eAAiB9Z,KAAKykB,IACpC3hB,EAAQR,OACVQ,EAAQgT,KAAKxT,KAAOQ,EAAQR,MAE9BQ,EAAQgT,KAAKhC,KAAO,SACpBhR,EAAQgT,KAAK9K,MAAwB,OAAhBhL,KAAK0kB,OAAkB1kB,KAAK0kB,OAAS,GAC1D9O,EAAEe,KAAK7T,EAAQgT,KAAM,SAAUxT,EAAM0I,GACnCgZ,EAAWlY,KAAKxJ,EAAO,KAAO0I,EAAQ,GAAG,CAC3C,CAAC,EACMvK,IAAIyH,OAAO+M,EAAI,sBAAuB,CAC3CjK,MAAuB,OAAhBhL,KAAK0kB,OAAkB1kB,KAAK0kB,OAAS,GAC5C5N,MAAOhU,EACPoF,OAAQ,CACN4N,KAA0B,EAApBkO,EAAWziB,OAAa,IAAMyiB,EAAWre,KAAK,GAAG,EAAI,EAC7D,CACF,CAAC,CACH,CACF,EAEAgd,EAAW9L,OAAOwP,MAAQ,CACxB5B,IAAK,GACLvN,MAAO,GACP0M,MAAO,KACPC,OAAQ,EACRa,OAAQ,GACRxO,SAAU,CACRpC,KAAM,OACNxR,KAAM,KACNqiB,MAAO,KACPtO,WAAY,KACZL,MAAO,KACP6O,WAAY,KACZxR,YAAa,KACbyR,UAAW,KACXqB,OAAQ,KACRrQ,KAAM,CACJsL,MAAS,6BACX,EACA2D,SAAU,KACVa,YAAa,KACbD,UAAW,KACXlL,SAAU,KACV2L,SAAU,KACVpJ,KAAM,CAAA,EACNN,OAAQ,IACV,EAOAwF,KAAM,SAAcniB,EAAM+C,EAASyI,GACjCvL,KAAK4jB,MAAQ7jB,EACbC,KAAK6jB,OAAStY,EACdvL,KAAKykB,IAAM1kB,EAAKmc,MAAM,EAAI,WAAapZ,EAAQ6J,eAAe,MAAM,EAAI7J,EAAQR,KAAOiJ,GACvFvL,KAAKkX,MAAQhC,EAAgBiE,SAAS,EACtCnZ,KAAK0kB,OAASxP,EAAgBC,cAAcpV,EAAM+C,CAAO,EACzD9C,KAAKkW,SAAWhB,EAAgBQ,kBAAkB3V,EAAMC,KAAKkW,SAAUpT,CAAO,CAChF,EAKA0a,WAAY,WACV,OAAO5H,EAAEC,OAAO,CAAA,EAAM,GAAI7V,KAAKkW,QAAQ,CACzC,EAKAuE,SAAU,SAAkBmG,GAC1B5gB,KAAK0kB,OAAS1kB,KAAKsgB,SAAS,EAC5BtgB,KAAKkW,SAASuE,SAAW,CAAC,CAACmG,EAC3BhL,EAAE,YAAc5V,KAAKkX,KAAK,EAAEsF,KAAKxc,KAAKsX,cAAc,CAAC,CACvD,EAKAuJ,KAAM,SAAcoD,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAE5D,KAAKoD,CAAQ,CAC7C,EAKAjH,KAAM,SAAciH,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAEzH,KAAKiH,CAAQ,CAC7C,EAKA3D,SAAU,WACR,OAAOtgB,KAAKkW,SAASuE,SAAWza,KAAK0kB,OAAS9O,EAAE,YAAc5V,KAAKkX,MAAQ,QAAQ,EAAEpJ,IAAI,CAC3F,EAKAqU,SAAU,SAAkBnX,GACtB,CAAC,SAAU,UAAUQ,QAAQvL,EAAQ+K,CAAK,CAAC,EAAI,IAGnDhL,KAAK0kB,OAAS1Z,EACVhL,KAAKkW,SAASuE,SAChB7E,EAAE,YAAc5V,KAAKkX,KAAK,EAAEnR,KAAKiF,CAAK,EAEtC4K,EAAE,YAAc5V,KAAKkX,MAAQ,QAAQ,EAAEpJ,IAAI9C,CAAK,EAEpD,EAMA0P,SAAU,SAAkBsG,EAASjb,GACnC,IAGIuf,EACAe,EAJArmB,KAAKkW,SAASuE,WAGd6K,EAAY1P,EAAE,YAAc5V,KAAKkX,KAAK,EACtCmP,EAAQzQ,EAAE,QAAS0P,CAAS,EAChCA,EAAUpE,KAAK,iBAAiB,EAAEnT,OAAO,EACzCuX,EAAUpE,KAAK,mBAAmB,EAAEnT,OAAO,EAC3B,OAAZiT,GACFqF,EAAMZ,YAAY,YAAY,EAC9BY,EAAMZ,YAAY,UAAU,GACnBzE,GACTqF,EAAMZ,YAAY,YAAY,EAC9BY,EAAMX,SAAS,UAAU,EAIL,UAAhB,OAFF3f,EADkB,KAAA,IAATA,GAA2D,UAAnC,OAAO/F,KAAKkW,SAASyP,UAC/C3lB,KAAKkW,SAASyP,UAEZ5f,IACTuf,EAAUlH,OAAO,+BAAiCrY,EAAO,QAAQ,IAGnEsgB,EAAMZ,YAAY,UAAU,EAC5BY,EAAMX,SAAS,YAAY,EACP,KAAA,IAAT3f,IACgC,UAArC,OAAO/F,KAAKkW,SAAS0P,YACvB7f,EAAO/F,KAAKkW,SAAS0P,YACZ,CAAC7f,GAAQ/F,KAAKkW,SAAS6O,WAChChf,EAAO/F,KAAK4jB,MAAMjF,QAAQ,EAAE4E,iBAGZ,UAAhB,OAAOxd,GACTuf,EAAUlH,OAAO,iCAAmCrY,EAAO,QAAQ,GAGzE,EAKAib,QAAS,WACP,IAAIqF,EAAQzQ,EAAE,YAAc5V,KAAKkX,MAAQ,QAAQ,EACjD,OAAImP,EAAM,GACDA,EAAMC,GAAG,QAAQ,EAEnB,IACT,EAKApe,OAAQ,WACN,IAAIpF,EAAU9C,KAAKwd,WAAW,EAC1BqI,EAAe3Q,EAAgB0B,iBAAiB5W,KAAK4jB,MAAO9gB,CAAO,EACvE,OAAOrC,IAAIyH,OAAO+M,EAAI,yBAA0B,CAC9C6E,GAAI9Z,KAAKykB,IACT1kB,KAAMC,KAAK4jB,MACX3M,KAAMjX,KAAKkX,MACXJ,MAAOhU,EACPuU,QAASrX,KAAKsX,cAAc,EAC5BuO,aAAcA,CAChB,CAAC,CACH,EAKAvO,cAAe,WACb,OAAOtX,KAAKkW,SAASuE,SAAWza,KAAKumB,uBAAuB,EAAIvmB,KAAKwmB,eAAe,CACtF,EAKAA,eAAgB,WACd,IAAIxC,EAAa,GACboC,EAAW,GACXtjB,EAAU9C,KAAKwd,WAAW,EAC1BiJ,EAAavR,EAAgBiE,SAAS,EAgC1C,OA/BKrW,EAAQ6J,eAAe,MAAM,GAA+B,WAA1B1M,EAAQ6C,EAAQgT,IAAI,GAAmC,OAAjBhT,EAAQgT,MAAiB3R,CAAAA,MAAMC,QAAQtB,EAAQgT,IAAI,IAC9HhT,EAAQgT,KAAO,IAEbhT,EAAQR,OACVQ,EAAQgT,KAAKxT,KAAOtC,KAAKkW,SAAS5T,MAEpCQ,EAAQgT,KAAKhC,KAAOhR,EAAQgR,KAC5BhR,EAAQgT,KAAK9K,MAAwB,OAAhBhL,KAAK0kB,OAAkB1kB,KAAK0kB,OAAS,GACtD5hB,EAAQkT,QACVlT,EAAQgT,KAAOZ,EAAgBa,UAAU,CACvC2Q,MAAO,SAAW5jB,EAAQkT,KAC5B,EAAGlT,EAAQgT,IAAI,GAEbhT,EAAQiiB,WACVjiB,EAAQgT,KAAKiP,SAAW,YAEtBjiB,EAAQ6J,eAAe,UAAU,GAAmC,WAA9B1M,EAAQ6C,EAAQsjB,QAAQ,GAAkBjiB,MAAMC,QAAQtB,EAAQsjB,QAAQ,IAChHtjB,EAAQgT,KAAKlI,KAAO6Y,EACpB7Q,EAAEe,KAAK7T,EAAQsjB,SAAU,SAAU1Z,EAAKia,GACtC,IAAIC,EAAe,GACnBhR,EAAEe,KAAKgQ,EAAgB,SAAUrkB,EAAM0I,GACrC4b,EAAa9a,KAAKxJ,EAAO,KAAO0I,EAAQ,GAAG,CAC7C,CAAC,EACDob,EAASta,KAAK,CACZgK,KAA4B,EAAtB8Q,EAAarlB,OAAa,IAAMqlB,EAAajhB,KAAK,GAAG,EAAI,EACjE,CAAC,CACH,CAAC,GAEHiQ,EAAEe,KAAK7T,EAAQgT,KAAM,SAAUxT,EAAM0I,GACnCgZ,EAAWlY,KAAKxJ,EAAO,KAAO0I,EAAQ,GAAG,CAC3C,CAAC,EACMvK,IAAIyH,OAAO+M,EAAI,qBAAsB,CAC1C6B,MAAOhU,EACP2jB,WAAYA,EACZzb,MAAuB,OAAhBhL,KAAK0kB,OAAkB1kB,KAAK0kB,OAAS,GAC5Cxc,OAAQ,CACN4N,KAA0B,EAApBkO,EAAWziB,OAAa,IAAMyiB,EAAWre,KAAK,GAAG,EAAI,GAC3DygB,SAAUA,CACZ,CACF,CAAC,CACH,EAKAG,uBAAwB,WACtB,IAAIzjB,EAAU9C,KAAKwd,WAAW,EAC1B1J,EAAO,OACP9I,EAAQhL,KAAK0kB,OACbrM,EAAOrY,KAAK4jB,MAAMjF,QAAQ,EAC1B7b,EAAQ6J,eAAe,MAAM,GAA6B,UAAxB,OAAO7J,EAAQgR,OACnDA,EAAOhR,EAAQgR,MAEjB,IACE,OAAQA,GACN,IAAK,OACH9I,EAAQkK,EAAgBqC,WAAWvM,CAAK,EACxC,MACF,IAAK,iBACHA,EAAQkK,EAAgB8C,eAAehN,CAAK,EAC5C,MACF,IAAK,QACHA,EAAQkK,EAAgBkD,gBAAgBpN,EAAOqN,CAAI,EACnD,MACF,IAAK,OACHrN,EAAQkK,EAAgBqD,eAAevN,EAAOqN,CAAI,CAEtD,CAIF,CAHE,MAAO1X,GACPqH,QAAQ8Q,MAAMnY,CAAC,CAEjB,CAEA,OAAOF,IAAIyH,OAAO+M,EAAI,qBAAsB,CAC1C6B,MAAOhU,EACPkI,MAAOA,EACPiM,KAAMjX,KAAKkX,KACb,CAAC,CACH,CACF,EAyCW3X,EAQR,SAAUqW,GAEA,SAAP4S,EAAiBC,EAAIC,EAAM5lB,GAC7B,IA+TE6lB,EA/TEtnB,EAAI,CACNunB,QAAS,GACTC,SAAU,WACR,IACE,IAAIC,EACFC,EAAM,EACNC,EAAOP,EAAGplB,IAAI,CAAC,EACf4lB,EAAO/L,SAASgM,UAChBC,EAAYH,EAAKI,eAYnB,OATIH,GAAoD,CAAC,IAA7CI,UAAUC,WAAW9d,QAAQ,SAAS,IAChDsd,EAAMG,EAAKM,YAAY,GACnBC,UAAU,YAAa,CAACnoB,EAAEyM,IAAI,EAAEvM,MAAM,EAC1CwnB,EAAMD,EAAI/iB,KAAKxE,QAGR4nB,CAAAA,GAA2B,MAAdA,IACpBJ,EAAMI,GAEDJ,CACI,CAAX,MAAOpoB,IACX,EACA8oB,SAAU,SAAUV,GAClB,IACE,IACMW,EACFV,EAFAP,EAAGnC,GAAG,QAAQ,KAEd0C,EAAOP,EAAGplB,IAAI,CAAC,GAGRsmB,kBACPX,EAAKW,kBAAkBZ,EAAKA,CAAG,IAG/BW,EAAQV,EAAKY,gBAAgB,GACvBrH,SAAS,CAAA,CAAI,EACnBmH,EAAMG,QAAQ,YAAad,CAAG,EAC9BW,EAAMF,UAAU,YAAaT,CAAG,EAChCW,EAAMI,OAAO,GAGN,CAAX,MAAOnpB,IACX,EACAopB,OAAQ,WACNtB,EAAGnW,GAAG,eAAgB,SAAU3R,GAC9B8nB,EAAGrgB,KAAK,eAAgBzH,EAAEqpB,SAAWrpB,EAAEspB,KAAK,EAC5CxB,EAAGrgB,KAAK,qBAAsBqgB,EAAG3a,IAAI,CAAC,EACtC2a,EAAGrgB,KAAK,yBAA0B/G,EAAEwnB,SAAS,CAAC,EAC9CxnB,EAAE6oB,mBAAqB7oB,EAAE8oB,eAC3B,CAAC,EAAE7X,GAAGsD,EAAEwU,aAAaC,SAAW,aAAe,aAAchpB,EAAEipB,SAAS,EAAEhY,GAAG,uBAAwB,WACnGvB,WAAW,WACT0X,EAAG8B,QAAQ,EAAEC,MAAM,CACrB,EAAG,GAAG,CACR,CAAC,EAAElY,GAAG,cAAe,WACnBmW,EAAGrgB,KAAK,UAAW,CAAA,CAAI,CACzB,CAAC,EAAEkK,GAAG,YAAa,WACbmY,IAAappB,EAAEyM,IAAI,GAAM2a,EAAGrgB,KAAK,SAAS,GAC5CqgB,EAAGiC,QAAQ,QAAQ,EAErBjC,EAAGrgB,KAAK,UAAW,CAAA,CAAK,CAC1B,CAAC,EAGAkK,GAAG,YAAa,WACfmY,EAAWppB,EAAEyM,IAAI,CACnB,CAAC,EAEAwE,GAAG,aAAc,SAAU3R,GACI,CAAA,IAA1BmC,EAAQ6nB,eACV/U,EAAEjV,EAAEiqB,MAAM,EAAEd,OAAO,CAEvB,CAAC,EAEAxX,GAAG,gBAAiB,WACfxP,EAAQ+nB,iBAAmB,CAAClC,EAAUve,KAAK/I,EAAEyM,IAAI,CAAC,GACpDzM,EAAEyM,IAAI,EAAE,CAEZ,CAAC,CACH,EACAgd,aAAc,WAQZ,IAPA,IAEEC,EACAC,EACAC,EACAC,EACAxqB,EANEyqB,EAAa,GAORrqB,EAAI,EAAGA,EAAI4nB,EAAKnnB,OAAQT,CAAC,IAChCsqB,EAAcC,EAAMD,YAAY1C,EAAKrZ,OAAOvO,CAAC,KAE3CiqB,EAAUK,EAAYL,QAAQxnB,SAAS,EAAEC,QAAQ,eAAgB,EAAE,EACnEwnB,EAAWI,EAAYJ,UACvBC,EAAYG,EAAYH,YAEtBE,EAAWrf,KAAK4c,EAAKrZ,OAAOvO,CAAC,CAAC,EAC9BoqB,EAAa,CACXI,MAAO5C,EAAKrZ,OAAOvO,CAAC,EACpBiqB,QAASA,CACX,GAEAI,EAAWrf,KAAMkf,GAAaC,EAAsBF,EAAU,IAApBA,CAAuB,GAGnEI,EAAWrf,KAAK4c,EAAKrZ,OAAOvO,CAAC,EAAE0C,QAAQ,yBAA0B,MAAM,CAAC,EAO5E,OAJA9C,EAAIyqB,EAAWxlB,KAAK,EAAE,EAClBulB,IACFxqB,EAAIA,EAAE8C,QAAQ,IAAImG,OAAO,IAAMuhB,EAAWI,MAAQ,MAAQJ,EAAWI,MAAQ,KAAK,EAAG,OAAO,EAAE9nB,QAAQ,IAAImG,OAAOuhB,EAAWI,MAAO,GAAG,EAAGJ,EAAWH,OAAO,GAEtJ,IAAIphB,OAAOjJ,CAAC,CACrB,EACA6qB,cAAe,WACb9C,EAAGhW,IAAI,CAAC,QAAS,UAAW,QAAS,QAAS,OAAQ,OAAQ,WAAY,IAAI9M,KAAK,QAAQ,CAAC,CAC9F,EACAmI,IAAK,SAAUpL,GACb,IACEuX,EADYwO,EAAGnC,GAAG,OAAO,EACN,MAAQ,OAM3B5lB,EAJqB,EAAnByC,UAAU5B,QACRknB,EAAGxO,GAAQ,IAAMvX,GACnB+lB,EAAGxO,GAAQvX,CAAC,EAEV+lB,GAEAA,EAAGxO,GAAQ,EAEjB,OAAOvZ,CACT,EACA8qB,uBAAwB,SAAUC,GAChC,IAAIC,EAASrqB,EAAEsqB,UAAU,EACvBC,EAAcvqB,EAAEwnB,SAAS,EAC3B,GAAI4C,IAAWC,EAAQ,CASrB,IARA,IAAIG,EAAcpD,EAAGrgB,KAAK,wBAAwB,GAAK,EACrD0jB,EAAUJ,EAAOnqB,OACjBwqB,EAAUN,EAAOlqB,OACjByqB,EAAwB,EACxBC,EAAuB,EACvBC,EAA2B,EAC3BC,EAA8B,EAC9BrrB,EAAI,EACDA,EAAI8qB,EAAa9qB,EAAIgrB,GACnBzqB,EAAE8oB,gBAAgBrpB,GADUA,CAAC,GAIlCmrB,CAAoB,GAEtB,IAAKnrB,EAAI8qB,EAAc,EAAQ,GAAL9qB,GACnBO,EAAE8oB,gBAAgBrpB,GADSA,CAAC,GAIjCkrB,CAAqB,GAEvB,IAAKlrB,EAAI8qB,EAAc,EAAQ,GAAL9qB,EAAQA,CAAC,GAC7BO,EAAE8oB,gBAAgBrpB,IACpBorB,CAAwB,GAG5B,IAAKprB,EAAI+qB,EAAc,EAAQ,GAAL/qB,EAAQA,CAAC,GAC7BO,EAAE6oB,mBAAmBppB,IACvBqrB,CAA2B,GAKbJ,EAAdH,EACFA,EAAwB,GAAVE,EACUF,GAAfC,GAA8BA,IAAgBE,EAClD1qB,EAAE6oB,mBAAmB0B,KACpBQ,EAAWR,EAGXvqB,EAAE8oB,gBADNyB,EADAA,GAAeO,EAA8BD,GAC9BF,KAEbJ,EAAcQ,IAGKP,EAAdD,IAETA,EADAA,GAAeM,EAA2BC,GAC3BF,EAEnB,CACA,OAAOL,CACT,EACAtB,UAAW,SAAU3pB,GACnBA,EAAIA,GAAKH,OAAO2jB,MAChB9iB,EAAEunB,QAAU,GACZ,IAGIwD,EACAX,EAJAzB,EAAUvB,EAAGrgB,KAAK,cAAc,EACpC,GAA6C,CAAC,IAA1CwN,EAAEyW,QAAQrC,EAASqB,EAAMiB,UAAU,EAYrC,OAXIZ,EAASrqB,EAAEsqB,UAAU,EACvBS,EAAW/qB,EAAEwnB,SAAS,EACtB4C,EAAShD,EAAGrgB,KAAK,oBAAoB,GAAK,GAI5C2I,WAAW,WACT1P,EAAEooB,SAASpoB,EAAEmqB,uBAAuBC,CAAM,CAAC,CAC7C,EAAG7V,EAAEwU,aAAamC,qBAAqB,EACvClrB,EAAEyM,IAAI4d,CAAM,EACZrqB,EAAEooB,SAAS2C,CAAQ,EACZ/qB,EAAEmrB,UAAU7rB,CAAC,CAExB,EACAgrB,UAAW,SAAUc,EAAe3e,GA8BlC,IA7BA,IAWE4e,EAiBEC,EA5BAC,EAAM,GACR5hB,EAAgByC,KAAAA,IAARK,EAAoBzM,EAAEyM,IAAI,EAAIA,EAAM,GAC5C+e,EAAI,EACJC,EAAUpE,EAAKnnB,OACfmB,EAAI,EACJqqB,EAAS/hB,EAAMzJ,OACfogB,EAAS,EACTqL,EAAY,OACZC,EAAW,CAAC,EACZC,EAAiB,EACjBC,EAAkB,GASlBC,EANEtqB,EAAQuqB,SACVL,EAAY,UACZrL,EAAS,CAAC,EACV+K,EAAe,EACfG,EAAIC,EAAU,EACdpqB,EAAIqqB,EAAS,EACL,WACN,MAAW,CAAC,EAALF,GAAc,CAAC,EAALnqB,CACnB,IAEAgqB,EAAeI,EAAU,EACjB,WACN,OAAOD,EAAIC,GAAWpqB,EAAIqqB,CAC5B,GAGKK,EAAM,GAAG,CACd,IAAIE,EAAY5E,EAAKrZ,OAAOwd,CAAC,EAC3BU,EAAWviB,EAAMqE,OAAO3M,CAAC,EACzB0oB,EAAcC,EAAMD,YAAYkC,GAC9BlC,GACEmC,EAAStpB,MAAMmnB,EAAYL,OAAO,GACpC6B,EAAII,GAAWO,CAAQ,EACnBnC,EAAYH,YACG,CAAC,IAAdgC,EACFA,EAAWJ,EACFA,IAAMH,GAAgBG,IAAMI,IACrCJ,EAAII,EAAWtL,GAEb+K,IAAiBO,KACnBJ,GAAKlL,GAGTkL,GAAKlL,GACI4L,IAAaZ,GAItBO,CAAc,GACdP,EAA2Blf,KAAAA,GAClB2d,EAAYJ,UACrB6B,GAAKlL,EACLjf,GAAKif,GACIyJ,EAAYoC,UACrBZ,EAAII,GAAW5B,EAAYoC,QAAQ,EACnCX,GAAKlL,EACLjf,GAAKif,GAELtgB,EAAEunB,QAAQ9c,KAAK,CACbzK,EAAGqB,EACHA,EAAG6qB,EACH5sB,EAAGyqB,EAAYL,OACjB,CAAC,EAEHroB,GAAKif,IAEA8K,GACHG,EAAII,GAAWM,CAAS,EAEtBC,IAAaD,GACfH,EAAgBrhB,KAAKpJ,CAAC,EACtBA,GAAKif,IAELgL,EAA2BW,EAC3BH,EAAgBrhB,KAAKpJ,EAAIwqB,CAAc,EACvCA,CAAc,IAEhBL,GAAKlL,EAET,CACI8L,EAAoB/E,EAAKrZ,OAAOqd,CAAY,EAC5CI,IAAYC,EAAS,GAAM1B,EAAMD,YAAYqC,IAC/Cb,EAAI9gB,KAAK2hB,CAAiB,EAExB/B,EAASkB,EAAIjnB,KAAK,EAAE,EAExB,OADAtE,EAAEqsB,sBAAsBhC,EAAQyB,EAAiBJ,CAAM,EAChDrB,CACT,EACAgC,sBAAuB,SAAUhC,EAAQyB,EAAiBJ,GACxD,IAAIY,EAAW7qB,EAAQuqB,QAAU3B,EAAOnqB,OAASwrB,EAAS,EAC1D1rB,EAAE8oB,gBAAkB,GACpB,IAAK,IAAIrpB,EAAI,EAAGA,EAAIqsB,EAAgB5rB,OAAQT,CAAC,GAC3CO,EAAE8oB,gBAAgBgD,EAAgBrsB,GAAK6sB,GAAY,CAEvD,EACAnB,UAAW,SAAU7rB,GAIN,SAAXmhB,EAAqBxf,EAAMsrB,EAAUnlB,GACN,YAAzB,OAAO3F,EAAQR,IAAwBsrB,GACzC9qB,EAAQR,GAAMqI,MAAM3K,KAAMyI,CAAI,CAElC,CAPF,IAAIqF,EAAMzM,EAAEyM,IAAI,EACd+f,EAAU/f,IAAQ2c,EAClBqD,EAAc,CAAChgB,EAAKnN,EAAG8nB,EAAI3lB,GAM7Bgf,EAAS,WAAwB,CAAA,GAAZ+L,EAAkBC,CAAW,EAClDhM,EAAS,aAA0B,CAAA,GAAZ+L,EAAkBC,CAAW,EACpDhM,EAAS,aAAchU,EAAIvM,SAAWmnB,EAAKnnB,OAAQusB,CAAW,EAC9DhM,EAAS,YAAgC,EAAnBzgB,EAAEunB,QAAQrnB,OAAY,CAACuM,EAAKnN,EAAG8nB,EAAIpnB,EAAEunB,QAAS9lB,EAAQ,CAC9E,CACF,EAEIuoB,GADJ5C,EAAK7S,EAAE6S,CAAE,EACGzoB,MACVyqB,EAAWppB,EAAEyM,IAAI,EAEnB4a,EAAuB,YAAhB,OAAOA,EAAsBA,EAAKrnB,EAAEyM,IAAI,EAAGL,KAAAA,EAAWgb,EAAI3lB,CAAO,EAAI4lB,EAG5E2C,EAAM3C,KAAOA,EACb2C,EAAMvoB,QAAUA,EAChBuoB,EAAMtd,OAAS,WACb,IAAIggB,EAAQ1sB,EAAEwnB,SAAS,EAUvB,OATIwC,EAAMvoB,QAAQkrB,aAChBvF,EAAGlE,WAAW,aAAa,EAEzBkE,EAAGrgB,KAAK,gBAAgB,GAC1BqgB,EAAGlE,WAAW,WAAW,EAE3BljB,EAAEkqB,cAAc,EAChBlqB,EAAEyM,IAAIud,EAAM4C,YAAY,CAAC,EACzB5sB,EAAEooB,SAASsE,CAAK,EACTtF,CACT,EAGA4C,EAAM4C,YAAc,WAClB,OAAO5sB,EAAEsqB,UAAU,CAAA,CAAI,CACzB,EAGAN,EAAM6C,aAAe,SAAUpgB,GAC7B,OAAOzM,EAAEsqB,UAAU,CAAA,EAAO7d,CAAG,CAC/B,EACAud,EAAMnJ,KAAO,SAAUiM,GAQrB,GAPAA,EAAWA,GAAY,CAAA,EACvBrrB,EAAUA,GAAW,GACrBuoB,EAAMR,gBAAkBjV,EAAEwU,aAAaS,gBACvCQ,EAAMiB,WAAa1W,EAAEwU,aAAakC,WAClCjB,EAAMD,YAAcxV,EAAEC,OAAO,GAAID,EAAEwU,aAAagB,YAAatoB,EAAQsoB,WAAW,EAChFC,EAAQzV,EAAEC,OAAO,CAAA,EAAM,GAAIwV,EAAOvoB,CAAO,EACzC6lB,EAAYtnB,EAAEypB,aAAa,EACvBqD,EACF9sB,EAAE0oB,OAAO,EACT1oB,EAAEyM,IAAIzM,EAAEsqB,UAAU,CAAC,MACd,CACD7oB,EAAQkrB,aACVvF,EAAG3S,KAAK,cAAehT,EAAQkrB,WAAW,EAMxCvF,EAAGrgB,KAAK,MAAM,GAChBqgB,EAAG3S,KAAK,eAAgB,KAAK,EAK/B,IAAK,IAAIhV,EAAI,EAAGstB,EAAY,CAAA,EAAMttB,EAAI4nB,EAAKnnB,OAAQT,CAAC,GAAI,CACtD,IAAIsqB,EAAcC,EAAMD,YAAY1C,EAAKrZ,OAAOvO,CAAC,GACjD,GAAIsqB,GAAeA,EAAYH,UAAW,CACxCmD,EAAY,CAAA,EACZ,KACF,CACF,CACIA,GACF3F,EAAG3S,KAAK,YAAa4S,EAAKnnB,MAAM,EAAE6G,KAAK,iBAAkB,CAAA,CAAI,EAE/D/G,EAAEkqB,cAAc,EAChBlqB,EAAE0oB,OAAO,EACLgE,EAAQ1sB,EAAEwnB,SAAS,EACvBxnB,EAAEyM,IAAIzM,EAAEsqB,UAAU,CAAC,EACnBtqB,EAAEooB,SAASsE,CAAK,CAClB,CACF,EACA1C,EAAMnJ,KAAK,CAACuG,EAAGnC,GAAG,OAAO,CAAC,CAC5B,CAEqB,SAAjB+H,IACA,IAAIhI,EAAQzQ,EAAE5V,IAAI,EAChB8C,EAAU,GACVwrB,EAAS,aACT5F,EAAOrC,EAAMvQ,KAAK,WAAW,EAU/B,GATIuQ,EAAMvQ,KAAKwY,EAAS,SAAS,IAC/BxrB,EAAQuqB,QAAU,CAAA,GAEhBhH,EAAMvQ,KAAKwY,EAAS,iBAAiB,IACvCxrB,EAAQ+nB,gBAAkB,CAAA,GAEiB,SAAzCxE,EAAMvQ,KAAKwY,EAAS,eAAe,IACrCxrB,EAAQ6nB,cAAgB,CAAA,GAEtB4D,EAAkBlI,EAAOqC,EAAM5lB,CAAO,EACxC,OAAOujB,EAAMje,KAAK,OAAQ,IAAIogB,EAAKxoB,KAAM0oB,EAAM5lB,CAAO,CAAC,CAE3D,CACoB,SAApByrB,EAA8BzX,EAAO4R,EAAM5lB,GACzCA,EAAUA,GAAW,GACrB,IAAI0rB,EAAa5Y,EAAEkB,CAAK,EAAE1O,KAAK,MAAM,EACnC8B,EAAYD,KAAKC,UACjBc,EAAQ4K,EAAEkB,CAAK,EAAEhJ,IAAI,GAAK8H,EAAEkB,CAAK,EAAE/Q,KAAK,EAC1C,IAIE,MAHoB,YAAhB,OAAO2iB,IACTA,EAAOA,EAAK1d,CAAK,GAEU,UAAtB,OAAOwjB,GAA2BtkB,EAAUskB,EAAW1rB,OAAO,IAAMoH,EAAUpH,CAAO,GAAK0rB,EAAW9F,OAASA,CAC1G,CAAX,MAAO/nB,IACX,CA9BFiV,EAAE6Y,aAAe,GA2CjB7Y,EAAEhM,GAAG8e,KAAO,SAAUA,EAAM5lB,GAC1BA,EAAUA,GAAW,GAKJ,SAAf4rB,IACE,GAAIH,EAAkBvuB,KAAM0oB,EAAM5lB,CAAO,EACvC,OAAO8S,EAAE5V,IAAI,EAAEoI,KAAK,OAAQ,IAAIogB,EAAKxoB,KAAM0oB,EAAM5lB,CAAO,CAAC,CAE7D,CARF,IAAI6rB,EAAW3uB,KAAK2uB,SAClBC,EAAUhZ,EAAEwU,aACZyE,EAAWD,EAAQE,cACnBC,EAAcjsB,EAAQisB,aAAeH,EAAQG,YAa/C,OAPAnZ,EAAE5V,IAAI,EAAE2W,KAAK+X,CAAY,EACrBC,GAAyB,KAAbA,GAAmBI,IACjCC,cAAcpZ,EAAE6Y,aAAaE,EAAS,EACtC/Y,EAAE6Y,aAAaE,GAAYM,YAAY,WACrCrZ,EAAEsH,QAAQ,EAAEgE,KAAKyN,CAAQ,EAAEhY,KAAK+X,CAAY,CAC9C,EAAGG,CAAQ,GAEN7uB,IACT,EACA4V,EAAEhM,GAAGslB,OAAS,SAAUphB,GACtB,OAAO9N,KAAKoI,KAAK,MAAM,EAAE8lB,aAAapgB,CAAG,CAC3C,EACA8H,EAAEhM,GAAGulB,OAAS,WAGZ,OAFAH,cAAcpZ,EAAE6Y,aAAazuB,KAAK2uB,SAAS,EAC3C,OAAO/Y,EAAE6Y,aAAazuB,KAAK2uB,UACpB3uB,KAAK2W,KAAK,WACf,IAAIyY,EAAWxZ,EAAE5V,IAAI,EAAEoI,KAAK,MAAM,EAC9BgnB,GACFA,EAASrhB,OAAO,EAAEshB,WAAW,MAAM,CAEvC,CAAC,CACH,EACAzZ,EAAEhM,GAAG0lB,SAAW,WACd,OAAOtvB,KAAKoI,KAAK,MAAM,EAAE6lB,YAAY,CACvC,EACArY,EAAE2Z,cAAgB,SAAUZ,KAC1BA,EAAWA,GAAY/Y,EAAEwU,aAAaoF,wBACF5Z,EAAI+Y,EAAW/Y,EAAE+Y,CAAQ,GACnD7f,OAAO8G,EAAEwU,aAAaqF,YAAY,EAAE9Y,KAAK0X,CAAc,CACnE,EA5dA,IA0aMqB,EADEjH,EAoDJmG,EAAU,CACZY,aAAc,oBACdC,aAAc,eACdL,SAAU,CAAA,EACVN,cAAe,IACfC,YAAa,CAAA,EACbxC,sBAAuB,GAEvBlC,SAAU,CAAC,oCAAoCjgB,KAAK5J,OAAO6oB,UAAUsG,SAAS,IA7DnD9N,EA6DuE,QA5D5F4G,EAAKvL,SAAS0S,cAAc,KAAK,GAGrCF,GADA7N,EAAY,KAAOA,KACQ4G,KAEzBA,EAAGoH,aAAahO,EAAW,SAAS,EACpC6N,EAAuC,YAAzB,OAAOjH,EAAG5G,IAE1B4G,EAAK,KACEiH,GAoDTI,cAAe,CAAA,EACfxD,WAAY,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAChDlB,YAAa,CACX2E,EAAK,CACHhF,QAAS,IACX,EACAiF,EAAK,CACHjF,QAAS,KACTC,SAAU,CAAA,CACZ,EACAiF,IAAK,CACHlF,QAAS,KACTE,UAAW,CAAA,CACb,EACAiF,EAAK,CACHnF,QAAS,aACX,EACAoF,EAAK,CACHpF,QAAS,UACX,CACF,CACF,EACAnV,EAAEwU,aAAexU,EAAEwU,cAAgB,IACnCwE,EAAUhZ,EAAEwU,aAAexU,EAAEC,OAAO,CAAA,EAAM,GAAI+Y,EAAShZ,EAAEwU,YAAY,GAGzDgF,UACVxZ,EAAE2Z,cAAc,EAElBN,YAAY,WACNrZ,EAAEwU,aAAa0F,eACjBla,EAAE2Z,cAAc,CAEpB,EAAGX,EAAQE,aAAa,CAC1B,EAlhBoB/Z,EAkhBjBvU,OAAOuU,OAlhBkBC,EAkhBVxU,OAAOwU,MAjhBD,YAAlB,OAAOtV,QAAyBA,OAAOC,IACzCD,OAAO,CAAC,UAAWH,CAAO,EACE,UAAnB,OAAOC,SAA0C,aAAlB,OAAO4wB,OAC/C3wB,OAAOD,QAAUD,EAAQyB,QAAQ,QAAQ,CAAC,EAE1CzB,EAAQwV,GAAUC,CAAK,EA8gB3B2N,EAAW9L,OAAO6R,KAAO,CACvBjE,IAAK,GACLvN,MAAO,GACP0M,MAAO,KACPC,OAAQ,EACRa,OAAQ,GACRxO,SAAU,CACRpC,KAAM,OACNxR,KAAM,KACNqiB,MAAO,KACPtO,WAAY,KACZL,MAAO,KACP6O,WAAY,KACZxR,YAAa,KACbyR,UAAW,KACXqB,OAAQ,KACRrQ,KAAM,CACJsL,MAAS,6BACX,EACA2D,SAAU,KACVtK,SAAU,KACV2L,SAAU,KACVpJ,KAAM,CAAA,EACNN,OAAQ,IACV,EAOAwF,KAAM,SAAcniB,EAAM+C,EAASyI,GACjCvL,KAAK4jB,MAAQ7jB,EACbC,KAAK6jB,OAAStY,EACdvL,KAAKykB,IAAM1kB,EAAKmc,MAAM,EAAI,WAAapZ,EAAQ6J,eAAe,MAAM,EAAI7J,EAAQR,KAAOiJ,GACvFvL,KAAK0kB,OAASxP,EAAgBC,cAAcpV,EAAM+C,CAAO,EACzD9C,KAAKkW,SAAWhB,EAAgBQ,kBAAkB3V,EAAMC,KAAKkW,SAAUpT,CAAO,EAC9E9C,KAAKkX,MAAQhC,EAAgBiE,SAAS,EACtC,IAAI4C,EAAO/b,KACXD,EAAKuS,GAAG,oBAAqB,WACtByJ,EAAK7F,SAASuE,UACjBsB,EAAKgI,YAAY,CAErB,CAAC,CACH,EAKAvG,WAAY,WACV,OAAO5H,EAAEC,OAAO,CAAA,EAAM,GAAI7V,KAAKkW,QAAQ,CACzC,EAKAuE,SAAU,SAAkBmG,GAC1B5gB,KAAK0kB,OAAS1kB,KAAKsgB,SAAS,EAC5BtgB,KAAKkW,SAASuE,SAAW,CAAC,CAACmG,EAC3BhL,EAAE,YAAc5V,KAAKkX,KAAK,EAAEsF,KAAKxc,KAAKsX,cAAc,CAAC,EAChDtX,KAAKkW,SAASuE,UACjBza,KAAK+jB,YAAY,CAErB,EAKAlD,KAAM,SAAcoD,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAE5D,KAAKoD,CAAQ,CAC7C,EAKAjH,KAAM,SAAciH,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAEzH,KAAKiH,CAAQ,CAC7C,EAKA3D,SAAU,WACR,OAAOtgB,KAAKkW,SAASuE,SAAWza,KAAK0kB,OAAS9O,EAAE,YAAc5V,KAAKkX,MAAQ,QAAQ,EAAEpJ,IAAI,CAC3F,EAKAqU,SAAU,SAAkBnX,GACtB,CAAC,SAAU,UAAUQ,QAAQvL,EAAQ+K,CAAK,CAAC,EAAI,IAGnDA,EAAQA,EAAMxH,QAAQ,WAAY,EAAE,EACpCxD,KAAK0kB,OAAS1Z,EACVhL,KAAKkW,SAASuE,SAChB7E,EAAE,YAAc5V,KAAKkX,KAAK,EAAEnR,KAAKiF,CAAK,EAEtC4K,EAAE,YAAc5V,KAAKkX,MAAQ,QAAQ,EAAEpJ,IAAI9C,CAAK,EAEpD,EAMA0P,SAAU,SAAkBsG,EAASjb,GACnC,IAGIuf,EACAe,EAJArmB,KAAKkW,SAASuE,WAGd6K,EAAY1P,EAAE,YAAc5V,KAAKkX,KAAK,EACtCmP,EAAQzQ,EAAE,QAAS0P,CAAS,EAChCA,EAAUpE,KAAK,iBAAiB,EAAEnT,OAAO,EACzCuX,EAAUpE,KAAK,mBAAmB,EAAEnT,OAAO,EAC3B,OAAZiT,GACFqF,EAAMZ,YAAY,YAAY,EAC9BY,EAAMZ,YAAY,UAAU,GACnBzE,GACTqF,EAAMZ,YAAY,YAAY,EAC9BY,EAAMX,SAAS,UAAU,EAIL,UAAhB,OAFF3f,EADkB,KAAA,IAATA,GAA2D,UAAnC,OAAO/F,KAAKkW,SAASyP,UAC/C3lB,KAAKkW,SAASyP,UAEZ5f,IACTuf,EAAUlH,OAAO,+BAAiCrY,EAAO,QAAQ,IAGnEsgB,EAAMZ,YAAY,UAAU,EAC5BY,EAAMX,SAAS,YAAY,EACP,KAAA,IAAT3f,IACgC,UAArC,OAAO/F,KAAKkW,SAAS0P,YACvB7f,EAAO/F,KAAKkW,SAAS0P,YACZ,CAAC7f,GAAQ/F,KAAKkW,SAAS6O,WAChChf,EAAO/F,KAAK4jB,MAAMjF,QAAQ,EAAE4E,iBAGZ,UAAhB,OAAOxd,GACTuf,EAAUlH,OAAO,iCAAmCrY,EAAO,QAAQ,GAGzE,EAKAib,QAAS,WACP,IAAIqF,EAAQzQ,EAAE,YAAc5V,KAAKkX,MAAQ,QAAQ,EACjD,OAAImP,EAAM,GACDA,EAAMC,GAAG,QAAQ,EAEnB,IACT,EAKApe,OAAQ,WACN,IAAIpF,EAAU9C,KAAKwd,WAAW,EAC1BqI,EAAe3Q,EAAgB0B,iBAAiB5W,KAAK4jB,MAAO9gB,CAAO,EACvE,OAAOrC,IAAIyH,OAAO+M,EAAI,yBAA0B,CAC9C6E,GAAI9Z,KAAKykB,IACT1kB,KAAMC,KAAK4jB,MACX3M,KAAMjX,KAAKkX,MACXJ,MAAOhU,EACPuU,QAASrX,KAAKsX,cAAc,EAC5BuO,aAAcA,CAChB,CAAC,CACH,EAKAvO,cAAe,WACb,OAAOtX,KAAKkW,SAASuE,SAAWza,KAAKumB,uBAAuB,EAAIvmB,KAAKwmB,eAAe,CACtF,EAMAA,eAAgB,WACd,IAAIxC,EAAa,GACboC,EAAW,GACXtjB,EAAU9C,KAAKwd,WAAW,EAC1BiJ,EAAavR,EAAgBiE,SAAS,EAgC1C,OA/BKrW,EAAQ6J,eAAe,MAAM,GAA+B,WAA1B1M,EAAQ6C,EAAQgT,IAAI,GAAmC,OAAjBhT,EAAQgT,MAAiB3R,CAAAA,MAAMC,QAAQtB,EAAQgT,IAAI,IAC9HhT,EAAQgT,KAAO,IAEbhT,EAAQR,OACVQ,EAAQgT,KAAKxT,KAAOtC,KAAKkW,SAAS5T,MAEpCQ,EAAQgT,KAAKhC,KAAO,OACpBhR,EAAQgT,KAAK9K,MAAwB,OAAhBhL,KAAK0kB,OAAkB1kB,KAAK0kB,OAAS,GACtD5hB,EAAQkT,QACVlT,EAAQgT,KAAOZ,EAAgBa,UAAU,CACvC2Q,MAAO,SAAW5jB,EAAQkT,KAC5B,EAAGlT,EAAQgT,IAAI,GAEbhT,EAAQiiB,WACVjiB,EAAQgT,KAAKiP,SAAW,YAEtBjiB,EAAQ6J,eAAe,UAAU,GAAmC,WAA9B1M,EAAQ6C,EAAQsjB,QAAQ,GAAkBjiB,MAAMC,QAAQtB,EAAQsjB,QAAQ,IAChHtjB,EAAQgT,KAAKlI,KAAO6Y,EACpB7Q,EAAEe,KAAK7T,EAAQsjB,SAAU,SAAU1Z,EAAKia,GACtC,IAAIC,EAAe,GACnBhR,EAAEe,KAAKgQ,EAAgB,SAAUrkB,EAAM0I,GACrC4b,EAAa9a,KAAKxJ,EAAO,KAAO0I,EAAQ,GAAG,CAC7C,CAAC,EACDob,EAASta,KAAK,CACZgK,KAA4B,EAAtB8Q,EAAarlB,OAAa,IAAMqlB,EAAajhB,KAAK,GAAG,EAAI,EACjE,CAAC,CACH,CAAC,GAEHiQ,EAAEe,KAAK7T,EAAQgT,KAAM,SAAUxT,EAAM0I,GACnCgZ,EAAWlY,KAAKxJ,EAAO,KAAO0I,EAAQ,GAAG,CAC3C,CAAC,EACMvK,IAAIyH,OAAO+M,EAAI,qBAAsB,CAC1C6B,MAAOhU,EACP2jB,WAAYA,EACZzb,MAAuB,OAAhBhL,KAAK0kB,OAAkB1kB,KAAK0kB,OAAS,GAC5Cxc,OAAQ,CACN4N,KAA0B,EAApBkO,EAAWziB,OAAa,IAAMyiB,EAAWre,KAAK,GAAG,EAAI,GAC3DygB,SAAUA,CACZ,CACF,CAAC,CACH,EAKAG,uBAAwB,WACtB,IAAIzjB,EAAU9C,KAAKwd,WAAW,EAC9B,OAAO/c,IAAIyH,OAAO+M,EAAI,qBAAsB,CAC1C6B,MAAOhU,EACPkI,MAAuB,OAAhBhL,KAAK0kB,OAAkB1kB,KAAK0kB,OAAS,EAC9C,CAAC,CACH,EAKAX,YAAa,WACXnO,EAAE,gBAAkB5V,KAAKykB,IAAM,aAAezkB,KAAKkX,MAAQ,QAAQ,EAAEwR,KAAK1oB,KAAKkW,SAASwS,KAAM1oB,KAAKkW,SAASpT,OAAO,CACrH,CACF,EAEA6f,EAAW9L,OAAOwZ,MAAQ,CACxB5L,IAAK,GACLvN,MAAO,GACP0M,MAAO,KACPc,OAAQ,GACR4L,MAAO,GACPpa,SAAU,CACRpC,KAAM,QACNxR,KAAM,KACNqiB,MAAO,KACPtO,WAAY,KACZL,MAAO,KACP6O,WAAY,KACZxR,YAAa,KACbyR,UAAW,KACXjO,OAAQ,GACR/T,QAAS,CACPmP,MAAO,GACPse,KAAM,KACNxc,IAAK,GACLyc,SAAU,KACVC,QAAS,KACTC,SAAU,IACZ,EACA3L,SAAU,KACVtK,SAAU,KACVuC,KAAM,CAAA,EACNN,OAAQ,IACV,EAOAwF,KAAM,SAAcniB,EAAM+C,EAASyI,GACjC,IAAI8J,EAAatV,EAAKuV,UAAU,EAU5ByG,GATJ/b,KAAK4jB,MAAQ7jB,EACbC,KAAKykB,IAAM1kB,EAAKmc,MAAM,EAAI,WAAapZ,EAAQ6J,eAAe,MAAM,EAAI7J,EAAQR,KAAOiJ,GACvFvL,KAAKkW,SAAWhB,EAAgBQ,kBAAkB3V,EAAMC,KAAKkW,SAAUpT,CAAO,EAC9E9C,KAAKkX,MAAQhC,EAAgBiE,SAAS,EACV,UAAxB,OAAOrW,EAAQR,MAAqB+S,EAAW1I,eAAe7J,EAAQR,IAAI,GAA8D,GAAzD,CAAC,UAAUkJ,QAAQvL,EAAQoV,EAAWvS,EAAQR,KAAK,CAAC,IACjI0Y,EAAS3F,EAAWvS,EAAQR,MAChCtC,KAAK0kB,OAAS1J,EAAOrO,eAAe,OAAO,GAA4D,GAAvD,CAAC,SAAU,UAAUnB,QAAQvL,EAAQ+a,EAAOhQ,KAAK,CAAC,EAASgQ,EAAOhQ,MAAQ,GAC1HhL,KAAKswB,MAAQtV,EAAOrO,eAAe,MAAM,GAA2D,GAAtD,CAAC,SAAU,UAAUnB,QAAQvL,EAAQ+a,EAAOjV,IAAI,CAAC,EAASiV,EAAOjV,KAAO,IAE7G/F,MACXD,EAAKuS,GAAG,oBAAqB,WAC3ByJ,EAAKgI,YAAY,CACnB,CAAC,CACH,EAKAvG,WAAY,WACV,OAAO5H,EAAEC,OAAO,CAAA,EAAM,GAAI7V,KAAKkW,QAAQ,CACzC,EAKAuE,SAAU,SAAkBmG,GAC1B5gB,KAAK0kB,OAAS1kB,KAAKsgB,SAAS,EAC5BtgB,KAAKkW,SAASuE,SAAW,CAAC,CAACmG,EAC3BhL,EAAE,YAAc5V,KAAKkX,KAAK,EAAEsF,KAAKxc,KAAKsX,cAAc,CAAC,EAChDtX,KAAKkW,SAASuE,UACjBza,KAAK+jB,YAAY,CAErB,EAKAlD,KAAM,SAAcoD,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAE5D,KAAKoD,CAAQ,CAC7C,EAKAjH,KAAM,SAAciH,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAEzH,KAAKiH,CAAQ,CAC7C,EAKA3D,SAAU,WACR,OAAOtgB,KAAKkW,SAASuE,SAAWza,KAAK0kB,OAAS9O,EAAE,YAAc5V,KAAKkX,MAAQ,gCAAgC,EAAEpJ,IAAI,CACnH,EAMAqU,SAAU,SAAkBnX,EAAOjF,GACjC,IAQM4qB,EACAlG,EAIE4F,EAbJ,CAAC,SAAU,UAAU7kB,QAAQvL,EAAQ+K,CAAK,CAAC,EAAI,IAGnDhL,KAAK0kB,OAAS1Z,EACVhL,KAAKkW,SAASuE,SAChB7E,EAAE,YAAc5V,KAAKkX,KAAK,EAAEnR,KAAKA,CAAI,GAEjC6qB,EAAehb,EAAE,YAAc5V,KAAKkX,MAAQ,2BAA2B,EACvEyZ,EAAc/a,EAAE,YAAc5V,KAAKkX,MAAQ,0BAA0B,EACrEuT,EAAWmG,EAAa9iB,IAAI,EAChC8iB,EAAa9iB,IAAI9C,CAAK,EACtB2lB,EAAY7iB,IAAI/H,CAAI,EAChB0kB,GAAYzf,KACVqlB,EAAQrwB,KAAKkW,SAASvJ,eAAe,SAAS,GAAwC,WAAnC1M,EAAQD,KAAKkW,SAASpT,OAAO,EAAiB9C,KAAKkW,SAASpT,QAAU,IACnH6J,eAAe,UAAU,IACH,YAA1B,OAAO0jB,EAAMK,SACfL,EAAMK,SAAS1wB,IAAI,EACgB,UAA1B,OAAOqwB,EAAMK,UACtB,IAAIjpB,SAAS,QAAS4oB,EAAMK,QAAQ,EAAE1wB,IAAI,GAG9CA,KAAK4jB,MAAM3H,SAAS,2BAA4Bjc,KAAM,CAACA,KAAK,IAGlE,EAMA0a,SAAU,SAAkBsG,EAASjb,GACnC,IAGIuf,EAHAtlB,KAAKkW,SAASuE,YAGd6K,EAAY1P,EAAE,YAAc5V,KAAKkX,KAAK,GAChCgK,KAAK,eAAe,EAAEnT,OAAO,EACvCuX,EAAUpE,KAAK,cAAc,EAAEnT,OAAO,EACtB,OAAZiT,IAGAA,EAIkB,UAAhB,OAFFjb,EADkB,KAAA,IAATA,GAA2D,UAAnC,OAAO/F,KAAKkW,SAASyP,UAC/C3lB,KAAKkW,SAASyP,UAEZ5f,IACTuf,EAAUlH,OAAO,kCAAoCrY,EAAO,QAAQ,GAGlD,KAAA,IAATA,IACgC,UAArC,OAAO/F,KAAKkW,SAAS0P,YACvB7f,EAAO/F,KAAKkW,SAAS0P,YACZ,CAAC7f,GAAQ/F,KAAKkW,SAAS6O,WAChChf,EAAO/F,KAAK4jB,MAAMjF,QAAQ,EAAE4E,iBAGZ,UAAhB,OAAOxd,GACTuf,EAAUlH,OAAO,iCAAmCrY,EAAO,QAAQ,IAGzE,EAKAib,QAAS,WACP,MAAA,EAAIhhB,KAAKkW,SAAS6O,UAAa/kB,CAAAA,KAAKkW,SAASuE,UACnC,CAACza,KAAKsgB,SAAS,EAG3B,EAKApY,OAAQ,WACN,IAAIpF,EAAU9C,KAAKwd,WAAW,EAC1BqI,EAAe3Q,EAAgB0B,iBAAiB5W,KAAK4jB,MAAO9gB,CAAO,EACvE,OAAOrC,IAAIyH,OAAO+M,EAAI,yBAA0B,CAC9C6E,GAAI9Z,KAAKykB,IACT1kB,KAAMC,KAAK4jB,MACX3M,KAAMjX,KAAKkX,MACXJ,MAAOhU,EACPuU,QAASrX,KAAKsX,cAAc,EAC5BuO,aAAcA,CAChB,CAAC,CACH,EAKAvO,cAAe,WACb,IAAIlC,EAAepV,KAAKwd,WAAW,EAC/BwG,EAAa,GACb6M,EAAW,CACb/c,KAAM,OACN2G,SAAU,WACV2G,MAAS,sCACTpW,MAAsB,OAAfhL,KAAKswB,MAAiBtwB,KAAKswB,MAAQ,EAC5C,EAUA,OATIlb,EAAa2P,WACf8L,EAAS9L,SAAW,YAElB3P,EAAazI,eAAe,MAAM,GAAoC,WAA/B1M,EAAQmV,EAAaU,IAAI,GAAkB3R,MAAMC,QAAQgR,EAAaU,IAAI,IACnH+a,EAAW3b,EAAgBa,UAAU8a,EAAUzb,EAAaU,IAAI,GAElEF,EAAEe,KAAKka,EAAU,SAAUvuB,EAAM0I,GAC/BgZ,EAAWlY,KAAKxJ,EAAO,KAAO0I,EAAQ,GAAG,CAC3C,CAAC,EACMvK,IAAIyH,OAAO+M,EAAI,qBAAsB,CAC1C6B,MAAO1B,EACPpK,MAAuB,OAAhBhL,KAAK0kB,OAAkB1kB,KAAK0kB,OAAS,GAC5C3e,KAAqB,OAAf/F,KAAKswB,MAAiBtwB,KAAKswB,MAAQ,GACzCjY,KAAMrY,KAAK4jB,MAAMjF,QAAQ,EACzBzW,OAAQ,CACN8N,MAAOhW,KAAKkW,SAASF,MACrBF,KAA0B,EAApBkO,EAAWziB,OAAayiB,EAAWre,KAAK,GAAG,EAAI,EACvD,CACF,CAAC,CACH,EAKAoe,YAAa,WACX,IAAIhI,EAAO/b,KACPqwB,EAAQrwB,KAAKkW,SAASvJ,eAAe,SAAS,GAAwC,WAAnC1M,EAAQD,KAAKkW,SAASpT,OAAO,EAAiB9C,KAAKkW,SAASpT,QAAU,GAG7H8S,EAAE,YAAc5V,KAAKkX,MAAQ,mBAAmB,EAAEgN,MAAM,SAAUvjB,GAC5D0vB,EAAM1jB,eAAe,SAAS,IACH,YAAzB,OAAO0jB,EAAMI,QACfJ,EAAMI,QAAQ1U,CAAI,EACgB,UAAzB,OAAOsU,EAAMI,SACtB,IAAIhpB,SAAS,QAAS4oB,EAAMI,OAAO,EAAE1U,CAAI,GAG7CA,EAAK6H,MAAM3H,SAAS,0BAA2BF,EAAM,CAACA,EAAMpb,EAAE,EAC9Dob,EAAKoG,SAAS,GAAI,EAAE,CACtB,CAAC,EAGDvM,EAAE,YAAc5V,KAAKkX,MAAQ,oBAAoB,EAAEgN,MAAM,SAAUvjB,GACjE,IAMImwB,EACAC,EAIEC,EACAR,EAZFve,EAAQoe,EAAM1jB,eAAe,OAAO,GAA4B,UAAvB,OAAO0jB,EAAMpe,MAAqBoe,EAAMpe,MAAQ,GACzFse,EAAOF,EAAM1jB,eAAe,MAAM,GAA2B,UAAtB,OAAO0jB,EAAME,KAAoBF,EAAME,KAAO,KACrFxc,EAAMsc,EAAM1jB,eAAe,KAAK,GAA0B,UAArB,OAAO0jB,EAAMtc,IAAmBsc,EAAMtc,IAAM,GAChFA,IAGD+c,EAAU5b,EAAgBiE,SAAS,EACnC4X,EAAetwB,IAAIyH,OAAO+M,EAAI,6BAA8B,CAC9DoD,KAAM0D,EAAK6H,MAAMjF,QAAQ,CAC3B,CAAC,EACG7e,OAAO6M,eAAe,OAAO,IAE3B6jB,EADAQ,EAAS,KAETX,EAAM1jB,eAAe,UAAU,IACH,YAA1B,OAAO0jB,EAAMG,SACfA,EAAWH,EAAMG,SACkB,UAA1B,OAAOH,EAAMG,WACtBA,EAAW,IAAI/oB,SAAS4oB,EAAMG,QAAQ,IAGtCH,EAAM1jB,eAAe,QAAQ,IACH,YAAxB,OAAO0jB,EAAMW,OACfA,EAASX,EAAMW,OACkB,UAAxB,OAAOX,EAAMW,SACtBA,EAAS,IAAIvpB,SAAS4oB,EAAMW,MAAM,IAGtClxB,OAAOuwB,MAAMrT,KAAK/K,EAAO8e,EAAc,CACrCjX,GAAIgX,EACJP,KAAMA,EACNS,OAAQA,EACRR,SAAUA,CACZ,CAAC,GAEH5a,EAAEqJ,KAAK,CACLlL,IAAKA,EACLkG,OAAQ,MACRkF,WAAY,SAAoBZ,GAC9BxC,EAAK6H,MAAM3H,SAAS,gCAAiCF,EAAM,CAACA,EAAMwC,EAAI,CACxE,EACAa,QAAS,SAAiB5W,GACxBoN,EAAE,UAAYkb,EAAU,cAAc,EAAEtU,KAAKhU,CAAM,EACnDuT,EAAK6H,MAAM3H,SAAS,iCAAkCF,EAAM,CAACA,EAAMvT,EAAO,CAC5E,EACAsQ,MAAO,SAAeyF,EAAKC,EAAYC,GACrC1C,EAAK6H,MAAM3H,SAAS,+BAAgCF,EAAM,CAACA,EAAMwC,EAAKC,EAAYC,EAAY,CAChG,EACA4B,SAAU,SAAkB9B,EAAKC,GAC/BzC,EAAK6H,MAAM3H,SAAS,kCAAmCF,EAAM,CAACA,EAAMwC,EAAKC,EAAW,CACtF,CACF,CAAC,EACDzC,EAAK6H,MAAM3H,SAAS,2BAA4BF,EAAM,CAACA,EAAMpb,EAAE,EACjE,CAAC,CACH,CACF,EAEAgiB,EAAW9L,OAAO2C,OAAS,CACzBiL,IAAK,GACLvN,MAAO,GACP0M,MAAO,KACPC,OAAQ,EACRa,OAAQ,GACRxO,SAAU,CACRpC,KAAM,SACNxR,KAAM,KACNqiB,MAAO,KACPtO,WAAY,KACZL,MAAO,KACP6O,WAAY,KACZxR,YAAa,KACbyR,UAAW,KACXqB,OAAQ,KACRrQ,KAAM,CACJsL,MAAS,8BACT6P,KAAM,KACR,EACAlM,SAAU,KACVtK,SAAU,KACV2L,SAAU,KACVpJ,KAAM,CAAA,EACNN,OAAQ,KACRjD,UAAW,IACb,EAOAyI,KAAM,SAAcniB,EAAM+C,EAASyI,GACjCvL,KAAK4jB,MAAQ7jB,EACbC,KAAK6jB,OAAStY,EACdvL,KAAKykB,IAAM1kB,EAAKmc,MAAM,EAAI,WAAapZ,EAAQ6J,eAAe,MAAM,EAAI7J,EAAQR,KAAOiJ,GACvFvL,KAAKkX,MAAQhC,EAAgBiE,SAAS,EACtCnZ,KAAK0kB,OAASxP,EAAgBC,cAAcpV,EAAM+C,CAAO,EACzD9C,KAAKkW,SAAWhB,EAAgBQ,kBAAkB3V,EAAMC,KAAKkW,SAAUpT,CAAO,EAG9C,OAA5B9C,KAAKkW,SAASuD,YACZA,EAAY,EACZzZ,KAAKkW,SAASJ,KAAKnJ,eAAe,MAAM,GAAiC,QAA5B3M,KAAKkW,SAASJ,KAAKmb,MAAoF,GAAlE,CAAC,SAAU,UAAUzlB,QAAQvL,EAAQD,KAAKkW,SAASJ,KAAKmb,IAAI,CAAC,IAC7IhtB,EAAQ2R,EAAEjG,KAAK3P,KAAKkW,SAASJ,KAAKmb,KAAK1tB,SAAS,CAAC,EAAEU,MAAM,UAAU,IAC1DA,EAAM0I,eAAe,CAAC,IACjC8M,EAAYxV,EAAQA,EAAM,GAAG1C,OAASkY,GAG1CzZ,KAAKkW,SAASuD,UAAYA,GAR5B,IAUIsC,EAAO/b,KACXD,EAAKuS,GAAG,oBAAqB,WACtByJ,EAAK7F,SAASuE,UACjBsB,EAAKgI,YAAY,CAErB,CAAC,CACH,EAKAvG,WAAY,WACV,OAAO5H,EAAEC,OAAO,CAAA,EAAM,GAAI7V,KAAKkW,QAAQ,CACzC,EAKAuE,SAAU,SAAkBmG,GAC1B5gB,KAAK0kB,OAAS1kB,KAAKsgB,SAAS,EAC5BtgB,KAAKkW,SAASuE,SAAW,CAAC,CAACmG,EAC3BhL,EAAE,YAAc5V,KAAKkX,KAAK,EAAEsF,KAAKxc,KAAKsX,cAAc,CAAC,EAChDtX,KAAKkW,SAASuE,UACjBza,KAAK+jB,YAAY,CAErB,EAKAlD,KAAM,SAAcoD,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAE5D,KAAKoD,CAAQ,CAC7C,EAKAjH,KAAM,SAAciH,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAEzH,KAAKiH,CAAQ,CAC7C,EAKA3D,SAAU,WACR,OAAOtgB,KAAKkW,SAASuE,SAAWza,KAAK0kB,OAAS9O,EAAE,YAAc5V,KAAKkX,MAAQ,QAAQ,EAAEpJ,IAAI,CAC3F,EAKAqU,SAAU,SAAkBnX,GACtB,CAAC,SAAU,UAAUQ,QAAQvL,EAAQ+K,CAAK,CAAC,EAAI,GAAK,CAACA,EAAMzH,SAAS,EAAEU,MAAM,gBAAgB,IAGjE,GAA3BjE,KAAKkW,SAASuD,YAChBzO,EAAQkK,EAAgBqE,MAAMvO,EAAOhL,KAAKkW,SAASuD,SAAS,GAE1DzZ,KAAKkW,SAASJ,KAAKnJ,eAAe,KAAK,IACzC3B,EAAQA,EAAQkmB,OAAOlxB,KAAKkW,SAASJ,KAAKzQ,GAAG,EAAI6rB,OAAOlxB,KAAKkW,SAASJ,KAAKzQ,GAAG,EAAI2F,GAEhFhL,KAAKkW,SAASJ,KAAKnJ,eAAe,KAAK,IACzC3B,EAAQA,EAAQkmB,OAAOlxB,KAAKkW,SAASJ,KAAK3Q,GAAG,EAAI+rB,OAAOlxB,KAAKkW,SAASJ,KAAK3Q,GAAG,EAAI6F,GAEpFhL,KAAK0kB,OAAS1Z,EACVhL,KAAKkW,SAASuE,SAChB7E,EAAE,YAAc5V,KAAKkX,KAAK,EAAEnR,KAAKiF,CAAK,EAEtC4K,EAAE,YAAc5V,KAAKkX,MAAQ,QAAQ,EAAEpJ,IAAI9C,CAAK,EAEpD,EAMA0P,SAAU,SAAkBsG,EAASjb,GACnC,IAGIuf,EACAe,EAJArmB,KAAKkW,SAASuE,WAGd6K,EAAY1P,EAAE,YAAc5V,KAAKkX,KAAK,EACtCmP,EAAQzQ,EAAE,QAAS0P,CAAS,EAChCA,EAAUpE,KAAK,iBAAiB,EAAEnT,OAAO,EACzCuX,EAAUpE,KAAK,mBAAmB,EAAEnT,OAAO,EAC3B,OAAZiT,GACFqF,EAAMZ,YAAY,YAAY,EAC9BY,EAAMZ,YAAY,UAAU,GACnBzE,GACTqF,EAAMZ,YAAY,YAAY,EAC9BY,EAAMX,SAAS,UAAU,EAIL,UAAhB,OAFF3f,EADkB,KAAA,IAATA,GAA2D,UAAnC,OAAO/F,KAAKkW,SAASyP,UAC/C3lB,KAAKkW,SAASyP,UAEZ5f,IACTuf,EAAUlH,OAAO,+BAAiCrY,EAAO,QAAQ,IAGnEsgB,EAAMZ,YAAY,UAAU,EAC5BY,EAAMX,SAAS,YAAY,EACP,KAAA,IAAT3f,IACgC,UAArC,OAAO/F,KAAKkW,SAAS0P,YACvB7f,EAAO/F,KAAKkW,SAAS0P,YACZ,CAAC7f,GAAQ/F,KAAKkW,SAAS6O,WAChChf,EAAO/F,KAAK4jB,MAAMjF,QAAQ,EAAE4E,iBAGZ,UAAhB,OAAOxd,GACTuf,EAAUlH,OAAO,iCAAmCrY,EAAO,QAAQ,GAGzE,EAKAib,QAAS,WACP,IAAIqF,EAAQzQ,EAAE,YAAc5V,KAAKkX,MAAQ,QAAQ,EACjD,OAAImP,EAAM,GACDA,EAAMC,GAAG,QAAQ,EAEnB,IACT,EAKApe,OAAQ,WACN,IAAIpF,EAAU8S,EAAEC,OAAO,CAAA,EAAM,GAAI7V,KAAKkW,QAAQ,EAC1C2P,EAAe3Q,EAAgB0B,iBAAiB5W,KAAK4jB,MAAO9gB,CAAO,EACvE,OAAOrC,IAAIyH,OAAO+M,EAAI,yBAA0B,CAC9C6E,GAAI9Z,KAAKykB,IACT1kB,KAAMC,KAAK4jB,MACX3M,KAAMjX,KAAKkX,MACXJ,MAAOhU,EACPuU,QAASrX,KAAKsX,cAAc,EAC5BuO,aAAcA,CAChB,CAAC,CACH,EAKAvO,cAAe,WACb,IAAI0M,EAAa,GACboC,EAAW,GACXtjB,EAAU9C,KAAKwd,WAAW,EAC1BiJ,EAAavR,EAAgBiE,SAAS,EAgC1C,OA/BKrW,EAAQ6J,eAAe,MAAM,GAA+B,WAA1B1M,EAAQ6C,EAAQgT,IAAI,GAAmC,OAAjBhT,EAAQgT,MAAiB3R,CAAAA,MAAMC,QAAQtB,EAAQgT,IAAI,IAC9HhT,EAAQgT,KAAO,IAEbhT,EAAQR,OACVQ,EAAQgT,KAAKxT,KAAOtC,KAAKkW,SAAS5T,MAEpCQ,EAAQgT,KAAKhC,KAAO,SACpBhR,EAAQgT,KAAK9K,MAAwB,OAAhBhL,KAAK0kB,OAAkB1kB,KAAK0kB,OAAS,GACtD5hB,EAAQkT,QACVlT,EAAQgT,KAAOZ,EAAgBa,UAAU,CACvC2Q,MAAO,SAAW5jB,EAAQkT,KAC5B,EAAGlT,EAAQgT,IAAI,GAEbhT,EAAQiiB,WACVjiB,EAAQgT,KAAKiP,SAAW,YAEtBjiB,EAAQ6J,eAAe,UAAU,GAAmC,WAA9B1M,EAAQ6C,EAAQsjB,QAAQ,GAAkBjiB,MAAMC,QAAQtB,EAAQsjB,QAAQ,IAChHtjB,EAAQgT,KAAKlI,KAAO6Y,EACpB7Q,EAAEe,KAAK7T,EAAQsjB,SAAU,SAAU1Z,EAAKia,GACtC,IAAIC,EAAe,GACnBhR,EAAEe,KAAKgQ,EAAgB,SAAUrkB,EAAM0I,GACrC4b,EAAa9a,KAAKxJ,EAAO,KAAO0I,EAAQ,GAAG,CAC7C,CAAC,EACDob,EAASta,KAAK,CACZgK,KAA4B,EAAtB8Q,EAAarlB,OAAa,IAAMqlB,EAAajhB,KAAK,GAAG,EAAI,EACjE,CAAC,CACH,CAAC,GAEHiQ,EAAEe,KAAK7T,EAAQgT,KAAM,SAAUxT,EAAM0I,GACnCgZ,EAAWlY,KAAKxJ,EAAO,KAAO0I,EAAQ,GAAG,CAC3C,CAAC,EACMvK,IAAIyH,OAAO+M,EAAI,qBAAsB,CAC1C6B,MAAOhU,EACP2jB,WAAYA,EACZzb,MAAuB,OAAhBhL,KAAK0kB,OAAkB1kB,KAAK0kB,OAAS,GAC5Cxc,OAAQ,CACN4N,KAA0B,EAApBkO,EAAWziB,OAAa,IAAMyiB,EAAWre,KAAK,GAAG,EAAI,GAC3DygB,SAAUA,CACZ,CACF,CAAC,CACH,EAKArC,YAAa,WACXnO,EAAE,YAAc5V,KAAKkX,MAAQ,QAAQ,EAAEqT,QAAQ,SAAU5pB,GACvD,IAAIwwB,EAAIxwB,EAAEqpB,SAAWrpB,EAAEspB,OAiBnB,EAhBU,IAALkH,GAAWA,GAAK,IAEpB,IAALA,GAAWA,GAAK,KAEV,MAANA,GAAmB,MAANA,GAEP,MAANA,GAAmB,MAANA,GAEP,IAANA,GAEM,KAANA,GAEM,IAANA,GAEA,CAACxwB,EAAEywB,UAAiB,IAALD,GAAWA,GAAK,KAEpBxwB,EAAE0wB,SAAW1wB,EAAE2wB,SACxB3wB,EAAE4wB,eAAe,CAErB,CAAC,EACD,IAAIxV,EAAO/b,KACX4V,EAAE,YAAc5V,KAAKkX,MAAQ,QAAQ,EAAEsa,KAAK,SAAU7wB,GACpD,IAAIqK,EAAQ4K,EAAE5V,IAAI,EAAE8N,IAAI,EACO,GAA3BiO,EAAK7F,SAASuD,YAChBzO,EAAQkK,EAAgBqE,MAAMvO,EAAO+Q,EAAK7F,SAASuD,SAAS,GAE1DsC,EAAK7F,SAASJ,KAAKnJ,eAAe,KAAK,IACzC3B,EAAQA,EAAQkmB,OAAOnV,EAAK7F,SAASJ,KAAKzQ,GAAG,EAAI6rB,OAAOnV,EAAK7F,SAASJ,KAAKzQ,GAAG,EAAI2F,GAEhF+Q,EAAK7F,SAASJ,KAAKnJ,eAAe,KAAK,IACzC3B,EAAQA,EAAQkmB,OAAOnV,EAAK7F,SAASJ,KAAK3Q,GAAG,EAAI+rB,OAAOnV,EAAK7F,SAASJ,KAAK3Q,GAAG,EAAI6F,GAEpF4K,EAAE5V,IAAI,EAAE8N,IAAI9C,CAAK,CACnB,CAAC,CACH,CACF,EAEA2X,EAAW9L,OAAO4a,MAAQ,CACxBhN,IAAK,GACLvN,MAAO,GACP0M,MAAO,KACPC,OAAQ,EACRa,OAAQ,GACRxO,SAAU,CACRpC,KAAM,QACNxR,KAAM,KACNqiB,MAAO,KACPtO,WAAY,KACZuO,OAAQ,CAAA,EACRC,WAAY,KACZxR,YAAa,KACbyR,UAAW,KACXhiB,QAAS,GACT+T,OAAQ,GACRkO,SAAU,KACVtK,SAAU,KACVuC,KAAM,CAAA,EACNN,OAAQ,IACV,EAOAwF,KAAM,SAAcniB,EAAM+C,EAASyI,GACjCvL,KAAK4jB,MAAQ7jB,EACbC,KAAKykB,IAAM1kB,EAAKmc,MAAM,EAAI,WAAapZ,EAAQ6J,eAAe,MAAM,EAAI7J,EAAQR,KAAOiJ,GACvFvL,KAAKkX,MAAQhC,EAAgBiE,SAAS,EACtCnZ,KAAK0kB,OAASxP,EAAgBC,cAAcpV,EAAM+C,CAAO,EACzD9C,KAAKkW,SAAWhB,EAAgBQ,kBAAkB3V,EAAMC,KAAKkW,SAAUpT,CAAO,CAChF,EAKA0a,WAAY,WACV,OAAO5H,EAAEC,OAAO,CAAA,EAAM,GAAI7V,KAAKkW,QAAQ,CACzC,EAKAuE,SAAU,SAAkBmG,GAC1B5gB,KAAK0kB,OAAS1kB,KAAKsgB,SAAS,EAC5BtgB,KAAKkW,SAASuE,SAAW,CAAC,CAACmG,EAC3BhL,EAAE,YAAc5V,KAAKkX,KAAK,EAAEsF,KAAKxc,KAAKsX,cAAc,CAAC,CACvD,EAKAuJ,KAAM,SAAcoD,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAE5D,KAAKoD,CAAQ,CAC7C,EAKAjH,KAAM,SAAciH,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAEzH,KAAKiH,CAAQ,CAC7C,EAKA3D,SAAU,WACR,OAAOtgB,KAAKkW,SAASuE,SAAWza,KAAK0kB,OAAS9O,EAAE,YAAc5V,KAAKkX,MAAQ,4BAA4B,EAAEpJ,IAAI,CAC/G,EAKAqU,SAAU,SAAkBnX,GAC1B,IAIM+Q,EAaAsK,EAjBF,CAAC,SAAU,UAAU7a,QAAQvL,EAAQ+K,CAAK,CAAC,EAAI,IAG/ChL,KAAKkW,SAASuE,UAEZrF,GADA2G,EAAO/b,MACawd,WAAW,GAClB7Q,eAAe,SAAS,GAAuC,WAAlC1M,EAAQmV,EAAatS,OAAO,GAAkBqB,MAAMC,QAAQgR,EAAatS,OAAO,GAC5H8S,EAAEe,KAAKvB,EAAatS,QAAS,SAAU4J,EAAKyY,GAC1C,GAAIA,EAAOxY,eAAe,OAAO,GAAKwY,EAAOna,OAASA,EAIpD,OAHIjF,EAAOof,EAAOxY,eAAe,MAAM,GAA2D,GAAtD,CAAC,SAAU,UAAUnB,QAAQvL,EAAQklB,EAAOpf,IAAI,CAAC,EAASof,EAAOpf,KAAO,GACpH6P,EAAE,YAAcmG,EAAK7E,KAAK,EAAEnR,KAAKA,CAAI,EACrCgW,EAAK2I,OAAS1Z,EACP,CAAA,CAEX,CAAC,GAGCqb,EAAQzQ,EAAE,YAAc5V,KAAKkX,MAAQ,6BAA+BlM,EAAQ,IAAI,GAC1E,KACRqb,EAAMjB,KAAK,UAAW,CAAA,CAAI,EAC1BplB,KAAK0kB,OAAS1Z,GAGpB,EAMA0P,SAAU,SAAkBsG,EAASjb,GACnC,IAGIuf,EACAC,EACAC,EALAxlB,KAAKkW,SAASuE,WAGd6K,EAAY1P,EAAE,YAAc5V,KAAKkX,KAAK,EACtCqO,EAAY3P,EAAE,yBAA0B0P,CAAS,EACjDE,EAAS5P,EAAE,QAAS0P,CAAS,EACjCA,EAAUpE,KAAK,iBAAiB,EAAEnT,OAAO,EACzCuX,EAAUpE,KAAK,mBAAmB,EAAEnT,OAAO,EAC3B,OAAZiT,GACFwE,EAAOC,YAAY,YAAY,EAC/BD,EAAOC,YAAY,UAAU,GACpBzE,GACTwE,EAAOC,YAAY,YAAY,EAC/BD,EAAOE,SAAS,UAAU,EAIN,UAAhB,OAFF3f,EADkB,KAAA,IAATA,GAA2D,UAAnC,OAAO/F,KAAKkW,SAASyP,UAC/C3lB,KAAKkW,SAASyP,UAEZ5f,IACTwf,EAAUnH,OAAO,+BAAiCrY,EAAO,QAAQ,IAGnEyf,EAAOC,YAAY,UAAU,EAC7BD,EAAOE,SAAS,YAAY,EACR,KAAA,IAAT3f,IACgC,UAArC,OAAO/F,KAAKkW,SAAS0P,YACvB7f,EAAO/F,KAAKkW,SAAS0P,YACZ,CAAC7f,GAAQ/F,KAAKkW,SAAS6O,WAChChf,EAAO/F,KAAK4jB,MAAMjF,QAAQ,EAAE4E,iBAGZ,UAAhB,OAAOxd,GACTwf,EAAUnH,OAAO,iCAAmCrY,EAAO,QAAQ,GAGzE,EAKAib,QAAS,WACP,IACMhW,EADN,MAAIhL,EAAAA,KAAKkW,SAAS6O,UAAa/kB,CAAAA,KAAKkW,SAASuE,WAEnB,UAAjB,OADHzP,EAAQhL,KAAKsgB,SAAS,IACoB,KAAVtV,CAGxC,EAKA9C,OAAQ,WACN,IAAIpF,EAAU9C,KAAKwd,WAAW,EAC1BqI,EAAe3Q,EAAgB0B,iBAAiB5W,KAAK4jB,MAAO9gB,CAAO,EACvE,OAAOrC,IAAIyH,OAAO+M,EAAI,yBAA0B,CAC9C6E,GAAI9Z,KAAKykB,IACT1kB,KAAMC,KAAK4jB,MACX3M,KAAMjX,KAAKkX,MACXJ,MAAO9W,KAAKkW,SACZmB,QAASrX,KAAKsX,cAAc,EAC5BuO,aAAcA,CAChB,CAAC,CACH,EAKAvO,cAAe,WACb,IAAIyE,EAAO/b,KACP0xB,EAAe,GACftc,EAAepV,KAAKwd,WAAW,EAC/BmU,EAAe,GAyCnB,OAxCIvc,EAAazI,eAAe,SAAS,GAAuC,WAAlC1M,EAAQmV,EAAatS,OAAO,GAAkBqB,MAAMC,QAAQgR,EAAatS,OAAO,GAC5H8S,EAAEe,KAAKvB,EAAatS,QAAS,SAAU4J,EAAKyY,GAC1C,IAAInB,EAAa,GACb+B,EAAW,CACbjS,KAAM,QACNsN,MAAS,kBACX,EACI4E,EAAab,EAAOxY,eAAe,MAAM,GAA2D,GAAtD,CAAC,SAAU,UAAUnB,QAAQvL,EAAQklB,EAAOpf,IAAI,CAAC,EAASof,EAAOpf,KAAO,GACtHqP,EAAa9S,OACfyjB,EAASzjB,KAAOyZ,EAAK7F,SAAS5T,MAE5B8S,EAAa2P,WACfgB,EAAShB,SAAW,YAEtBnP,EAAEe,KAAKwO,EAAQ,SAAU7iB,EAAM0I,GAChB,SAAT1I,IAEAyjB,EAASzjB,GADE,UAATA,EACeyjB,EAASzjB,GAAQ,IAAM0I,EAEvBA,EAGvB,CAAC,EACD+a,EAASjM,GAAK5E,EAAgBiE,SAAS,EACnC4C,EAAK2I,QAAUS,EAAOna,QACpBma,EAAOxY,eAAe,MAAM,GAAKwY,EAAOpf,MAC1C4rB,EAAa7lB,KAAKqZ,EAAOpf,IAAI,EAE/BggB,EAASE,QAAU,WAErBrQ,EAAEe,KAAKoP,EAAU,SAAUzjB,EAAM0I,GAC/BgZ,EAAWlY,KAAKxJ,EAAO,KAAO0I,EAAQ,GAAG,CAC3C,CAAC,EACD0mB,EAAa5lB,KAAK,CAChBgO,GAAIiM,EAASjM,GACb/T,KAAMigB,EACNlQ,KAA0B,EAApBkO,EAAWziB,OAAa,IAAMyiB,EAAWre,KAAK,GAAG,EAAI,EAC7D,CAAC,CACH,CAAC,EAEIlF,IAAIyH,OAAO+M,EAAI,qBAAsB,CAC1C6B,MAAO1B,EACPpK,MAAOhL,KAAK0kB,OACZxc,OAAQ,CACNpF,QAAS4uB,EACTC,aAAcA,CAChB,CACF,CAAC,CACH,CACF,EAEAhP,EAAW9L,OAAO6S,MAAQ,CACxBjF,IAAK,GACLvN,MAAO,GACP0M,MAAO,KACPC,OAAQ,EACRa,OAAQ,GACRxO,SAAU,CACRpC,KAAM,QACNxR,KAAM,KACNqiB,MAAO,KACPtO,WAAY,KACZL,MAAO,KACP6O,WAAY,KACZxR,YAAa,KACbyR,UAAW,KACXqB,OAAQ,KACRrQ,KAAM,CACJsL,MAAS,gCACX,EACA2D,SAAU,KACVtK,SAAU,KACV2L,SAAU,KACVpJ,KAAM,CAAA,EACNN,OAAQ,IACV,EAOAwF,KAAM,SAAcniB,EAAM+C,EAASyI,GACjCvL,KAAK4jB,MAAQ7jB,EACbC,KAAK6jB,OAAStY,EACdvL,KAAKykB,IAAM1kB,EAAKmc,MAAM,EAAI,WAAapZ,EAAQ6J,eAAe,MAAM,EAAI7J,EAAQR,KAAOiJ,GACvFvL,KAAKkX,MAAQhC,EAAgBiE,SAAS,EACtCnZ,KAAK0kB,OAASxP,EAAgBC,cAAcpV,EAAM+C,CAAO,EACzD9C,KAAKkW,SAAWhB,EAAgBQ,kBAAkB3V,EAAMC,KAAKkW,SAAUpT,CAAO,CAChF,EAKA0a,WAAY,WACV,OAAO5H,EAAEC,OAAO,CAAA,EAAM,GAAI7V,KAAKkW,QAAQ,CACzC,EAKAuE,SAAU,SAAkBmG,GAC1B5gB,KAAK0kB,OAAS1kB,KAAKsgB,SAAS,EAC5BtgB,KAAKkW,SAASuE,SAAW,CAAC,CAACmG,EAC3BhL,EAAE,YAAc5V,KAAKkX,KAAK,EAAEsF,KAAKxc,KAAKsX,cAAc,CAAC,CACvD,EAKAuJ,KAAM,SAAcoD,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAE5D,KAAKoD,CAAQ,CAC7C,EAKAjH,KAAM,SAAciH,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAEzH,KAAKiH,CAAQ,CAC7C,EAKA3D,SAAU,WACR,OAAOtgB,KAAKkW,SAASuE,SAAWza,KAAK0kB,OAAS9O,EAAE,YAAc5V,KAAKkX,MAAQ,QAAQ,EAAEpJ,IAAI,CAC3F,EAKAqU,SAAU,SAAkBnX,GACtB,CAAC,SAAU,UAAUQ,QAAQvL,EAAQ+K,CAAK,CAAC,EAAI,IAGnDhL,KAAK0kB,OAAS1Z,EACVhL,KAAKkW,SAASuE,SAChB7E,EAAE,YAAc5V,KAAKkX,KAAK,EAAEnR,KAAKiF,CAAK,EAEtC4K,EAAE,YAAc5V,KAAKkX,MAAQ,QAAQ,EAAEpJ,IAAI9C,CAAK,EAEpD,EAMA0P,SAAU,SAAkBsG,EAASjb,GACnC,IAGIuf,EACAe,EAJArmB,KAAKkW,SAASuE,WAGd6K,EAAY1P,EAAE,YAAc5V,KAAKkX,KAAK,EACtCmP,EAAQzQ,EAAE,QAAS0P,CAAS,EAChCA,EAAUpE,KAAK,iBAAiB,EAAEnT,OAAO,EACzCuX,EAAUpE,KAAK,mBAAmB,EAAEnT,OAAO,EAC3B,OAAZiT,GACFqF,EAAMZ,YAAY,YAAY,EAC9BY,EAAMZ,YAAY,UAAU,GACnBzE,GACTqF,EAAMZ,YAAY,YAAY,EAC9BY,EAAMX,SAAS,UAAU,EAIL,UAAhB,OAFF3f,EADkB,KAAA,IAATA,GAA2D,UAAnC,OAAO/F,KAAKkW,SAASyP,UAC/C3lB,KAAKkW,SAASyP,UAEZ5f,IACTuf,EAAUlH,OAAO,+BAAiCrY,EAAO,QAAQ,IAGnEsgB,EAAMZ,YAAY,UAAU,EAC5BY,EAAMX,SAAS,YAAY,EACP,KAAA,IAAT3f,IACgC,UAArC,OAAO/F,KAAKkW,SAAS0P,YACvB7f,EAAO/F,KAAKkW,SAAS0P,YACZ,CAAC7f,GAAQ/F,KAAKkW,SAAS6O,WAChChf,EAAO/F,KAAK4jB,MAAMjF,QAAQ,EAAE4E,iBAGZ,UAAhB,OAAOxd,GACTuf,EAAUlH,OAAO,iCAAmCrY,EAAO,QAAQ,GAGzE,EAKAib,QAAS,WACP,IAAIqF,EAAQzQ,EAAE,YAAc5V,KAAKkX,MAAQ,QAAQ,EACjD,OAAImP,EAAM,GACDA,EAAMC,GAAG,QAAQ,EAEnB,IACT,EAKApe,OAAQ,WACN,IAAIpF,EAAU9C,KAAKwd,WAAW,EAC1BqI,EAAe3Q,EAAgB0B,iBAAiB5W,KAAK4jB,MAAO9gB,CAAO,EACvE,OAAOrC,IAAIyH,OAAO+M,EAAI,yBAA0B,CAC9C6E,GAAI9Z,KAAKykB,IACT1kB,KAAMC,KAAK4jB,MACX3M,KAAMjX,KAAKkX,MACXJ,MAAOhU,EACPuU,QAASrX,KAAKsX,cAAc,EAC5BuO,aAAcA,CAChB,CAAC,CACH,EAKAvO,cAAe,WACb,IAAI0M,EAAa,GACboC,EAAW,GACXtjB,EAAU9C,KAAKwd,WAAW,EAC1BiJ,EAAavR,EAAgBiE,SAAS,EAgC1C,OA/BKrW,EAAQ6J,eAAe,MAAM,GAA+B,WAA1B1M,EAAQ6C,EAAQgT,IAAI,GAAmC,OAAjBhT,EAAQgT,MAAiB3R,CAAAA,MAAMC,QAAQtB,EAAQgT,IAAI,IAC9HhT,EAAQgT,KAAO,IAEbhT,EAAQR,OACVQ,EAAQgT,KAAKxT,KAAOtC,KAAKkW,SAAS5T,MAEpCQ,EAAQgT,KAAKhC,KAAO,QACpBhR,EAAQgT,KAAK9K,MAAQhL,KAAK0kB,OACtB5hB,EAAQkT,QACVlT,EAAQgT,KAAOZ,EAAgBa,UAAU,CACvC2Q,MAAO,SAAW5jB,EAAQkT,KAC5B,EAAGlT,EAAQgT,IAAI,GAEbhT,EAAQiiB,WACVjiB,EAAQgT,KAAKiP,SAAW,YAEtBjiB,EAAQ6J,eAAe,UAAU,GAAmC,WAA9B1M,EAAQ6C,EAAQsjB,QAAQ,GAAkBjiB,MAAMC,QAAQtB,EAAQsjB,QAAQ,IAChHtjB,EAAQgT,KAAKlI,KAAO6Y,EACpB7Q,EAAEe,KAAK7T,EAAQsjB,SAAU,SAAU1Z,EAAKia,GACtC,IAAIC,EAAe,GACnBhR,EAAEe,KAAKgQ,EAAgB,SAAUrkB,EAAM0I,GACrC4b,EAAa9a,KAAKxJ,EAAO,KAAO0I,EAAQ,GAAG,CAC7C,CAAC,EACDob,EAASta,KAAK,CACZgK,KAA4B,EAAtB8Q,EAAarlB,OAAa,IAAMqlB,EAAajhB,KAAK,GAAG,EAAI,EACjE,CAAC,CACH,CAAC,GAEHiQ,EAAEe,KAAK7T,EAAQgT,KAAM,SAAUxT,EAAM0I,GACnCgZ,EAAWlY,KAAKxJ,EAAO,KAAO0I,EAAQ,GAAG,CAC3C,CAAC,EACMvK,IAAIyH,OAAO+M,EAAI,qBAAsB,CAC1C6B,MAAOhU,EACP2jB,WAAYA,EACZzb,MAAOhL,KAAK0kB,OACZxc,OAAQ,CACN4N,KAA0B,EAApBkO,EAAWziB,OAAa,IAAMyiB,EAAWre,KAAK,GAAG,EAAI,GAC3DygB,SAAUA,CACZ,CACF,CAAC,CACH,CACF,EAEAzD,EAAW9L,OAAOiT,OAAS,CACzBrF,IAAK,GACLvN,MAAO,GACP0M,MAAO,KACPC,OAAQ,EACRa,OAAQ,GACRxO,SAAU,CACRpC,KAAM,SACNxR,KAAM,KACNqiB,MAAO,KACPtO,WAAY,KACZL,MAAO,KACP6O,WAAY,KACZxR,YAAa,KACbyR,UAAW,KACXqB,OAAQ,KACRrQ,KAAM,CACJsL,MAAS,4BACX,EACA2D,SAAU,KACVtK,SAAU,KACV2L,SAAU,KACVpJ,KAAM,CAAA,EACNN,OAAQ,IACV,EAOAwF,KAAM,SAAcniB,EAAM+C,EAASyI,GACjCvL,KAAK4jB,MAAQ7jB,EACbC,KAAK6jB,OAAStY,EACdvL,KAAKykB,IAAM1kB,EAAKmc,MAAM,EAAI,WAAapZ,EAAQ6J,eAAe,MAAM,EAAI7J,EAAQR,KAAOiJ,GACvFvL,KAAKkX,MAAQhC,EAAgBiE,SAAS,EACtCnZ,KAAK0kB,OAASxP,EAAgBC,cAAcpV,EAAM+C,CAAO,EACzD9C,KAAKkW,SAAWhB,EAAgBQ,kBAAkB3V,EAAMC,KAAKkW,SAAUpT,CAAO,CAChF,EAKA0a,WAAY,WACV,OAAO5H,EAAEC,OAAO,CAAA,EAAM,GAAI7V,KAAKkW,QAAQ,CACzC,EAKAuE,SAAU,SAAkBmG,GAC1B5gB,KAAK0kB,OAAS1kB,KAAKsgB,SAAS,EAC5BtgB,KAAKkW,SAASuE,SAAW,CAAC,CAACmG,EAC3BhL,EAAE,YAAc5V,KAAKkX,KAAK,EAAEsF,KAAKxc,KAAKsX,cAAc,CAAC,CACvD,EAKAuJ,KAAM,SAAcoD,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAE5D,KAAKoD,CAAQ,CAC7C,EAKAjH,KAAM,SAAciH,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAEzH,KAAKiH,CAAQ,CAC7C,EAKA3D,SAAU,WACR,IAIQ0E,EAJR,OAAIhlB,KAAKkW,SAASuE,SACTza,KAAK0kB,OAER1kB,KAAKkW,SAASvJ,eAAe,MAAM,GAAqC,WAAhC1M,EAAQD,KAAKkW,SAASJ,IAAI,GAAyC,OAAvB9V,KAAKkW,SAASJ,MAAiB,CAAC3R,MAAMC,QAAQpE,KAAKkW,SAASJ,IAAI,GAAK9V,KAAKkW,SAASJ,KAAKnJ,eAAe,UAAU,GACnMqY,EAAS,GACbpP,EAAE,YAAc5V,KAAKkX,MAAQ,yBAAyB,EAAEP,KAAK,WAC3DqO,EAAOlZ,KAAK8J,EAAE5V,IAAI,EAAE8N,IAAI,CAAC,CAC3B,CAAC,EACMkX,GAEApP,EAAE,YAAc5V,KAAKkX,MAAQ,yBAAyB,EAAEpJ,IAAI,CAGzE,EAKAqU,SAAU,SAAkBnX,GAC1B,GAAI,EAAA,CAAC,SAAU,SAAU,UAAUQ,QAAQvL,EAAQ+K,CAAK,CAAC,EAAI,GAA7D,CAGA,GAAuB,WAAnB/K,EAAQ+K,CAAK,GACf,GAAc,OAAVA,GAAkB,CAAC7G,MAAMC,QAAQ4G,CAAK,EACxC,MACF,MAEAA,EAAQ,CAACA,GAEX,IAIMoK,EAEE6P,EANJlJ,EAAO/b,KACXA,KAAK0kB,OAAS,GACV1kB,KAAKkW,SAASuE,UAChB7E,EAAE,YAAcmG,EAAK7E,KAAK,EAAEgO,MAAM,GAC9B9P,EAAepV,KAAKwd,WAAW,GAClB7Q,eAAe,SAAS,GAAuC,WAAlC1M,EAAQmV,EAAatS,OAAO,GAAkBqB,MAAMC,QAAQgR,EAAatS,OAAO,GAAKqB,MAAMC,QAAQ4G,CAAK,IAChJia,EAAgB,GACpBrP,EAAEe,KAAKvB,EAAatS,QAAS,SAAU4J,EAAKyY,GACtCA,EAAOxY,eAAe,OAAO,GAC/BiJ,EAAEe,KAAK3L,EAAO,SAAU0B,EAAKoB,GAC3B,GAAIqX,EAAOna,OAAS8C,EAKlB,OAJIqX,EAAOxY,eAAe,MAAM,GAA2D,GAAtD,CAAC,SAAU,UAAUnB,QAAQvL,EAAQklB,EAAOpf,IAAI,CAAC,GACpFkf,EAAcnZ,KAAKqZ,EAAOpf,IAAI,EAEhCgW,EAAK2I,OAAO5Y,KAAKgC,CAAG,EACb,CAAA,CAEX,CAAC,CAEL,CAAC,EACD8H,EAAE,YAAcmG,EAAK7E,KAAK,EAAEnR,KAAKkf,EAActf,KAAK,IAAI,CAAC,KAG3DiQ,EAAE,YAAc5V,KAAKkX,MAAQ,kBAAkB,EAAEkO,KAAK,WAAY,CAAA,CAAK,EACnEjhB,MAAMC,QAAQ4G,CAAK,GACrB4K,EAAE,YAAc5V,KAAKkX,MAAQ,kBAAkB,EAAEP,KAAK,SAAUjK,EAAK2Y,GACnEzP,EAAEe,KAAK3L,EAAO,SAAU0B,EAAKoB,GAC3B,GAAIA,GAAO8H,EAAEyP,CAAS,EAAEvX,IAAI,EAG1B,OAFA8H,EAAEyP,CAAS,EAAED,KAAK,WAAY,CAAA,CAAI,EAClCrJ,EAAK2I,OAAO5Y,KAAKgC,CAAG,EACb,CAAA,CAEX,CAAC,CACH,CAAC,EAzCL,CA4CF,EAMA4M,SAAU,SAAkBsG,EAASjb,GACnC,IAGIuf,EACAwE,EAJA9pB,KAAKkW,SAASuE,WAGd6K,EAAY1P,EAAE,YAAc5V,KAAKkX,KAAK,EACtC4S,EAASlU,EAAE,SAAU0P,CAAS,EAClCA,EAAUpE,KAAK,iBAAiB,EAAEnT,OAAO,EACzCuX,EAAUpE,KAAK,mBAAmB,EAAEnT,OAAO,EAC3B,OAAZiT,GACF8I,EAAOrE,YAAY,YAAY,EAC/BqE,EAAOrE,YAAY,UAAU,GACpBzE,GACT8I,EAAOrE,YAAY,YAAY,EAC/BqE,EAAOpE,SAAS,UAAU,EAIN,UAAhB,OAFF3f,EADkB,KAAA,IAATA,GAA2D,UAAnC,OAAO/F,KAAKkW,SAASyP,UAC/C3lB,KAAKkW,SAASyP,UAEZ5f,IACTuf,EAAUlH,OAAO,+BAAiCrY,EAAO,QAAQ,IAGnE+jB,EAAOrE,YAAY,UAAU,EAC7BqE,EAAOpE,SAAS,YAAY,EACR,KAAA,IAAT3f,IACgC,UAArC,OAAO/F,KAAKkW,SAAS0P,YACvB7f,EAAO/F,KAAKkW,SAAS0P,YACZ,CAAC7f,GAAQ/F,KAAKkW,SAAS6O,WAChChf,EAAO/F,KAAK4jB,MAAMjF,QAAQ,EAAE4E,iBAGZ,UAAhB,OAAOxd,GACTuf,EAAUlH,OAAO,iCAAmCrY,EAAO,QAAQ,GAGzE,EAKAib,QAAS,WACP,IAAI8I,EAASlU,EAAE,YAAc5V,KAAKkX,MAAQ,SAAS,EACnD,OAAIlX,CAAAA,KAAKkW,SAAS6O,UAA6B,KAAjB+E,EAAOhc,IAAI,KAGrCgc,EAAO,GACFA,EAAOxD,GAAG,QAAQ,EAEpB,KACT,EAKApe,OAAQ,WACN,IAAIpF,EAAU9C,KAAKwd,WAAW,EAC1BqI,EAAe3Q,EAAgB0B,iBAAiB5W,KAAK4jB,MAAO9gB,CAAO,EACvE,OAAOrC,IAAIyH,OAAO+M,EAAI,yBAA0B,CAC9C6E,GAAI9Z,KAAKykB,IACT1kB,KAAMC,KAAK4jB,MACX3M,KAAMjX,KAAKkX,MACXJ,MAAOhU,EACPuU,QAASrX,KAAKsX,cAAc,EAC5BuO,aAAcA,CAChB,CAAC,CACH,EAKAvO,cAAe,WACb,OAAOtX,KAAKkW,SAASuE,SAAWza,KAAKumB,uBAAuB,EAAIvmB,KAAKwmB,eAAe,CACtF,EAMAA,eAAgB,WACd,IAAIzK,EAAO/b,KACP8C,EAAU9C,KAAKwd,WAAW,EAC1BwG,EAAa,GACb4N,EAAgB,GAyDpB,OAxDK9uB,EAAQ6J,eAAe,MAAM,GAA+B,WAA1B1M,EAAQ6C,EAAQgT,IAAI,GAAmC,OAAjBhT,EAAQgT,MAAiB3R,CAAAA,MAAMC,QAAQtB,EAAQgT,IAAI,IAC9HhT,EAAQgT,KAAO,IAEbhT,EAAQR,OACVQ,EAAQgT,KAAKxT,KAAOtC,KAAKkW,SAAS5T,MAEhCQ,EAAQkT,QACVlT,EAAQgT,KAAOZ,EAAgBa,UAAU,CACvC2Q,MAAO,SAAW5jB,EAAQkT,KAC5B,EAAGlT,EAAQgT,IAAI,GAEbhT,EAAQiiB,WACVjiB,EAAQgT,KAAKiP,SAAW,YAEtBjiB,EAAQ6J,eAAe,SAAS,GAAkC,WAA7B1M,EAAQ6C,EAAQA,OAAO,GAAsC,OAApBA,EAAQA,SACxF8S,EAAEe,KAAK7T,EAAQA,QAAS,SAAU4J,EAAKyY,GACrC,IASQ0M,EAEAC,EAXc,UAAlB,OAAO3M,GAAyC,UAAlB,OAAOA,EACvCyM,EAAc9lB,KAAKiQ,EAAKgW,cAAc,CACpCje,KAAM,SACN9I,MAAO0B,EACP3G,KAAMof,CACR,CAAC,CAAC,EAC2B,WAApBllB,EAAQklB,CAAM,IAEV,WADFA,EAAOxY,eAAe,MAAM,GAA4B,UAAvB,OAAOwY,EAAOrR,KAAoBqR,EAAOrR,KAAO,WAEtF+d,EAAa,GACbG,EAAY,GACZF,EAAe,GACf3M,EAAOxY,eAAe,MAAM,GAA8B,WAAzB1M,EAAQklB,EAAOrP,IAAI,GAAkC,OAAhBqP,EAAOrP,MAAiB,CAAC3R,MAAMC,QAAQ+gB,EAAOrP,IAAI,IAC1Hkc,EAAY7M,EAAOrP,MAEjBqP,EAAOxY,eAAe,OAAO,GAA4D,GAAvD,CAAC,SAAU,UAAUnB,QAAQvL,EAAQklB,EAAOR,KAAK,CAAC,IACtFqN,EAAUrN,MAAQQ,EAAOR,OAE3B/O,EAAEe,KAAKqb,EAAW,SAAU1vB,EAAM0I,GAChC6mB,EAAW/lB,KAAKxJ,EAAO,KAAO0I,EAAQ,GAAG,CAC3C,CAAC,EACG7G,MAAMC,QAAQ+gB,EAAOriB,OAAO,GAC9B8S,EAAEe,KAAKwO,EAAOriB,QAAS,SAAU4J,EAAKulB,GACpCH,EAAahmB,KAAKiQ,EAAKgW,cAAcE,CAAW,CAAC,CACnD,CAAC,EAEHL,EAAc9lB,KAAK,CACjBgI,KAAM,QACNgC,KAA0B,EAApB+b,EAAWtwB,OAAa,IAAMswB,EAAWlsB,KAAK,GAAG,EAAI,GAC3D7C,QAASgvB,CACX,CAAC,GAEDF,EAAc9lB,KAAKiQ,EAAKgW,cAAc5M,CAAM,CAAC,EAGnD,CAAC,EAEHvP,EAAEe,KAAK7T,EAAQgT,KAAM,SAAUxT,EAAM0I,GACnCgZ,EAAWlY,KAAKxJ,EAAO,KAAO0I,EAAQ,GAAG,CAC3C,CAAC,EACMvK,IAAIyH,OAAO+M,EAAI,sBAAuB,CAC3C6B,MAAOhU,EACPkI,MAAOhL,KAAK0kB,OACZxc,OAAQ,CACN4N,KAA0B,EAApBkO,EAAWziB,OAAa,IAAMyiB,EAAWre,KAAK,GAAG,EAAI,GAC3D7C,QAAS8uB,CACX,CACF,CAAC,CACH,EAMArL,uBAAwB,WACtB,IAAIxK,EAAO/b,KACP8C,EAAU9C,KAAKwd,WAAW,EAC1B0U,EAAkB,GAyCtB,OAxCIpvB,EAAQ6J,eAAe,SAAS,GAAkC,WAA7B1M,EAAQ6C,EAAQA,OAAO,GAAkBqB,MAAMC,QAAQtB,EAAQA,OAAO,GAC7G8S,EAAEe,KAAK7T,EAAQA,QAAS,SAAU4J,EAAKyY,GACrC,IAqBMa,EApBO,WADFb,EAAOxY,eAAe,MAAM,GAA4B,UAAvB,OAAOwY,EAAOrR,KAAoBqR,EAAOrR,KAAO,UAEtF3P,MAAMC,QAAQ+gB,EAAOriB,OAAO,GAC9B8S,EAAEe,KAAKwO,EAAOriB,QAAS,SAAU4J,EAAKulB,GACpC,IAAIjM,EAAaiM,EAAYtlB,eAAe,MAAM,GAAgE,GAA3D,CAAC,SAAU,UAAUnB,QAAQvL,EAAQgyB,EAAYlsB,IAAI,CAAC,EAASksB,EAAYlsB,KAAO,GACpIigB,GAA6B,KAAfA,IAGf7hB,MAAMC,QAAQ2X,EAAK2I,MAAM,EAC3B9O,EAAEe,KAAKoF,EAAK2I,OAAQ,SAAUhY,EAAK2Y,GACjC,GAAIA,GAAa4M,EAAYjnB,MAE3B,OADAknB,EAAgBpmB,KAAKka,CAAU,EACxB,CAAA,CAEX,CAAC,EACQjK,EAAK2I,QAAUuN,EAAYjnB,OACpCknB,EAAgBpmB,KAAKka,CAAU,EAEnC,CAAC,GAGCA,EAAab,EAAOxY,eAAe,MAAM,GAA2D,GAAtD,CAAC,SAAU,UAAUnB,QAAQvL,EAAQklB,EAAOpf,IAAI,CAAC,EAASof,EAAOpf,KAAO,KACxF,KAAfigB,IAGf7hB,MAAMC,QAAQ2X,EAAK2I,MAAM,EAC3B9O,EAAEe,KAAKoF,EAAK2I,OAAQ,SAAUhY,EAAK2Y,GACjC,GAAIA,GAAaF,EAAOna,MAEtB,OADAknB,EAAgBpmB,KAAKka,CAAU,EACxB,CAAA,CAEX,CAAC,EACQjK,EAAK2I,QAAUS,EAAOna,OAC/BknB,EAAgBpmB,KAAKka,CAAU,EAGrC,CAAC,EAEIvlB,IAAIyH,OAAO+M,EAAI,sBAAuB,CAC3C6B,MAAOhU,EACPoF,OAAQ,CACNgqB,gBAAiBA,CACnB,CACF,CAAC,CACH,EAOAH,cAAe,SAAuB5M,GACpC,IAAIgN,EAAa,GACbnM,EAAab,EAAOxY,eAAe,MAAM,GAA2D,GAAtD,CAAC,SAAU,UAAUnB,QAAQvL,EAAQklB,EAAOpf,IAAI,CAAC,EAASof,EAAOpf,KAAO,GAgB1H,OAfA6P,EAAEe,KAAKwO,EAAQ,SAAU7iB,EAAM0I,GAChB,SAAT1I,GACF6vB,EAAWrmB,KAAKxJ,EAAO,KAAO0I,EAAQ,GAAG,CAE7C,CAAC,EACG7G,MAAMC,QAAQpE,KAAK0kB,MAAM,EAC3B9O,EAAEe,KAAK3W,KAAK0kB,OAAQ,SAAUhY,EAAK2Y,GACjC,GAAIA,GAAaF,EAAOna,MAEtB,OADAmnB,EAAWrmB,KAAK,qBAAqB,EAC9B,CAAA,CAEX,CAAC,EACQ9L,KAAK0kB,QAAUS,EAAOna,OAC/BmnB,EAAWrmB,KAAK,qBAAqB,EAEhC,CACLgI,KAAM,SACN/N,KAAMigB,EACNlQ,KAA0B,EAApBqc,EAAW5wB,OAAa,IAAM4wB,EAAWxsB,KAAK,GAAG,EAAI,EAC7D,CACF,CACF,EAEAgd,EAAW9L,OAAe,OAAI,CAC5B4N,IAAK,GACLvN,MAAO,GACP0M,MAAO,KACPC,OAAQ,EACRa,OAAQ,GACRxO,SAAU,CACRpC,KAAM,SACNxR,KAAM,KACNqiB,MAAO,KACPtO,WAAY,KACZwO,WAAY,KACZxR,YAAa,KACbyR,UAAW,KACXmC,OAAQ,IACRC,OAAQ,IACRrQ,OAAQ,GACRkO,SAAU,KACVtK,SAAU,KACVuC,KAAM,CAAA,EACNN,OAAQ,IACV,EAOAwF,KAAM,SAAcniB,EAAM+C,EAASyI,GACjCvL,KAAK4jB,MAAQ7jB,EACbC,KAAK6jB,OAAStY,EACdvL,KAAKykB,IAAM1kB,EAAKmc,MAAM,EAAI,WAAapZ,EAAQ6J,eAAe,MAAM,EAAI7J,EAAQR,KAAOiJ,GACvFvL,KAAKkX,MAAQhC,EAAgBiE,SAAS,EACtCnZ,KAAK0kB,OAASxP,EAAgBC,cAAcpV,EAAM+C,CAAO,EACzD9C,KAAKkW,SAAWhB,EAAgBQ,kBAAkB3V,EAAMC,KAAKkW,SAAUpT,CAAO,CAChF,EAKA0a,WAAY,WACV,OAAO5H,EAAEC,OAAO,CAAA,EAAM,GAAI7V,KAAKkW,QAAQ,CACzC,EAKAuE,SAAU,SAAkBmG,GAC1B5gB,KAAK0kB,OAAS1kB,KAAKsgB,SAAS,EAC5BtgB,KAAKkW,SAASuE,SAAW,CAAC,CAACmG,EAC3BhL,EAAE,YAAc5V,KAAKkX,KAAK,EAAEsF,KAAKxc,KAAKsX,cAAc,CAAC,CACvD,EAKAuJ,KAAM,SAAcoD,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAE5D,KAAKoD,CAAQ,CAC7C,EAKAjH,KAAM,SAAciH,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAEzH,KAAKiH,CAAQ,CAC7C,EAKA3D,SAAU,WACR,IAEE9X,EADExI,KAAKkW,SAASuE,SACPza,KAAK0kB,OAEL9O,EAAE,YAAc5V,KAAKkX,MAAQ,QAAQ,EAAEkO,KAAK,SAAS,EAAIplB,KAAKkW,SAAS+Q,OAASjnB,KAAKkW,SAASgR,OAEzG,OAAO1e,CACT,EAKA2Z,SAAU,SAAkBnX,GACtB,CAAC,SAAU,UAAUQ,QAAQvL,EAAQ+K,CAAK,CAAC,EAAI,IAGnDhL,KAAK0kB,OAAS1Z,EACVhL,KAAKkW,SAASuE,SAChB7E,EAAE,YAAc5V,KAAKkX,KAAK,EAAEnR,KAAKiF,CAAK,EAEtC4K,EAAE,YAAc5V,KAAKkX,MAAQ,uBAAuB,EAAEkO,KAAK,UAAWpa,IAAUhL,KAAKkW,SAAS+Q,MAAM,EAExG,EAMAvM,SAAU,SAAkBsG,EAASjb,GACnC,IAGIuf,EACA8M,EACA5M,EALAxlB,KAAKkW,SAASuE,WAGd6K,EAAY1P,EAAE,YAAc5V,KAAKkX,KAAK,EACtCkb,EAAkBxc,EAAE,eAAgB0P,CAAS,EAC7CE,EAAS5P,EAAE,QAAS0P,CAAS,EACjCA,EAAUpE,KAAK,iBAAiB,EAAEnT,OAAO,EACzCuX,EAAUpE,KAAK,mBAAmB,EAAEnT,OAAO,EAC3B,OAAZiT,GACFwE,EAAOC,YAAY,YAAY,EAC/BD,EAAOC,YAAY,UAAU,GACpBzE,GACTwE,EAAOC,YAAY,YAAY,EAC/BD,EAAOE,SAAS,UAAU,EAIN,UAAhB,OAFF3f,EADkB,KAAA,IAATA,GAA2D,UAAnC,OAAO/F,KAAKkW,SAASyP,UAC/C3lB,KAAKkW,SAASyP,UAEZ5f,IACTqsB,EAAgBhU,OAAO,+BAAiCrY,EAAO,QAAQ,IAGzEyf,EAAOC,YAAY,UAAU,EAC7BD,EAAOE,SAAS,YAAY,EAQR,UAAhB,OALA3f,EAFgB,KAAA,IAATA,EACgC,UAArC,OAAO/F,KAAKkW,SAAS0P,YAChB5lB,KAAKkW,SAAS0P,YACX7f,GACH/F,KAAK4jB,MAAMjF,QAAQ,EAAE4E,eAGrBxd,IACTqsB,EAAgBhU,OAAO,iCAAmCrY,EAAO,QAAQ,GAG/E,EAKAib,QAAS,WACP,OAAO,IACT,EAKA9Y,OAAQ,WACN,IAAIpF,EAAU9C,KAAKwd,WAAW,EAC1BqI,EAAe3Q,EAAgB0B,iBAAiB5W,KAAK4jB,MAAO9gB,CAAO,EACvE,OAAOrC,IAAIyH,OAAO+M,EAAI,yBAA0B,CAC9C6E,GAAI9Z,KAAKykB,IACT1kB,KAAMC,KAAK4jB,MACX3M,KAAMjX,KAAKkX,MACXJ,MAAOhU,EACPuU,QAASrX,KAAKsX,cAAc,EAC5BuO,aAAcA,CAChB,CAAC,CACH,EAKAvO,cAAe,WACb,IAAI0M,EAAa,GACblhB,EAAU9C,KAAKwd,WAAW,EAC1BuI,EAAW,CACbjS,KAAM,WACNsN,MAAS,mBACTpW,MAAOlI,EAAQmkB,MACjB,EAgBA,OAfInkB,EAAQR,OACVyjB,EAASzjB,KAAOtC,KAAKkW,SAAS5T,MAE5BQ,EAAQiiB,WACVgB,EAAShB,SAAW,YAElBjiB,EAAQ6J,eAAe,MAAM,GAA+B,WAA1B1M,EAAQ6C,EAAQgT,IAAI,GAAkB3R,MAAMC,QAAQtB,EAAQgT,IAAI,IACpGiQ,EAAW7Q,EAAgBa,UAAUgQ,EAAUjjB,EAAQgT,IAAI,GAEzD9V,KAAK0kB,SAAW5hB,EAAQmkB,SAC1BlB,EAASE,QAAU,WAErBrQ,EAAEe,KAAKoP,EAAU,SAAUzjB,EAAM0I,GAC/BgZ,EAAWlY,KAAKxJ,EAAO,KAAO0I,EAAQ,GAAG,CAC3C,CAAC,EACMvK,IAAIyH,OAAO+M,EAAI,sBAAuB,CAC3C6B,MAAOhU,EACPkI,MAAOhL,KAAK0kB,OACZrM,KAAMrY,KAAK4jB,MAAMjF,QAAQ,EACzBzW,OAAQ,CACN4N,KAA0B,EAApBkO,EAAWziB,OAAayiB,EAAWre,KAAK,GAAG,EAAI,EACvD,CACF,CAAC,CACH,CACF,EAEAgd,EAAW9L,OAAOwb,SAAW,CAC3B5N,IAAK,GACLb,MAAO,KACPC,OAAQ,EACRa,OAAQ,GACRxO,SAAU,CACRpC,KAAM,WACNxR,KAAM,KACNqiB,MAAO,KACPtO,WAAY,KACZL,MAAO,KACP6O,WAAY,KACZxR,YAAa,KACbyR,UAAW,KACXqB,OAAQ,KACRrQ,KAAM,CACJsL,MAAS,6BACX,EACA2D,SAAU,KACVtK,SAAU,KACV2L,SAAU,KACVpJ,KAAM,CAAA,EACNN,OAAQ,IACV,EAOAwF,KAAM,SAAcniB,EAAM+C,EAASyI,GACjCvL,KAAK4jB,MAAQ7jB,EACbC,KAAK6jB,OAAStY,EACdvL,KAAKykB,IAAM1kB,EAAKmc,MAAM,EAAI,WAAapZ,EAAQ6J,eAAe,MAAM,EAAI7J,EAAQR,KAAOiJ,GACvFvL,KAAKkX,MAAQhC,EAAgBiE,SAAS,EACtCnZ,KAAK0kB,OAASxP,EAAgBC,cAAcpV,EAAM+C,CAAO,EACzD9C,KAAKkW,SAAWhB,EAAgBQ,kBAAkB3V,EAAMC,KAAKkW,SAAUpT,CAAO,CAChF,EAKA0a,WAAY,WACV,OAAO5H,EAAEC,OAAO,CAAA,EAAM,GAAI7V,KAAKkW,QAAQ,CACzC,EAKAuE,SAAU,SAAkBmG,GAC1B5gB,KAAK0kB,OAAS1kB,KAAKsgB,SAAS,EAC5BtgB,KAAKkW,SAASuE,SAAW,CAAC,CAACmG,EAC3BhL,EAAE,YAAc5V,KAAKkX,KAAK,EAAEsF,KAAKxc,KAAKsX,cAAc,CAAC,CACvD,EAKAuJ,KAAM,SAAcoD,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAE5D,KAAKoD,CAAQ,CAC7C,EAKAjH,KAAM,SAAciH,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAEzH,KAAKiH,CAAQ,CAC7C,EAKA3D,SAAU,WACR,OAAOtgB,KAAKkW,SAASuE,SAAWza,KAAK0kB,OAAS9O,EAAE,YAAc5V,KAAKkX,MAAQ,WAAW,EAAEpJ,IAAI,CAC9F,EAKAqU,SAAU,SAAkBnX,GACtB,CAAC,SAAU,UAAUQ,QAAQvL,EAAQ+K,CAAK,CAAC,EAAI,IAGnDhL,KAAK0kB,OAAS1Z,EACVhL,KAAKkW,SAASuE,SAChB7E,EAAE,YAAc5V,KAAKkX,KAAK,EAAEnR,KAAKiF,CAAK,EAEtC4K,EAAE,YAAc5V,KAAKkX,MAAQ,WAAW,EAAEpJ,IAAI9C,CAAK,EAEvD,EAMA0P,SAAU,SAAkBsG,EAASjb,GACnC,IAGIuf,EACA+M,EAJAryB,KAAKkW,SAASuE,WAGd6K,EAAY1P,EAAE,YAAc5V,KAAKkX,KAAK,EACtCmb,EAAWzc,EAAE,WAAY0P,CAAS,EACtCA,EAAUpE,KAAK,iBAAiB,EAAEnT,OAAO,EACzCuX,EAAUpE,KAAK,mBAAmB,EAAEnT,OAAO,EAC3B,OAAZiT,GACFqR,EAAS5M,YAAY,YAAY,EACjC4M,EAAS5M,YAAY,UAAU,GACtBzE,GACTqR,EAAS5M,YAAY,YAAY,EACjC4M,EAAS3M,SAAS,UAAU,EAIR,UAAhB,OAFF3f,EADkB,KAAA,IAATA,GAA2D,UAAnC,OAAO/F,KAAKkW,SAASyP,UAC/C3lB,KAAKkW,SAASyP,UAEZ5f,IACTuf,EAAUlH,OAAO,+BAAiCrY,EAAO,QAAQ,IAGnEssB,EAAS5M,YAAY,UAAU,EAC/B4M,EAAS3M,SAAS,YAAY,EACV,KAAA,IAAT3f,IACgC,UAArC,OAAO/F,KAAKkW,SAAS0P,YACvB7f,EAAO/F,KAAKkW,SAAS0P,YACZ,CAAC7f,GAAQ/F,KAAKkW,SAAS6O,WAChChf,EAAO/F,KAAK4jB,MAAMjF,QAAQ,EAAE4E,iBAGZ,UAAhB,OAAOxd,GACTuf,EAAUlH,OAAO,iCAAmCrY,EAAO,QAAQ,GAGzE,EAKAib,QAAS,WACP,IAAIqF,EAAQzQ,EAAE,YAAc5V,KAAKkX,MAAQ,WAAW,EACpD,GAAImP,EAAM,GACR,OAAOA,EAAMC,GAAG,QAAQ,CAE5B,EAKApe,OAAQ,WACN,IAAIpF,EAAU9C,KAAKwd,WAAW,EAC1BqI,EAAe3Q,EAAgB0B,iBAAiB5W,KAAK4jB,MAAO9gB,CAAO,EACvE,OAAOrC,IAAIyH,OAAO+M,EAAI,yBAA0B,CAC9C6E,GAAI9Z,KAAKykB,IACT1kB,KAAMC,KAAK4jB,MACX3M,KAAMjX,KAAKkX,MACXJ,MAAOhU,EACPuU,QAASrX,KAAKsX,cAAc,EAC5BuO,aAAcA,CAChB,CAAC,CACH,EAKAvO,cAAe,WACb,IAAI0M,EAAa,GACblhB,EAAU9C,KAAKwd,WAAW,EAkB9B,OAjBK1a,EAAQ6J,eAAe,MAAM,GAA+B,WAA1B1M,EAAQ6C,EAAQgT,IAAI,GAAmC,OAAjBhT,EAAQgT,MAAiB3R,CAAAA,MAAMC,QAAQtB,EAAQgT,IAAI,IAC9HhT,EAAQgT,KAAO,IAEbhT,EAAQR,OACVQ,EAAQgT,KAAKxT,KAAOtC,KAAKkW,SAAS5T,MAEhCQ,EAAQkT,QACVlT,EAAQgT,KAAOZ,EAAgBa,UAAU,CACvC2Q,MAAO,SAAW5jB,EAAQkT,KAC5B,EAAGlT,EAAQgT,IAAI,GAEbhT,EAAQiiB,WACVjiB,EAAQgT,KAAKiP,SAAW,YAE1BnP,EAAEe,KAAK7T,EAAQgT,KAAM,SAAUxT,EAAM0I,GACnCgZ,EAAWlY,KAAKxJ,EAAO,KAAO0I,EAAQ,GAAG,CAC3C,CAAC,EACMvK,IAAIyH,OAAO+M,EAAI,wBAAyB,CAC7C6B,MAAOhU,EACPkI,MAAuB,OAAhBhL,KAAK0kB,OAAkB1kB,KAAK0kB,OAAS,GAC5Cxc,OAAQ,CACN4N,KAA0B,EAApBkO,EAAWziB,OAAa,IAAMyiB,EAAWre,KAAK,GAAG,EAAI,EAC7D,CACF,CAAC,CACH,CACF,EAEAgd,EAAW9L,OAAOyb,QAAU,CAC1B7N,IAAK,GACLvN,MAAO,GACP0M,MAAO,KACPc,OAAQ,KACR6N,QAAS,KACTC,YAAa,KACbtc,SAAU,CACRpC,KAAM,UACN6Q,MAAO,KACPtO,WAAY,KACZL,MAAO,KACPsE,SAAU,KACVC,SAAU,KACVkY,OAAQ,KACRC,UAAW,KACXC,UAAW,KACX7vB,QAAS,GACT+hB,WAAY,KACZxR,YAAa,KACb0R,SAAU,KACVtK,SAAU,CAAA,EACVuC,KAAM,CAAA,EACNN,OAAQ,IACV,EAOAwF,KAAM,SAAcniB,EAAM+C,EAASyI,GACjCvL,KAAK4jB,MAAQ7jB,EACbC,KAAK6jB,OAAStY,EACdvL,KAAKykB,IAAM1kB,EAAKmc,MAAM,EAAI,WAAapZ,EAAQ6J,eAAe,MAAM,EAAI7J,EAAQR,KAAOiJ,GACvFvL,KAAKkX,MAAQhC,EAAgBiE,SAAS,EACtCnZ,KAAKwyB,YAActd,EAAgBiE,SAAS,EAC5CnZ,KAAK0kB,OAASxP,EAAgBC,cAAcpV,EAAM+C,CAAO,EACzD9C,KAAKkW,SAAWhB,EAAgBQ,kBAAkB3V,EAAMC,KAAKkW,SAAUpT,CAAO,EAC9E,IAAIiZ,EAAO/b,KACXD,EAAKuS,GAAG,oBAAqB,WACtByJ,EAAK7F,SAASuE,UACjBsB,EAAKgI,YAAY,CAErB,CAAC,CACH,EAKAvG,WAAY,WACV,OAAO5H,EAAEC,OAAO,CAAA,EAAM,GAAI7V,KAAKkW,QAAQ,CACzC,EAKAuE,SAAU,SAAkBmG,GAC1B5gB,KAAK0kB,OAAS1kB,KAAKsgB,SAAS,EAC5BtgB,KAAKkW,SAASuE,SAAW,CAAC,CAACmG,EAC3BhL,EAAE,YAAc5V,KAAKkX,KAAK,EAAEsF,KAAKxc,KAAKsX,cAAc,CAAC,EAChDtX,KAAKkW,SAASuE,UACjBza,KAAK+jB,YAAY,CAErB,EAKAlD,KAAM,SAAcoD,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAE5D,KAAKoD,GAAY,CAAC,CAClD,EAKAjH,KAAM,SAAciH,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAEzH,KAAKiH,GAAY,CAAC,CAClD,EAKA3D,SAAU,WACR,MAAItgB,CAAAA,KAAKkW,SAASuE,UAGTza,KAAKuyB,QAAUvyB,KAAKuyB,QAAQK,WAAW,EAAI5yB,KAAK0kB,MAE3D,EAKAvC,SAAU,SAAkBnX,GAC1BhL,KAAK0kB,OAAS1Z,EACVhL,KAAKkW,SAASuE,SAChB7E,EAAE,YAAc5V,KAAKkX,KAAK,EAAEnR,KAAKiF,CAAK,EAElChL,KAAKuyB,SACPvyB,KAAKuyB,QAAQM,WAAW7nB,CAAK,CAGnC,EAMA0P,SAAU,SAAkBsG,EAASjb,GACnC,IAGIuf,EAHAtlB,KAAKkW,SAASuE,YAGd6K,EAAY1P,EAAE,YAAc5V,KAAKkX,KAAK,GAChCgK,KAAK,eAAe,EAAEnT,OAAO,EACvCuX,EAAUpE,KAAK,cAAc,EAAEnT,OAAO,EACtB,OAAZiT,IAGAA,EAIkB,UAAhB,OAFFjb,EADkB,KAAA,IAATA,GAA2D,UAAnC,OAAO/F,KAAKkW,SAASyP,UAC/C3lB,KAAKkW,SAASyP,UAEZ5f,IACTuf,EAAUlH,OAAO,kCAAoCrY,EAAO,QAAQ,GAGlD,KAAA,IAATA,IACgC,UAArC,OAAO/F,KAAKkW,SAAS0P,YACvB7f,EAAO/F,KAAKkW,SAAS0P,YACZ,CAAC7f,GAAQ/F,KAAKkW,SAAS6O,WAChChf,EAAO/F,KAAK4jB,MAAMjF,QAAQ,EAAE4E,iBAGZ,UAAhB,OAAOxd,GACTuf,EAAUlH,OAAO,iCAAmCrY,EAAO,QAAQ,IAGzE,EAKAib,QAAS,WACP,MAAA,EAAIhhB,KAAKkW,SAAS6O,UAAa/kB,CAAAA,KAAKkW,SAASuE,UACnC,CAACza,KAAKsgB,SAAS,EAG3B,EAKApY,OAAQ,WACN,IAAIpF,EAAU9C,KAAKwd,WAAW,EAC1BqI,EAAe3Q,EAAgB0B,iBAAiB5W,KAAK4jB,MAAO9gB,CAAO,EACvE,OAAOrC,IAAIyH,OAAO+M,EAAI,yBAA0B,CAC9C6E,GAAI9Z,KAAKykB,IACT1kB,KAAMC,KAAK4jB,MACX3M,KAAMjX,KAAKkX,MACXJ,MAAOhU,EACPuU,QAASrX,KAAKsX,cAAc,EAC5BuO,aAAcA,CAChB,CAAC,CACH,EAKAvO,cAAe,WACb,IAAIxU,EAAU9C,KAAKwd,WAAW,EAC9B,OAAO/c,IAAIyH,OAAO+M,EAAI,uBAAwB,CAC5C6B,MAAOhU,EACPkI,MAAuB,OAAhBhL,KAAK0kB,OAAkB1kB,KAAK0kB,OAAS,GAC5CoO,WAAY9yB,KAAKwyB,WACnB,CAAC,CACH,EAKAzO,YAAa,WACX,IAIIgP,EACAC,EAEFC,EAPEjzB,KAAKkW,SAASuE,WAGdwY,EAAiB,GAEjBD,EAAa,WADbD,EAAO/yB,MACuBwyB,aAmBlCS,EAlBuC,WAAnChzB,EAAQD,KAAKkW,SAASpT,OAAO,GAAkB,CAACqB,MAAMC,QAAQpE,KAAKkW,SAASpT,OAAO,GAAiD,EAA5C+H,OAAO+R,KAAK5c,KAAKkW,SAASpT,OAAO,EAAEvB,OAC5GvB,KAAKkW,SAASpT,QACI,WAA1B9C,KAAKkW,SAASpT,QACN,CACfowB,QAAS,6BACTC,QAAS,qJACTC,QAAS,CAAA,EACTC,SAAU,CAAA,CACZ,EAEiB,CACfC,UAAW,CAAA,EACXD,SAAU,CAAA,EACVH,QAAS,yQACTE,QAAS,gDACTD,QAAS,uUACX,GAEaxE,SAAW,WAAa3uB,KAAKwyB,YACsB,GAA9D,CAAC,SAAU,UAAUhnB,QAAQvL,EAAQD,KAAKkW,SAASF,KAAK,CAAC,IAC3Did,EAAejd,MAAQhW,KAAKkW,SAASF,OAE8B,GAAjE,CAAC,SAAU,UAAUxK,QAAQvL,EAAQD,KAAKkW,SAASoE,QAAQ,CAAC,IAC9D2Y,EAAeM,UAAYvzB,KAAKkW,SAASoE,UAE0B,GAAjE,CAAC,SAAU,UAAU9O,QAAQvL,EAAQD,KAAKkW,SAASqE,QAAQ,CAAC,IAC9D0Y,EAAeO,UAAYxzB,KAAKkW,SAASqE,UAEwB,GAA/D,CAAC,SAAU,UAAU/O,QAAQvL,EAAQD,KAAKkW,SAASuc,MAAM,CAAC,IAC5DQ,EAAeR,OAASzyB,KAAKkW,SAASuc,QAE8B,GAAlE,CAAC,SAAU,UAAUjnB,QAAQvL,EAAQD,KAAKkW,SAASwc,SAAS,CAAC,IAC/DO,EAAeQ,WAAazzB,KAAKkW,SAASwc,WAE0B,GAAlE,CAAC,SAAU,UAAUlnB,QAAQvL,EAAQD,KAAKkW,SAASyc,SAAS,CAAC,IAC/DM,EAAeS,WAAa1zB,KAAKkW,SAASyc,WAE5CgB,QAAQzR,KAAK+Q,CAAc,EAAEW,KAAK,WAChCb,EAAKR,QAAUoB,QAAQtwB,IAAI2vB,CAAU,CACvC,CAAC,EACH,CACF,EAEArQ,EAAW9L,OAAOgd,eAAiB,CACjCpP,IAAK,GACLvN,MAAO,GACP0M,MAAO,KACPC,OAAQ,EACRiQ,eAAgB,CAAA,EAChBpP,OAAQ,GACRxO,SAAU,CACRpC,KAAM,WACNxR,KAAM,KACNqiB,MAAO,KACPtO,WAAY,KACZL,MAAO,KACP6O,WAAY,KACZxR,YAAa,KACbyR,UAAW,KACXqB,OAAQ,KACRrQ,KAAM,CACJhC,KAAM,WACNsN,MAAS,2CACX,EACA2D,SAAU,KACVa,YAAa,KACbD,UAAW,KACXlL,SAAU,KACV2L,SAAU,KACVpJ,KAAM,CAAA,EACN+W,QAAS,CAAA,EACTrX,OAAQ,IACV,EAOAwF,KAAM,SAAcniB,EAAM+C,EAASyI,GACjCvL,KAAK4jB,MAAQ7jB,EACbC,KAAK6jB,OAAStY,EACdvL,KAAKykB,IAAM1kB,EAAKmc,MAAM,EAAI,WAAapZ,EAAQ6J,eAAe,MAAM,EAAI7J,EAAQR,KAAOiJ,GACvFvL,KAAKkX,MAAQhC,EAAgBiE,SAAS,EACtCnZ,KAAK0kB,OAASxP,EAAgBC,cAAcpV,EAAM+C,CAAO,EACzD9C,KAAKkW,SAAWhB,EAAgBQ,kBAAkB3V,EAAMC,KAAKkW,SAAUpT,CAAO,EAC9E,IAAIiZ,EAAO/b,KACXD,EAAKuS,GAAG,oBAAqB,WAC3ByJ,EAAKgI,YAAY,CACnB,CAAC,CACH,EAKAvG,WAAY,WACV,OAAO5H,EAAEC,OAAO,CAAA,EAAM,GAAI7V,KAAKkW,QAAQ,CACzC,EAKAuE,SAAU,SAAkBmG,GAC1B5gB,KAAK0kB,OAAS1kB,KAAKsgB,SAAS,EAC5BtgB,KAAKkW,SAASuE,SAAW,CAAC,CAACmG,EAC3BhL,EAAE,YAAc5V,KAAKkX,KAAK,EAAEsF,KAAKxc,KAAKsX,cAAc,CAAC,EAChDtX,KAAKkW,SAASuE,UACjBza,KAAK+jB,YAAY,CAErB,EAKAlD,KAAM,SAAcoD,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAE5D,KAAKoD,CAAQ,CAC7C,EAKAjH,KAAM,SAAciH,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAEzH,KAAKiH,CAAQ,CAC7C,EAKA3D,SAAU,WACR,IAIM0T,EAON,OAVIh0B,KAAKkW,SAASuE,SACPza,KAAK0kB,OAGuB,KAAA,KADjCsP,EAAOpe,EAAE,YAAc5V,KAAKkX,MAAQ,yBAAyB,EAAE+c,GAAG,CAAC,GACvDne,KAAK,UAAU,GAA+C,CAAA,IAA1Bke,EAAKle,KAAK,UAAU,EAC7D,KAEAke,EAAKlmB,IAAI,CAIxB,EAKAqU,SAAU,SAAkBnX,GACtB,CAAC,SAAU,UAAUQ,QAAQvL,EAAQ+K,CAAK,CAAC,EAAI,IAGnDhL,KAAK0kB,OAAS1Z,EACVhL,KAAKkW,SAASuE,SAChB7E,EAAE,YAAc5V,KAAKkX,KAAK,EAAEnR,KAAKiF,EAAQ,SAAW,EAAE,EAEtD4K,EAAE,YAAc5V,KAAKkX,MAAQ,yBAAyB,EAAEpJ,IAAI9C,CAAK,EAErE,EAMA0P,SAAU,SAAkBsG,EAASjb,GACnC,IAGIuf,EACAe,EAJArmB,KAAKkW,SAASuE,WAGd6K,EAAY1P,EAAE,YAAc5V,KAAKkX,KAAK,EACtCmP,EAAQzQ,EAAE,yBAA0B0P,CAAS,EACjDA,EAAUpE,KAAK,iBAAiB,EAAEnT,OAAO,EACzCuX,EAAUpE,KAAK,mBAAmB,EAAEnT,OAAO,EAC3B,OAAZiT,GACFqF,EAAMZ,YAAY,YAAY,EAC9BY,EAAMZ,YAAY,UAAU,GACnBzE,GACTqF,EAAMZ,YAAY,YAAY,EAC9BY,EAAMX,SAAS,UAAU,EAIL,UAAhB,OAFF3f,EADkB,KAAA,IAATA,GAA2D,UAAnC,OAAO/F,KAAKkW,SAASyP,UAC/C3lB,KAAKkW,SAASyP,UAEZ5f,IACTuf,EAAUlH,OAAO,uCAAyCrY,EAAO,QAAQ,IAG3EsgB,EAAMZ,YAAY,UAAU,EAC5BY,EAAMX,SAAS,YAAY,EACP,KAAA,IAAT3f,IACgC,UAArC,OAAO/F,KAAKkW,SAAS0P,YACvB7f,EAAO/F,KAAKkW,SAAS0P,YACZ,CAAC7f,GAAQ/F,KAAKkW,SAAS6O,WAChChf,EAAO/F,KAAK4jB,MAAMjF,QAAQ,EAAE4E,iBAGZ,UAAhB,OAAOxd,GACTuf,EAAUlH,OAAO,yCAA2CrY,EAAO,QAAQ,GAGjF,EAKAib,QAAS,WACP,IAGIqF,EAHJ,MAAI,EAACrmB,KAAK8zB,gBAAkB9zB,CAAAA,KAAKkW,SAASuE,YAGtC4L,EAAQzQ,EAAE,YAAc5V,KAAKkX,MAAQ,yBAAyB,GACxD+c,GAAG,CAAC,EAAEnmB,IAAI,IAAMuY,EAAM4N,GAAG,CAAC,EAAEnmB,IAAI,IAGtCuY,EAAM,GACDA,EAAM4N,GAAG,CAAC,EAAE3N,GAAG,QAAQ,EAEzB,KACT,EAKApe,OAAQ,WACN,IAAIpF,EAAU9C,KAAKwd,WAAW,EAC1BqI,EAAe3Q,EAAgB0B,iBAAiB5W,KAAK4jB,MAAO9gB,CAAO,EACvE,OAAOrC,IAAIyH,OAAO+M,EAAI,yBAA0B,CAC9C6E,GAAI9Z,KAAKykB,IACT1kB,KAAMC,KAAK4jB,MACX3M,KAAMjX,KAAKkX,MACXJ,MAAOhU,EACPuU,QAASrX,KAAKsX,cAAc,EAC5BuO,aAAcA,CAChB,CAAC,CACH,EAKAvO,cAAe,WACb,OAAOtX,KAAKkW,SAASuE,SAAWza,KAAKumB,uBAAuB,EAAIvmB,KAAKwmB,eAAe,CACtF,EAKAA,eAAgB,WACd,IAAIxC,EAAa,GACbkQ,EAAc,GAEdpxB,EAAU9C,KAAKwd,WAAW,EA4B1BnF,GA3BJrY,KAAK8zB,eAAkBhxB,CAAAA,EAAQixB,SAAiB,CAAC/zB,KAAK0kB,OACjD5hB,EAAQ6J,eAAe,MAAM,GAA+B,WAA1B1M,EAAQ6C,EAAQgT,IAAI,GAAmC,OAAjBhT,EAAQgT,MAAiB3R,CAAAA,MAAMC,QAAQtB,EAAQgT,IAAI,IAC9HhT,EAAQgT,KAAO,IAEZ9V,KAAK8zB,iBACRhxB,EAAQgT,KAAKqe,SAAW,IAEtBrxB,EAAQR,OACVQ,EAAQgT,KAAKxT,KAAOtC,KAAKkW,SAAS5T,MAEpCQ,EAAQgT,KAAK9K,MAAQhL,KAAK0kB,OAAS,SAAW,GAC1C5hB,EAAQkT,QACVlT,EAAQgT,KAAOZ,EAAgBa,UAAU,CACvC2Q,MAAO,SAAW5jB,EAAQkT,KAC5B,EAAGlT,EAAQgT,IAAI,GAEbhT,EAAQiiB,WACVjiB,EAAQgT,KAAKiP,SAAW,YAE1BnP,EAAEe,KAAK7T,EAAQgT,KAAM,SAAUxT,EAAM0I,GACnCgZ,EAAWlY,KAAKxJ,EAAO,KAAO0I,EAAQ,GAAG,CAC3C,CAAC,EACD4K,EAAEe,KAAK7T,EAAQgT,KAAM,SAAUxT,EAAM0I,GAC/B,CAAC,OAAQ,SAASQ,QAAQlJ,CAAI,EAAI,GACpC4xB,EAAYpoB,KAAKxJ,EAAO,KAAO0I,EAAQ,GAAG,CAE9C,CAAC,EACUhL,KAAK4jB,MAAMjF,QAAQ,GAC9B,OAAOle,IAAIyH,OAAO+M,EAAI,8BAA+B,CACnD6B,MAAOhU,EACPkI,MAAuB,OAAhBhL,KAAK0kB,OAAkB1kB,KAAK0kB,OAAS,GAC5CrM,KAAMA,EACN+b,SAAUp0B,KAAK8zB,eAAiBzb,EAAKoL,OAASpL,EAAKmL,OACnDtb,OAAQ,CACN4N,KAA0B,EAApBkO,EAAWziB,OAAa,IAAMyiB,EAAWre,KAAK,GAAG,EAAI,GAC3D8Q,MAA4B,EAArByd,EAAY3yB,OAAa,IAAM2yB,EAAYvuB,KAAK,GAAG,EAAI,GAC9DygB,SAtCW,EAuCb,CACF,CAAC,CACH,EAKAG,uBAAwB,WACtB,IAAIzjB,EAAU9C,KAAKwd,WAAW,EAC9B,OAAO/c,IAAIyH,OAAO+M,EAAI,8BAA+B,CACnD6B,MAAOhU,EACPkI,MAAOhL,KAAK0kB,OAAS,SAAW,GAChCzN,KAAMjX,KAAKkX,KACb,CAAC,CACH,EAKA6M,YAAa,WACX,IAAIhI,EAAO/b,KACX4V,EAAE,YAAc5V,KAAKkX,MAAQ,uBAAuB,EAAEgN,MAAM,SAAUvjB,GACpE,IAAI0zB,EAAaze,EAAE5V,IAAI,EAAEoI,KAAK,QAAQ,EAClCksB,EAAa1e,EAAE5V,IAAI,EAAEoI,KAAK,QAAQ,EAClC2T,EAAK+X,gBACPle,EAAE,YAAcmG,EAAK7E,MAAQ,oBAAoB,EAAEpB,KAAK,WAAY,UAAU,EAC9EF,EAAE5V,IAAI,EAAE+F,KAAKsuB,CAAU,EACvBtY,EAAK+X,eAAiB,CAAA,IAEtBle,EAAE,YAAcmG,EAAK7E,MAAQ,oBAAoB,EAAEqN,WAAW,UAAU,EACxE3O,EAAE5V,IAAI,EAAE+F,KAAKuuB,CAAU,EACvBvY,EAAK+X,eAAiB,CAAA,EAE1B,CAAC,CACH,CACF,EAEAnR,EAAW9L,OAAOyH,KAAO,CACvBmG,IAAK,GACLvN,MAAO,GACP0M,MAAO,KACPC,OAAQ,EACRa,OAAQ,GACRxO,SAAU,CACRpC,KAAM,OACNxR,KAAM,KACNqiB,MAAO,KACPtO,WAAY,KACZL,MAAO,KACP6O,WAAY,KACZxR,YAAa,KACbyR,UAAW,KACXqB,OAAQ,KACRrQ,KAAM,CACJsL,MAAS,6BACX,EACA2D,SAAU,KACVa,YAAa,KACbD,UAAW,KACXlL,SAAU,KACV2L,SAAU,KACVpJ,KAAM,CAAA,EACNN,OAAQ,IACV,EAOAwF,KAAM,SAAcniB,EAAM+C,EAASyI,GACjCvL,KAAK4jB,MAAQ7jB,EACbC,KAAK6jB,OAAStY,EACdvL,KAAKykB,IAAM1kB,EAAKmc,MAAM,EAAI,WAAapZ,EAAQ6J,eAAe,MAAM,EAAI7J,EAAQR,KAAOiJ,GACvFvL,KAAKkX,MAAQhC,EAAgBiE,SAAS,EACtCnZ,KAAK0kB,OAASxP,EAAgBC,cAAcpV,EAAM+C,CAAO,EACzD9C,KAAKkW,SAAWhB,EAAgBQ,kBAAkB3V,EAAMC,KAAKkW,SAAUpT,CAAO,CAChF,EAKA0a,WAAY,WACV,OAAO5H,EAAEC,OAAO,CAAA,EAAM,GAAI7V,KAAKkW,QAAQ,CACzC,EAKAuE,SAAU,SAAkBmG,GAC1B5gB,KAAK0kB,OAAS1kB,KAAKsgB,SAAS,EAC5BtgB,KAAKkW,SAASuE,SAAW,CAAC,CAACmG,EAC3BhL,EAAE,YAAc5V,KAAKkX,KAAK,EAAEsF,KAAKxc,KAAKsX,cAAc,CAAC,CACvD,EAKAuJ,KAAM,SAAcoD,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAE5D,KAAKoD,CAAQ,CAC7C,EAKAjH,KAAM,SAAciH,GAClBrO,EAAE,gBAAkB5V,KAAKykB,GAAG,EAAEzH,KAAKiH,CAAQ,CAC7C,EAKA3D,SAAU,WACR,OAAOtgB,KAAKkW,SAASuE,SAAWza,KAAK0kB,OAAS9O,EAAE,YAAc5V,KAAKkX,MAAQ,QAAQ,EAAE,GAAGqd,KAC1F,EAKApS,SAAU,SAAkBnX,GAC1B,IAOMsa,GAPAta,aAAiBmT,MAAWnT,aAAiBqT,YAGnDre,KAAK0kB,OAAS1Z,EACVhL,KAAKkW,SAASuE,SAChB7E,EAAE,YAAc5V,KAAKkX,KAAK,EAAEnR,KAAK,EAAE,GAE/Buf,EAAY,IAAIkP,aAChBxpB,aAAiBmT,KACnBmH,EAAU0B,MAAMyN,IAAIzpB,CAAK,EAEzB4K,EAAEe,KAAK3L,EAAO,SAAU0B,EAAK4R,GACvBtT,aAAiBmT,MACnBmH,EAAU0B,MAAMyN,IAAInW,CAAI,CAE5B,CAAC,EAEH1I,EAAE,YAAc5V,KAAKkX,MAAQ,QAAQ,EAAE,GAAGqd,MAAQjP,EAAUiP,OAEhE,EAMA7Z,SAAU,SAAkBsG,EAASjb,GACnC,IAGIuf,EACAe,EAJArmB,KAAKkW,SAASuE,WAGd6K,EAAY1P,EAAE,YAAc5V,KAAKkX,KAAK,EACtCmP,EAAQzQ,EAAE,QAAS0P,CAAS,EAChCA,EAAUpE,KAAK,iBAAiB,EAAEnT,OAAO,EACzCuX,EAAUpE,KAAK,mBAAmB,EAAEnT,OAAO,EAC3B,OAAZiT,GACFqF,EAAMZ,YAAY,YAAY,EAC9BY,EAAMZ,YAAY,UAAU,GACnBzE,GACTqF,EAAMZ,YAAY,YAAY,EAC9BY,EAAMX,SAAS,UAAU,EAIL,UAAhB,OAFF3f,EADkB,KAAA,IAATA,GAA2D,UAAnC,OAAO/F,KAAKkW,SAASyP,UAC/C3lB,KAAKkW,SAASyP,UAEZ5f,IACTuf,EAAUlH,OAAO,+BAAiCrY,EAAO,QAAQ,IAGnEsgB,EAAMZ,YAAY,UAAU,EAC5BY,EAAMX,SAAS,YAAY,EACP,KAAA,IAAT3f,IACgC,UAArC,OAAO/F,KAAKkW,SAAS0P,YACvB7f,EAAO/F,KAAKkW,SAAS0P,YACZ,CAAC7f,GAAQ/F,KAAKkW,SAAS6O,WAChChf,EAAO/F,KAAK4jB,MAAMjF,QAAQ,EAAE4E,iBAGZ,UAAhB,OAAOxd,GACTuf,EAAUlH,OAAO,iCAAmCrY,EAAO,QAAQ,GAGzE,EAKAib,QAAS,WACP,IAAIqF,EAAQzQ,EAAE,YAAc5V,KAAKkX,MAAQ,QAAQ,EACjD,OAAImP,EAAM,GACDA,EAAMC,GAAG,QAAQ,EAEnB,IACT,EAKApe,OAAQ,WACN,IAAIpF,EAAU9C,KAAKwd,WAAW,EAC1BqI,EAAe3Q,EAAgB0B,iBAAiB5W,KAAK4jB,MAAO9gB,CAAO,EACvE,OAAOrC,IAAIyH,OAAO+M,EAAI,yBAA0B,CAC9C6E,GAAI9Z,KAAKykB,IACT1kB,KAAMC,KAAK4jB,MACX3M,KAAMjX,KAAKkX,MACXJ,MAAOhU,EACPuU,QAASrX,KAAKsX,cAAc,EAC5BuO,aAAcA,CAChB,CAAC,CACH,EAKAvO,cAAe,WACb,OAAOtX,KAAKkW,SAASuE,SAAWza,KAAKumB,uBAAuB,EAAIvmB,KAAKwmB,eAAe,CACtF,EAKAA,eAAgB,WACd,IAAIxC,EAAa,GACboC,EAAW,GACXtjB,EAAU9C,KAAKwd,WAAW,EAC1BiJ,EAAavR,EAAgBiE,SAAS,EAgC1C,OA/BKrW,EAAQ6J,eAAe,MAAM,GAA+B,WAA1B1M,EAAQ6C,EAAQgT,IAAI,GAAmC,OAAjBhT,EAAQgT,MAAiB3R,CAAAA,MAAMC,QAAQtB,EAAQgT,IAAI,IAC9HhT,EAAQgT,KAAO,IAEbhT,EAAQR,OACVQ,EAAQgT,KAAKxT,KAAOtC,KAAKkW,SAAS5T,MAEpCQ,EAAQgT,KAAKhC,KAAOhR,EAAQgR,KAC5BhR,EAAQgT,KAAK9K,MAAwB,OAAhBhL,KAAK0kB,OAAkB1kB,KAAK0kB,OAAS,GACtD5hB,EAAQkT,QACVlT,EAAQgT,KAAOZ,EAAgBa,UAAU,CACvC2Q,MAAO,SAAW5jB,EAAQkT,KAC5B,EAAGlT,EAAQgT,IAAI,GAEbhT,EAAQiiB,WACVjiB,EAAQgT,KAAKiP,SAAW,YAEtBjiB,EAAQ6J,eAAe,UAAU,GAAmC,WAA9B1M,EAAQ6C,EAAQsjB,QAAQ,GAAkBjiB,MAAMC,QAAQtB,EAAQsjB,QAAQ,IAChHtjB,EAAQgT,KAAKlI,KAAO6Y,EACpB7Q,EAAEe,KAAK7T,EAAQsjB,SAAU,SAAU1Z,EAAKia,GACtC,IAAIC,EAAe,GACnBhR,EAAEe,KAAKgQ,EAAgB,SAAUrkB,EAAM0I,GACrC4b,EAAa9a,KAAKxJ,EAAO,KAAO0I,EAAQ,GAAG,CAC7C,CAAC,EACDob,EAASta,KAAK,CACZgK,KAA4B,EAAtB8Q,EAAarlB,OAAa,IAAMqlB,EAAajhB,KAAK,GAAG,EAAI,EACjE,CAAC,CACH,CAAC,GAEHiQ,EAAEe,KAAK7T,EAAQgT,KAAM,SAAUxT,EAAM0I,GACnCgZ,EAAWlY,KAAKxJ,EAAO,KAAO0I,EAAQ,GAAG,CAC3C,CAAC,EACMvK,IAAIyH,OAAO+M,EAAI,qBAAsB,CAC1C6B,MAAOhU,EACP2jB,WAAYA,EACZzb,MAAuB,OAAhBhL,KAAK0kB,OAAkB1kB,KAAK0kB,OAAS,GAC5Cxc,OAAQ,CACN4N,KAA0B,EAApBkO,EAAWziB,OAAa,IAAMyiB,EAAWre,KAAK,GAAG,EAAI,GAC3DygB,SAAUA,CACZ,CACF,CAAC,CACH,EAKAG,uBAAwB,WACtB,IAAIzjB,EAAU9C,KAAKwd,WAAW,EAC1B1J,EAAO,OACP9I,EAAQhL,KAAK0kB,OACbrM,EAAOrY,KAAK4jB,MAAMjF,QAAQ,EAC1B7b,EAAQ6J,eAAe,MAAM,GAA6B,UAAxB,OAAO7J,EAAQgR,OACnDA,EAAOhR,EAAQgR,MAEjB,IACE,OAAQA,GACN,IAAK,OACH9I,EAAQkK,EAAgBqC,WAAWvM,CAAK,EACxC,MACF,IAAK,iBACHA,EAAQkK,EAAgB8C,eAAehN,CAAK,EAC5C,MACF,IAAK,QACHA,EAAQkK,EAAgBkD,gBAAgBpN,EAAOqN,CAAI,EACnD,MACF,IAAK,OACHrN,EAAQkK,EAAgBqD,eAAevN,EAAOqN,CAAI,CAEtD,CAIF,CAHE,MAAO1X,GACPqH,QAAQ8Q,MAAMnY,CAAC,CAEjB,CAEA,OAAOF,IAAIyH,OAAO+M,EAAI,qBAAsB,CAC1C6B,MAAOhU,EACPkI,MAAOA,EACPiM,KAAMjX,KAAKkX,KACb,CAAC,CACH,CACF,EAEOyL,CAER,CAAC"}