!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t.CoreUI=t.CoreUI||{},t.CoreUI.form=e())}(this,function(){"use strict";!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ejs=t()}(function(){return function i(o,r,s){function a(e,t){if(!r[e]){if(!o[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(l)return l(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}n=r[e]={exports:{}},o[e][0].call(n.exports,function(t){return a(o[e][1][t]||t)},n,n.exports,i,o,r,s)}return r[e].exports}for(var l="function"==typeof require&&require,t=0;t<s.length;t++)a(s[t]);return a}({1:[function(t,e,l){var r=t("fs"),d=t("path"),u=t("./utils"),n=!1,t=t("../package.json").version,i="locals",o=["delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace","strict","filename","async"],h=o.concat("cache"),s=/^\uFEFF/,c=/^[a-zA-Z_$][0-9a-zA-Z_$]*$/;function a(e,t){var n;if(t.some(function(t){return n=l.resolveInclude(e,t,!0),r.existsSync(n)}))return n}function p(t,e){var n,i=t.filename,o=1<arguments.length;if(t.cache){if(!i)throw new Error("cache option requires a filename");if(n=l.cache.get(i))return n;o||(e=f(i).toString().replace(s,""))}else if(!o){if(!i)throw new Error("Internal EJS error: no file name or template provided");e=f(i).toString().replace(s,"")}return n=l.compile(e,t),t.cache&&l.cache.set(i,n),n}function f(t){return l.fileLoader(t)}function m(t,e){var n=u.shallowCopy(u.createNullProtoObjWherePossible(),e);if(n.filename=function(t,e){var n,i=e.views,o=/^[A-Za-z]+:\\|^\//.exec(t);if(o&&o.length)t=t.replace(/^\/*/,""),n=Array.isArray(e.root)?a(t,e.root):l.resolveInclude(t,e.root||"/",!0);else if(!(n=!(n=e.filename&&(o=l.resolveInclude(t,e.filename),r.existsSync(o))?o:n)&&Array.isArray(i)?a(t,i):n)&&"function"!=typeof e.includer)throw new Error('Could not find the include file "'+e.escapeFunction(t)+'"');return n}(t,n),"function"==typeof e.includer){e=e.includer(t,n.filename);if(e&&(e.filename&&(n.filename=e.filename),e.template))return p(n,e.template)}return p(n)}function _(t,e,n,i,o){var e=e.split("\n"),r=Math.max(i-3,0),s=Math.min(e.length,i+3),o=o(n),n=e.slice(r,s).map(function(t,e){e=e+r+1;return(e==i?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=o,t.message=(o||"ejs")+":"+i+"\n"+n+"\n\n"+t.message,t}function v(t){return t.replace(/;(\s*$)/,"$1")}function y(t,e){e=e||u.createNullProtoObjWherePossible();var n=u.createNullProtoObjWherePossible();this.templateText=t,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",n.client=e.client||!1,n.escapeFunction=e.escape||e.escapeFunction||u.escapeXML,n.compileDebug=!1!==e.compileDebug,n.debug=!!e.debug,n.filename=e.filename,n.openDelimiter=e.openDelimiter||l.openDelimiter||"<",n.closeDelimiter=e.closeDelimiter||l.closeDelimiter||">",n.delimiter=e.delimiter||l.delimiter||"%",n.strict=e.strict||!1,n.context=e.context,n.cache=e.cache||!1,n.rmWhitespace=e.rmWhitespace,n.root=e.root,n.includer=e.includer,n.outputFunctionName=e.outputFunctionName,n.localsName=e.localsName||l.localsName||i,n.views=e.views,n.async=e.async,n.destructuredLocals=e.destructuredLocals,n.legacyInclude=void 0===e.legacyInclude||!!e.legacyInclude,n.strict?n._with=!1:n._with=void 0===e._with||e._with,this.opts=n,this.regex=this.createRegex()}l.cache=u.cache,l.fileLoader=r.readFileSync,l.localsName=i,l.promiseImpl=new Function("return this;")().Promise,l.resolveInclude=function(t,e,n){var i=d.dirname,o=d.extname,n=(0,d.resolve)(n?e:i(e),t);return o(t)||(n+=".ejs"),n},l.compile=function(t,e){return e&&e.scope&&(n||(console.warn("`scope` option is deprecated and will be removed in EJS 3"),n=!0),e.context||(e.context=e.scope),delete e.scope),new y(t,e).compile()},l.render=function(t,e,n){e=e||u.createNullProtoObjWherePossible(),n=n||u.createNullProtoObjWherePossible();return 2==arguments.length&&u.shallowCopyFromList(n,e,o),p(n,t)(e)},l.renderFile=function(){var t,e,n,i=Array.prototype.slice.call(arguments),o=i.shift(),r={filename:o},s=("function"==typeof arguments[arguments.length-1]&&(t=i.pop()),i.length?(e=i.shift(),i.length?u.shallowCopy(r,i.pop()):(e.settings&&(e.settings.views&&(r.views=e.settings.views),e.settings["view cache"]&&(r.cache=!0),i=e.settings["view options"])&&u.shallowCopy(r,i),u.shallowCopyFromList(r,e,h)),r.filename=o):e=u.createNullProtoObjWherePossible(),r),a=e,i=t;if(!i){if("function"==typeof l.promiseImpl)return new l.promiseImpl(function(t,e){try{t(n=p(s)(a))}catch(t){e(t)}});throw new Error("Please provide a callback function")}try{n=p(s)(a)}catch(t){return i(t)}i(null,n)},l.Template=y,l.clearCache=function(){l.cache.reset()},y.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"},y.prototype={createRegex:function(){var t="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",e=u.escapeRegExpChars(this.opts.delimiter),n=u.escapeRegExpChars(this.opts.openDelimiter),i=u.escapeRegExpChars(this.opts.closeDelimiter),t=t.replace(/%/g,e).replace(/</g,n).replace(/>/g,i);return new RegExp(t)},compile:function(){var t,o=this.opts,e="",n="",r=o.escapeFunction,i=o.filename?JSON.stringify(o.filename):"undefined";if(!this.source){if(this.generateSource(),e+='  var __output = "";\n  function __append(s) { if (s !== undefined && s !== null) __output += s }\n',o.outputFunctionName){if(!c.test(o.outputFunctionName))throw new Error("outputFunctionName is not a valid JS identifier.");e+="  var "+o.outputFunctionName+" = __append;\n"}if(o.localsName&&!c.test(o.localsName))throw new Error("localsName is not a valid JS identifier.");if(o.destructuredLocals&&o.destructuredLocals.length){for(var s="  var __locals = ("+o.localsName+" || {}),\n",a=0;a<o.destructuredLocals.length;a++){var l=o.destructuredLocals[a];if(!c.test(l))throw new Error("destructuredLocals["+a+"] is not a valid JS identifier.");0<a&&(s+=",\n  "),s+=l+" = __locals."+l}e+=s+";\n"}!1!==o._with&&(e+="  with ("+o.localsName+" || {}) {\n",n+="  }\n"),this.source=e+this.source+(n+="  return __output;\n")}e=o.compileDebug?"var __line = 1\n  , __lines = "+JSON.stringify(this.templateText)+"\n  , __filename = "+i+";\ntry {\n"+this.source+"} catch (e) {\n  rethrow(e, __lines, __filename, __line, escapeFn);\n}\n":this.source,o.client&&(e="escapeFn = escapeFn || "+r.toString()+";\n"+e,o.compileDebug)&&(e="rethrow = rethrow || "+_.toString()+";\n"+e),o.strict&&(e='"use strict";\n'+e),o.debug&&console.log(e),o.compileDebug&&o.filename&&(e=e+"\n//# sourceURL="+i+"\n");try{if(o.async)try{h=new Function("return (async function(){}).constructor;")()}catch(t){throw t instanceof SyntaxError?new Error("This environment does not support async/await"):t}else h=Function;t=new h(o.localsName+", escapeFn, include, rethrow",e)}catch(t){throw t instanceof SyntaxError&&(o.filename&&(t.message+=" in "+o.filename),t.message+=" while compiling ejs\n\n",t.message+="If the above error is not helpful, you may want to try EJS-Lint:\n",t.message+="https://github.com/RyanZim/EJS-Lint",o.async||(t.message+="\n",t.message+="Or, if you meant to create an async function, pass `async: true` as an option.")),t}n=o.client?t:function(i){return t.apply(o.context,[i||u.createNullProtoObjWherePossible(),r,function(t,e){var n=u.shallowCopy(u.createNullProtoObjWherePossible(),i);return e&&(n=u.shallowCopy(n,e)),m(t,o)(n)},_])};if(o.filename&&"function"==typeof Object.defineProperty){var i=o.filename,h=d.basename(i,d.extname(i));try{Object.defineProperty(n,"name",{value:h,writable:!1,enumerable:!1,configurable:!0})}catch(t){}}return n},generateSource:function(){this.opts.rmWhitespace&&(this.templateText=this.templateText.replace(/[\r\n]+/g,"\n").replace(/^\s+|\s+$/gm,"")),this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var n=this,i=this.parseTemplateText(),o=this.opts.delimiter,r=this.opts.openDelimiter,s=this.opts.closeDelimiter;i&&i.length&&i.forEach(function(t,e){if(0===t.indexOf(r+o)&&0!==t.indexOf(r+o+o)&&(e=i[e+2])!=o+s&&e!="-"+o+s&&e!="_"+o+s)throw new Error('Could not find matching close tag for "'+t+'".');n.scanLine(t)})},parseTemplateText:function(){for(var t,e=this.templateText,n=this.regex,i=n.exec(e),o=[];i;)0!==(t=i.index)&&(o.push(e.substring(0,t)),e=e.slice(t)),o.push(i[0]),e=e.slice(i[0].length),i=n.exec(e);return e&&o.push(e),o},_addOutput:function(t){if(this.truncate&&(t=t.replace(/^(?:\r\n|\r|\n)/,""),this.truncate=!1),!t)return t;t=(t=(t=(t=t.replace(/\\/g,"\\\\")).replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/"/g,'\\"'),this.source+='    ; __append("'+t+'")\n'},scanLine:function(t){var e=this.opts.delimiter,n=this.opts.openDelimiter,i=this.opts.closeDelimiter,o=t.split("\n").length-1;switch(t){case n+e:case n+e+"_":this.mode=y.modes.EVAL;break;case n+e+"=":this.mode=y.modes.ESCAPED;break;case n+e+"-":this.mode=y.modes.RAW;break;case n+e+"#":this.mode=y.modes.COMMENT;break;case n+e+e:this.mode=y.modes.LITERAL,this.source+='    ; __append("'+t.replace(n+e+e,n+e)+'")\n';break;case e+e+i:this.mode=y.modes.LITERAL,this.source+='    ; __append("'+t.replace(e+e+i,e+i)+'")\n';break;case e+i:case"-"+e+i:case"_"+e+i:this.mode==y.modes.LITERAL&&this._addOutput(t),this.mode=null,this.truncate=0===t.indexOf("-")||0===t.indexOf("_");break;default:if(this.mode){switch(this.mode){case y.modes.EVAL:case y.modes.ESCAPED:case y.modes.RAW:t.lastIndexOf("//")>t.lastIndexOf("\n")&&(t+="\n")}switch(this.mode){case y.modes.EVAL:this.source+="    ; "+t+"\n";break;case y.modes.ESCAPED:this.source+="    ; __append(escapeFn("+v(t)+"))\n";break;case y.modes.RAW:this.source+="    ; __append("+v(t)+")\n";break;case y.modes.COMMENT:break;case y.modes.LITERAL:this._addOutput(t)}}else this._addOutput(t)}this.opts.compileDebug&&o&&(this.currentLine+=o,this.source+="    ; __line = "+this.currentLine+"\n")}},l.escapeXML=u.escapeXML,l.__express=l.renderFile,l.VERSION=t,l.name="ejs","undefined"!=typeof window&&(window.ejs=l)},{"../package.json":6,"./utils":2,fs:3,path:4}],2:[function(t,e,n){function r(t,e){return o.apply(t,[e])}var i=/[|\\{}()[\]^$+*?.]/g,o=Object.prototype.hasOwnProperty,s=(n.escapeRegExpChars=function(t){return t?String(t).replace(i,"\\$&"):""},{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"}),a=/[&<>'"]/g;function l(t){return s[t]||t}function h(){return Function.prototype.toString.call(this)+';\nvar _ENCODE_HTML_RULES = {\n      "&": "&amp;"\n    , "<": "&lt;"\n    , ">": "&gt;"\n    , \'"\': "&#34;"\n    , "\'": "&#39;"\n    }\n  , _MATCH_HTML = /[&<>\'"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n'}n.escapeXML=function(t){return null==t?"":String(t).replace(a,l)};try{"function"==typeof Object.defineProperty?Object.defineProperty(n.escapeXML,"toString",{value:h}):n.escapeXML.toString=h}catch(t){console.warn("Unable to set escapeXML.toString (is the Function prototype frozen?)")}n.shallowCopy=function(t,e){if(e=e||{},null!=t)for(var n in e)r(e,n)&&"__proto__"!==n&&"constructor"!==n&&(t[n]=e[n]);return t},n.shallowCopyFromList=function(t,e,n){if(n=n||[],e=e||{},null!=t)for(var i=0;i<n.length;i++){var o=n[i];void 0!==e[o]&&r(e,o)&&"__proto__"!==o&&"constructor"!==o&&(t[o]=e[o])}return t},n.cache={_data:{},set:function(t,e){this._data[t]=e},get:function(t){return this._data[t]},remove:function(t){delete this._data[t]},reset:function(){this._data={}}},n.hyphenToCamel=function(t){return t.replace(/-[a-z]/g,function(t){return t[1].toUpperCase()})},n.createNullProtoObjWherePossible="function"==typeof Object.create?function(){return Object.create(null)}:{__proto__:null}instanceof Object?function(){return{}}:function(){return{__proto__:null}}},{}],3:[function(t,e,n){},{}],4:[function(t,e,h){!function(o){function r(t,e){for(var n=0,i=t.length-1;0<=i;i--){var o=t[i];"."===o?t.splice(i,1):".."===o?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;)t.unshift("..");return t}function s(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}h.resolve=function(){for(var t="",e=!1,n=arguments.length-1;-1<=n&&!e;n--){var i=0<=n?arguments[n]:o.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(t=i+"/"+t,e="/"===i.charAt(0))}return(e?"/":"")+(t=r(s(t.split("/"),function(t){return!!t}),!e).join("/"))||"."},h.normalize=function(t){var e=h.isAbsolute(t),n="/"===i(t,-1);return(t=(t=r(s(t.split("/"),function(t){return!!t}),!e).join("/"))||e?t:".")&&n&&(t+="/"),(e?"/":"")+t},h.isAbsolute=function(t){return"/"===t.charAt(0)},h.join=function(){var t=Array.prototype.slice.call(arguments,0);return h.normalize(s(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},h.relative=function(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;0<=n&&""===t[n];n--);return n<e?[]:t.slice(e,n-e+1)}t=h.resolve(t).substr(1),e=h.resolve(e).substr(1);for(var i=n(t.split("/")),o=n(e.split("/")),r=Math.min(i.length,o.length),s=r,a=0;a<r;a++)if(i[a]!==o[a]){s=a;break}for(var l=[],a=s;a<i.length;a++)l.push("..");return(l=l.concat(o.slice(s))).join("/")},h.sep="/",h.delimiter=":",h.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=47===t.charCodeAt(0),n=-1,i=!0,o=t.length-1;1<=o;--o)if(47===t.charCodeAt(o)){if(!i){n=o;break}}else i=!1;return-1===n?e?"/":".":e&&1===n?"/":t.slice(0,n)},h.basename=function(t,e){t=function(t){"string"!=typeof t&&(t+="");for(var e=0,n=-1,i=!0,o=t.length-1;0<=o;--o)if(47===t.charCodeAt(o)){if(!i){e=o+1;break}}else-1===n&&(i=!1,n=o+1);return-1===n?"":t.slice(e,n)}(t);return t=e&&t.substr(-1*e.length)===e?t.substr(0,t.length-e.length):t},h.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,n=0,i=-1,o=!0,r=0,s=t.length-1;0<=s;--s){var a=t.charCodeAt(s);if(47===a){if(o)continue;n=s+1;break}-1===i&&(o=!1,i=s+1),46===a?-1===e?e=s:1!==r&&(r=1):-1!==e&&(r=-1)}return-1===e||-1===i||0===r||1===r&&e===i-1&&e===n+1?"":t.slice(e,i)};var i="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}.call(this,t("_process"))},{_process:5}],5:[function(t,e,n){var i,o,e=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}try{i="function"==typeof setTimeout?setTimeout:r}catch(t){i=r}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(t){o=s}function a(e){if(i===setTimeout)return setTimeout(e,0);if((i===r||!i)&&setTimeout)return(i=setTimeout)(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}var l,h=[],d=!1,u=-1;function c(){d&&l&&(d=!1,l.length?h=l.concat(h):u=-1,h.length)&&p()}function p(){if(!d){for(var t=a(c),e=(d=!0,h.length);e;){for(l=h,h=[];++u<e;)l&&l[u].run();u=-1,e=h.length}l=null,d=!1,!function(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return(o=clearTimeout)(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function m(){}e.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new f(t,e)),1!==h.length||d||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=m,e.addListener=m,e.once=m,e.off=m,e.removeListener=m,e.removeAllListeners=m,e.emit=m,e.prependListener=m,e.prependOnceListener=m,e.listeners=function(t){return[]},e.binding=function(t){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(t){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},{}],6:[function(t,e,n){e.exports={name:"ejs",description:"Embedded JavaScript templates",keywords:["template","engine","ejs"],version:"3.1.8",author:"Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)",license:"Apache-2.0",bin:{ejs:"./bin/cli.js"},main:"./lib/ejs.js",jsdelivr:"ejs.min.js",unpkg:"ejs.min.js",repository:{type:"git",url:"git://github.com/mde/ejs.git"},bugs:"https://github.com/mde/ejs/issues",homepage:"https://github.com/mde/ejs",dependencies:{jake:"^10.8.5"},devDependencies:{browserify:"^16.5.1",eslint:"^6.8.0","git-directory-deploy":"^1.5.1",jsdoc:"^4.0.2","lru-cache":"^4.0.1",mocha:"^10.2.0","uglify-js":"^3.3.16"},engines:{node:">=0.10.0"},scripts:{test:"mocha -u tdd"}}},{}]},{},[1])(1)});let tpl=Object.create(null),coreuiFormUtils$1=(tpl["form-error.html"]='<div class="coreui-form__error alert alert-danger alert-dismissible fade show mb-3 <%= options.class %>">\n    <%- message %>\n    <% if (options.dismiss) { %>\n    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>\n    <% } %>\n</div>',tpl["form-field-content.html"]="<%- content %>",tpl["form-field-group.html"]='<div id="coreui-form-<%= id %>" class="coreui-form__group_container mb-3">\n    <div class="coreui-form__group_label pe-2">\n        <h6 class="coreui-form__field_label_text col-form-label-sm">\n            <%- group.label %>\n            <% if (group.showCollapsible) { %>\n                <button type="button" class="btn btn-sm btn-link btn-collapsible text-dark">\n                    <% if ( ! group.show) { %>\n                    <i class="bi bi-chevron-right"></i>\n                    <% } else { %>\n                    <i class="bi bi-chevron-down"></i>\n                    <% } %>\n                </button>\n            <% } %>\n        </h6>\n    </div>\n    <div class="coreui-form__group_content"<% if ( ! group.show) { %> style="display:none"<% } %>>\n        <%- content %>\n    </div>\n</div>',tpl["form-field-label.html"]='<div id="coreui-form-<%= id %>" class="coreui-form__field_container d-flex flex-column flex-md-row mb-3"\n     <% if ( ! field.show) { %> style="display:none"<% } %>>\n    <% if (field.labelWidth !== 0 && field.labelWidth !== \'0px\') { %>\n    <div class="coreui-form__field_label text-md-end text-sm-start pe-2"<% if (field.labelWidth) { %> style="min-width:<%= field.labelWidth %>;width:<%= field.labelWidth %>"<% } %>>\n        <div class="coreui-form__field_label_content col-form-label-sm">\n            <% if (field.required) { %>\n            <span class="coreui-form__field_label_req text-danger">*</span>\n            <% } %>\n            <span class="coreui-form__field_label_text fw-medium"><%- field.label %></span>\n        </div>\n\n        <% if (field.description) { %>\n        <div class="coreui-form__field_label_description text-muted">\n            <small><%- field.description %></small>\n        </div>\n        <% } %>\n    </div>\n    <% } %>\n    <div class="coreui-form__field_content flex-fill pt-1">\n        <div class="d-inline-block content-<%= hash %>">\n            <%- content %>\n        </div>\n\n        <% if (field.outContent) { %>\n        <span class="coreui-form__field-content-out d-inline-block align-top pt-1 ps-1">\n            <%- field.outContent %>\n        </span>\n        <% } %>\n\n        <% if (attachFields && attachFields.length > 0) { %>\n            <% $.each(attachFields, function(key, attachField) { %>\n                <div class="<% if (attachField.hasOwnProperty(\'direction\') && attachField.direction === \'column\') { %>d-block mt-2<% } else { %>d-inline-block<% } %> content-<%= attachField.hash %>">\n                    <%- attachField.content %>\n                </div>\n            <% }); %>\n        <% } %>\n    </div>\n</div>',tpl["form.html"]='<div id="coreui-form-<%= form.id %>" class="coreui-form mb-2"\n    <% if (widthSizes) { %>style="<%= widthSizes.join(\';\') %>"<% } %>>\n    <% if (form.title) { %>\n    <h5 class="mb-4"><%- form.title %></h5>\n    <% } %>\n\n    <form action="<%= form.send.url %>" method="<%= form.send.method %>"<%- formAttr %>>\n        <div class="coreui-form__fields d-flex justify-content-start flex-column flex-wrap">\n            <%- layout %>\n        </div>\n\n        <% if (controls) { %>\n        <div class="coreui-form__controls d-flex justify-content-start flex-sm-wrap flex-md-nowrap">\n            <% if (form.controlsOffset !== 0 && form.controlsOffset !== \'0px\') { %>\n            <div class="d-none d-md-block" style="width:<%= form.controlsOffset %>;min-width:<%= form.controlsOffset %>"></div>\n            <% } %>\n\n            <div class="d-flex justify-content-start flex-wrap gap-2">\n                <% $.each(controls, function(key, control) { %>\n                <div id="coreui-form-<%= form.id %>-control-<%= control.index %>" class="coreui-form__control_container"\n                     <% if ( ! control.show) { %>style="display:none"<% } %>>\n                    <%- control.content %>\n                </div>\n                <% }); %>\n            </div>\n        </div>\n        <% } %>\n    </form>\n</div>',tpl["controls/button.html"]="<button <%- render.attr %>><%- control.content %></button>",tpl["controls/link.html"]='<a href="<%- control.href %>"<%- render.attr %>><%- control.content %></a>',tpl["fields/checkbox.html"]='<% if (field.readonly) { %>\n    <%- render.selectedItems.join(\', \') %>\n<% } else { %>\n    <% $.each(render.options, function(key, option) { %>\n    <div class="form-check<% if (field.inline) { %> form-check-inline<% } %>">\n        <input <%- option.attr %>/>\n        <label class="form-check-label" for="<%= option.id %>"><%= option.text %></label>\n    </div>\n    <% }); %>\n<% } %>',tpl["fields/color.html"]='<% if (field.readonly) { %>\n    <div class="rounded-1" style="width: 14px;height: 14px;background-color: <%= value %>"></div>\n<% } else { %>\n    <input <%- render.attr %>/>\n\n    <% if (render.datalist.length > 0) { %>\n    <datalist id="<%= datalistId %>">\n        <% $.each(render.datalist, function(key, item) { %>\n        <option <%- item.attr %>/>\n        <% }); %>\n    </datalist>\n    <% } %>\n<% } %>',tpl["fields/custom.html"]="<%- content %>",tpl["fields/dataset-row-readonly.html"]='<tr class="coreui-form__field-dataset-item">\n    <% $.each(options, function(key, option) { %>\n        <td class="pe-2 pb-1">\n            <%- option.value %>\n        </td>\n    <% }); %>\n</tr>',tpl["fields/dataset-row.html"]='<tr class="coreui-form__field-dataset-item" id="dataset-item-<%= hashItem %>">\n    <% $.each(options, function(key, option) { %>\n        <td class="pe-1 pb-1">\n        <% if (option.type === \'select\') { %>\n            <select <%- option.attr %>>\n                <% $.each(option.items, function(key, item) { %>\n                <option <%- item.attr %>><%- item.title %></option>\n                <% }); %>\n            </select>\n        <% } else if (option.type === \'switch\') { %>\n            <div class="form-check form-switch">\n                <input <%- option.attr %>/>\n            </div>\n        <% } else { %>\n            <input <%- option.attr %>>\n        <% } %>\n        </td>\n    <% }); %>\n\n    <td class="pb-1">\n        <button type="button" class="btn btn-sm btn-link btn-dataset-remove" data-item-id="dataset-item-<%= hashItem %>">\n            <i class="bi bi-x text-muted"></i>\n        </button>\n    </td>\n</tr>',tpl["fields/dataset.html"]='<% if (field.readonly) { %>\n    <table class="coreui-form__field-dataset-container" <% if (render.rows.length == 0) { %> style="display:none"<% } %>>\n        <thead>\n            <tr>\n                <% $.each(render.headers, function(key, item) { %>\n                <td class="text-muted pe-2"><small><%= item.title %></small></td>\n                <% }); %>\n            </tr>\n        </thead>\n        <tbody class="coreui-form__field-dataset-list">\n            <% $.each(render.rows, function(key, row) { %>\n            <%- row %>\n            <% }); %>\n        </tbody>\n    </table>\n\n<% } else { %>\n    <table class="coreui-form__field-dataset-container" <% if (render.rows.length == 0) { %> style="display:none"<% } %>>\n        <thead>\n            <tr>\n                <% $.each(render.headers, function(key, item) { %>\n                <td class="text-muted"><small><%= item.title %></small></td>\n                <% }); %>\n                <td></td>\n            </tr>\n        </thead>\n        <tbody class="coreui-form__field-dataset-list">\n            <% $.each(render.rows, function(key, row) { %>\n                <%- row %>\n            <% }); %>\n        </tbody>\n    </table>\n\n    <button type="button" class="btn btn-sm btn-link btn-dataset-add"><%= lang.dataset_add %></button>\n<% } %>',tpl["fields/hidden.html"]="<% if ( ! field.readonly) { %>\n    <input <%- render.attr %>/>\n<% } %>",tpl["fields/input.html"]='<% if (field.readonly) { %>\n    <%- value %>\n<% } else { %>\n    <input <%- render.attr %>/>\n\n    <% if (render.datalist.length > 0) { %>\n    <datalist id="<%= datalistId %>">\n        <% $.each(render.datalist, function(key, item) { %>\n        <option <%- item.attr %>/>\n        <% }); %>\n    </datalist>\n    <% } %>\n<% } %>',tpl["fields/modal-loading.html"]='<div class="py-4 d-flex justify-content-center align-items-center gap-2">\n    <div class="spinner-border mr-2"></div> <%= lang.modal_loading %>\n</div>\n',tpl["fields/modal.html"]='<% if (field.readonly) { %>\n    <%= text %>\n<% } else { %>\n    <div class="input-group"<% if (render.width) { %> style="width:<%= render.width %>"<% } %>>\n        <input <%- render.attr %>/>\n        <input type="hidden" name="<%= field.name %>" value="<%= value %>" class="coreui-form-modal-value"/>\n        <% if ( ! field.required) { %>\n        <button class="btn btn-sm btn-outline-secondary btn-modal-clear border-secondary-subtle" type="button">\n            <i class="bi bi-x"></i>\n        </button>\n        <% } %>\n        <button class="btn btn-sm btn-outline-secondary btn-modal-select border-secondary-subtle" type="button"><%= lang.modal_select %></button>\n    </div>\n<% } %>',tpl["fields/passwordRepeat.html"]='<% if (field.readonly) { %>\n    <%- value %>\n<% } else { %>\n    <div class="d-flex gap-1 align-items-center">\n        <input <%- render.attr %>/>\n        <small class="password-text-repeat"><%= lang.repeat %></small>\n\n        <% if (field.showBtn) { %>\n            <div class="input-group flex-nowrap">\n                <input <%- render.attr2 %>/>\n                <button class="btn btn-sm btn-outline-secondary border-secondary-subtle btn-password-change" type="button"\n                        data-change="<%- lang.change %>" data-cancel="<%- lang.cancel %>"><%= btn_text %></button>\n            </div>\n        <% } else { %>\n            <input <%- render.attr2 %>/>\n        <% } %>\n\n    </div>\n<% } %>',tpl["fields/radio.html"]='<% if (field.readonly) { %>\n    <%- render.selectedItem %>\n<% } else { %>\n    <% $.each(render.options, function(key, option) { %>\n    <div class="form-check<% if (field.inline) { %> form-check-inline<% } %>">\n        <input <%- option.attr %>/>\n        <label class="form-check-label" for="<%= option.id %>"><%= option.text %></label>\n    </div>\n    <% }); %>\n<% } %>',tpl["fields/select.html"]="<% if (field.readonly) { %>\n    <%= render.selectedOptions.join(', ') %>\n<% } else { %>\n    <select <%- render.attr %>>\n        <% $.each(render.options, function(key, option) { %>\n            <% if (option.type === 'group') { %>\n                <optgroup<%- option.attr %>/>\n                <% $.each(option.options, function(key, groupOption) { %>\n                    <option <%- groupOption.attr %>/><%= groupOption.text %></option>\n                <% }); %>\n                </optgroup>\n            <% } else { %>\n            <option <%- option.attr %>/><%= option.text %></option>\n            <% } %>\n        <% }); %>\n    </select>\n<% } %>",tpl["fields/switch.html"]='<% if (field.readonly) { %>\n    <%= field.valueY == value ? lang.switch_yes : lang.switch_no %>\n<% } else { %>\n    <div class="form-check form-switch">\n        <input <%- render.attr %>/>\n    </div>\n<% } %>',tpl["fields/textarea.html"]="<% if (field.readonly) { %>\n    <%- value %>\n<% } else { %>\n    <textarea <%- render.attr %>><%- value %></textarea>\n<% } %>",tpl["fields/wysiwyg.html"]='<% if (field.readonly) { %>\n    <%- value %>\n<% } else { %>\n    <textarea name="<%= field.name %>" id="editor-<%= editorHash %>"><%- value %></textarea>\n<% } %>',{getFieldValue:function(t,e){t=t.getRecord();return e&&t&&"string"==typeof e.name&&"object"==typeof t&&t.hasOwnProperty(e.name)&&0<=["string","number","object"].indexOf(typeof t[e.name])?t[e.name]:""},getFunctionByName:function(t,e){var n=t.split("."),t=n.pop();e=e||window;for(let t=0;t<n.length;t++){if(!e.hasOwnProperty(n[t]))return null;e=e[n[t]]}return"function"==typeof e[t]?e[t]:null},mergeFieldOptions:function(t,e,n){let i=$.extend(!0,{},e);return n&&(i.hasOwnProperty("attr")&&"object"==typeof i.attr&&n.hasOwnProperty("attr")&&"object"==typeof n.attr&&(n.attr=this.mergeAttr(i.attr,n.attr)),i=$.extend(!0,{},i,n)),i.hasOwnProperty("width")&&(i.width?(e="number"==typeof i.width?"px":"",i.width=i.width+e):t._options.fieldWidth&&"color"!==i.type&&(n="number"==typeof t._options.fieldWidth?"px":"",i.width=t._options.fieldWidth+n)),i.hasOwnProperty("labelWidth")&&(0<=i.labelWidth&&null!==i.labelWidth?(e="number"==typeof i.labelWidth?"px":"",i.labelWidth=i.labelWidth+e):t._options.labelWidth&&(n="number"==typeof t._options.labelWidth?"px":"",i.labelWidth=t._options.labelWidth+n)),i},mergeAttr:function(t,e){let n=Object.assign({},t);return"object"==typeof e&&$.each(e,function(t,e){n.hasOwnProperty(t)?"class"===t?n[t]+=" "+e:"style"===t?n[t]+=";"+e:n[t]=e:n[t]=e}),n},getAttacheFields:function(n,i){let o=[];return"object"==typeof i&&"object"==typeof i.fields&&Array.isArray(i.fields)&&$.each(i.fields,function(t,e){e=n.initField(e);"object"==typeof e&&o.push({hash:e._hash,direction:i.hasOwnProperty("fieldsDirection")?i.fieldsDirection:"row",content:e.renderContent()})}),o},formatDate:function(t){var e,n,i;return t&&10===t.length&&(e=(n=new Date(t)).getFullYear(),i=n.getMonth()+1,t=(n=(n=n.getDate())<10?"0"+n:n)+"."+(i=i<10?"0"+i:i)+"."+e),t},formatDateTime:function(t){var e,n,i,o;return t&&10<=t.length&&(n=(e=new Date(t)).getFullYear(),o=e.getMonth()+1,t=(i=(i=e.getDate())<10?"0"+i:i)+"."+(o=o<10?"0"+o:o)+"."+n+" "+("00"+e.getHours()).slice(-2)+":"+("00"+e.getMinutes()).slice(-2)+":"+("00"+e.getSeconds()).slice(-2)),t},formatDateMonth:function(t,e){var n,i;return t&&7===t.length&&(n=(i=new Date(t)).getFullYear(),i=i.getMonth(),t=(e.date_months.hasOwnProperty(i)?e.date_months[i]:"")+" "+n),t},formatDateWeek:function(t,e){var n,i;return t&&7<=t.length&&(n=t.substring(0,4),i=t.substring(6),t=n+" "+e.date_week+" "+i),t},isNumeric:function(t){return("number"==typeof t||"string"==typeof t&&""!==t.trim())&&!isNaN(t)},hashCode:function(){return this.crc32(((new Date).getTime()+Math.random()).toString()).toString(16)},crc32:function(t){for(var e=[],n=0;n<256;n++){for(var i=n,o=0;o<8;o++)i=1&i?3988292384^i>>>1:i>>>1;e[n]=i}for(var r=-1,s=0;s<t.length;s++)r=r>>>8^e[255&(r^t.charCodeAt(s))];return(-1^r)>>>0},round:function(t,e){var n;return 0===(e=void 0!==e?parseInt(e):0)?Math.round(t):0<e?(n=Math.pow(10,e),Math.round(t*n)/n):(n=Math.pow(10,e),Math.round(t/n)*n)}}),coreuiFormInstance={_options:{id:null,title:"",lang:"en",send:{url:"",method:"POST",format:"form"},width:null,minWidth:null,maxWidth:null,labelWidth:200,controlsOffset:null,readonly:!1,validate:!1,errorClass:"",layout:"[column_default]",onSubmit:null,record:{},fields:[],controls:[]},_lock:!1,_fieldsIndex:0,_groupsIndex:0,_controlsIndex:0,_groups:[],_fields:[],_controls:[],_events:{},_init:function(t){this._options.labelWidth=coreuiForm$1.getSetting("labelWidth"),this._options.lang=coreuiForm$1.getSetting("lang"),this._options.errorClass=coreuiForm$1.getSetting("errorClass"),this._options.send.format=coreuiForm$1.getSetting("sendDataFormat"),this._options=$.extend(!0,{},this._options,t),this._options.id||(this._options.id=coreuiFormUtils$1.hashCode()),this._options.hasOwnProperty("labelWidth")&&0<=this._options.labelWidth&&null!==this._options.labelWidth&&(t="number"==typeof this._options.labelWidth?"px":"",this._options.labelWidth=this._options.labelWidth+t),this._options.hasOwnProperty("controlsOffset")&&null!==this._options.controlsOffset?0<=this._options.controlsOffset&&(t="number"==typeof this._options.controlsOffset?"px":"",this._options.controlsOffset=this._options.controlsOffset+t):this._options.controlsOffset=this._options.labelWidth},initEvents:function(){let t=this;var e="#coreui-form-"+this._options.id+" > form";$(e).on("submit",function(){return setTimeout(function(){t.send.apply(t)},0),!1}),this._trigger("shown.coreui.form")},getId:function(){return this._options.hasOwnProperty("id")?this._options.id:null},render:function(t){let s=this;var e=[];let n=this._options.layout,i=[];var o=[];if(this._options.width&&(a="number"==typeof this._options.width?"px":"",e.push("width:"+this._options.width+a)),this._options.minWidth&&(a="number"==typeof this._options.minWidth?"px":"",e.push("min-width:"+this._options.minWidth+a)),this._options.maxWidth&&(a="number"==typeof this._options.maxWidth?"px":"",e.push("max-width:"+this._options.maxWidth+a)),"object"==typeof this._options.fields&&Array.isArray(this._options.fields)&&0<this._options.fields.length&&n&&"string"==typeof n){var a=Array.from(n.matchAll(/\[column_([\w_\d]+)\]/g));let o=[],r={};0<a.length&&$.each(a,function(t,e){o.push(e[1])}),0<o.length&&$.each(this._options.fields,function(t,e){var n=!e.hasOwnProperty("column")||"string"!=typeof e.column&&"number"!=typeof e.column?"default":0<=o.indexOf(e.column)?e.column:null;if("string"==typeof n){var i=e.hasOwnProperty("type")&&"string"==typeof e.type?e.type:"";let t=null;(t="group"===i?s.initGroup(e):s.initField(e))&&"object"==typeof t&&(r.hasOwnProperty(n)||(r[n]=[]),r[n].push(t.render()))}}),0<=Object.keys(r).length&&$.each(r,function(t,e){n=n.replace("[column_"+t+"]",e.join(""))})}"object"==typeof this._options.controls&&Array.isArray(this._options.controls)&&0<this._options.controls.length&&$.each(this._options.controls,function(t,e){var n=s.initControl(e);n&&"object"==typeof n&&i.push({show:!e.hasOwnProperty("show")||e.show,index:s._controlsIndex-1,content:n.render()})}),"boolean"==typeof this._options.validate&&this._options.validate&&o.push("novalidate");a=ejs.render(tpl["form.html"],{form:this._options,formAttr:o?" "+o.join(" "):"",widthSizes:e,layout:n,controls:i});if(void 0===t)return a;let r={};if("string"==typeof t){if(!(r=document.getElementById(t)))return""}else t instanceof HTMLElement&&(r=t);r.innerHTML=a,this.initEvents()},lock:function(){this._lock=!0,$.each(this._controls,function(t,e){var n=e.getOptions();n.hasOwnProperty("type")&&"submit"===n.type&&e.lock()})},unlock:function(){this._lock=!1,$.each(this._controls,function(t,e){var n=e.getOptions();n.hasOwnProperty("type")&&"submit"===n.type&&e.unlock()})},send:function(){if(!this._lock){if("boolean"==typeof this._options.validate&&this._options.validate){let isValid=this.validate();if(!isValid)return}let onsubmit=null,data=this.getData();if("function"==typeof this._options.onSubmit)onsubmit=this._options.onSubmit;else if("string"==typeof this._options.onSubmit){let func=coreuiFormUtils$1.getFunctionByName(this._options.onSubmit);"function"==typeof func?onsubmit=func:"string"==typeof func&&eval(func)}if("function"==typeof onsubmit){let onSubmitResult=onsubmit(this,data);if(!1===onSubmitResult)return}let results=this._trigger("send.coreui.form",this,[this,data]),isStopSend=!1;if($.each(results,function(t,e){if(!1===e)return!(isStopSend=!0)}),!isStopSend){this.lock();let that=this,sendFormat=0<=["form","json"].indexOf(this._options.send.format)?this._options.send.format:"form",dataFormat=null,contentType=null;"json"===sendFormat?(contentType="application/json; charset=utf-8",dataFormat=JSON.stringify(data)):(contentType=!1,dataFormat=new FormData,$.each(data,function(n,t){t instanceof File?dataFormat.append(n,t,t.name):t instanceof FileList?$.each(t,function(t,e){dataFormat.append(n,e,e.name)}):dataFormat.append(n,t)})),$.ajax({url:this._options.send.url,method:this._options.send.method,data:dataFormat,contentType:contentType,processData:!1,beforeSend:function(t){that._trigger("start-send.coreui.form",that,[that,t])},success:function(result){that.hideError(),that._trigger("success-send.coreui.form",that,[that,result]);let jsonResponse=null;try{let parsedResponse=JSON.parse(result);"object"!=typeof parsedResponse||null===parsedResponse||Array.isArray(parsedResponse)||(jsonResponse=parsedResponse)}catch(e){}null!==jsonResponse&&"object"==typeof jsonResponse&&(jsonResponse.hasOwnProperty("scripts")&&Array.isArray(jsonResponse.scripts)&&$.each(jsonResponse.scripts,function(key,script){if("string"==typeof script){let func=coreuiFormUtils$1.getFunctionByName(script);"function"==typeof func?func():eval(script)}}),jsonResponse.hasOwnProperty("loadUrl"))&&"string"==typeof jsonResponse.loadUrl&&(location.href=jsonResponse.loadUrl)},error:function(t,e,n){let i=that.getLang().send_error||"",o={};try{var r=JSON.parse(t.responseText);"object"!=typeof r||null===r||Array.isArray(r)||(o=r)}catch(t){}o.hasOwnProperty("error_message")&&"string"==typeof o.error_message&&""!==o.error_message&&(i=o.error_message),that.showError(i),that._trigger("error-send.coreui.form",that,[that,t,e,n])},complete:function(t,e){that.unlock(),that._trigger("end-send.coreui.form",that,[that,t,e])}})}}},getOptions:function(){return this._options},getRecord:function(){return this._options.hasOwnProperty("record")&&"object"==typeof this._options.record?this._options.record:{}},getData:function(){let i={};return $.each(this._fields,function(t,e){var n=e.getOptions();n.hasOwnProperty("name")&&n.name&&(i[n.name]=e.getValue())}),i},getFields:function(){return this._fields},getControls:function(){return this._controls},getGroups:function(){return this._groups},getField:function(i){let o={};return $.each(this._fields,function(t,e){var n=e.getOptions();n.hasOwnProperty("name")&&n.name===i&&(o=e)}),o},readonly:function(i){$.each(this._fields,function(t,e){e.readonly(i)}),$.each(this._controls,function(t,e){var n=e.getOptions();n.hasOwnProperty("type")&&"submit"===n.type&&(i?e.hide():e.show())})},showControls:function(){$.each(this._controls,function(t,e){e.show()})},hideControls:function(){$.each(this._controls,function(t,e){e.hide()})},validate:function(){let n=!0;return $.each(this._fields,function(t,e){!1===e.isValid()?(e.validate(!1),n=!1):e.validate(null)}),n},showError:function(t,e){var n=$("#coreui-form-"+this._options.id+" > form"),i=n.find("> .coreui-form__error"),i=(i[0]&&i.remove(),e="object"!=typeof e||Array.isArray(e)||null===e?{}:e,"string"==typeof this._options.errorClass&&""!==this._options.errorClass&&(e.class=e.hasOwnProperty("class")?e.class:"",e.class+=" "+this._options.errorClass),{class:e.hasOwnProperty("class")&&"string"==typeof e.class?e.class:"",dismiss:!e.hasOwnProperty("dismiss")||!!e.dismiss});n.prepend(ejs.render(tpl["form-error.html"],{message:t,options:i})),e.hasOwnProperty("scroll")&&!e.scroll||(t=coreuiForm$1.getSetting("errorMessageScrollOffset"),$("html,body").animate({scrollTop:n.offset().top-t},"fast"))},hideError:function(){$("#coreui-form-"+this._options.id+" > form > .coreui-form__error").remove()},on:function(t,e,n,i){"object"!=typeof this._events[t]&&(this._events[t]=[]),this._events[t].push({context:n||this,callback:e,singleExec:!!i})},destruct:function(){$("#coreui-form-"+this._options.id).remove(),delete coreuiForm$1._instances[this.getId()]},initField:function(t){if("object"!=typeof t)return null;let e=t.hasOwnProperty("type")&&"string"==typeof t.type?t.type:"input";if("group"===e)return null;coreuiForm$1.fields.hasOwnProperty(e)||(e="input"),this._options.readonly&&(t.readonly=!0);var n=$.extend(!0,{render:function(){},renderContent:function(){},init:function(){},getValue:function(){},setValue:function(){},getOptions:function(){},show:function(){},hide:function(){},readonly:function(){},validate:function(){},isValid:function(){}},coreuiForm$1.fields[e]);return n.init(this,t,this._fieldsIndex++),this._fields.push(n),n},initGroup:function(t){var e;return"object"!=typeof t||"group"!==(e=t.hasOwnProperty("type")&&"string"==typeof t.type?t.type:"")?null:((e=$.extend(!0,{render:function(){},init:function(){},getOptions:function(){},expand:function(){},collapse:function(){}},coreuiForm$1.fields[e])).init(this,t,this._groupsIndex++),this._groups.push(e),e)},initControl:function(t){if("object"!=typeof t)return null;var e=t.hasOwnProperty("type")&&"string"==typeof t.type?t.type:null;if(!e||!coreuiForm$1.controls.hasOwnProperty(e))return null;"submit"===e&&this._options.readonly&&(t.show=!1);e=$.extend(!0,{render:function(){},init:function(){},getOptions:function(){},show:function(){},hide:function(){}},coreuiForm$1.controls[e]);return e.init(this,t,this._controlsIndex++),this._controls.push(e),e},getLang:function(){return coreuiForm$1.lang.hasOwnProperty(this._options.lang)?coreuiForm$1.lang[this._options.lang]:coreuiForm$1.lang.ru},_trigger:function(t,e,n){n=n||[];var i=[];if(this._events[t]instanceof Object&&0<this._events[t].length)for(var o=0;o<this._events[t].length;o++){var r=this._events[t][o].callback;e=e||this._events[t][o].context,i.push(r.apply(e,n)),this._events[t][o].singleExec&&this._events[t].splice(o,1)}return i},_renderControl:function(t){let e="";var n=t.hasOwnProperty("type")&&"string"==typeof t.type?t.type:"text";return e=coreuiForm$1.control.hasOwnProperty(n)?coreuiForm$1.control[n].render(t):e}};var coreuiForm$1={lang:{},fields:{},controls:{},_instances:{},_settings:{labelWidth:200,lang:"en",class:"",sendDataFormat:"form",errorMessageScrollOffset:70},create:function(t){var e=$.extend(!0,{},coreuiFormInstance),t=(e._init(t instanceof Object?t:{}),e.getId());return this._instances[t]=e},get:function(t){return this._instances.hasOwnProperty(t)?$("#coreui-form-"+this._instances[t])[0]?(delete this._instances[t],null):this._instances[t]:null},setSettings:function(t){this._settings=$.extend({},this._settings,t)},getSetting:function(t){let e=null;return e=this._settings.hasOwnProperty(t)?this._settings[t]:e}};return coreuiForm$1.lang.ru={modal_select:"Выбрать",modal_loading:"Загрузка...",switch_yes:"Да",switch_no:"Нет",dataset_add:"Добавить",date_months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],date_week:"неделя",send_error:"Произошла ошибка. Попробуйте снова или обратитесь к администратору",required_field:"Обязательное поле",repeat:"повторите",change:"изменить",cancel:"отмена"},coreuiForm$1.lang.en={modal_select:"Select",modal_loading:"Loading...",switch_yes:"Yes",switch_no:"No",dataset_add:"Add",date_months:["January","February","March","April","May","June","July","August","September","October","November","December"],date_week:"week",send_error:"An error has occurred. Please try again or contact your administrator",required_field:"Required field",repeat:"repeat",change:"change",cancel:"cancel"},coreuiForm$1.controls.button={_form:null,_index:null,_options:{type:"button",href:null,content:null,onClick:null,attr:{class:"btn btn-sm btn-secondary"}},init:function(t,e,n){this._options=$.extend({},this._options,e),this._form=t,this._index=n;let i=this;t.on("shown.coreui.form",function(){i._initEvents()})},getOptions:function(){return $.extend(!0,{},this._options)},render:function(){let n=[];var t=this.getOptions();return t.attr.type="button",$.each(t.attr,function(t,e){n.push(t+'="'+e+'"')}),ejs.render(tpl["controls/button.html"],{control:this._options,render:{attr:0<n.length?" "+n.join(" "):""}})},show:function(t){$("#coreui-form-"+this._form.getId()+"-control-"+this._index).show(t||0)},hide:function(t){$("#coreui-form-"+this._form.getId()+"-control-"+this._index).hide(t||0)},lock:function(){var t=$("#coreui-form-"+this._form.getId()+"-control-"+this._index+" > button");t.find(".spinner-border")[0]||t.prepend('<span class="spinner-border spinner-border-sm"></span> '),t.attr("disabled")||t.attr("disabled","disabled")},_initEvents:function(){let that=this;0<=["function","string"].indexOf(typeof this._options.onClick)&&$("#coreui-form-"+this._form.getId()+"-control-"+this._index+" > button").click(function(event){if("function"==typeof that._options.onClick)that._options.onClick(that._form,event);else{let callback=coreuiFormUtils$1.getFunctionByName(that._options.onClick);"function"==typeof callback?callback(that._form,event):eval(that._options.onClick)}})}},coreuiForm$1.controls.custom={_form:null,_index:null,_options:{type:"custom",content:null},init:function(t,e,n){this._options=$.extend({},this._options,e),this._form=t,this._index=n},getOptions:function(){return $.extend(!0,{},this._options)},show:function(t){$("#coreui-form-"+form.getId()+"-control-"+this._index).show(t||0)},hide:function(t){$("#coreui-form-"+form.getId()+"-control-"+this._index).hide(t||0)},render:function(){return this._options.content}},coreuiForm$1.controls.link={_form:null,_index:null,_options:{type:"link",href:null,content:null,onClick:null,attr:{class:"btn btn-sm btn-link"}},init:function(t,e,n){this._options=$.extend({},this._options,e),this._form=t,this._index=n;let i=this;t.on("shown.coreui.form",function(){i._initEvents()})},getOptions:function(){return $.extend(!0,{},this._options)},show:function(t){$("#coreui-form-"+this._form.getId()+"-control-"+this._index).show(t||0)},hide:function(t){$("#coreui-form-"+this._form.getId()+"-control-"+this._index).hide(t||0)},lock:function(){var t=$("#coreui-form-"+this._form.getId()+"-control-"+this._index+" > button");t.find(".spinner-border")[0]||t.prepend('<span class="spinner-border spinner-border-sm"></span> '),t.attr("disabled")||t.attr("disabled","disabled")},render:function(){let n=[];var t=this.getOptions();return $.each(t.attr,function(t,e){n.push(t+'="'+e+'"')}),ejs.render(tpl["controls/link.html"],{control:this._options,render:{attr:0<n.length?" "+n.join(" "):""}})},_initEvents:function(){let that=this;0<=["function","string"].indexOf(typeof this._options.onClick)&&$("#coreui-form-"+this._form.getId()+"-control-"+this._index+" > a").click(function(event){if("function"==typeof that._options.onClick)that._options.onClick(that._form,event);else{let callback=coreuiFormUtils.getFunctionByName(that._options.onClick);"function"==typeof callback?callback(that._form,event):eval(that._options.onClick)}})}},coreuiForm$1.controls.submit={_form:null,_index:null,_options:{type:"submit",href:null,content:null,onClick:null,show:!0,attr:{class:"btn btn-sm btn-primary"}},init:function(t,e,n){this._options=$.extend({},this._options,e),this._form=t,this._index=n;let i=this;t.on("shown.coreui.form",function(){i._initEvents()})},getOptions:function(){return $.extend(!0,{},this._options)},show:function(t){$("#coreui-form-"+this._form.getId()+"-control-"+this._index).show(t||0)},hide:function(t){$("#coreui-form-"+this._form.getId()+"-control-"+this._index).hide(t||0)},lock:function(){var t=$("#coreui-form-"+this._form.getId()+"-control-"+this._index+" > button");t.find(".spinner-border")[0]||t.prepend('<span class="spinner-border spinner-border-sm"></span> '),t.attr("disabled")||t.attr("disabled","disabled")},unlock:function(){var t=$("#coreui-form-"+this._form.getId()+"-control-"+this._index+" > button");t.find(".spinner-border").remove(),t.removeAttr("disabled")},render:function(){let n=[];var t=this.getOptions();return t.attr.type="submit",$.each(t.attr,function(t,e){n.push(t+'="'+e+'"')}),ejs.render(tpl["controls/button.html"],{control:this._options,render:{attr:0<n.length?" "+n.join(" "):""}})},_initEvents:function(){let that=this;0<=["function","string"].indexOf(typeof this._options.onClick)&&$("#coreui-form-"+this._form.getId()+"-control-"+this._index+" > button").click(function(event){if("function"==typeof that._options.onClick)that._options.onClick(that._form,event);else{let callback=coreuiFormUtils.getFunctionByName(that._options.onClick);"function"==typeof callback?callback(that._form,event):eval(that._options.onClick)}})}},coreuiForm$1.fields.checkbox={_id:"",_hash:"",_form:null,_index:0,_value:[],_options:{type:"checkbox",name:null,label:null,labelWidth:null,inline:!1,outContent:null,description:null,errorText:null,options:[],fields:null,required:null,readonly:null,show:!0,column:null},init:function(t,e,n){this._form=t,this._id=t.getId()+"-field-"+(e.hasOwnProperty("name")?e.name:n),this._hash=coreuiFormUtils$1.hashCode(),this._value=coreuiFormUtils$1.getFieldValue(t,e),this._options=coreuiFormUtils$1.mergeFieldOptions(t,this._options,e)},getOptions:function(){return $.extend(!0,{},this._options)},readonly:function(t){this._value=this.getValue(),this._options.readonly=!!t,$(".content-"+this._hash).html(this.renderContent())},hide:function(t){$("#coreui-form-"+this._id).hide(t)},show:function(t){$("#coreui-form-"+this._id).show(t)},getValue:function(){if(this._options.readonly)return this._value;{let t=[];return $(".content-"+this._hash+" input[type=checkbox]:checked").each(function(){t.push($(this).val())}),t}},setValue:function(e){if(!(["string","number","object"].indexOf(typeof e)<0)){if("object"==typeof e){if(null!==e&&!Array.isArray(e))return}else e=[e];let o=this;if(this._value=[],this._options.readonly){$(".content-"+o._hash).empty();var t=this.getOptions();if(t.hasOwnProperty("options")&&"object"==typeof t.options&&Array.isArray(t.options)&&Array.isArray(e)){let i=[];$.each(t.options,function(t,n){n.hasOwnProperty("value")&&$.each(e,function(t,e){if(n.value==e)return n.hasOwnProperty("text")&&0<=["string","number"].indexOf(typeof n.text)&&i.push(n.text),o._value.push(e),!1})}),$(".content-"+o._hash).text(i.join(", "))}}else $(".content-"+this._hash+" input[type=radio]").prop("checked",!1),Array.isArray(e)&&$(".content-"+this._hash+" input[type=radio]").each(function(t,n){$.each(e,function(t,e){if(e==$(n).val())return $(n).prop("checked",!0),o._value.push(e),!1})})}},validate:function(t,e){var n,i,o;this._options.readonly||(n=$(".content-"+this._hash),i=$(".form-check:last-child",n),o=$("input",n),n.find(".valid-feedback").remove(),n.find(".invalid-feedback").remove(),null===t?(o.removeClass("is-invalid"),o.removeClass("is-valid")):t?(o.removeClass("is-invalid"),o.addClass("is-valid"),"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&i.append('<div class="valid-feedback">'+e+"</div>")):(o.removeClass("is-valid"),o.addClass("is-invalid"),void 0===e&&("string"==typeof this._options.invalidText?e=this._options.invalidText:!e&&this._options.required&&(e=this._form.getLang().required_field)),"string"==typeof e&&i.append('<div class="invalid-feedback">'+e+"</div>")))},isValid:function(){return!(this._options.required&&!this._options.readonly)||0<this.getValue().length},render:function(){var t=this.getOptions(),t=coreuiFormUtils$1.getAttacheFields(this._form,t);return ejs.render(tpl["form-field-label.html"],{id:this._id,form:this._form,hash:this._hash,field:this._options,content:this.renderContent(),attachFields:t})},renderContent:function(){let r=this,s=[],a=this.getOptions(),l=[];a.hasOwnProperty("options")&&"object"==typeof a.options&&Array.isArray(a.options)&&$.each(a.options,function(t,n){let i=[],o={type:"checkbox",class:"form-check-input"};var e=n.hasOwnProperty("text")&&0<=["string","number"].indexOf(typeof n.text)?n.text:"";a.name&&(o.name=r._options.name),a.required&&(o.required="required"),$.each(n,function(t,e){"text"!==t&&(o[t]="class"===t?o[t]+" "+e:e)}),o.id=coreuiFormUtils$1.hashCode(),"object"==typeof r._value&&Array.isArray(r._value)?$.each(r._value,function(t,e){if(e==n.value)return o.checked="checked",n.hasOwnProperty("text")&&n.text&&l.push(n.text),!1}):r._value==n.value&&(n.hasOwnProperty("text")&&n.text&&l.push(n.text),o.checked="checked"),$.each(o,function(t,e){i.push(t+'="'+e+'"')}),s.push({id:o.id,text:e,attr:0<i.length?" "+i.join(" "):""})});var t="object"==typeof this._value&&Array.isArray(this._value)?this._value.join(", "):this._value;return ejs.render(tpl["fields/checkbox.html"],{field:a,value:t,render:{options:s,selectedItems:l}})}},coreuiForm$1.fields.color={_id:"",_hash:"",_form:null,_index:0,_value:"",_options:{type:"color",name:null,label:null,labelWidth:null,width:null,outContent:null,description:null,errorText:null,attach:null,attr:{class:"form-control form-control-color d-inline-block"},required:null,readonly:null,datalist:null,show:!0,column:null},init:function(t,e,n){this._form=t,this._id=t.getId()+"-field-"+(e.hasOwnProperty("name")?e.name:n),this._hash=coreuiFormUtils$1.hashCode(),this._value=coreuiFormUtils$1.getFieldValue(t,e),this._options=coreuiFormUtils$1.mergeFieldOptions(t,this._options,e)},getOptions:function(){return $.extend(!0,{},this._options)},readonly:function(t){this._value=this.getValue(),this._options.readonly=!!t,$(".content-"+this._hash).html(this.renderContent())},hide:function(t){$("#coreui-form-"+this._id).hide(t)},show:function(t){$("#coreui-form-"+this._id).show(t)},getValue:function(){return this._options.readonly?this._value:$(".content-"+this._hash+" input").val()},setValue:function(t){["string","number"].indexOf(typeof t)<0||(this._value=t,this._options.readonly?$(".content-"+this._hash).text(t):$(".content-"+this._hash+" input").val(t))},validate:function(t,e){var n,i;this._options.readonly||(n=$(".content-"+this._hash),i=$("input",n),n.find(".valid-feedback").remove(),n.find(".invalid-feedback").remove(),null===t?(i.removeClass("is-invalid"),i.removeClass("is-valid")):t?(i.removeClass("is-invalid"),i.addClass("is-valid"),"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&n.append('<div class="valid-feedback">'+e+"</div>")):(i.removeClass("is-valid"),i.addClass("is-invalid"),void 0===e&&("string"==typeof this._options.invalidText?e=this._options.invalidText:!e&&this._options.required&&(e=this._form.getLang().required_field)),"string"==typeof e&&n.append('<div class="invalid-feedback">'+e+"</div>")))},isValid:function(){var t=$(".content-"+this._hash+" input");return t[0]?t.is(":valid"):null},render:function(){var t=this.getOptions(),e=coreuiFormUtils$1.getAttacheFields(this._form,t);return ejs.render(tpl["form-field-label.html"],{id:this._id,form:this._form,hash:this._hash,field:t,content:this.renderContent(),attachFields:e})},renderContent:function(){return this._options.readonly?this._renderContentReadonly():this._renderContent()},_renderContent:function(){let n=[],i=[];var t=this.getOptions(),e=coreuiFormUtils$1.hashCode();return t.hasOwnProperty("attr")&&"object"==typeof t.attr&&null!==t.attr&&!Array.isArray(t.attr)||(t.attr={}),t.name&&(t.attr.name=this._options.name),t.attr.type=t.type,t.attr.value=this._value,t.width&&(t.attr=coreuiFormUtils$1.mergeAttr({style:"width:"+t.width},t.attr)),t.required&&(t.attr.required="required"),t.hasOwnProperty("datalist")&&"object"==typeof t.datalist&&Array.isArray(t.datalist)&&(t.attr.list=e,$.each(t.datalist,function(t,e){let n=[];$.each(e,function(t,e){n.push(t+'="'+e+'"')}),i.push({attr:0<n.length?" "+n.join(" "):""})})),$.each(t.attr,function(t,e){n.push(t+'="'+e+'"')}),ejs.render(tpl["fields/color.html"],{field:t,datalistId:e,value:this._value,render:{attr:0<n.length?" "+n.join(" "):"",datalist:i}})},_renderContentReadonly:function(){var t=this.getOptions();return ejs.render(tpl["fields/color.html"],{field:t,value:this._value})}},coreuiForm$1.fields.custom={_id:"",_hash:"",_form:null,_value:null,_options:{type:"custom",label:null,labelWidth:null,width:null,content:"",outContent:null,description:null,required:null,show:!0,column:null},init:function(t,e,n){this._form=t,this._id=t.getId()+"-field-"+(e.hasOwnProperty("name")?e.name:n),this._value=coreuiFormUtils$1.getFieldValue(t,e),this._options=coreuiFormUtils$1.mergeFieldOptions(t,this._options,e),this._hash=coreuiFormUtils$1.hashCode()},getOptions:function(){return $.extend(!0,{},this._options)},readonly:function(t){},hide:function(t){$("#coreui-form-"+this._id).hide(t)},show:function(t){$("#coreui-form-"+this._id).show(t)},getValue:function(){},setValue:function(t){},render:function(){var t=this.getOptions(),e=coreuiFormUtils$1.getAttacheFields(this._form,t);return ejs.render(tpl["form-field-label.html"],{id:this._id,form:this._form,hash:this._hash,field:t,content:this.renderContent(),attachFields:e})},renderContent:function(){var e=this.getOptions();let t="";var n=["coreui.table","coreui.layout","coreui.panel","coreui.tabs","coreui.info","coreui.chart"];if("string"==typeof e.content)t=e.content;else if(e.content instanceof Object){Array.isArray(e.content)||(e.content=[e.content]);var i,o=[];for(let t=0;t<e.content.length;t++)"string"==typeof e.content[t]?o.push(e.content[t]):!Array.isArray(e.content[t])&&e.content[t].hasOwnProperty("component")&&0<=n.indexOf(e.content[t].component)&&(i=e.content[t].component.split(".")[1],CoreUI.hasOwnProperty(i))&&"object"==typeof CoreUI[i]&&null!==CoreUI[i]&&!Array.isArray(CoreUI[i])&&(i=CoreUI[i].create(e.content[t]),o.push(i.render()),this._form.on("shown.coreui.form",i.initEvents,i,!0));t=o.join("")}return ejs.render(tpl["fields/custom.html"],{content:t})}},coreuiForm$1.fields.dataset={_id:"",_hash:"",_form:null,_value:[],_renderOptions:[],_options:{type:"dataset",name:null,label:null,labelWidth:null,width:null,outContent:null,description:null,errorText:null,attach:null,attr:{class:"form-select form-select-sm d-inline-block"},required:null,readonly:null,datalist:null,show:!0,column:null},init:function(t,a,e){this._form=t,this._id=t.getId()+"-field-"+(a.hasOwnProperty("name")?a.name:e),this._value=coreuiFormUtils$1.getFieldValue(t,a),this._options=coreuiFormUtils$1.mergeFieldOptions(t,this._options,a),this._hash=coreuiFormUtils$1.hashCode();let l=this;t.on("shown.coreui.form",function(){l._options.readonly||l._initEvents()}),a.hasOwnProperty("options")&&"object"==typeof a.options&&Array.isArray(a.options)&&$.each(a.options,function(t,e){var n=e.hasOwnProperty("name")&&0<=["string","number"].indexOf(typeof e.name)?e.name:"",i=e.hasOwnProperty("type")&&"string"==typeof e.type?e.type:"text",o=e.hasOwnProperty("attr")&&"object"==typeof e.attr&&!Array.isArray(e.attr)?e.attr:{},r=e.hasOwnProperty("items")&&"object"==typeof e.items&&Array.isArray(e.items)?e.items:[],s=e.hasOwnProperty("valueY")&&0<=["string","numeric"].indexOf(typeof e.valueY)?e.valueY:"Y",e=e.hasOwnProperty("valueN")&&0<=["string","numeric"].indexOf(typeof e.valueN)?e.valueN:"N";n&&(o.name=n),a.required&&(o.required="required"),"select"===i?o.class=o.hasOwnProperty("class")?"form-select form-select-sm "+o.class:"form-select form-select-sm":"switch"===i?(o.class=o.hasOwnProperty("class")?"form-check-input "+o.class:"form-check-input",o.type="checkbox",o.value=s):(o.class=o.hasOwnProperty("class")?"form-control form-control-sm "+o.class:"form-control form-control-sm",o.type=i),l._renderOptions.push({type:i,name:n,attr:o,items:r,valueY:s,valueN:e})})},getOptions:function(){return $.extend(!0,{},this._options)},readonly:function(t){this._value=this.getValue(),this._options.readonly=!!t,$(".content-"+this._hash).html(this.renderContent()),this._options.readonly||this._initEvents()},hide:function(t){$("#coreui-form-"+this._id).hide(t)},show:function(t){$("#coreui-form-"+this._id).show(t)},getValue:function(){if(this._options.readonly)return this._value;{var e=$(".content-"+this._hash);let t=[];return $(".coreui-form__field-dataset-list .coreui-form__field-dataset-item",e).each(function(){let n={};$.each($(this).find("input, select").serializeArray(),function(t,e){e.name&&(n[e.name]=e.value)}),t.push(n)}),t}},setValue:function(t){"object"!=typeof t||Array.isArray(t)||null===t||(this._value.push(t),this._options.readonly?$(".content-"+this._hash+" .coreui-form__field-dataset-list").append(this._renderRowReadonly(t)):this._eventAdd(t))},validate:function(t,e){var n;this._options.readonly||((n=$(".content-"+this._hash)).find(".text-success").remove(),n.find(".text-danger").remove(),null!==t&&(t?"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&n.append('<div class="ps-2 text-success">'+e+"</div>"):(void 0===e&&("string"==typeof this._options.invalidText?e=this._options.invalidText:!e&&this._options.required&&(e=this._form.getLang().required_field)),"string"==typeof e&&n.append('<div class="ps-2 text-danger">'+e+"</div>"))))},isValid:function(){return!(this._options.required&&!this._options.readonly)||0<this.getValue().length},removeItems:function(){$("#coreui-form-"+this._id+" .content-"+this._hash+" .coreui-form__field-dataset-list").empty()},removeItem:function(t){let e="#coreui-form-"+this._id+" .content-"+this._hash;$("#"+t).hide("fast",function(){$("#"+t).remove(),0===$(e+" .coreui-form__field-dataset-item").length&&$(e+" .coreui-form__field-dataset-container").hide()})},render:function(){var t=this.getOptions(),e=coreuiFormUtils$1.getAttacheFields(this._form,t);return ejs.render(tpl["form-field-label.html"],{id:this._id,form:this._form,hash:this._hash,field:t,content:this.renderContent(),attachFields:e})},renderContent:function(){return this._options.readonly?this._renderContentReadonly():this._renderContent()},_renderContent:function(){var t=this.getOptions();let n=[],i=[],o=this;return t.hasOwnProperty("options")&&"object"==typeof t.options&&Array.isArray(t.options)&&($.each(t.options,function(t,e){e=e.hasOwnProperty("title")&&0<=["string","numeric"].indexOf(typeof e.title)?e.title:"";i.push({title:e})}),"object"==typeof this._value)&&Array.isArray(this._value)&&$.each(this._value,function(t,e){"object"!=typeof e||Array.isArray(e)||n.push(o._renderRow(e))}),ejs.render(tpl["fields/dataset.html"],{field:t,value:null!==this._value?this._value:"",lang:this._form.getLang(),render:{headers:i,rows:n}})},_renderContentReadonly:function(){var t=this.getOptions();let n=[],i=[],o=this;return t.hasOwnProperty("options")&&"object"==typeof t.options&&Array.isArray(t.options)&&($.each(t.options,function(t,e){e=e.hasOwnProperty("title")&&0<=["string","numeric"].indexOf(typeof e.title)?e.title:"";i.push({title:e})}),"object"==typeof this._value)&&Array.isArray(this._value)&&$.each(this._value,function(t,e){"object"!=typeof e||Array.isArray(e)||n.push(o._renderRowReadonly(e))}),ejs.render(tpl["fields/dataset.html"],{field:t,value:null!==this._value?this._value:"",lang:this._form.getLang(),render:{headers:i,rows:n}})},_initEvents:function(){let t=this;var e="#coreui-form-"+this._id+" .content-"+this._hash;$(e+" .btn-dataset-remove").click(function(){t.removeItem($(this).data("item-id"))}),$(e+" .btn-dataset-add").click(function(){t._eventAdd()})},_eventAdd:function(t){let e=this;var n="#coreui-form-"+this._id+" .content-"+this._hash;t=t||{},0===$(n+" .coreui-form__field-dataset-item").length&&$(n+" .coreui-form__field-dataset-container").show(),$(n+" .coreui-form__field-dataset-list").append(this._renderRow(t)),$(n+" .coreui-form__field-dataset-item:last-child .btn-dataset-remove").click(function(){e.removeItem($(this).data("item-id"))})},_renderRow:function(i){let o=[],a=[];return $.each(this._renderOptions,function(t,e){let s=i.hasOwnProperty(e.name)?i[e.name]:"",n=("select"===e.type?$.each(e.items,function(t,e){var n=e.hasOwnProperty("title")&&0<=["string","numeric"].indexOf(typeof e.title)?e.title:"";let i=e.hasOwnProperty("value")&&0<=["string","numeric"].indexOf(typeof e.value)?e.value:"",o={},r=($.each(e,function(t,e){"title"!==t&&(o[t]=e)}),"object"==typeof s&&Array.isArray(s)?$.each(s,function(t,e){if(e==i)return!(o.selected="selected")}):s==e.value&&(o.selected="selected"),[]);$.each(o,function(t,e){r.push(t+'="'+e+'"')}),a.push({attr:0<r.length?" "+r.join(" "):"",title:n})}):"switch"===e.type?s==e.valueY&&(e.attr.checked="checked"):0<=["string","number"].indexOf(typeof s)&&(e.attr.value=null!==s?s:""),[]);$.each(e.attr,function(t,e){n.push(t+'="'+e+'"')}),o.push({type:e.type,attr:0<n.length?" "+n.join(" "):"",items:a})}),ejs.render(tpl["fields/dataset-row.html"],{hashItem:coreuiFormUtils$1.hashCode(),options:o})},_renderRowReadonly:function(i){let r=[],s=this._form.getLang();return $.each(this._renderOptions,function(t,e){let n="",o=i.hasOwnProperty(e.name)?i[e.name]:"";if("select"===e.type){let i=[];$.each(e.items,function(t,e){e.hasOwnProperty("title")&&0<=["string","numeric"].indexOf(typeof e.title)&&e.title;let n=e.hasOwnProperty("value")&&0<=["string","numeric"].indexOf(typeof e.value)?e.value:"";"object"==typeof o&&Array.isArray(o)?$.each(o,function(t,e){if(e==n)return i.push(n),!1}):o==e.value&&i.push(o)})}else if("switch"===e.type){let t="Y";e.hasOwnProperty("valueY")&&(t=e.valueY),n=o==t?s.switch_yes:s.switch_no}else if(0<=["string","number"].indexOf(typeof o))switch(n=o,e.type){case"date":n=coreuiFormUtils$1.formatDate(n);break;case"datetime-local":n=coreuiFormUtils$1.formatDateTime(n);break;case"month":n=coreuiFormUtils$1.formatDateMonth(n,s);break;case"week":n=coreuiFormUtils$1.formatDateWeek(n,s);break;default:n=o}r.push({value:n})}),ejs.render(tpl["fields/dataset-row-readonly.html"],{options:r})}},coreuiForm$1.fields.group={_id:"",_form:null,_index:0,_options:{type:"group",label:"",show:!0,showCollapsible:!0,fields:[],column:null},init:function(t,e,n){this._form=t,this._index=n,this._id=t.getId()+"-group-"+n,this._options=$.extend(!0,{},this._options,e);let i=this;t.on("shown.coreui.form",function(){i._initEvents()})},getOptions:function(){return $.extend(!0,{},this._options,options)},collapse:function(t){var e="#coreui-form-"+this._id;$(e+" > .coreui-form__group_label .btn-collapsible .bi").removeClass("bi-chevron-down"),$(e+" > .coreui-form__group_label .btn-collapsible .bi").addClass("bi-chevron-right"),$(e+" .coreui-form__group_content").slideUp(t)},expand:function(t){var e="#coreui-form-"+this._id;$(e+" > .coreui-form__group_label .btn-collapsible .bi").removeClass("bi-chevron-right"),$(e+" > .coreui-form__group_label .btn-collapsible .bi").addClass("bi-chevron-down"),$(e+" .coreui-form__group_content").slideDown(t)},render:function(){return ejs.render(tpl["form-field-group.html"],{id:this._id,form:this._form,group:this._options,content:this.renderContent()})},renderContent:function(){let n=[],i=this;return $.each(this._options.fields,function(t,e){e=i._form.initField(e);"object"==typeof e&&n.push(e.render())}),n.join("")},_initEvents:function(){if(this._options.showCollapsible){let t=this,e="#coreui-form-"+this._id;$(e+" > .coreui-form__group_label .btn-collapsible").click(function(){$(e+" > .coreui-form__group_content").is(":visible")?t.collapse(80):t.expand(80)})}}},coreuiForm$1.fields.hidden={_id:"",_form:null,_index:0,_value:"",_options:{type:"hidden",name:null,attr:{},required:null,column:null},init:function(t,e,n){this._form=t,this._id=t.getId()+"-field-"+(e.hasOwnProperty("name")?e.name:n),this._value=coreuiFormUtils$1.getFieldValue(t,e),this._options=coreuiFormUtils$1.mergeFieldOptions(t,this._options,e)},getOptions:function(){return $.extend(!0,{},this._options)},getValue:function(){return this._options.readonly?this._value:$("#coreui-form-"+this._id).val()},setValue:function(t){["string","number"].indexOf(typeof t)<0||(this._value=t,this._options.readonly)||$("#coreui-form-"+this._id).val(t)},render:function(){return ejs.render(tpl["form-field-content.html"],{content:this.renderContent()})},renderContent:function(){let n=[];var t=this.getOptions();return t.hasOwnProperty("attr")&&"object"==typeof t.attr&&null!==t.attr&&!Array.isArray(t.attr)||(t.attr={}),t.attr.id="coreui-form-"+this._id,t.name&&(t.attr.name=t.name),t.attr.type="hidden",t.attr.value=null!==this._value?this._value:"",$.each(t.attr,function(t,e){n.push(t+'="'+e+'"')}),ejs.render(tpl["fields/hidden.html"],{value:null!==this._value?this._value:"",field:t,render:{attr:0<n.length?" "+n.join(" "):""}})}},coreuiForm$1.fields.input={_id:"",_hash:"",_form:null,_index:0,_value:"",_options:{type:"text",name:null,label:null,labelWidth:null,width:null,outContent:null,description:null,errorText:null,attach:null,attr:{class:"form-control form-control-sm d-inline-block"},required:null,invalidText:null,validText:null,readonly:null,datalist:null,show:!0,column:null},init:function(t,e,n){this._form=t,this._index=n,this._id=t.getId()+"-field-"+(e.hasOwnProperty("name")?e.name:n),this._hash=coreuiFormUtils$1.hashCode(),this._value=coreuiFormUtils$1.getFieldValue(t,e),this._options=coreuiFormUtils$1.mergeFieldOptions(t,this._options,e)},getOptions:function(){return $.extend(!0,{},this._options)},readonly:function(t){this._value=this.getValue(),this._options.readonly=!!t,$(".content-"+this._hash).html(this.renderContent())},hide:function(t){$("#coreui-form-"+this._id).hide(t)},show:function(t){$("#coreui-form-"+this._id).show(t)},getValue:function(){return this._options.readonly?this._value:$(".content-"+this._hash+" input").val()},setValue:function(t){["string","number"].indexOf(typeof t)<0||(this._value=t,this._options.readonly?$(".content-"+this._hash).text(t):$(".content-"+this._hash+" input").val(t))},validate:function(t,e){var n,i;this._options.readonly||(n=$(".content-"+this._hash),i=$("input",n),n.find(".valid-feedback").remove(),n.find(".invalid-feedback").remove(),null===t?(i.removeClass("is-invalid"),i.removeClass("is-valid")):t?(i.removeClass("is-invalid"),i.addClass("is-valid"),"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&n.append('<div class="valid-feedback">'+e+"</div>")):(i.removeClass("is-valid"),i.addClass("is-invalid"),void 0===e&&("string"==typeof this._options.invalidText?e=this._options.invalidText:!e&&this._options.required&&(e=this._form.getLang().required_field)),"string"==typeof e&&n.append('<div class="invalid-feedback">'+e+"</div>")))},isValid:function(){var t=$(".content-"+this._hash+" input");return t[0]?t.is(":valid"):null},render:function(){var t=this.getOptions(),e=coreuiFormUtils$1.getAttacheFields(this._form,t);return ejs.render(tpl["form-field-label.html"],{id:this._id,form:this._form,hash:this._hash,field:t,content:this.renderContent(),attachFields:e})},renderContent:function(){return this._options.readonly?this._renderContentReadonly():this._renderContent()},_renderContent:function(){let n=[],i=[];var t=this.getOptions(),e=coreuiFormUtils$1.hashCode();return t.hasOwnProperty("attr")&&"object"==typeof t.attr&&null!==t.attr&&!Array.isArray(t.attr)||(t.attr={}),t.name&&(t.attr.name=this._options.name),t.attr.type=t.type,t.attr.value=null!==this._value?this._value:"",t.width&&(t.attr=coreuiFormUtils$1.mergeAttr({style:"width:"+t.width},t.attr)),t.required&&(t.attr.required="required"),t.hasOwnProperty("datalist")&&"object"==typeof t.datalist&&Array.isArray(t.datalist)&&(t.attr.list=e,$.each(t.datalist,function(t,e){let n=[];$.each(e,function(t,e){n.push(t+'="'+e+'"')}),i.push({attr:0<n.length?" "+n.join(" "):""})})),$.each(t.attr,function(t,e){n.push(t+'="'+e+'"')}),ejs.render(tpl["fields/input.html"],{field:t,datalistId:e,value:null!==this._value?this._value:"",render:{attr:0<n.length?" "+n.join(" "):"",datalist:i}})},_renderContentReadonly:function(){var t=this.getOptions();let e="text",n=this._value;var i=this._form.getLang();t.hasOwnProperty("type")&&"string"==typeof t.type&&(e=t.type);try{switch(e){case"date":n=coreuiFormUtils$1.formatDate(n);break;case"datetime-local":n=coreuiFormUtils$1.formatDateTime(n);break;case"month":n=coreuiFormUtils$1.formatDateMonth(n,i);break;case"week":n=coreuiFormUtils$1.formatDateWeek(n,i)}}catch(t){console.error(t)}return ejs.render(tpl["fields/input.html"],{field:t,value:n,hash:this._hash})}},function(t,e,n){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports&&"undefined"==typeof Meteor?module.exports=t(require("jquery")):t(e||n)}(function(s){function a(d,g,b){var o,w={invalid:[],getCaret:function(){try{var t,e=0,n=d.get(0),i=document.selection,o=n.selectionStart;return i&&-1===navigator.appVersion.indexOf("MSIE 10")?((t=i.createRange()).moveStart("character",-w.val().length),e=t.text.length):!o&&"0"!==o||(e=o),e}catch(t){}},setCaret:function(t){try{var e,n;d.is(":focus")&&((n=d.get(0)).setSelectionRange?n.setSelectionRange(t,t):((e=n.createTextRange()).collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select()))}catch(t){}},events:function(){d.on("keydown.mask",function(t){d.data("mask-keycode",t.keyCode||t.which),d.data("mask-previus-value",d.val()),d.data("mask-previus-caret-pos",w.getCaret()),w.maskDigitPosMapOld=w.maskDigitPosMap}).on(s.jMaskGlobals.useInput?"input.mask":"keyup.mask",w.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){d.keydown().keyup()},100)}).on("change.mask",function(){d.data("changed",!0)}).on("blur.mask",function(){r===w.val()||d.data("changed")||d.trigger("change"),d.data("changed",!1)}).on("blur.mask",function(){r=w.val()}).on("focus.mask",function(t){!0===b.selectOnFocus&&s(t.target).select()}).on("focusout.mask",function(){b.clearIfNotMatch&&!o.test(w.val())&&w.val("")})},getRegexMask:function(){for(var t,e,n,i,o,r=[],s=0;s<g.length;s++)(n=$.translation[g.charAt(s)])?(t=n.pattern.toString().replace(/.{1}$|^.{1}/g,""),e=n.optional,(n=n.recursive)?(r.push(g.charAt(s)),i={digit:g.charAt(s),pattern:t}):r.push(e||n?t+"?":t)):r.push(g.charAt(s).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return o=r.join(""),i&&(o=o.replace(new RegExp("("+i.digit+"(.*"+i.digit+")?)"),"($1)?").replace(new RegExp(i.digit,"g"),i.pattern)),new RegExp(o)},destroyEvents:function(){d.off(["input","keydown","keyup","paste","drop","blur","focusout",""].join(".mask "))},val:function(t){var e=d.is("input")?"val":"text",t=0<arguments.length?(d[e]()!==t&&d[e](t),d):d[e]();return t},calculateCaretPosition:function(t){var e=w.getMasked(),n=w.getCaret();if(t!==e){for(var i=d.data("mask-previus-caret-pos")||0,o=e.length,e=t.length,r=0,s=0,a=0,l=0,h=0,h=n;h<o&&w.maskDigitPosMap[h];h++)s++;for(h=n-1;0<=h&&w.maskDigitPosMap[h];h--)r++;for(h=n-1;0<=h;h--)w.maskDigitPosMap[h]&&a++;for(h=i-1;0<=h;h--)w.maskDigitPosMapOld[h]&&l++;e<n?n=10*o:n<=i&&i!==e?w.maskDigitPosMapOld[n]||(t=n,w.maskDigitPosMap[n=n-(l-a)-r]&&(n=t)):i<n&&(n=n+(a-l)+s)}return n},behaviour:function(t){t=t||window.event,w.invalid=[];var e,n,i=d.data("mask-keycode");if(-1===s.inArray(i,$.byPassKeys))return i=w.getMasked(),e=w.getCaret(),n=d.data("mask-previus-value")||"",setTimeout(function(){w.setCaret(w.calculateCaretPosition(n))},s.jMaskGlobals.keyStrokeCompensation),w.val(i),w.setCaret(e),w.callbacks(t)},getMasked:function(t,e){for(var n,i,o=[],r=void 0===e?w.val():e+"",s=0,a=g.length,l=0,h=r.length,d=1,u="push",c=-1,p=0,f=[],m=b.reverse?(u="unshift",d=-1,n=0,s=a-1,l=h-1,function(){return-1<s&&-1<l}):(n=a-1,function(){return s<a&&l<h});m();){var _=g.charAt(s),v=r.charAt(l),y=$.translation[_];y?(v.match(y.pattern)?(o[u](v),y.recursive&&(-1===c?c=s:s===n&&s!==c&&(s=c-d),n===c)&&(s-=d),s+=d):v===i?(p--,i=void 0):y.optional?(s+=d,l-=d):y.fallback?(o[u](y.fallback),s+=d,l-=d):w.invalid.push({p:l,v:v,e:y.pattern}),l+=d):(t||o[u](_),v===_?(f.push(l),l+=d):(i=_,f.push(l+p),p++),s+=d)}e=g.charAt(n),a!==h+1||$.translation[e]||o.push(e),e=o.join("");return w.mapMaskdigitPositions(e,f,h),e},mapMaskdigitPositions:function(t,e,n){var i=b.reverse?t.length-n:0;w.maskDigitPosMap={};for(var o=0;o<e.length;o++)w.maskDigitPosMap[e[o]+i]=1},callbacks:function(t){function e(t,e,n){"function"==typeof b[t]&&e&&b[t].apply(this,n)}var n=w.val(),i=n!==r,o=[n,t,d,b];e("onChange",!0==i,o),e("onKeyPress",!0==i,o),e("onComplete",n.length===g.length,o),e("onInvalid",0<w.invalid.length,[n,t,d,w.invalid,b])}},$=(d=s(d),this),r=w.val();g="function"==typeof g?g(w.val(),void 0,d,b):g,$.mask=g,$.options=b,$.remove=function(){var t=w.getCaret();return $.options.placeholder&&d.removeAttr("placeholder"),d.data("mask-maxlength")&&d.removeAttr("maxlength"),w.destroyEvents(),w.val($.getCleanVal()),w.setCaret(t),d},$.getCleanVal=function(){return w.getMasked(!0)},$.getMaskedVal=function(t){return w.getMasked(!1,t)},$.init=function(t){if(t=t||!1,b=b||{},$.clearIfNotMatch=s.jMaskGlobals.clearIfNotMatch,$.byPassKeys=s.jMaskGlobals.byPassKeys,$.translation=s.extend({},s.jMaskGlobals.translation,b.translation),$=s.extend(!0,{},$,b),o=w.getRegexMask(),t)w.events(),w.val(w.getMasked());else{b.placeholder&&d.attr("placeholder",b.placeholder),d.data("mask")&&d.attr("autocomplete","off");for(var e=0,n=!0;e<g.length;e++){var i=$.translation[g.charAt(e)];if(i&&i.recursive){n=!1;break}}n&&d.attr("maxlength",g.length).data("mask-maxlength",!0),w.destroyEvents(),w.events();t=w.getCaret();w.val(w.getMasked()),w.setCaret(t)}},$.init(!d.is("input"))}function e(){var t=s(this),e={},n="data-mask-",i=t.attr("data-mask");if(t.attr(n+"reverse")&&(e.reverse=!0),t.attr(n+"clearifnotmatch")&&(e.clearIfNotMatch=!0),"true"===t.attr(n+"selectonfocus")&&(e.selectOnFocus=!0),l(t,i,e))return t.data("mask",new a(this,i,e))}function l(t,e,n){n=n||{};var i=s(t).data("mask"),o=JSON.stringify,t=s(t).val()||s(t).text();try{return"function"==typeof e&&(e=e(t)),"object"!=typeof i||o(i.options)!==o(n)||i.mask!==e}catch(t){}}s.maskWatchers={};s.fn.mask=function(t,e){e=e||{};function n(){if(l(this,t,e))return s(this).data("mask",new a(this,t,e))}var i=this.selector,o=s.jMaskGlobals,r=o.watchInterval,o=e.watchInputs||o.watchInputs;return s(this).each(n),i&&""!==i&&o&&(clearInterval(s.maskWatchers[i]),s.maskWatchers[i]=setInterval(function(){s(document).find(i).each(n)},r)),this},s.fn.masked=function(t){return this.data("mask").getMaskedVal(t)},s.fn.unmask=function(){return clearInterval(s.maskWatchers[this.selector]),delete s.maskWatchers[this.selector],this.each(function(){var t=s(this).data("mask");t&&t.remove().removeData("mask")})},s.fn.cleanVal=function(){return this.data("mask").getCleanVal()},s.applyDataMask=function(t){((t=t||s.jMaskGlobals.maskElements)instanceof s?t:s(t)).filter(s.jMaskGlobals.dataMaskAttr).each(e)};var t,n,i={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&(i="input",n=document.createElement("div"),(t=(i="on"+i)in n)||(n.setAttribute(i,"return;"),t="function"==typeof n[i]),n=null,t),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};s.jMaskGlobals=s.jMaskGlobals||{},(i=s.jMaskGlobals=s.extend(!0,{},i,s.jMaskGlobals)).dataMask&&s.applyDataMask(),setInterval(function(){s.jMaskGlobals.watchDataMask&&s.applyDataMask()},i.watchInterval)},window.jQuery,window.Zepto),coreuiForm$1.fields.mask={_id:"",_hash:"",_form:null,_index:0,_value:"",_options:{type:"mask",name:null,label:null,labelWidth:null,width:null,outContent:null,description:null,errorText:null,attach:null,attr:{class:"form-control form-control-sm d-inline-block"},required:null,readonly:null,datalist:null,show:!0,column:null},init:function(t,e,n){this._form=t,this._index=n,this._id=t.getId()+"-field-"+(e.hasOwnProperty("name")?e.name:n),this._value=coreuiFormUtils$1.getFieldValue(t,e),this._options=coreuiFormUtils$1.mergeFieldOptions(t,this._options,e),this._hash=coreuiFormUtils$1.hashCode();let i=this;t.on("shown.coreui.form",function(){i._options.readonly||i._initEvents()})},getOptions:function(){return $.extend(!0,{},this._options)},readonly:function(t){this._value=this.getValue(),this._options.readonly=!!t,$(".content-"+this._hash).html(this.renderContent()),this._options.readonly||this._initEvents()},hide:function(t){$("#coreui-form-"+this._id).hide(t)},show:function(t){$("#coreui-form-"+this._id).show(t)},getValue:function(){return this._options.readonly?this._value:$(".content-"+this._hash+" input").val()},setValue:function(t){["string","number"].indexOf(typeof t)<0||(t=t.replace(/[^\d\w]/g,""),this._value=t,this._options.readonly?$(".content-"+this._hash).text(t):$(".content-"+this._hash+" input").val(t))},validate:function(t,e){var n,i;this._options.readonly||(n=$(".content-"+this._hash),i=$("input",n),n.find(".valid-feedback").remove(),n.find(".invalid-feedback").remove(),null===t?(i.removeClass("is-invalid"),i.removeClass("is-valid")):t?(i.removeClass("is-invalid"),i.addClass("is-valid"),"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&n.append('<div class="valid-feedback">'+e+"</div>")):(i.removeClass("is-valid"),i.addClass("is-invalid"),void 0===e&&("string"==typeof this._options.invalidText?e=this._options.invalidText:!e&&this._options.required&&(e=this._form.getLang().required_field)),"string"==typeof e&&n.append('<div class="invalid-feedback">'+e+"</div>")))},isValid:function(){var t=$(".content-"+this._hash+" input");return t[0]?t.is(":valid"):null},render:function(){var t=this.getOptions(),e=coreuiFormUtils$1.getAttacheFields(this._form,t);return ejs.render(tpl["form-field-label.html"],{id:this._id,form:this._form,hash:this._hash,field:t,content:this.renderContent(),attachFields:e})},renderContent:function(){return this._options.readonly?this._renderContentReadonly():this._renderContent()},_renderContent:function(){let n=[],i=[];var t=this.getOptions(),e=coreuiFormUtils$1.hashCode();return t.hasOwnProperty("attr")&&"object"==typeof t.attr&&null!==t.attr&&!Array.isArray(t.attr)||(t.attr={}),t.name&&(t.attr.name=this._options.name),t.attr.type="text",t.attr.value=null!==this._value?this._value:"",t.width&&(t.attr=coreuiFormUtils$1.mergeAttr({style:"width:"+t.width},t.attr)),t.required&&(t.attr.required="required"),t.hasOwnProperty("datalist")&&"object"==typeof t.datalist&&Array.isArray(t.datalist)&&(t.attr.list=e,$.each(t.datalist,function(t,e){let n=[];$.each(e,function(t,e){n.push(t+'="'+e+'"')}),i.push({attr:0<n.length?" "+n.join(" "):""})})),$.each(t.attr,function(t,e){n.push(t+'="'+e+'"')}),ejs.render(tpl["fields/input.html"],{field:t,datalistId:e,value:null!==this._value?this._value:"",render:{attr:0<n.length?" "+n.join(" "):"",datalist:i}})},_renderContentReadonly:function(){var t=this.getOptions();return ejs.render(tpl["fields/input.html"],{field:t,value:null!==this._value?this._value:""})},_initEvents:function(){$("#coreui-form-"+this._id+" .content-"+this._hash+" input").mask(this._options.mask,this._options.options)}},coreuiForm$1.fields.modal={_id:"",_hash:"",_form:null,_value:"",_text:"",_options:{type:"modal",name:null,label:null,labelWidth:null,width:null,outContent:null,description:null,errorText:null,fields:[],options:{title:"",size:"lg",url:"",onHidden:null,onClear:null,onChange:null},required:null,readonly:null,show:!0,column:null},init:function(t,e,n){var i=t.getRecord();this._form=t,this._id=t.getId()+"-field-"+(e.hasOwnProperty("name")?e.name:n),this._options=coreuiFormUtils$1.mergeFieldOptions(t,this._options,e),this._hash=coreuiFormUtils$1.hashCode(),"string"==typeof e.name&&i.hasOwnProperty(e.name)&&0<=["object"].indexOf(typeof i[e.name])&&(n=i[e.name],this._value=n.hasOwnProperty("value")&&0<=["number","string"].indexOf(typeof n.value)?n.value:"",this._text=n.hasOwnProperty("text")&&0<=["number","string"].indexOf(typeof n.text)?n.text:"");let o=this;t.on("shown.coreui.form",function(){o._initEvents()})},getOptions:function(){return $.extend(!0,{},this._options)},readonly:function(t){this._value=this.getValue(),this._options.readonly=!!t,$(".content-"+this._hash).html(this.renderContent()),this._options.readonly||this._initEvents()},hide:function(t){$("#coreui-form-"+this._id).hide(t)},show:function(t){$("#coreui-form-"+this._id).show(t)},getValue:function(){return this._options.readonly?this._value:$(".content-"+this._hash+" input.coreui-form-modal-value").val()},setValue:function(value,text){if(!(["string","number"].indexOf(typeof value)<0))if(this._value=value,this._options.readonly)$(".content-"+this._hash).text(text);else{let elementValue=$(".content-"+this._hash+" .coreui-form-modal-value"),elementText=$(".content-"+this._hash+" .coreui-form-modal-text"),oldValue=elementValue.val();if(elementValue.val(value),elementText.val(text),oldValue!=value){let modal=this._options.hasOwnProperty("options")&&"object"==typeof this._options.options?this._options.options:{};if(modal.hasOwnProperty("onChange"))if("function"==typeof modal.onChange)modal.onChange(this);else if("string"==typeof modal.onChange){let func=coreuiFormUtils$1.getFunctionByName(modal.onChange);"function"==typeof func?func(this):eval(modal.onChange)}this._form._trigger("change-modal.coreui.form",this,[this])}}},validate:function(t,e){var n;this._options.readonly||((n=$(".content-"+this._hash)).find(".text-success").remove(),n.find(".text-danger").remove(),null!==t&&(t?"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&n.append('<div class="ps-2 text-success">'+e+"</div>"):(void 0===e&&("string"==typeof this._options.invalidText?e=this._options.invalidText:!e&&this._options.required&&(e=this._form.getLang().required_field)),"string"==typeof e&&n.append('<div class="ps-2 text-danger">'+e+"</div>"))))},isValid:function(){return!(this._options.required&&!this._options.readonly&&!this.getValue())},render:function(){var t=this.getOptions(),e=coreuiFormUtils$1.getAttacheFields(this._form,t);return ejs.render(tpl["form-field-label.html"],{id:this._id,form:this._form,hash:this._hash,field:t,content:this.renderContent(),attachFields:e})},renderContent:function(){var t=this.getOptions();let n=[],e={type:"text",readonly:"readonly",class:"form-control form-control-sm coreui-form-modal-text",value:null!==this._text?this._text:""};return t.required&&(e.required="required"),t.hasOwnProperty("attr")&&"object"==typeof t.attr&&Array.isArray(t.attr)&&(e=coreuiFormUtils$1.mergeAttr(e,t.attr)),$.each(e,function(t,e){n.push(t+'="'+e+'"')}),ejs.render(tpl["fields/modal.html"],{field:t,value:null!==this._value?this._value:"",text:null!==this._text?this._text:"",lang:this._form.getLang(),render:{width:this._options.width,attr:0<n.length?n.join(" "):""}})},_initEvents:function(){let that=this,modal=this._options.hasOwnProperty("options")&&"object"==typeof this._options.options?this._options.options:{};$(".content-"+this._hash+" .btn-modal-clear").click(function(e){if(modal.hasOwnProperty("onClear"))if("function"==typeof modal.onClear)modal.onClear(that);else if("string"==typeof modal.onClear){let func=coreuiFormUtils$1.getFunctionByName(modal.onClear);"function"==typeof func?func(that):eval(modal.onClear)}that._form._trigger("clear-modal.coreui.form",that,[that,e]),that.setValue("","")}),$(".content-"+this._hash+" .btn-modal-select").click(function(t){var i=modal.hasOwnProperty("title")&&"string"==typeof modal.title?modal.title:"",o=modal.hasOwnProperty("size")&&"string"==typeof modal.size?modal.size:"lg",e=modal.hasOwnProperty("url")&&"string"==typeof modal.url?modal.url:"";if(e){let n=coreuiFormUtils$1.hashCode();var r,s=ejs.render(tpl["fields/modal-loading.html"],{lang:that._form.getLang()});if(CoreUI.hasOwnProperty("modal")){let t=null,e=null;modal.hasOwnProperty("onHidden")&&("function"==typeof modal.onHidden?e=modal.onHidden:"string"==typeof modal.onHidden&&"function"==typeof(r=coreuiFormUtils$1.getFunctionByName(modal.onHidden))&&(e=r)),modal.hasOwnProperty("onShow")&&("function"==typeof modal.onShow?t=modal.onShow:"string"==typeof modal.onShow&&"function"==typeof(r=coreuiFormUtils$1.getFunctionByName(modal.onShow))&&(t=r)),CoreUI.modal.show(i,s,{id:n,size:o,onShow:t,onHidden:e})}$.ajax({url:e,method:"GET",beforeSend:function(t){that._form._trigger("before-load-modal.coreui.form",that,[that,t])},success:function(t){$("#modal-"+n+" .modal-body").html(t),that._form._trigger("success-load-modal.coreui.form",that,[that,t])},error:function(t,e,n){that._form._trigger("error-load-modal.coreui.form",that,[that,t,e,n])},complete:function(t,e){that._form._trigger("complete-load-modal.coreui.form",that,[that,t,e])}}),that._form._trigger("select-modal.coreui.form",that,[that,t])}})}},coreuiForm$1.fields.number={_id:"",_hash:"",_form:null,_index:0,_value:"",_options:{type:"number",name:null,label:null,labelWidth:null,width:null,outContent:null,description:null,errorText:null,attach:null,attr:{class:"form-control form-control-sm d-inline-block",step:"any"},required:null,readonly:null,datalist:null,show:!0,column:null,precision:null},init:function(t,e,n){if(this._form=t,this._index=n,this._id=t.getId()+"-field-"+(e.hasOwnProperty("name")?e.name:n),this._hash=coreuiFormUtils$1.hashCode(),this._value=coreuiFormUtils$1.getFieldValue(t,e),this._options=coreuiFormUtils$1.mergeFieldOptions(t,this._options,e),null===this._options.precision){let t=0;this._options.attr.hasOwnProperty("step")&&"any"!==this._options.attr.step&&0<=["string","number"].indexOf(typeof this._options.attr.step)&&(n=$.trim(this._options.attr.step.toString()).match(/\.(\d+)$/))&&n.hasOwnProperty(1)&&(t=n?n[1].length:t),this._options.precision=t}let i=this;t.on("shown.coreui.form",function(){i._options.readonly||i._initEvents()})},getOptions:function(){return $.extend(!0,{},this._options)},readonly:function(t){this._value=this.getValue(),this._options.readonly=!!t,$(".content-"+this._hash).html(this.renderContent()),this._options.readonly||this._initEvents()},hide:function(t){$("#coreui-form-"+this._id).hide(t)},show:function(t){$("#coreui-form-"+this._id).show(t)},getValue:function(){return this._options.readonly?this._value:$(".content-"+this._hash+" input").val()},setValue:function(t){["string","number"].indexOf(typeof t)<0||!t.toString().match(/^\-?\d+\.?\d*$/)||(0<=this._options.precision&&(t=coreuiFormUtils$1.round(t,this._options.precision)),this._options.attr.hasOwnProperty("min")&&(t=t<Number(this._options.attr.min)?Number(this._options.attr.min):t),this._options.attr.hasOwnProperty("max")&&(t=t>Number(this._options.attr.max)?Number(this._options.attr.max):t),this._value=t,this._options.readonly?$(".content-"+this._hash).text(t):$(".content-"+this._hash+" input").val(t))},validate:function(t,e){var n,i;this._options.readonly||(n=$(".content-"+this._hash),i=$("input",n),n.find(".valid-feedback").remove(),n.find(".invalid-feedback").remove(),null===t?(i.removeClass("is-invalid"),i.removeClass("is-valid")):t?(i.removeClass("is-invalid"),i.addClass("is-valid"),"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&n.append('<div class="valid-feedback">'+e+"</div>")):(i.removeClass("is-valid"),i.addClass("is-invalid"),void 0===e&&("string"==typeof this._options.invalidText?e=this._options.invalidText:!e&&this._options.required&&(e=this._form.getLang().required_field)),"string"==typeof e&&n.append('<div class="invalid-feedback">'+e+"</div>")))},isValid:function(){var t=$(".content-"+this._hash+" input");return t[0]?t.is(":valid"):null},render:function(){var t=$.extend(!0,{},this._options),e=coreuiFormUtils$1.getAttacheFields(this._form,t);return ejs.render(tpl["form-field-label.html"],{id:this._id,form:this._form,hash:this._hash,field:t,content:this.renderContent(),attachFields:e})},renderContent:function(){let n=[],i=[];var t=this.getOptions(),e=coreuiFormUtils$1.hashCode();return t.hasOwnProperty("attr")&&"object"==typeof t.attr&&null!==t.attr&&!Array.isArray(t.attr)||(t.attr={}),t.name&&(t.attr.name=this._options.name),t.attr.type="number",t.attr.value=null!==this._value?this._value:"",t.width&&(t.attr=coreuiFormUtils$1.mergeAttr({style:"width:"+t.width},t.attr)),t.required&&(t.attr.required="required"),t.hasOwnProperty("datalist")&&"object"==typeof t.datalist&&Array.isArray(t.datalist)&&(t.attr.list=e,$.each(t.datalist,function(t,e){let n=[];$.each(e,function(t,e){n.push(t+'="'+e+'"')}),i.push({attr:0<n.length?" "+n.join(" "):""})})),$.each(t.attr,function(t,e){n.push(t+'="'+e+'"')}),ejs.render(tpl["fields/input.html"],{field:t,datalistId:e,value:null!==this._value?this._value:"",render:{attr:0<n.length?" "+n.join(" "):"",datalist:i}})},_initEvents:function(){$(".content-"+this._hash+" input").keydown(function(t){var e=t.keyCode||t.which;(!(35<=e&&e<=40||96<=e&&e<=105||189===e||109===e||110===e||190===e||9===e||46===e||8===e||!t.shiftKey&&48<=e&&e<=57)||t.ctrlKey&&t.altKey)&&t.preventDefault()});let n=this;$(".content-"+this._hash+" input").blur(function(t){let e=$(this).val();0<=n._options.precision&&(e=coreuiFormUtils$1.round(e,n._options.precision)),n._options.attr.hasOwnProperty("min")&&(e=e<Number(n._options.attr.min)?Number(n._options.attr.min):e),n._options.attr.hasOwnProperty("max")&&(e=e>Number(n._options.attr.max)?Number(n._options.attr.max):e),$(this).val(e)})}},coreuiForm$1.fields.radio={_id:"",_hash:"",_form:null,_index:0,_value:"",_options:{type:"radio",name:null,label:null,labelWidth:null,inline:!1,outContent:null,description:null,errorText:null,options:[],fields:[],required:null,readonly:null,show:!0,column:null},init:function(t,e,n){this._form=t,this._id=t.getId()+"-field-"+(e.hasOwnProperty("name")?e.name:n),this._hash=coreuiFormUtils$1.hashCode(),this._value=coreuiFormUtils$1.getFieldValue(t,e),this._options=coreuiFormUtils$1.mergeFieldOptions(t,this._options,e)},getOptions:function(){return $.extend(!0,{},this._options)},readonly:function(t){this._value=this.getValue(),this._options.readonly=!!t,$(".content-"+this._hash).html(this.renderContent())},hide:function(t){$("#coreui-form-"+this._id).hide(t)},show:function(t){$("#coreui-form-"+this._id).show(t)},getValue:function(){return this._options.readonly?this._value:$(".content-"+this._hash+" input[type=radio]:checked").val()},setValue:function(i){if(!(["string","number"].indexOf(typeof i)<0))if(this._options.readonly){let n=this;var t=this.getOptions();t.hasOwnProperty("options")&&"object"==typeof t.options&&Array.isArray(t.options)&&$.each(t.options,function(t,e){if(e.hasOwnProperty("value")&&e.value==i)return e=e.hasOwnProperty("text")&&0<=["string","number"].indexOf(typeof e.text)?e.text:"",$(".content-"+n._hash).text(e),n._value=i,!1})}else{t=$(".content-"+this._hash+' input[type=radio][value="'+i+'"]');t[0]&&(t.prop("checked",!0),this._value=i)}},validate:function(t,e){var n,i,o;this._options.readonly||(n=$(".content-"+this._hash),i=$(".form-check:last-child",n),o=$("input",n),n.find(".valid-feedback").remove(),n.find(".invalid-feedback").remove(),null===t?(o.removeClass("is-invalid"),o.removeClass("is-valid")):t?(o.removeClass("is-invalid"),o.addClass("is-valid"),"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&i.append('<div class="valid-feedback">'+e+"</div>")):(o.removeClass("is-valid"),o.addClass("is-invalid"),void 0===e&&("string"==typeof this._options.invalidText?e=this._options.invalidText:!e&&this._options.required&&(e=this._form.getLang().required_field)),"string"==typeof e&&i.append('<div class="invalid-feedback">'+e+"</div>")))},isValid:function(){var t;return!(this._options.required&&!this._options.readonly)||"string"==typeof(t=this.getValue())&&""!==t},render:function(){var t=this.getOptions(),t=coreuiFormUtils$1.getAttacheFields(this._form,t);return ejs.render(tpl["form-field-label.html"],{id:this._id,form:this._form,hash:this._hash,field:this._options,content:this.renderContent(),attachFields:t})},renderContent:function(){let r=this,s=[],a=this.getOptions(),l=[];return a.hasOwnProperty("options")&&"object"==typeof a.options&&Array.isArray(a.options)&&$.each(a.options,function(t,e){let n=[],i={type:"radio",class:"form-check-input"};var o=e.hasOwnProperty("text")&&0<=["string","number"].indexOf(typeof e.text)?e.text:"";a.name&&(i.name=r._options.name),a.required&&(i.required="required"),$.each(e,function(t,e){"text"!==t&&(i[t]="class"===t?i[t]+" "+e:e)}),i.id=coreuiFormUtils$1.hashCode(),r._value==e.value&&(e.hasOwnProperty("text")&&e.text&&l.push(e.text),i.checked="checked"),$.each(i,function(t,e){n.push(t+'="'+e+'"')}),s.push({id:i.id,text:o,attr:0<n.length?" "+n.join(" "):""})}),ejs.render(tpl["fields/radio.html"],{field:a,value:this._value,render:{options:s,selectedItem:l}})}},coreuiForm$1.fields.range={_id:"",_hash:"",_form:null,_index:0,_value:"",_options:{type:"range",name:null,label:null,labelWidth:null,width:null,outContent:null,description:null,errorText:null,attach:null,attr:{class:"form-range d-inline-block pt-1"},required:null,readonly:null,datalist:null,show:!0,column:null},init:function(t,e,n){this._form=t,this._index=n,this._id=t.getId()+"-field-"+(e.hasOwnProperty("name")?e.name:n),this._hash=coreuiFormUtils$1.hashCode(),this._value=coreuiFormUtils$1.getFieldValue(t,e),this._options=coreuiFormUtils$1.mergeFieldOptions(t,this._options,e)},getOptions:function(){return $.extend(!0,{},this._options)},readonly:function(t){this._value=this.getValue(),this._options.readonly=!!t,$(".content-"+this._hash).html(this.renderContent())},hide:function(t){$("#coreui-form-"+this._id).hide(t)},show:function(t){$("#coreui-form-"+this._id).show(t)},getValue:function(){return this._options.readonly?this._value:$(".content-"+this._hash+" input").val()},setValue:function(t){["string","number"].indexOf(typeof t)<0||(this._value=t,this._options.readonly?$(".content-"+this._hash).text(t):$(".content-"+this._hash+" input").val(t))},validate:function(t,e){var n,i;this._options.readonly||(n=$(".content-"+this._hash),i=$("input",n),n.find(".valid-feedback").remove(),n.find(".invalid-feedback").remove(),null===t?(i.removeClass("is-invalid"),i.removeClass("is-valid")):t?(i.removeClass("is-invalid"),i.addClass("is-valid"),"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&n.append('<div class="valid-feedback">'+e+"</div>")):(i.removeClass("is-valid"),i.addClass("is-invalid"),void 0===e&&("string"==typeof this._options.invalidText?e=this._options.invalidText:!e&&this._options.required&&(e=this._form.getLang().required_field)),"string"==typeof e&&n.append('<div class="invalid-feedback">'+e+"</div>")))},isValid:function(){var t=$(".content-"+this._hash+" input");return t[0]?t.is(":valid"):null},render:function(){var t=this.getOptions(),e=coreuiFormUtils$1.getAttacheFields(this._form,t);return ejs.render(tpl["form-field-label.html"],{id:this._id,form:this._form,hash:this._hash,field:t,content:this.renderContent(),attachFields:e})},renderContent:function(){let n=[],i=[];var t=this.getOptions(),e=coreuiFormUtils$1.hashCode();return t.hasOwnProperty("attr")&&"object"==typeof t.attr&&null!==t.attr&&!Array.isArray(t.attr)||(t.attr={}),t.name&&(t.attr.name=this._options.name),t.attr.type="range",t.attr.value=this._value,t.width&&(t.attr=coreuiFormUtils$1.mergeAttr({style:"width:"+t.width},t.attr)),t.required&&(t.attr.required="required"),t.hasOwnProperty("datalist")&&"object"==typeof t.datalist&&Array.isArray(t.datalist)&&(t.attr.list=e,$.each(t.datalist,function(t,e){let n=[];$.each(e,function(t,e){n.push(t+'="'+e+'"')}),i.push({attr:0<n.length?" "+n.join(" "):""})})),$.each(t.attr,function(t,e){n.push(t+'="'+e+'"')}),ejs.render(tpl["fields/input.html"],{field:t,datalistId:e,value:this._value,render:{attr:0<n.length?" "+n.join(" "):"",datalist:i}})}},coreuiForm$1.fields.select={_id:"",_hash:"",_form:null,_index:0,_value:[],_options:{type:"select",name:null,label:null,labelWidth:null,width:null,outContent:null,description:null,errorText:null,attach:null,attr:{class:"form-select form-select-sm d-inline-block"},required:null,readonly:null,datalist:null,show:!0,column:null},init:function(t,e,n){this._form=t,this._index=n,this._id=t.getId()+"-field-"+(e.hasOwnProperty("name")?e.name:n),this._hash=coreuiFormUtils$1.hashCode(),this._value=coreuiFormUtils$1.getFieldValue(t,e),this._options=coreuiFormUtils$1.mergeFieldOptions(t,this._options,e)},getOptions:function(){return $.extend(!0,{},this._options)},readonly:function(t){this._value=this.getValue(),this._options.readonly=!!t,$(".content-"+this._hash).html(this.renderContent())},hide:function(t){$("#coreui-form-"+this._id).hide(t)},show:function(t){$("#coreui-form-"+this._id).show(t)},getValue:function(){if(this._options.readonly)return this._value;if(this._options.hasOwnProperty("attr")&&"object"==typeof this._options.attr&&null!==this._options.attr&&!Array.isArray(this._options.attr)&&this._options.attr.hasOwnProperty("multiple")){let t=[];return $(".content-"+this._hash+" select option:selected").each(function(){t.push($(this).val())}),t}return $(".content-"+this._hash+" select option:selected").val()},setValue:function(e){if(!(["string","number","object"].indexOf(typeof e)<0)){if("object"==typeof e){if(null!==e&&!Array.isArray(e))return}else e=[e];let o=this;if(this._value=[],this._options.readonly){$(".content-"+o._hash).empty();var t=this.getOptions();if(t.hasOwnProperty("options")&&"object"==typeof t.options&&Array.isArray(t.options)&&Array.isArray(e)){let i=[];$.each(t.options,function(t,n){n.hasOwnProperty("value")&&$.each(e,function(t,e){if(n.value==e)return n.hasOwnProperty("text")&&0<=["string","number"].indexOf(typeof n.text)&&i.push(n.text),o._value.push(e),!1})}),$(".content-"+o._hash).text(i.join(", "))}}else $(".content-"+this._hash+" select > option").prop("selected",!1),Array.isArray(e)&&$(".content-"+this._hash+" select > option").each(function(t,n){$.each(e,function(t,e){if(e==$(n).val())return $(n).prop("selected",!0),o._value.push(e),!1})})}},validate:function(t,e){var n,i;this._options.readonly||(n=$(".content-"+this._hash),i=$("select",n),n.find(".valid-feedback").remove(),n.find(".invalid-feedback").remove(),null===t?(i.removeClass("is-invalid"),i.removeClass("is-valid")):t?(i.removeClass("is-invalid"),i.addClass("is-valid"),"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&n.append('<div class="valid-feedback">'+e+"</div>")):(i.removeClass("is-valid"),i.addClass("is-invalid"),void 0===e&&("string"==typeof this._options.invalidText?e=this._options.invalidText:!e&&this._options.required&&(e=this._form.getLang().required_field)),"string"==typeof e&&n.append('<div class="invalid-feedback">'+e+"</div>")))},isValid:function(){var t=$(".content-"+this._hash+" select");return(!this._options.required||""!==t.val())&&(t[0]?t.is(":valid"):null)},render:function(){var t=this.getOptions(),e=coreuiFormUtils$1.getAttacheFields(this._form,t);return ejs.render(tpl["form-field-label.html"],{id:this._id,form:this._form,hash:this._hash,field:t,content:this.renderContent(),attachFields:e})},renderContent:function(){return this._options.readonly?this._renderContentReadonly():this._renderContent()},_renderContent:function(){let o=this;var t=this.getOptions();let n=[],r=[];return t.hasOwnProperty("attr")&&"object"==typeof t.attr&&null!==t.attr&&!Array.isArray(t.attr)||(t.attr={}),t.name&&(t.attr.name=this._options.name),t.width&&(t.attr=coreuiFormUtils$1.mergeAttr({style:"width:"+t.width},t.attr)),t.required&&(t.attr.required="required"),t.hasOwnProperty("options")&&"object"==typeof t.options&&null!==t.options&&$.each(t.options,function(t,e){if("string"==typeof e||"number"==typeof e)r.push(o._renderOption({type:"option",value:t,text:e}));else if("object"==typeof e)if("group"===(e.hasOwnProperty("type")&&"string"==typeof e.type?e.type:"option")){let n=[],t={},i=[];e.hasOwnProperty("attr")&&"object"==typeof e.attr&&null!==e.attr&&!Array.isArray(e.attr)&&(t=e.attr),e.hasOwnProperty("label")&&0<=["string","number"].indexOf(typeof e.label)&&(t.label=e.label),$.each(t,function(t,e){n.push(t+'="'+e+'"')}),Array.isArray(e.options)&&$.each(e.options,function(t,e){i.push(o._renderOption(e))}),r.push({type:"group",attr:0<n.length?" "+n.join(" "):"",options:i})}else r.push(o._renderOption(e))}),$.each(t.attr,function(t,e){n.push(t+'="'+e+'"')}),ejs.render(tpl["fields/select.html"],{field:t,value:this._value,render:{attr:0<n.length?" "+n.join(" "):"",options:r}})},_renderContentReadonly:function(){let e=this;var t=this.getOptions();let o=[];return t.hasOwnProperty("options")&&"object"==typeof t.options&&Array.isArray(t.options)&&$.each(t.options,function(t,i){if("group"===(i.hasOwnProperty("type")&&"string"==typeof i.type?i.type:"option"))Array.isArray(i.options)&&$.each(i.options,function(t,n){let i=n.hasOwnProperty("text")&&0<=["string","number"].indexOf(typeof n.text)?n.text:"";i&&""!==i&&(Array.isArray(e._value)?$.each(e._value,function(t,e){if(e==n.value)return o.push(i),!1}):e._value==n.value&&o.push(i))});else{let n=i.hasOwnProperty("text")&&0<=["string","number"].indexOf(typeof i.text)?i.text:"";n&&""!==n&&(Array.isArray(e._value)?$.each(e._value,function(t,e){if(e==i.value)return o.push(n),!1}):e._value==i.value&&o.push(n))}}),ejs.render(tpl["fields/select.html"],{field:t,render:{selectedOptions:o}})},_renderOption:function(n){let i=[];var t=n.hasOwnProperty("text")&&0<=["string","number"].indexOf(typeof n.text)?n.text:"";return $.each(n,function(t,e){"text"!==t&&i.push(t+'="'+e+'"')}),Array.isArray(this._value)?$.each(this._value,function(t,e){if(e==n.value)return i.push('selected="selected"'),!1}):this._value==n.value&&i.push('selected="selected"'),{type:"option",text:t,attr:0<i.length?" "+i.join(" "):""}}},coreuiForm$1.fields.switch={_id:"",_hash:"",_form:null,_index:0,_value:"",_options:{type:"switch",name:null,label:null,labelWidth:null,outContent:null,description:null,errorText:null,valueY:"Y",valueN:"N",fields:[],required:null,readonly:null,show:!0,column:null},init:function(t,e,n){this._form=t,this._index=n,this._id=t.getId()+"-field-"+(e.hasOwnProperty("name")?e.name:n),this._hash=coreuiFormUtils$1.hashCode(),this._value=coreuiFormUtils$1.getFieldValue(t,e),this._options=coreuiFormUtils$1.mergeFieldOptions(t,this._options,e)},getOptions:function(){return $.extend(!0,{},this._options)},readonly:function(t){this._value=this.getValue(),this._options.readonly=!!t,$(".content-"+this._hash).html(this.renderContent())},hide:function(t){$("#coreui-form-"+this._id).hide(t)},show:function(t){$("#coreui-form-"+this._id).show(t)},getValue:function(){return this._options.readonly?this._value:$(".content-"+this._hash+" input").val()},setValue:function(t){["string","number"].indexOf(typeof t)<0||(this._value=t,this._options.readonly?$(".content-"+this._hash).text(t):$(".content-"+this._hash+" input[type=checkbox]").prop("checked",t===this._options.valueY))},validate:function(t,e){var n,i,o;this._options.readonly||(n=$(".content-"+this._hash),i=$(".form-switch",n),o=$("input",n),n.find(".valid-feedback").remove(),n.find(".invalid-feedback").remove(),null===t?(o.removeClass("is-invalid"),o.removeClass("is-valid")):t?(o.removeClass("is-invalid"),o.addClass("is-valid"),"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&i.append('<div class="valid-feedback">'+e+"</div>")):(o.removeClass("is-valid"),o.addClass("is-invalid"),"string"==typeof(e=void 0===e?"string"==typeof this._options.invalidText?this._options.invalidText:e||this._form.getLang().required_field:e)&&i.append('<div class="invalid-feedback">'+e+"</div>")))},isValid:function(){return null},render:function(){var t=this.getOptions(),e=coreuiFormUtils$1.getAttacheFields(this._form,t);return ejs.render(tpl["form-field-label.html"],{id:this._id,form:this._form,hash:this._hash,field:t,content:this.renderContent(),attachFields:e})},renderContent:function(){let n=[];var t=this.getOptions();let e={type:"checkbox",class:"form-check-input",value:t.valueY};return t.name&&(e.name=this._options.name),t.required&&(e.required="required"),t.hasOwnProperty("attr")&&"object"==typeof t.attr&&Array.isArray(t.attr)&&(e=coreuiFormUtils$1.mergeAttr(e,t.attr)),this._value===t.valueY&&(e.checked="checked"),$.each(e,function(t,e){n.push(t+'="'+e+'"')}),ejs.render(tpl["fields/switch.html"],{field:t,value:this._value,lang:this._form.getLang(),render:{attr:0<n.length?n.join(" "):""}})}},coreuiForm$1.fields.textarea={_id:"",_form:null,_index:0,_value:"",_options:{type:"textarea",name:null,label:null,labelWidth:null,width:null,outContent:null,description:null,errorText:null,attach:null,attr:{class:"form-control form-control-sm d-inline-block"},required:null,readonly:null,datalist:null,show:!0,column:null},init:function(t,e,n){this._form=t,this._index=n,this._id=t.getId()+"-field-"+(e.hasOwnProperty("name")?e.name:n),this._hash=coreuiFormUtils$1.hashCode(),this._value=coreuiFormUtils$1.getFieldValue(t,e),this._options=coreuiFormUtils$1.mergeFieldOptions(t,this._options,e)},getOptions:function(){return $.extend(!0,{},this._options)},readonly:function(t){this._value=this.getValue(),this._options.readonly=!!t,$(".content-"+this._hash).html(this.renderContent())},hide:function(t){$("#coreui-form-"+this._id).hide(t)},show:function(t){$("#coreui-form-"+this._id).show(t)},getValue:function(){return this._options.readonly?this._value:$(".content-"+this._hash+" textarea").val()},setValue:function(t){["string","number"].indexOf(typeof t)<0||(this._value=t,this._options.readonly?$(".content-"+this._hash).text(t):$(".content-"+this._hash+" textarea").val(t))},validate:function(t,e){var n,i;this._options.readonly||(n=$(".content-"+this._hash),i=$("textarea",n),n.find(".valid-feedback").remove(),n.find(".invalid-feedback").remove(),null===t?(i.removeClass("is-invalid"),i.removeClass("is-valid")):t?(i.removeClass("is-invalid"),i.addClass("is-valid"),"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&n.append('<div class="valid-feedback">'+e+"</div>")):(i.removeClass("is-valid"),i.addClass("is-invalid"),void 0===e&&("string"==typeof this._options.invalidText?e=this._options.invalidText:!e&&this._options.required&&(e=this._form.getLang().required_field)),"string"==typeof e&&n.append('<div class="invalid-feedback">'+e+"</div>")))},isValid:function(){var t=$(".content-"+this._hash+" textarea");if(t[0])return t.is(":valid")},render:function(){var t=this.getOptions(),e=coreuiFormUtils$1.getAttacheFields(this._form,t);return ejs.render(tpl["form-field-label.html"],{id:this._id,form:this._form,hash:this._hash,field:t,content:this.renderContent(),attachFields:e})},renderContent:function(){let n=[];var t=this.getOptions();return t.hasOwnProperty("attr")&&"object"==typeof t.attr&&null!==t.attr&&!Array.isArray(t.attr)||(t.attr={}),t.name&&(t.attr.name=this._options.name),t.width&&(t.attr=coreuiFormUtils$1.mergeAttr({style:"width:"+t.width},t.attr)),t.required&&(t.attr.required="required"),$.each(t.attr,function(t,e){n.push(t+'="'+e+'"')}),ejs.render(tpl["fields/textarea.html"],{field:t,value:null!==this._value?this._value:"",render:{attr:0<n.length?" "+n.join(" "):""}})}},coreuiForm$1.fields.wysiwyg={_id:"",_hash:"",_form:null,_value:null,_editor:null,_editorHash:null,_options:{type:"wysiwyg",label:null,labelWidth:null,width:null,minWidth:null,maxWidth:null,height:null,minHeight:null,maxHeight:null,options:{},outContent:null,description:null,required:null,readonly:!1,show:!0,column:null},init:function(t,e,n){this._form=t,this._index=n,this._id=t.getId()+"-field-"+(e.hasOwnProperty("name")?e.name:n),this._hash=coreuiFormUtils$1.hashCode(),this._editorHash=coreuiFormUtils$1.hashCode(),this._value=coreuiFormUtils$1.getFieldValue(t,e),this._options=coreuiFormUtils$1.mergeFieldOptions(t,this._options,e);let i=this;t.on("shown.coreui.form",function(){i._options.readonly||i._initEvents()})},getOptions:function(){return $.extend(!0,{},this._options)},readonly:function(t){this._value=this.getValue(),this._options.readonly=!!t,$(".content-"+this._hash).html(this.renderContent()),this._options.readonly||this._initEvents()},hide:function(t){$("#coreui-form-"+this._id).hide(t||0)},show:function(t){$("#coreui-form-"+this._id).show(t||0)},getValue:function(){return!this._options.readonly&&this._editor?this._editor.getContent():this._value},setValue:function(t){this._value=t,this._options.readonly?$(".content-"+this._hash).text(t):this._editor&&this._editor.setContent(t)},validate:function(t,e){var n;this._options.readonly||((n=$(".content-"+this._hash)).find(".text-success").remove(),n.find(".text-danger").remove(),null!==t&&(t?"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&n.append('<div class="ps-2 text-success">'+e+"</div>"):(void 0===e&&("string"==typeof this._options.invalidText?e=this._options.invalidText:!e&&this._options.required&&(e=this._form.getLang().required_field)),"string"==typeof e&&n.append('<div class="ps-2 text-danger">'+e+"</div>"))))},isValid:function(){return!(this._options.required&&!this._options.readonly&&!this.getValue())},render:function(){var t=this.getOptions(),e=coreuiFormUtils$1.getAttacheFields(this._form,t);return ejs.render(tpl["form-field-label.html"],{id:this._id,form:this._form,hash:this._hash,field:t,content:this.renderContent(),attachFields:e})},renderContent:function(){var t=this.getOptions();return ejs.render(tpl["fields/wysiwyg.html"],{field:t,value:null!==this._value?this._value:"",editorHash:this._editorHash})},_initEvents:function(){if(!this._options.readonly){let t={},e=this,n="editor-"+this._editorHash;(t="object"==typeof this._options.options&&!Array.isArray(this._options.options)&&0<Object.keys(this._options.options).length?this._options.options:"simple"===this._options.options?{plugins:"image lists anchor charmap",toolbar:"blocks | bold italic underline | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | forecolor backcolor removeformat",menubar:!1,branding:!1}:{promotion:!1,branding:!1,plugins:"preview importcss searchreplace autolink autosave save directionality code visualblocks visualchars fullscreen image link media template codesample table charmap pagebreak nonbreaking anchor insertdatetime advlist lists wordcount help charmap quickbars emoticons",menubar:"file edit view insert format tools table help",toolbar:"undo redo | bold italic underline strikethrough | fontfamily fontsize blocks | alignleft aligncenter alignright alignjustify | outdent indent | numlist bullist | forecolor backcolor removeformat | pagebreak | charmap emoticons | fullscreen preview save print | insertfile image media template link anchor codesample | ltr rtl"}).selector="#editor-"+this._editorHash,0<=["string","number"].indexOf(typeof this._options.width)&&(t.width=this._options.width),0<=["string","number"].indexOf(typeof this._options.minWidth)&&(t.min_width=this._options.minWidth),0<=["string","number"].indexOf(typeof this._options.maxWidth)&&(t.max_width=this._options.maxWidth),0<=["string","number"].indexOf(typeof this._options.height)&&(t.height=this._options.height),0<=["string","number"].indexOf(typeof this._options.minHeight)&&(t.min_height=this._options.minHeight),0<=["string","number"].indexOf(typeof this._options.maxHeight)&&(t.max_height=this._options.maxHeight),tinymce.init(t).then(function(){e._editor=tinymce.get(n)})}}},coreuiForm$1.fields.passwordRepeat={_id:"",_hash:"",_form:null,_index:0,_isChangeState:!0,_value:"",_options:{type:"password",name:null,label:null,labelWidth:null,width:null,outContent:null,description:null,errorText:null,attach:null,attr:{type:"password",class:"form-control form-control-sm d-inline-block flex-shrink-0"},required:null,invalidText:null,validText:null,readonly:null,datalist:null,show:!0,showBtn:!0,column:null},init:function(t,e,n){this._form=t,this._index=n,this._id=t.getId()+"-field-"+(e.hasOwnProperty("name")?e.name:n),this._hash=coreuiFormUtils$1.hashCode(),this._value=coreuiFormUtils$1.getFieldValue(t,e),this._options=coreuiFormUtils$1.mergeFieldOptions(t,this._options,e);let i=this;t.on("shown.coreui.form",function(){i._initEvents()})},getOptions:function(){return $.extend(!0,{},this._options)},readonly:function(t){this._value=this.getValue(),this._options.readonly=!!t,$(".content-"+this._hash).html(this.renderContent()),this._options.readonly||this._initEvents()},hide:function(t){$("#coreui-form-"+this._id).hide(t)},show:function(t){$("#coreui-form-"+this._id).show(t)},getValue:function(){var t;return this._options.readonly?this._value:void 0!==(t=$(".content-"+this._hash+' input[type="password"]').eq(0)).attr("disabled")&&!1!==t.attr("disabled")?"":t.val()},setValue:function(t){["string","number"].indexOf(typeof t)<0||(this._value=t,this._options.readonly?$(".content-"+this._hash).text(t?"******":""):$(".content-"+this._hash+' input[type="password"]').val(t))},validate:function(t,e){var n,i;this._options.readonly||(n=$(".content-"+this._hash),i=$('input[type="password"]',n),n.find(".valid-feedback").remove(),n.find(".invalid-feedback").remove(),null===t?(i.removeClass("is-invalid"),i.removeClass("is-valid")):t?(i.removeClass("is-invalid"),i.addClass("is-valid"),"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&n.append('<div class="valid-feedback d-block">'+e+"</div>")):(i.removeClass("is-valid"),i.addClass("is-invalid"),void 0===e&&("string"==typeof this._options.invalidText?e=this._options.invalidText:!e&&this._options.required&&(e=this._form.getLang().required_field)),"string"==typeof e&&n.append('<div class="invalid-feedback d-block">'+e+"</div>")))},isValid:function(){var t;return!(this._isChangeState&&!this._options.readonly)||(t=$(".content-"+this._hash+' input[type="password"]')).eq(0).val()===t.eq(1).val()&&(t[0]?t.eq(0).is(":valid"):null)},render:function(){var t=this.getOptions(),e=coreuiFormUtils$1.getAttacheFields(this._form,t);return ejs.render(tpl["form-field-label.html"],{id:this._id,form:this._form,hash:this._hash,field:t,content:this.renderContent(),attachFields:e})},renderContent:function(){return this._options.readonly?this._renderContentReadonly():this._renderContent()},_renderContent:function(){let n=[],i=[];var t=this.getOptions(),e=(this._isChangeState=!t.showBtn||!this._value,t.hasOwnProperty("attr")&&"object"==typeof t.attr&&null!==t.attr&&!Array.isArray(t.attr)||(t.attr={}),this._isChangeState||(t.attr.disabled=""),t.name&&(t.attr.name=this._options.name),t.attr.value=this._value?"******":"",t.width&&(t.attr=coreuiFormUtils$1.mergeAttr({style:"width:"+t.width},t.attr)),t.required&&(t.attr.required="required"),$.each(t.attr,function(t,e){n.push(t+'="'+e+'"')}),$.each(t.attr,function(t,e){["name","value"].indexOf(t)<0&&i.push(t+'="'+e+'"')}),this._form.getLang());return ejs.render(tpl["fields/passwordRepeat.html"],{field:t,value:null!==this._value?this._value:"",lang:e,btn_text:this._isChangeState?e.cancel:e.change,render:{attr:0<n.length?" "+n.join(" "):"",attr2:0<i.length?" "+i.join(" "):"",datalist:[]}})},_renderContentReadonly:function(){var t=this.getOptions();return ejs.render(tpl["fields/passwordRepeat.html"],{field:t,value:this._value?"******":"",hash:this._hash})},_initEvents:function(){let i=this;$(".content-"+this._hash+" .btn-password-change").click(function(t){var e=$(this).data("change"),n=$(this).data("cancel");i._isChangeState?($(".content-"+i._hash+' [type="password"]').attr("disabled","disabled"),$(this).text(e),i._isChangeState=!1):($(".content-"+i._hash+' [type="password"]').removeAttr("disabled"),$(this).text(n),i._isChangeState=!0)})}},coreuiForm$1.fields.file={_id:"",_hash:"",_form:null,_index:0,_value:"",_options:{type:"file",name:null,label:null,labelWidth:null,width:null,outContent:null,description:null,errorText:null,attach:null,attr:{class:"form-control form-control-sm d-inline-block"},required:null,invalidText:null,validText:null,readonly:null,datalist:null,show:!0,column:null},init:function(t,e,n){this._form=t,this._index=n,this._id=t.getId()+"-field-"+(e.hasOwnProperty("name")?e.name:n),this._hash=coreuiFormUtils$1.hashCode(),this._value=coreuiFormUtils$1.getFieldValue(t,e),this._options=coreuiFormUtils$1.mergeFieldOptions(t,this._options,e)},getOptions:function(){return $.extend(!0,{},this._options)},readonly:function(t){this._value=this.getValue(),this._options.readonly=!!t,$(".content-"+this._hash).html(this.renderContent())},hide:function(t){$("#coreui-form-"+this._id).hide(t)},show:function(t){$("#coreui-form-"+this._id).show(t)},getValue:function(){return this._options.readonly?this._value:$(".content-"+this._hash+" input")[0].files},setValue:function(i){if(i instanceof File||i instanceof FileList)if(this._value=i,this._options.readonly)$(".content-"+this._hash).text("");else{let n=new DataTransfer;i instanceof File?n.items.add(i):$.each(i,function(t,e){i instanceof File&&n.items.add(e)}),$(".content-"+this._hash+" input")[0].files=n.files}},validate:function(t,e){var n,i;this._options.readonly||(n=$(".content-"+this._hash),i=$("input",n),n.find(".valid-feedback").remove(),n.find(".invalid-feedback").remove(),null===t?(i.removeClass("is-invalid"),i.removeClass("is-valid")):t?(i.removeClass("is-invalid"),i.addClass("is-valid"),"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&n.append('<div class="valid-feedback">'+e+"</div>")):(i.removeClass("is-valid"),i.addClass("is-invalid"),void 0===e&&("string"==typeof this._options.invalidText?e=this._options.invalidText:!e&&this._options.required&&(e=this._form.getLang().required_field)),"string"==typeof e&&n.append('<div class="invalid-feedback">'+e+"</div>")))},isValid:function(){var t=$(".content-"+this._hash+" input");return t[0]?t.is(":valid"):null},render:function(){var t=this.getOptions(),e=coreuiFormUtils$1.getAttacheFields(this._form,t);return ejs.render(tpl["form-field-label.html"],{id:this._id,form:this._form,hash:this._hash,field:t,content:this.renderContent(),attachFields:e})},renderContent:function(){return this._options.readonly?this._renderContentReadonly():this._renderContent()},_renderContent:function(){let n=[],i=[];var t=this.getOptions(),e=coreuiFormUtils$1.hashCode();return t.hasOwnProperty("attr")&&"object"==typeof t.attr&&null!==t.attr&&!Array.isArray(t.attr)||(t.attr={}),t.name&&(t.attr.name=this._options.name),t.attr.type=t.type,t.attr.value=null!==this._value?this._value:"",t.width&&(t.attr=coreuiFormUtils$1.mergeAttr({style:"width:"+t.width},t.attr)),t.required&&(t.attr.required="required"),t.hasOwnProperty("datalist")&&"object"==typeof t.datalist&&Array.isArray(t.datalist)&&(t.attr.list=e,$.each(t.datalist,function(t,e){let n=[];$.each(e,function(t,e){n.push(t+'="'+e+'"')}),i.push({attr:0<n.length?" "+n.join(" "):""})})),$.each(t.attr,function(t,e){n.push(t+'="'+e+'"')}),ejs.render(tpl["fields/input.html"],{field:t,datalistId:e,value:null!==this._value?this._value:"",render:{attr:0<n.length?" "+n.join(" "):"",datalist:i}})},_renderContentReadonly:function(){var t=this.getOptions();let e="text",n=this._value;var i=this._form.getLang();t.hasOwnProperty("type")&&"string"==typeof t.type&&(e=t.type);try{switch(e){case"date":n=coreuiFormUtils$1.formatDate(n);break;case"datetime-local":n=coreuiFormUtils$1.formatDateTime(n);break;case"month":n=coreuiFormUtils$1.formatDateMonth(n,i);break;case"week":n=coreuiFormUtils$1.formatDateWeek(n,i)}}catch(t){console.error(t)}return ejs.render(tpl["fields/input.html"],{field:t,value:n,hash:this._hash})}},coreuiForm$1});
//# sourceMappingURL=coreui-form.min.js.map
