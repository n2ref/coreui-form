var CoreUI=void 0!==CoreUI?CoreUI:{};CoreUI.form={lang:{},fields:{},controls:{},_instances:{},_settings:{labelWidth:200,lang:"en",class:"",errorMessageScrollOffset:70},create:function(t){var e=$.extend(!0,{},this.instance),t=(e._init(t instanceof Object?t:{}),e.getId());return this._instances[t]=e},get:function(t){return this._instances.hasOwnProperty(t)?$("#coreui-form-"+this._instances[t])[0]?(delete this._instances[t],null):this._instances[t]:null},setSettings:function(t){CoreUI.form._settings=$.extend({},this._settings,t)},getSetting:function(t){let e=null;return e=CoreUI.form._settings.hasOwnProperty(t)?CoreUI.form._settings[t]:e}};;
!function(){"use strict";!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ejs=e()}(function(){return function r(i,o,s){function c(t,e){if(!o[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(a)return a(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}n=o[t]={exports:{}},i[t][0].call(n.exports,function(e){return c(i[t][1][e]||e)},n,n.exports,r,i,o,s)}return o[t].exports}for(var a="function"==typeof require&&require,e=0;e<s.length;e++)c(s[e]);return c}({1:[function(e,t,a){var o=e("fs"),u=e("path"),p=e("./utils"),n=!1,e=e("../package.json").version,r="locals",i=["delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace","strict","filename","async"],l=i.concat("cache"),s=/^\uFEFF/,f=/^[a-zA-Z_$][0-9a-zA-Z_$]*$/;function c(t,e){var n;if(e.some(function(e){return n=a.resolveInclude(t,e,!0),o.existsSync(n)}))return n}function h(e,t){var n,r=e.filename,i=1<arguments.length;if(e.cache){if(!r)throw new Error("cache option requires a filename");if(n=a.cache.get(r))return n;i||(t=m(r).toString().replace(s,""))}else if(!i){if(!r)throw new Error("Internal EJS error: no file name or template provided");t=m(r).toString().replace(s,"")}return n=a.compile(t,e),e.cache&&a.cache.set(r,n),n}function m(e){return a.fileLoader(e)}function d(e,t){var n=p.shallowCopy(p.createNullProtoObjWherePossible(),t);if(n.filename=function(e,t){var n,r=t.views,i=/^[A-Za-z]+:\\|^\//.exec(e);if(i&&i.length)e=e.replace(/^\/*/,""),n=Array.isArray(t.root)?c(e,t.root):a.resolveInclude(e,t.root||"/",!0);else if(!(n=!(n=t.filename&&(i=a.resolveInclude(e,t.filename),o.existsSync(i))?i:n)&&Array.isArray(r)?c(e,r):n)&&"function"!=typeof t.includer)throw new Error('Could not find the include file "'+t.escapeFunction(e)+'"');return n}(e,n),"function"==typeof t.includer){t=t.includer(e,n.filename);if(t&&(t.filename&&(n.filename=t.filename),t.template))return h(n,t.template)}return h(n)}function g(e,t,n,r,i){var t=t.split("\n"),o=Math.max(r-3,0),s=Math.min(t.length,r+3),i=i(n),n=t.slice(o,s).map(function(e,t){t=t+o+1;return(t==r?" >> ":"    ")+t+"| "+e}).join("\n");throw e.path=i,e.message=(i||"ejs")+":"+r+"\n"+n+"\n\n"+e.message,e}function y(e){return e.replace(/;(\s*$)/,"$1")}function w(e,t){t=t||p.createNullProtoObjWherePossible();var n=p.createNullProtoObjWherePossible();this.templateText=e,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",n.client=t.client||!1,n.escapeFunction=t.escape||t.escapeFunction||p.escapeXML,n.compileDebug=!1!==t.compileDebug,n.debug=!!t.debug,n.filename=t.filename,n.openDelimiter=t.openDelimiter||a.openDelimiter||"<",n.closeDelimiter=t.closeDelimiter||a.closeDelimiter||">",n.delimiter=t.delimiter||a.delimiter||"%",n.strict=t.strict||!1,n.context=t.context,n.cache=t.cache||!1,n.rmWhitespace=t.rmWhitespace,n.root=t.root,n.includer=t.includer,n.outputFunctionName=t.outputFunctionName,n.localsName=t.localsName||a.localsName||r,n.views=t.views,n.async=t.async,n.destructuredLocals=t.destructuredLocals,n.legacyInclude=void 0===t.legacyInclude||!!t.legacyInclude,n.strict?n._with=!1:n._with=void 0===t._with||t._with,this.opts=n,this.regex=this.createRegex()}a.cache=p.cache,a.fileLoader=o.readFileSync,a.localsName=r,a.promiseImpl=new Function("return this;")().Promise,a.resolveInclude=function(e,t,n){var r=u.dirname,i=u.extname,n=(0,u.resolve)(n?t:r(t),e);return i(e)||(n+=".ejs"),n},a.compile=function(e,t){return t&&t.scope&&(n||(console.warn("`scope` option is deprecated and will be removed in EJS 3"),n=!0),t.context||(t.context=t.scope),delete t.scope),new w(e,t).compile()},a.render=function(e,t,n){t=t||p.createNullProtoObjWherePossible(),n=n||p.createNullProtoObjWherePossible();return 2==arguments.length&&p.shallowCopyFromList(n,t,i),h(n,e)(t)},a.renderFile=function(){var e,t,n,r=Array.prototype.slice.call(arguments),i=r.shift(),o={filename:i},s=("function"==typeof arguments[arguments.length-1]&&(e=r.pop()),r.length?(t=r.shift(),r.length?p.shallowCopy(o,r.pop()):(t.settings&&(t.settings.views&&(o.views=t.settings.views),t.settings["view cache"]&&(o.cache=!0),r=t.settings["view options"])&&p.shallowCopy(o,r),p.shallowCopyFromList(o,t,l)),o.filename=i):t=p.createNullProtoObjWherePossible(),o),c=t,r=e;if(!r){if("function"==typeof a.promiseImpl)return new a.promiseImpl(function(e,t){try{e(n=h(s)(c))}catch(e){t(e)}});throw new Error("Please provide a callback function")}try{n=h(s)(c)}catch(e){return r(e)}r(null,n)},a.Template=w,a.clearCache=function(){a.cache.reset()},w.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"},w.prototype={createRegex:function(){var e="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",t=p.escapeRegExpChars(this.opts.delimiter),n=p.escapeRegExpChars(this.opts.openDelimiter),r=p.escapeRegExpChars(this.opts.closeDelimiter),e=e.replace(/%/g,t).replace(/</g,n).replace(/>/g,r);return new RegExp(e)},compile:function(){var e,i=this.opts,t="",n="",o=i.escapeFunction,r=i.filename?JSON.stringify(i.filename):"undefined";if(!this.source){if(this.generateSource(),t+='  var __output = "";\n  function __append(s) { if (s !== undefined && s !== null) __output += s }\n',i.outputFunctionName){if(!f.test(i.outputFunctionName))throw new Error("outputFunctionName is not a valid JS identifier.");t+="  var "+i.outputFunctionName+" = __append;\n"}if(i.localsName&&!f.test(i.localsName))throw new Error("localsName is not a valid JS identifier.");if(i.destructuredLocals&&i.destructuredLocals.length){for(var s="  var __locals = ("+i.localsName+" || {}),\n",c=0;c<i.destructuredLocals.length;c++){var a=i.destructuredLocals[c];if(!f.test(a))throw new Error("destructuredLocals["+c+"] is not a valid JS identifier.");0<c&&(s+=",\n  "),s+=a+" = __locals."+a}t+=s+";\n"}!1!==i._with&&(t+="  with ("+i.localsName+" || {}) {\n",n+="  }\n"),this.source=t+this.source+(n+="  return __output;\n")}t=i.compileDebug?"var __line = 1\n  , __lines = "+JSON.stringify(this.templateText)+"\n  , __filename = "+r+";\ntry {\n"+this.source+"} catch (e) {\n  rethrow(e, __lines, __filename, __line, escapeFn);\n}\n":this.source,i.client&&(t="escapeFn = escapeFn || "+o.toString()+";\n"+t,i.compileDebug)&&(t="rethrow = rethrow || "+g.toString()+";\n"+t),i.strict&&(t='"use strict";\n'+t),i.debug&&console.log(t),i.compileDebug&&i.filename&&(t=t+"\n//# sourceURL="+r+"\n");try{if(i.async)try{l=new Function("return (async function(){}).constructor;")()}catch(e){throw e instanceof SyntaxError?new Error("This environment does not support async/await"):e}else l=Function;e=new l(i.localsName+", escapeFn, include, rethrow",t)}catch(e){throw e instanceof SyntaxError&&(i.filename&&(e.message+=" in "+i.filename),e.message+=" while compiling ejs\n\n",e.message+="If the above error is not helpful, you may want to try EJS-Lint:\n",e.message+="https://github.com/RyanZim/EJS-Lint",i.async||(e.message+="\n",e.message+="Or, if you meant to create an async function, pass `async: true` as an option.")),e}n=i.client?e:function(r){return e.apply(i.context,[r||p.createNullProtoObjWherePossible(),o,function(e,t){var n=p.shallowCopy(p.createNullProtoObjWherePossible(),r);return t&&(n=p.shallowCopy(n,t)),d(e,i)(n)},g])};if(i.filename&&"function"==typeof Object.defineProperty){var r=i.filename,l=u.basename(r,u.extname(r));try{Object.defineProperty(n,"name",{value:l,writable:!1,enumerable:!1,configurable:!0})}catch(e){}}return n},generateSource:function(){this.opts.rmWhitespace&&(this.templateText=this.templateText.replace(/[\r\n]+/g,"\n").replace(/^\s+|\s+$/gm,"")),this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var n=this,r=this.parseTemplateText(),i=this.opts.delimiter,o=this.opts.openDelimiter,s=this.opts.closeDelimiter;r&&r.length&&r.forEach(function(e,t){if(0===e.indexOf(o+i)&&0!==e.indexOf(o+i+i)&&(t=r[t+2])!=i+s&&t!="-"+i+s&&t!="_"+i+s)throw new Error('Could not find matching close tag for "'+e+'".');n.scanLine(e)})},parseTemplateText:function(){for(var e,t=this.templateText,n=this.regex,r=n.exec(t),i=[];r;)0!==(e=r.index)&&(i.push(t.substring(0,e)),t=t.slice(e)),i.push(r[0]),t=t.slice(r[0].length),r=n.exec(t);return t&&i.push(t),i},_addOutput:function(e){if(this.truncate&&(e=e.replace(/^(?:\r\n|\r|\n)/,""),this.truncate=!1),!e)return e;e=(e=(e=(e=e.replace(/\\/g,"\\\\")).replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/"/g,'\\"'),this.source+='    ; __append("'+e+'")\n'},scanLine:function(e){var t=this.opts.delimiter,n=this.opts.openDelimiter,r=this.opts.closeDelimiter,i=e.split("\n").length-1;switch(e){case n+t:case n+t+"_":this.mode=w.modes.EVAL;break;case n+t+"=":this.mode=w.modes.ESCAPED;break;case n+t+"-":this.mode=w.modes.RAW;break;case n+t+"#":this.mode=w.modes.COMMENT;break;case n+t+t:this.mode=w.modes.LITERAL,this.source+='    ; __append("'+e.replace(n+t+t,n+t)+'")\n';break;case t+t+r:this.mode=w.modes.LITERAL,this.source+='    ; __append("'+e.replace(t+t+r,t+r)+'")\n';break;case t+r:case"-"+t+r:case"_"+t+r:this.mode==w.modes.LITERAL&&this._addOutput(e),this.mode=null,this.truncate=0===e.indexOf("-")||0===e.indexOf("_");break;default:if(this.mode){switch(this.mode){case w.modes.EVAL:case w.modes.ESCAPED:case w.modes.RAW:e.lastIndexOf("//")>e.lastIndexOf("\n")&&(e+="\n")}switch(this.mode){case w.modes.EVAL:this.source+="    ; "+e+"\n";break;case w.modes.ESCAPED:this.source+="    ; __append(escapeFn("+y(e)+"))\n";break;case w.modes.RAW:this.source+="    ; __append("+y(e)+")\n";break;case w.modes.COMMENT:break;case w.modes.LITERAL:this._addOutput(e)}}else this._addOutput(e)}this.opts.compileDebug&&i&&(this.currentLine+=i,this.source+="    ; __line = "+this.currentLine+"\n")}},a.escapeXML=p.escapeXML,a.__express=a.renderFile,a.VERSION=e,a.name="ejs","undefined"!=typeof window&&(window.ejs=a)},{"../package.json":6,"./utils":2,fs:3,path:4}],2:[function(e,t,n){function o(e,t){return i.apply(e,[t])}var r=/[|\\{}()[\]^$+*?.]/g,i=Object.prototype.hasOwnProperty,s=(n.escapeRegExpChars=function(e){return e?String(e).replace(r,"\\$&"):""},{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"}),c=/[&<>'"]/g;function a(e){return s[e]||e}function l(){return Function.prototype.toString.call(this)+';\nvar _ENCODE_HTML_RULES = {\n      "&": "&amp;"\n    , "<": "&lt;"\n    , ">": "&gt;"\n    , \'"\': "&#34;"\n    , "\'": "&#39;"\n    }\n  , _MATCH_HTML = /[&<>\'"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n'}n.escapeXML=function(e){return null==e?"":String(e).replace(c,a)};try{"function"==typeof Object.defineProperty?Object.defineProperty(n.escapeXML,"toString",{value:l}):n.escapeXML.toString=l}catch(e){console.warn("Unable to set escapeXML.toString (is the Function prototype frozen?)")}n.shallowCopy=function(e,t){if(t=t||{},null!=e)for(var n in t)o(t,n)&&"__proto__"!==n&&"constructor"!==n&&(e[n]=t[n]);return e},n.shallowCopyFromList=function(e,t,n){if(n=n||[],t=t||{},null!=e)for(var r=0;r<n.length;r++){var i=n[r];void 0!==t[i]&&o(t,i)&&"__proto__"!==i&&"constructor"!==i&&(e[i]=t[i])}return e},n.cache={_data:{},set:function(e,t){this._data[e]=t},get:function(e){return this._data[e]},remove:function(e){delete this._data[e]},reset:function(){this._data={}}},n.hyphenToCamel=function(e){return e.replace(/-[a-z]/g,function(e){return e[1].toUpperCase()})},n.createNullProtoObjWherePossible="function"==typeof Object.create?function(){return Object.create(null)}:{__proto__:null}instanceof Object?function(){return{}}:function(){return{__proto__:null}}},{}],3:[function(e,t,n){},{}],4:[function(e,t,l){!function(i){function o(e,t){for(var n=0,r=e.length-1;0<=r;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;)e.unshift("..");return e}function s(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}l.resolve=function(){for(var e="",t=!1,n=arguments.length-1;-1<=n&&!t;n--){var r=0<=n?arguments[n]:i.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(e=r+"/"+e,t="/"===r.charAt(0))}return(t?"/":"")+(e=o(s(e.split("/"),function(e){return!!e}),!t).join("/"))||"."},l.normalize=function(e){var t=l.isAbsolute(e),n="/"===r(e,-1);return(e=(e=o(s(e.split("/"),function(e){return!!e}),!t).join("/"))||t?e:".")&&n&&(e+="/"),(t?"/":"")+e},l.isAbsolute=function(e){return"/"===e.charAt(0)},l.join=function(){var e=Array.prototype.slice.call(arguments,0);return l.normalize(s(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},l.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;0<=n&&""===e[n];n--);return n<t?[]:e.slice(t,n-t+1)}e=l.resolve(e).substr(1),t=l.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),o=Math.min(r.length,i.length),s=o,c=0;c<o;c++)if(r[c]!==i[c]){s=c;break}for(var a=[],c=s;c<r.length;c++)a.push("..");return(a=a.concat(i.slice(s))).join("/")},l.sep="/",l.delimiter=":",l.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=47===e.charCodeAt(0),n=-1,r=!0,i=e.length-1;1<=i;--i)if(47===e.charCodeAt(i)){if(!r){n=i;break}}else r=!1;return-1===n?t?"/":".":t&&1===n?"/":e.slice(0,n)},l.basename=function(e,t){e=function(e){"string"!=typeof e&&(e+="");for(var t=0,n=-1,r=!0,i=e.length-1;0<=i;--i)if(47===e.charCodeAt(i)){if(!r){t=i+1;break}}else-1===n&&(r=!1,n=i+1);return-1===n?"":e.slice(t,n)}(e);return e=t&&e.substr(-1*t.length)===t?e.substr(0,e.length-t.length):e},l.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,s=e.length-1;0<=s;--s){var c=e.charCodeAt(s);if(47===c){if(i)continue;n=s+1;break}-1===r&&(i=!1,r=s+1),46===c?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1)}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var r="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}.call(this,e("_process"))},{_process:5}],5:[function(e,t,n){var r,i,t=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}function c(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return(r=setTimeout)(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}var a,l=[],u=!1,p=-1;function f(){u&&a&&(u=!1,a.length?l=a.concat(l):p=-1,l.length)&&h()}function h(){if(!u){for(var e=c(f),t=(u=!0,l.length);t;){for(a=l,l=[];++p<t;)a&&a[p].run();p=-1,t=l.length}a=null,u=!1,!function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return(i=clearTimeout)(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function d(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new m(e,t)),1!==l.length||u||c(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=d,t.addListener=d,t.once=d,t.off=d,t.removeListener=d,t.removeAllListeners=d,t.emit=d,t.prependListener=d,t.prependOnceListener=d,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],6:[function(e,t,n){t.exports={name:"ejs",description:"Embedded JavaScript templates",keywords:["template","engine","ejs"],version:"3.1.8",author:"Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)",license:"Apache-2.0",bin:{ejs:"./bin/cli.js"},main:"./lib/ejs.js",jsdelivr:"ejs.min.js",unpkg:"ejs.min.js",repository:{type:"git",url:"git://github.com/mde/ejs.git"},bugs:"https://github.com/mde/ejs/issues",homepage:"https://github.com/mde/ejs",dependencies:{jake:"^10.8.5"},devDependencies:{browserify:"^16.5.1",eslint:"^6.8.0","git-directory-deploy":"^1.5.1",jsdoc:"^4.0.2","lru-cache":"^4.0.1",mocha:"^10.2.0","uglify-js":"^3.3.16"},engines:{node:">=0.10.0"},scripts:{test:"mocha -u tdd"}}},{}]},{},[1])(1)}),CoreUI.form.ejs=ejs}();;
!function(){var t,a,e,s={scope:{},findInternal:function(t,a,e){for(var n=(t=t instanceof String?String(t):t).length,r=0;r<n;r++){var s=t[r];if(a.call(e,s,r,t))return{i:r,v:s}}return{i:-1,v:void 0}},ASSUME_ES5:!1,ASSUME_NO_NATIVE_MAP:!1,ASSUME_NO_NATIVE_SET:!1,SIMPLE_FROUND_POLYFILL:!1};s.defineProperty=s.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(t,a,e){t!=Array.prototype&&t!=Object.prototype&&(t[a]=e.value)},s.getGlobal=function(t){return("undefined"==typeof window||window!==t)&&"undefined"!=typeof global&&null!=global?global:t},s.global=s.getGlobal(this),s.polyfill=function(t,a,e,n){if(a){for(e=s.global,t=t.split("."),n=0;n<t.length-1;n++){var r=t[n];r in e||(e[r]={}),e=e[r]}(a=a(n=e[t=t[t.length-1]]))!=n&&null!=a&&s.defineProperty(e,t,{configurable:!0,writable:!0,value:a})}},s.polyfill("Array.prototype.find",function(t){return t||function(t,a){return s.findInternal(this,t,a).v}},"es6","es3"),t=function(o){function i(c,m,M){var n,y={invalid:[],getCaret:function(){try{var t,a=0,e=c.get(0),n=document.selection,r=e.selectionStart;return n&&-1===navigator.appVersion.indexOf("MSIE 10")?((t=n.createRange()).moveStart("character",-y.val().length),a=t.text.length):!r&&"0"!==r||(a=r),a}catch(t){}},setCaret:function(t){try{var a,e;c.is(":focus")&&((a=c.get(0)).setSelectionRange?a.setSelectionRange(t,t):((e=a.createTextRange()).collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select()))}catch(t){}},events:function(){c.on("keydown.mask",function(t){c.data("mask-keycode",t.keyCode||t.which),c.data("mask-previus-value",c.val()),c.data("mask-previus-caret-pos",y.getCaret()),y.maskDigitPosMapOld=y.maskDigitPosMap}).on(o.jMaskGlobals.useInput?"input.mask":"keyup.mask",y.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){c.keydown().keyup()},100)}).on("change.mask",function(){c.data("changed",!0)}).on("blur.mask",function(){s===y.val()||c.data("changed")||c.trigger("change"),c.data("changed",!1)}).on("blur.mask",function(){s=y.val()}).on("focus.mask",function(t){!0===M.selectOnFocus&&o(t.target).select()}).on("focusout.mask",function(){M.clearIfNotMatch&&!n.test(y.val())&&y.val("")})},getRegexMask:function(){for(var t,a,e,n,r=[],s=0;s<m.length;s++)(t=b.translation[m.charAt(s)])?(a=t.pattern.toString().replace(/.{1}$|^.{1}/g,""),e=t.optional,(t=t.recursive)?(r.push(m.charAt(s)),n={digit:m.charAt(s),pattern:a}):r.push(e||t?a+"?":a)):r.push(m.charAt(s).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return r=r.join(""),n&&(r=r.replace(new RegExp("("+n.digit+"(.*"+n.digit+")?)"),"($1)?").replace(new RegExp(n.digit,"g"),n.pattern)),new RegExp(r)},destroyEvents:function(){c.off("input keydown keyup paste drop blur focusout ".split(" ").join(".mask "))},val:function(t){var a=c.is("input")?"val":"text";return a=0<arguments.length?(c[a]()!==t&&c[a](t),c):c[a]()},calculateCaretPosition:function(t){var a=y.getMasked(),e=y.getCaret();if(t!==a){for(var n=c.data("mask-previus-caret-pos")||0,a=a.length,r=t.length,s=t=0,o=0,i=0,l=e;l<a&&y.maskDigitPosMap[l];l++)s++;for(l=e-1;0<=l&&y.maskDigitPosMap[l];l--)t++;for(l=e-1;0<=l;l--)y.maskDigitPosMap[l]&&o++;for(l=n-1;0<=l;l--)y.maskDigitPosMapOld[l]&&i++;r<e?e=10*a:e<=n&&n!==r?y.maskDigitPosMapOld[e]||(n=e,y.maskDigitPosMap[e=e-(i-o)-t]&&(e=n)):n<e&&(e=e+(o-i)+s)}return e},behaviour:function(t){t=t||window.event,y.invalid=[];var a,e,n=c.data("mask-keycode");if(-1===o.inArray(n,b.byPassKeys))return n=y.getMasked(),a=y.getCaret(),e=c.data("mask-previus-value")||"",setTimeout(function(){y.setCaret(y.calculateCaretPosition(e))},o.jMaskGlobals.keyStrokeCompensation),y.val(n),y.setCaret(a),y.callbacks(t)},getMasked:function(t,a){var e,n,r,s=[],o=void 0===a?y.val():a+"",i=0,l=m.length,c=0,u=o.length,f=1,p="push",d=-1,k=0;for(a=[],n=M.reverse?(p="unshift",f=-1,e=0,i=l-1,c=u-1,function(){return-1<i&&-1<c}):(e=l-1,function(){return i<l&&c<u});n();){var h=m.charAt(i),v=o.charAt(c),g=b.translation[h];g?(v.match(g.pattern)?(s[p](v),g.recursive&&(-1===d?d=i:i===e&&i!==d&&(i=d-f),e===d)&&(i-=f),i+=f):v===r?(k--,r=void 0):g.optional?(i+=f,c-=f):g.fallback?(s[p](g.fallback),i+=f,c-=f):y.invalid.push({p:c,v:v,e:g.pattern}),c+=f):(t||s[p](h),v===h?(a.push(c),c+=f):(r=h,a.push(c+k),k++),i+=f)}return t=m.charAt(e),l!==u+1||b.translation[t]||s.push(t),s=s.join(""),y.mapMaskdigitPositions(s,a,u),s},mapMaskdigitPositions:function(t,a,e){for(t=M.reverse?t.length-e:0,y.maskDigitPosMap={},e=0;e<a.length;e++)y.maskDigitPosMap[a[e]+t]=1},callbacks:function(t){function a(t,a,e){"function"==typeof M[t]&&a&&M[t].apply(this,e)}var e=y.val(),n=e!==s,r=[e,t,c,M];a("onChange",!0==n,r),a("onKeyPress",!0==n,r),a("onComplete",e.length===m.length,r),a("onInvalid",0<y.invalid.length,[e,t,c,y.invalid,M])}},b=(c=o(c),this),s=y.val();m="function"==typeof m?m(y.val(),void 0,c,M):m,b.mask=m,b.options=M,b.remove=function(){var t=y.getCaret();return b.options.placeholder&&c.removeAttr("placeholder"),c.data("mask-maxlength")&&c.removeAttr("maxlength"),y.destroyEvents(),y.val(b.getCleanVal()),y.setCaret(t),c},b.getCleanVal=function(){return y.getMasked(!0)},b.getMaskedVal=function(t){return y.getMasked(!1,t)},b.init=function(t){if(t=t||!1,M=M||{},b.clearIfNotMatch=o.jMaskGlobals.clearIfNotMatch,b.byPassKeys=o.jMaskGlobals.byPassKeys,b.translation=o.extend({},o.jMaskGlobals.translation,M.translation),b=o.extend(!0,{},b,M),n=y.getRegexMask(),t)y.events(),y.val(y.getMasked());else{M.placeholder&&c.attr("placeholder",M.placeholder),c.data("mask")&&c.attr("autocomplete","off");for(var a=!(t=0);t<m.length;t++){var e=b.translation[m.charAt(t)];if(e&&e.recursive){a=!1;break}}a&&c.attr("maxlength",m.length).data("mask-maxlength",!0),y.destroyEvents(),y.events(),t=y.getCaret(),y.val(y.getMasked()),y.setCaret(t)}},b.init(!c.is("input"))}function a(){var t=o(this),a={},e=t.attr("data-mask");if(t.attr("data-mask-reverse")&&(a.reverse=!0),t.attr("data-mask-clearifnotmatch")&&(a.clearIfNotMatch=!0),"true"===t.attr("data-mask-selectonfocus")&&(a.selectOnFocus=!0),l(t,e,a))return t.data("mask",new i(this,e,a))}function l(t,a,e){e=e||{};var n=o(t).data("mask"),r=JSON.stringify;t=o(t).val()||o(t).text();try{return"function"==typeof a&&(a=a(t)),"object"!=typeof n||r(n.options)!==r(e)||n.mask!==a}catch(t){}}o.maskWatchers={};var t=function(t){var a=document.createElement("div"),e=(t="on"+t)in a;return e||(a.setAttribute(t,"return;"),e="function"==typeof a[t]),e};o.fn.mask=function(t,a){a=a||{};function e(){if(l(this,t,a))return o(this).data("mask",new i(this,t,a))}var n=this.selector,r=(s=o.jMaskGlobals).watchInterval,s=a.watchInputs||s.watchInputs;return o(this).each(e),n&&""!==n&&s&&(clearInterval(o.maskWatchers[n]),o.maskWatchers[n]=setInterval(function(){o(document).find(n).each(e)},r)),this},o.fn.masked=function(t){return this.data("mask").getMaskedVal(t)},o.fn.unmask=function(){return clearInterval(o.maskWatchers[this.selector]),delete o.maskWatchers[this.selector],this.each(function(){var t=o(this).data("mask");t&&t.remove().removeData("mask")})},o.fn.cleanVal=function(){return this.data("mask").getCleanVal()},o.applyDataMask=function(t){((t=t||o.jMaskGlobals.maskElements)instanceof o?t:o(t)).filter(o.jMaskGlobals.dataMaskAttr).each(a)},t={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&t("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}},o.jMaskGlobals=o.jMaskGlobals||{},(t=o.jMaskGlobals=o.extend(!0,{},t,o.jMaskGlobals)).dataMask&&o.applyDataMask(),setInterval(function(){o.jMaskGlobals.watchDataMask&&o.applyDataMask()},t.watchInterval)},a=window.jQuery,e=window.Zepto,"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports&&"undefined"==typeof Meteor?module.exports=t(require("jquery")):t(a||e)}();;
CoreUI.form.utils={getFieldValue:function(t,e){t=t.getRecord();return e&&t&&"string"==typeof e.name&&"object"==typeof t&&t.hasOwnProperty(e.name)&&0<=["string","number","object"].indexOf(typeof t[e.name])?t[e.name]:""},getFunctionByName:function(t,e){var n=t.split("."),t=n.pop();e=e||window;for(let t=0;t<n.length;t++){if(!e.hasOwnProperty(n[t]))return null;e=e[n[t]]}return"function"==typeof e[t]?e[t]:null},mergeFieldOptions:function(t,e,n){let r=$.extend(!0,{},e);return n&&(r.hasOwnProperty("attr")&&"object"==typeof r.attr&&n.hasOwnProperty("attr")&&"object"==typeof n.attr&&(n.attr=this.mergeAttr(r.attr,n.attr)),r=$.extend(!0,{},r,n)),r.hasOwnProperty("width")&&(r.width?(e="number"==typeof r.width?"px":"",r.width=r.width+e):t._options.fieldWidth&&"color"!==r.type&&(n="number"==typeof t._options.fieldWidth?"px":"",r.width=t._options.fieldWidth+n)),r.hasOwnProperty("labelWidth")&&(0<=r.labelWidth&&null!==r.labelWidth?(e="number"==typeof r.labelWidth?"px":"",r.labelWidth=r.labelWidth+e):t._options.labelWidth&&(n="number"==typeof t._options.labelWidth?"px":"",r.labelWidth=t._options.labelWidth+n)),r},mergeAttr:function(t,e){let n=Object.assign({},t);return"object"==typeof e&&$.each(e,function(t,e){n.hasOwnProperty(t)?"class"===t?n[t]+=" "+e:"style"===t?n[t]+=";"+e:n[t]=e:n[t]=e}),n},getAttacheFields:function(n,r){let o=[];return"object"==typeof r&&"object"==typeof r.fields&&Array.isArray(r.fields)&&$.each(r.fields,function(t,e){e=n.initField(e);"object"==typeof e&&o.push({hash:e._hash,direction:r.hasOwnProperty("fieldsDirection")?r.fieldsDirection:"row",content:e.renderContent()})}),o},formatDate:function(t){var e,n,r;return t&&10===t.length&&(e=(n=new Date(t)).getFullYear(),r=n.getMonth()+1,t=(n=(n=n.getDate())<10?"0"+n:n)+"."+(r=r<10?"0"+r:r)+"."+e),t},formatDateTime:function(t){var e,n,r,o;return t&&10<=t.length&&(n=(e=new Date(t)).getFullYear(),o=e.getMonth()+1,t=(r=(r=e.getDate())<10?"0"+r:r)+"."+(o=o<10?"0"+o:o)+"."+n+" "+("00"+e.getHours()).slice(-2)+":"+("00"+e.getMinutes()).slice(-2)+":"+("00"+e.getSeconds()).slice(-2)),t},formatDateMonth:function(t,e){var n,r;return t&&7===t.length&&(n=(r=new Date(t)).getFullYear(),r=r.getMonth(),t=(e.date_months.hasOwnProperty(r)?e.date_months[r]:"")+" "+n),t},formatDateWeek:function(t,e){var n,r;return t&&7<=t.length&&(n=t.substring(0,4),r=t.substring(6),t=n+" "+e.date_week+" "+r),t},isNumeric:function(t){return("number"==typeof t||"string"==typeof t&&""!==t.trim())&&!isNaN(t)},hashCode:function(){return this.crc32(((new Date).getTime()+Math.random()).toString()).toString(16)},crc32:function(t){for(var e=[],n=0;n<256;n++){for(var r=n,o=0;o<8;o++)r=1&r?3988292384^r>>>1:r>>>1;e[n]=r}for(var i=-1,a=0;a<t.length;a++)i=i>>>8^e[255&(i^t.charCodeAt(a))];return(-1^i)>>>0},round:function(t,e){var n;return 0===(e=void 0!==e?parseInt(e):0)?Math.round(t):0<e?(n=Math.pow(10,e),Math.round(t*n)/n):(n=Math.pow(10,e),Math.round(t/n)*n)}};;
CoreUI.form.instance={_options:{id:null,title:"",lang:"en",save:{url:"",method:"POST"},width:null,minWidth:null,maxWidth:null,labelWidth:200,controlsOffset:null,readonly:!1,validate:!1,errorClass:"",layout:"[column_default]",onSubmit:null,record:{},fields:[],controls:[]},_lock:!1,_fieldsIndex:0,_groupsIndex:0,_controlsIndex:0,_groups:[],_fields:[],_controls:[],_events:{},_init:function(t){this._options.labelWidth=CoreUI.form.getSetting("labelWidth"),this._options.lang=CoreUI.form.getSetting("lang"),this._options.errorClass=CoreUI.form.getSetting("errorClass"),this._options=$.extend(!0,{},this._options,t),this._options.id||(this._options.id=CoreUI.form.utils.hashCode()),this._options.hasOwnProperty("labelWidth")&&0<=this._options.labelWidth&&null!==this._options.labelWidth&&(t="number"==typeof this._options.labelWidth?"px":"",this._options.labelWidth=this._options.labelWidth+t),this._options.hasOwnProperty("controlsOffset")&&null!==this._options.controlsOffset?0<=this._options.controlsOffset&&(t="number"==typeof this._options.controlsOffset?"px":"",this._options.controlsOffset=this._options.controlsOffset+t):this._options.controlsOffset=this._options.labelWidth},initEvents:function(){let t=this;var o="#coreui-form-"+this._options.id+" > form";$(o).on("submit",function(){return t.send(),!1}),this._trigger("shown.coreui.form")},getId:function(){return this._options.hasOwnProperty("id")?this._options.id:null},render:function(t){let r=this;var o=[];let n=this._options.layout,e=[];var i=[];if(this._options.width&&(l="number"==typeof this._options.width?"px":"",o.push("width:"+this._options.width+l)),this._options.minWidth&&(l="number"==typeof this._options.minWidth?"px":"",o.push("min-width:"+this._options.minWidth+l)),this._options.maxWidth&&(l="number"==typeof this._options.maxWidth?"px":"",o.push("max-width:"+this._options.maxWidth+l)),"object"==typeof this._options.fields&&Array.isArray(this._options.fields)&&0<this._options.fields.length&&n&&"string"==typeof n){var l=Array.from(n.matchAll(/\[column_([\w_\d]+)\]/g));let i=[],s={};0<l.length&&$.each(l,function(t,o){i.push(o[1])}),0<i.length&&$.each(this._options.fields,function(t,o){var n=!o.hasOwnProperty("column")||"string"!=typeof o.column&&"number"!=typeof o.column?"default":0<=i.indexOf(o.column)?o.column:null;if("string"==typeof n){var e=o.hasOwnProperty("type")&&"string"==typeof o.type?o.type:"";let t=null;(t="group"===e?r.initGroup(o):r.initField(o))&&"object"==typeof t&&(s.hasOwnProperty(n)||(s[n]=[]),s[n].push(t.render()))}}),0<=Object.keys(s).length&&$.each(s,function(t,o){n=n.replace("[column_"+t+"]",o.join(""))})}"object"==typeof this._options.controls&&Array.isArray(this._options.controls)&&0<this._options.controls.length&&$.each(this._options.controls,function(t,o){var n=r.initControl(o);n&&"object"==typeof n&&e.push({show:!o.hasOwnProperty("show")||o.show,index:r._controlsIndex-1,content:n.render()})}),"boolean"==typeof this._options.validate&&this._options.validate&&i.push("novalidate");l=CoreUI.form.ejs.render(CoreUI.form.tpl["form.html"],{form:this._options,formAttr:i?" "+i.join(" "):"",widthSizes:o,layout:n,controls:e});if(void 0===t)return l;let s={};if("string"==typeof t){if(!(s=document.getElementById(t)))return""}else t instanceof HTMLElement&&(s=t);s.innerHTML=l,this.initEvents()},lock:function(){this._lock=!0,$.each(this._controls,function(t,o){var n=o.getOptions();n.hasOwnProperty("type")&&"submit"===n.type&&o.lock()})},unlock:function(){this._lock=!1,$.each(this._controls,function(t,o){var n=o.getOptions();n.hasOwnProperty("type")&&"submit"===n.type&&o.unlock()})},send:function(){if(!this._lock){if("boolean"==typeof this._options.validate&&this._options.validate){let isValid=this.validate();if(!isValid)return}let onsubmit=null,data=this.getData();if("function"==typeof this._options.onSubmit)onsubmit=this._options.onSubmit;else if("string"==typeof this._options.onSubmit){let func=CoreUI.form.utils.getFunctionByName(this._options.onSubmit);"function"==typeof func?onsubmit=func:"string"==typeof func&&eval(func)}if("function"==typeof onsubmit){let onSubmitResult=onsubmit(this,data);if(!1===onSubmitResult)return}let results=this._trigger("send.coreui.form",this,[this,data]),isStopSend=!1;if($.each(results,function(t,o){if(!1===o)return!(isStopSend=!0)}),!isStopSend){this.lock();let that=this;$.ajax({url:this._options.save.url,method:this._options.save.method,data:data,beforeSend:function(t){that._trigger("start-send.coreui.form",that,[that,t])},success:function(t){that.hideError(),that._trigger("success-send.coreui.form",that,[that,t])},error:function(t,o,n){let e=that.getLang().send_error||"",i={};try{var s=JSON.parse(t.responseText);"object"!=typeof s||null===s||Array.isArray(s)||(i=s)}catch(t){}i.hasOwnProperty("error_message")&&"string"==typeof i.error_message&&""!==i.error_message&&(e=i.error_message),that.showError(e),that._trigger("error-send.coreui.form",that,[that,t,o,n])},complete:function(t,o){that.unlock(),that._trigger("end-send.coreui.form",that,[that,t,o])}})}}},getOptions:function(){return this._options},getRecord:function(){return this._options.hasOwnProperty("record")&&"object"==typeof this._options.record?this._options.record:{}},getData:function(){let e={};return $.each(this._fields,function(t,o){var n=o.getOptions();n.hasOwnProperty("name")&&n.name&&(e[n.name]=o.getValue())}),e},getFields:function(){return this._fields},getControls:function(){return this._controls},getGroups:function(){return this._groups},getField:function(e){let i={};return $.each(this._fields,function(t,o){var n=o.getOptions();n.hasOwnProperty("name")&&n.name===e&&(i=o)}),i},readonly:function(e){$.each(this._fields,function(t,o){o.readonly(e)}),$.each(this._controls,function(t,o){var n=o.getOptions();n.hasOwnProperty("type")&&"submit"===n.type&&(e?o.hide():o.show())})},showControls:function(){$.each(this._controls,function(t,o){o.show()})},hideControls:function(){$.each(this._controls,function(t,o){o.hide()})},validate:function(){let n=!0;return $.each(this._fields,function(t,o){!1===o.isValid()?(o.validate(!1),n=!1):o.validate(null)}),n},showError:function(t,o){var n=$("#coreui-form-"+this._options.id+" > form"),e=n.find("> .coreui-form__error"),e=(e[0]&&e.remove(),o="object"!=typeof o||Array.isArray(o)||null===o?{}:o,"string"==typeof this._options.errorClass&&""!==this._options.errorClass&&(o.class=o.hasOwnProperty("class")?o.class:"",o.class+=" "+this._options.errorClass),{class:o.hasOwnProperty("class")&&"string"==typeof o.class?o.class:"",dismiss:!o.hasOwnProperty("dismiss")||!!o.dismiss});n.prepend(CoreUI.form.ejs.render(CoreUI.form.tpl["form-error.html"],{message:t,options:e})),o.hasOwnProperty("scroll")&&!o.scroll||(t=CoreUI.form.getSetting("errorMessageScrollOffset"),$("html,body").animate({scrollTop:n.offset().top-t},"fast"))},hideError:function(){$("#coreui-form-"+this._options.id+" > form > .coreui-form__error").remove()},on:function(t,o,n,e){"object"!=typeof this._events[t]&&(this._events[t]=[]),this._events[t].push({context:n||this,callback:o,singleExec:!!e})},destruct:function(){$("#coreui-form-"+this._options.id).remove(),delete CoreUI.form._instances[this.getId()]},initField:function(t){if("object"!=typeof t)return null;let o=t.hasOwnProperty("type")&&"string"==typeof t.type?t.type:"input";if("group"===o)return null;CoreUI.form.fields.hasOwnProperty(o)||(o="input"),this._options.readonly&&(t.readonly=!0);var n=$.extend(!0,{render:function(){},renderContent:function(){},init:function(){},getValue:function(){},setValue:function(){},getOptions:function(){},show:function(){},hide:function(){},readonly:function(){},validate:function(){},isValid:function(){}},CoreUI.form.fields[o]);return n.init(this,t,this._fieldsIndex++),this._fields.push(n),n},initGroup:function(t){var o;return"object"!=typeof t||"group"!==(o=t.hasOwnProperty("type")&&"string"==typeof t.type?t.type:"")?null:((o=$.extend(!0,{render:function(){},init:function(){},getOptions:function(){},expand:function(){},collapse:function(){}},CoreUI.form.fields[o])).init(this,t,this._groupsIndex++),this._groups.push(o),o)},initControl:function(t){if("object"!=typeof t)return null;var o=t.hasOwnProperty("type")&&"string"==typeof t.type?t.type:null;if(!o||!CoreUI.form.controls.hasOwnProperty(o))return null;"submit"===o&&this._options.readonly&&(t.show=!1);o=$.extend(!0,{render:function(){},init:function(){},getOptions:function(){},show:function(){},hide:function(){}},CoreUI.form.controls[o]);return o.init(this,t,this._controlsIndex++),this._controls.push(o),o},getLang:function(){return CoreUI.form.lang.hasOwnProperty(this._options.lang)?CoreUI.form.lang[this._options.lang]:CoreUI.form.lang.ru},_trigger:function(t,o,n){n=n||[];var e=[];if(this._events[t]instanceof Object&&0<this._events[t].length)for(var i=0;i<this._events[t].length;i++){var s=this._events[t][i].callback;o=o||this._events[t][i].context,e.push(s.apply(o,n)),this._events[t][i].singleExec&&this._events[t].splice(i,1)}return e},_renderControl:function(t){let o="";var n=t.hasOwnProperty("type")&&"string"==typeof t.type?t.type:"text";return o=CoreUI.form.control.hasOwnProperty(n)?CoreUI.form.control[n].render(t):o}};;
window.CoreUI.form.tpl={},window.CoreUI.form.tpl["form-error.html"]='<div class="coreui-form__error alert alert-danger alert-dismissible fade show mb-3 <%= options.class %>">\n    <%- message %>\n    <% if (options.dismiss) { %>\n    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>\n    <% } %>\n</div>',window.CoreUI.form.tpl["form-field-content.html"]="<%- content %>",window.CoreUI.form.tpl["form-field-group.html"]='<div id="coreui-form-<%= id %>" class="coreui-form__group_container mb-3">\n    <div class="coreui-form__group_label pe-2">\n        <h6 class="coreui-form__field_label_text col-form-label-sm">\n            <%- group.label %>\n            <% if (group.showCollapsible) { %>\n                <button type="button" class="btn btn-sm btn-link btn-collapsible text-dark">\n                    <% if ( ! group.show) { %>\n                    <i class="bi bi-chevron-right"></i>\n                    <% } else { %>\n                    <i class="bi bi-chevron-down"></i>\n                    <% } %>\n                </button>\n            <% } %>\n        </h6>\n    </div>\n    <div class="coreui-form__group_content"<% if ( ! group.show) { %> style="display:none"<% } %>>\n        <%- content %>\n    </div>\n</div>',window.CoreUI.form.tpl["form-field-label.html"]='<div id="coreui-form-<%= id %>" class="coreui-form__field_container d-flex flex-column flex-md-row mb-3"\n     <% if ( ! field.show) { %> style="display:none"<% } %>>\n    <% if (field.labelWidth !== 0 && field.labelWidth !== \'0px\') { %>\n    <div class="coreui-form__field_label text-md-end text-sm-start pe-2"<% if (field.labelWidth) { %> style="min-width:<%= field.labelWidth %>;width:<%= field.labelWidth %>"<% } %>>\n        <div class="coreui-form__field_label_text col-form-label-sm">\n            <% if (field.required) { %>\n            <span class="coreui-form__field_label_req text-danger">*</span>\n            <% } %>\n            <span><%- field.label %></span>\n        </div>\n\n        <% if (field.description) { %>\n        <div class="coreui-form__field_label_description text-muted">\n            <small><%- field.description %></small>\n        </div>\n        <% } %>\n    </div>\n    <% } %>\n    <div class="coreui-form__field_content flex-fill pt-1">\n        <div class="d-inline-block content-<%= hash %>">\n            <%- content %>\n        </div>\n\n        <% if (field.outContent) { %>\n        <span class="coreui-form__field-content-out d-inline-block align-top pt-1 ps-1">\n            <%- field.outContent %>\n        </span>\n        <% } %>\n\n        <% if (attachFields && attachFields.length > 0) { %>\n            <% $.each(attachFields, function(key, attachField) { %>\n                <div class="<% if (attachField.hasOwnProperty(\'direction\') && attachField.direction === \'column\') { %>d-block mt-2<% } else { %>d-inline-block<% } %> content-<%= attachField.hash %>">\n                    <%- attachField.content %>\n                </div>\n            <% }); %>\n        <% } %>\n    </div>\n</div>',window.CoreUI.form.tpl["form.html"]='<div id="coreui-form-<%= form.id %>" class="coreui-form mb-2"\n    <% if (widthSizes) { %>style="<%= widthSizes.join(\';\') %>"<% } %>>\n    <% if (form.title) { %>\n    <h5 class="mb-4"><%- form.title %></h5>\n    <% } %>\n\n    <form action="<%= form.save.url %>" method="<%= form.save.method %>"<%- formAttr %>>\n        <div class="coreui-form__fields d-flex justify-content-start flex-column flex-wrap">\n            <%- layout %>\n        </div>\n\n        <% if (controls) { %>\n        <div class="coreui-form__controls d-flex justify-content-start flex-sm-wrap flex-md-nowrap">\n            <% if (form.controlsOffset !== 0 && form.controlsOffset !== \'0px\') { %>\n            <div class="d-none d-md-block" style="width:<%= form.controlsOffset %>;min-width:<%= form.controlsOffset %>"></div>\n            <% } %>\n\n            <div class="d-flex justify-content-start flex-wrap gap-2">\n                <% $.each(controls, function(key, control) { %>\n                <div id="coreui-form-<%= form.id %>-control-<%= control.index %>" class="coreui-form__control_container"\n                     <% if ( ! control.show) { %>style="display:none"<% } %>>\n                    <%- control.content %>\n                </div>\n                <% }); %>\n            </div>\n        </div>\n        <% } %>\n    </form>\n</div>',window.CoreUI.form.tpl["controls/button.html"]="<button <%- render.attr %>><%- control.content %></button>",window.CoreUI.form.tpl["controls/link.html"]='<a href="<%- control.href %>"<%- render.attr %>><%- control.content %></a>',window.CoreUI.form.tpl["fields/checkbox.html"]='<% if (field.readonly) { %>\n    <%- render.selectedItems.join(\', \') %>\n<% } else { %>\n    <% $.each(render.options, function(key, option) { %>\n    <div class="form-check<% if (field.inline) { %> form-check-inline<% } %>">\n        <input <%- option.attr %>>\n        <label class="form-check-label" for="<%= option.id %>"><%= option.text %></label>\n    </div>\n    <% }); %>\n<% } %>',window.CoreUI.form.tpl["fields/color.html"]='<% if (field.readonly) { %>\n    <div class="rounded-1" style="width: 14px;height: 14px;background-color: <%= value %>"></div>\n<% } else { %>\n    <input <%- render.attr %>>\n\n    <% if (render.datalist.length > 0) { %>\n    <datalist id="<%= datalistId %>">\n        <% $.each(render.datalist, function(key, item) { %>\n        <option <%- item.attr %>>\n        <% }); %>\n    </datalist>\n    <% } %>\n<% } %>',window.CoreUI.form.tpl["fields/custom.html"]="<%- content %>",window.CoreUI.form.tpl["fields/dataset-row-readonly.html"]='<tr class="coreui-form__field-dataset-item">\n    <% $.each(options, function(key, option) { %>\n        <td class="pe-2 pb-1">\n            <%- option.value %>\n        </td>\n    <% }); %>\n</tr>',window.CoreUI.form.tpl["fields/dataset-row.html"]='<tr class="coreui-form__field-dataset-item" id="dataset-item-<%= hashItem %>">\n    <% $.each(options, function(key, option) { %>\n        <td class="pe-1 pb-1">\n        <% if (option.type === \'select\') { %>\n            <select <%- option.attr %>>\n                <% $.each(option.items, function(key, item) { %>\n                <option <%- item.attr %>><%- item.title %></option>\n                <% }); %>\n            </select>\n        <% } else if (option.type === \'switch\') { %>\n            <div class="form-check form-switch">\n                <input <%- option.attr %>>\n            </div>\n        <% } else { %>\n            <input <%- option.attr %>>\n        <% } %>\n        </td>\n    <% }); %>\n\n    <td class="pb-1">\n        <button type="button" class="btn btn-sm btn-link btn-dataset-remove" data-item-id="dataset-item-<%= hashItem %>">\n            <i class="bi bi-x text-muted"></i>\n        </button>\n    </td>\n</tr>',window.CoreUI.form.tpl["fields/dataset.html"]='<% if (field.readonly) { %>\n    <table class="coreui-form__field-dataset-container" <% if (render.rows.length == 0) { %> style="display:none"<% } %>>\n        <thead>\n            <tr>\n                <% $.each(render.headers, function(key, item) { %>\n                <td class="text-muted pe-2"><small><%= item.title %></small></td>\n                <% }); %>\n            </tr>\n        </thead>\n        <tbody class="coreui-form__field-dataset-list">\n            <% $.each(render.rows, function(key, row) { %>\n            <%- row %>\n            <% }); %>\n        </tbody>\n    </table>\n\n<% } else { %>\n    <table class="coreui-form__field-dataset-container" <% if (render.rows.length == 0) { %> style="display:none"<% } %>>\n        <thead>\n            <tr>\n                <% $.each(render.headers, function(key, item) { %>\n                <td class="text-muted"><small><%= item.title %></small></td>\n                <% }); %>\n                <td></td>\n            </tr>\n        </thead>\n        <tbody class="coreui-form__field-dataset-list">\n            <% $.each(render.rows, function(key, row) { %>\n                <%- row %>\n            <% }); %>\n        </tbody>\n    </table>\n\n    <button type="button" class="btn btn-sm btn-link btn-dataset-add"><%= lang.dataset_add %></button>\n<% } %>',window.CoreUI.form.tpl["fields/hidden.html"]="<% if ( ! field.readonly) { %>\n    <input <%- render.attr %>>\n<% } %>",window.CoreUI.form.tpl["fields/input.html"]='<% if (field.readonly) { %>\n    <%- value %>\n<% } else { %>\n    <input <%- render.attr %>>\n\n    <% if (render.datalist.length > 0) { %>\n    <datalist id="<%= datalistId %>">\n        <% $.each(render.datalist, function(key, item) { %>\n        <option <%- item.attr %>>\n        <% }); %>\n    </datalist>\n    <% } %>\n<% } %>',window.CoreUI.form.tpl["fields/modal-loading.html"]='<div class="py-4 d-flex justify-content-center align-items-center gap-2">\n    <div class="spinner-border mr-2"></div> <%= lang.modal_loading %>\n</div>\n',window.CoreUI.form.tpl["fields/modal.html"]='<% if (field.readonly) { %>\n    <%= text %>\n<% } else { %>\n    <div class="input-group"<% if (render.width) { %> style="width:<%= render.width %>"<% } %>>\n        <input <%- render.attr %>>\n        <input type="hidden" name="<%= field.name %>" value="<%= value %>" class="coreui-form-modal-value">\n        <% if ( ! field.required) { %>\n        <button class="btn btn-sm btn-outline-secondary btn-modal-clear border-secondary-subtle" type="button">\n            <i class="bi bi-x"></i>\n        </button>\n        <% } %>\n        <button class="btn btn-sm btn-outline-secondary btn-modal-select border-secondary-subtle" type="button"><%= lang.modal_select %></button>\n    </div>\n<% } %>',window.CoreUI.form.tpl["fields/radio.html"]='<% if (field.readonly) { %>\n    <%- render.selectedItem %>\n<% } else { %>\n    <% $.each(render.options, function(key, option) { %>\n    <div class="form-check<% if (field.inline) { %> form-check-inline<% } %>">\n        <input <%- option.attr %>>\n        <label class="form-check-label" for="<%= option.id %>"><%= option.text %></label>\n    </div>\n    <% }); %>\n<% } %>',window.CoreUI.form.tpl["fields/select.html"]="<% if (field.readonly) { %>\n    <%= render.selectedOptions.join(', ') %>\n<% } else { %>\n    <select <%- render.attr %>>\n        <% $.each(render.options, function(key, option) { %>\n            <% if (option.type === 'group') { %>\n                <optgroup<%- option.attr %>>\n                <% $.each(option.options, function(key, groupOption) { %>\n                    <option <%- groupOption.attr %>><%= groupOption.text %>\n                <% }); %>\n                \n            <% } else { %>\n            <option <%- option.attr %>><%= option.text %>\n            <% } %>\n        <% }); %>\n    </select>\n<% } %>",window.CoreUI.form.tpl["fields/switch.html"]='<% if (field.readonly) { %>\n    <%= field.valueY == value ? lang.switch_yes : lang.switch_no %>\n<% } else { %>\n    <div class="form-check form-switch">\n        <input <%- render.attr %>>\n    </div>\n<% } %>',window.CoreUI.form.tpl["fields/textarea.html"]="<% if (field.readonly) { %>\n    <%- value %>\n<% } else { %>\n    <textarea <%- render.attr %>><%- value %></textarea>\n<% } %>",window.CoreUI.form.tpl["fields/wysiwyg.html"]='<% if (field.readonly) { %>\n    <%- value %>\n<% } else { %>\n    <textarea name="<%= field.name %>" id="editor-<%= editorHash %>"><%- value %></textarea>\n<% } %>';;
CoreUI.form.fields.checkbox={_id:"",_hash:"",_form:null,_index:0,_value:[],_options:{type:"checkbox",name:null,label:null,labelWidth:null,inline:!1,outContent:null,description:null,errorText:null,options:[],fields:null,required:null,readonly:null,show:!0,column:null},init:function(e,t,i){this._form=e,this._id=e.getId()+"-field-"+(t.hasOwnProperty("name")?t.name:i),this._hash=CoreUI.form.utils.hashCode(),this._value=CoreUI.form.utils.getFieldValue(e,t),this._options=CoreUI.form.utils.mergeFieldOptions(e,this._options,t)},getOptions:function(){return $.extend(!0,{},this._options)},readonly:function(e){this._value=this.getValue(),this._options.readonly=!!e,$(".content-"+this._hash).html(this.renderContent())},hide:function(e){$("#coreui-form-"+this._id).hide(e)},show:function(e){$("#coreui-form-"+this._id).show(e)},getValue:function(){if(this._options.readonly)return this._value;{let e=[];return $(".content-"+this._hash+" input[type=checkbox]:checked").each(function(){e.push($(this).val())}),e}},setValue:function(t){if(!(["string","number","object"].indexOf(typeof t)<0)){if("object"==typeof t){if(null!==t&&!Array.isArray(t))return}else t=[t];let o=this;if(this._value=[],this._options.readonly){$(".content-"+o._hash).empty();var e=this.getOptions();if(e.hasOwnProperty("options")&&"object"==typeof e.options&&Array.isArray(e.options)&&Array.isArray(t)){let n=[];$.each(e.options,function(e,i){i.hasOwnProperty("value")&&$.each(t,function(e,t){if(i.value==t)return i.hasOwnProperty("text")&&0<=["string","number"].indexOf(typeof i.text)&&n.push(i.text),o._value.push(t),!1})}),$(".content-"+o._hash).text(n.join(", "))}}else $(".content-"+this._hash+" input[type=radio]").prop("checked",!1),Array.isArray(t)&&$(".content-"+this._hash+" input[type=radio]").each(function(e,i){$.each(t,function(e,t){if(t==$(i).val())return $(i).prop("checked",!0),o._value.push(t),!1})})}},validate:function(e,t){var i,n,o;this._options.readonly||(i=$(".content-"+this._hash),n=$(".form-check:last-child",i),o=$("input",i),i.find(".valid-feedback").remove(),i.find(".invalid-feedback").remove(),null===e?(o.removeClass("is-invalid"),o.removeClass("is-valid")):e?(o.removeClass("is-invalid"),o.addClass("is-valid"),"string"==typeof(t=void 0===t&&"string"==typeof this._options.validText?this._options.validText:t)&&n.append('<div class="valid-feedback">'+t+"</div>")):(o.removeClass("is-valid"),o.addClass("is-invalid"),void 0===t&&("string"==typeof this._options.invalidText?t=this._options.invalidText:!t&&this._options.required&&(t=this._form.getLang().required_field)),"string"==typeof t&&n.append('<div class="invalid-feedback">'+t+"</div>")))},isValid:function(){return!(this._options.required&&!this._options.readonly)||0<this.getValue().length},render:function(){var e=this.getOptions(),e=CoreUI.form.utils.getAttacheFields(this._form,e);return CoreUI.form.ejs.render(CoreUI.form.tpl["form-field-label.html"],{id:this._id,form:this._form,hash:this._hash,field:this._options,content:this.renderContent(),attachFields:e})},renderContent:function(){let s=this,r=[],a=this.getOptions(),l=[];a.hasOwnProperty("options")&&"object"==typeof a.options&&Array.isArray(a.options)&&$.each(a.options,function(e,i){let n=[],o={type:"checkbox",class:"form-check-input"};var t=i.hasOwnProperty("text")&&0<=["string","number"].indexOf(typeof i.text)?i.text:"";a.name&&(o.name=s._options.name),a.required&&(o.required="required"),$.each(i,function(e,t){"text"!==e&&(o[e]="class"===e?o[e]+" "+t:t)}),o.id=CoreUI.form.utils.hashCode(),"object"==typeof s._value&&Array.isArray(s._value)?$.each(s._value,function(e,t){if(t==i.value)return o.checked="checked",i.hasOwnProperty("text")&&i.text&&l.push(i.text),!1}):s._value==i.value&&(i.hasOwnProperty("text")&&i.text&&l.push(i.text),o.checked="checked"),$.each(o,function(e,t){n.push(e+'="'+t+'"')}),r.push({id:o.id,text:t,attr:0<n.length?" "+n.join(" "):""})});var e="object"==typeof this._value&&Array.isArray(this._value)?this._value.join(", "):this._value;return CoreUI.form.ejs.render(CoreUI.form.tpl["fields/checkbox.html"],{field:a,value:e,render:{options:r,selectedItems:l}})}};;
CoreUI.form.fields.color={_id:"",_hash:"",_form:null,_index:0,_value:"",_options:{type:"color",name:null,label:null,labelWidth:null,width:null,outContent:null,description:null,errorText:null,attach:null,attr:{class:"form-control form-control-color d-inline-block"},required:null,readonly:null,datalist:null,show:!0,column:null},init:function(t,e,i){this._form=t,this._id=t.getId()+"-field-"+(e.hasOwnProperty("name")?e.name:i),this._hash=CoreUI.form.utils.hashCode(),this._value=CoreUI.form.utils.getFieldValue(t,e),this._options=CoreUI.form.utils.mergeFieldOptions(t,this._options,e)},getOptions:function(){return $.extend(!0,{},this._options)},readonly:function(t){this._value=this.getValue(),this._options.readonly=!!t,$(".content-"+this._hash).html(this.renderContent())},hide:function(t){$("#coreui-form-"+this._id).hide(t)},show:function(t){$("#coreui-form-"+this._id).show(t)},getValue:function(){return this._options.readonly?this._value:$(".content-"+this._hash+" input").val()},setValue:function(t){["string","number"].indexOf(typeof t)<0||(this._value=t,this._options.readonly?$(".content-"+this._hash).text(t):$(".content-"+this._hash+" input").val(t))},validate:function(t,e){var i,n;this._options.readonly||(i=$(".content-"+this._hash),n=$("input",i),i.find(".valid-feedback").remove(),i.find(".invalid-feedback").remove(),null===t?(n.removeClass("is-invalid"),n.removeClass("is-valid")):t?(n.removeClass("is-invalid"),n.addClass("is-valid"),"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&i.append('<div class="valid-feedback">'+e+"</div>")):(n.removeClass("is-valid"),n.addClass("is-invalid"),void 0===e&&("string"==typeof this._options.invalidText?e=this._options.invalidText:!e&&this._options.required&&(e=this._form.getLang().required_field)),"string"==typeof e&&i.append('<div class="invalid-feedback">'+e+"</div>")))},isValid:function(){var t=$(".content-"+this._hash+" input");return t[0]?t.is(":valid"):null},render:function(){var t=this.getOptions(),e=CoreUI.form.utils.getAttacheFields(this._form,t);return CoreUI.form.ejs.render(CoreUI.form.tpl["form-field-label.html"],{id:this._id,form:this._form,hash:this._hash,field:t,content:this.renderContent(),attachFields:e})},renderContent:function(){return this._options.readonly?this._renderContentReadonly():this._renderContent()},_renderContent:function(){let i=[],n=[];var t=this.getOptions(),e=CoreUI.form.utils.hashCode();return t.hasOwnProperty("attr")&&"object"==typeof t.attr&&null!==t.attr&&!Array.isArray(t.attr)||(t.attr={}),t.name&&(t.attr.name=this._options.name),t.attr.type=t.type,t.attr.value=this._value,t.width&&(t.attr=CoreUI.form.utils.mergeAttr({style:"width:"+t.width},t.attr)),t.required&&(t.attr.required="required"),t.hasOwnProperty("datalist")&&"object"==typeof t.datalist&&Array.isArray(t.datalist)&&(t.attr.list=e,$.each(t.datalist,function(t,e){let i=[];$.each(e,function(t,e){i.push(t+'="'+e+'"')}),n.push({attr:0<i.length?" "+i.join(" "):""})})),$.each(t.attr,function(t,e){i.push(t+'="'+e+'"')}),CoreUI.form.ejs.render(CoreUI.form.tpl["fields/color.html"],{field:t,datalistId:e,value:this._value,render:{attr:0<i.length?" "+i.join(" "):"",datalist:n}})},_renderContentReadonly:function(){var t=this.getOptions();return CoreUI.form.ejs.render(CoreUI.form.tpl["fields/color.html"],{field:t,value:this._value})}};;
CoreUI.form.fields.custom={_id:"",_hash:"",_form:null,_value:null,_options:{type:"custom",label:null,labelWidth:null,width:null,content:"",outContent:null,description:null,required:null,show:!0,column:null},init:function(t,e,n){this._form=t,this._id=t.getId()+"-field-"+(e.hasOwnProperty("name")?e.name:n),this._value=CoreUI.form.utils.getFieldValue(t,e),this._options=CoreUI.form.utils.mergeFieldOptions(t,this._options,e),this._hash=CoreUI.form.utils.hashCode()},getOptions:function(){return $.extend(!0,{},this._options)},readonly:function(t){},hide:function(t){$("#coreui-form-"+this._id).hide(t)},show:function(t){$("#coreui-form-"+this._id).show(t)},getValue:function(){},setValue:function(t){},render:function(){var t=this.getOptions(),e=CoreUI.form.utils.getAttacheFields(this._form,t);return CoreUI.form.ejs.render(CoreUI.form.tpl["form-field-label.html"],{id:this._id,form:this._form,hash:this._hash,field:t,content:this.renderContent(),attachFields:e})},renderContent:function(){var e=this.getOptions();let t="";var n=["coreui.table","coreui.layout","coreui.panel","coreui.tabs","coreui.info","coreui.chart"];if("string"==typeof e.content)t=e.content;else if(e.content instanceof Object){Array.isArray(e.content)||(e.content=[e.content]);var o,r=[];for(let t=0;t<e.content.length;t++)"string"==typeof e.content[t]?r.push(e.content[t]):!Array.isArray(e.content[t])&&e.content[t].hasOwnProperty("component")&&0<=n.indexOf(e.content[t].component)&&(o=e.content[t].component.split(".")[1],CoreUI.hasOwnProperty(o))&&"object"==typeof CoreUI[o]&&null!==CoreUI[o]&&!Array.isArray(CoreUI[o])&&(o=CoreUI[o].create(e.content[t]),r.push(o.render()),this._form.on("shown.coreui.form",o.initEvents,o,!0));t=r.join("")}return CoreUI.form.ejs.render(CoreUI.form.tpl["fields/custom.html"],{content:t})}};;
CoreUI.form.fields.dataset={_id:"",_hash:"",_form:null,_value:[],_renderOptions:[],_options:{type:"dataset",name:null,label:null,labelWidth:null,width:null,outContent:null,description:null,errorText:null,attach:null,attr:{class:"form-select form-select-sm d-inline-block"},required:null,readonly:null,datalist:null,show:!0,column:null},init:function(e,a,t){this._form=e,this._id=e.getId()+"-field-"+(a.hasOwnProperty("name")?a.name:t),this._value=CoreUI.form.utils.getFieldValue(e,a),this._options=CoreUI.form.utils.mergeFieldOptions(e,this._options,a),this._hash=CoreUI.form.utils.hashCode();let l=this;e.on("shown.coreui.form",function(){l._options.readonly||l._initEvents()}),a.hasOwnProperty("options")&&"object"==typeof a.options&&Array.isArray(a.options)&&$.each(a.options,function(e,t){var r=t.hasOwnProperty("name")&&0<=["string","number"].indexOf(typeof t.name)?t.name:"",i=t.hasOwnProperty("type")&&"string"==typeof t.type?t.type:"text",o=t.hasOwnProperty("attr")&&"object"==typeof t.attr&&!Array.isArray(t.attr)?t.attr:{},n=t.hasOwnProperty("items")&&"object"==typeof t.items&&Array.isArray(t.items)?t.items:[],s=t.hasOwnProperty("valueY")&&0<=["string","numeric"].indexOf(typeof t.valueY)?t.valueY:"Y",t=t.hasOwnProperty("valueN")&&0<=["string","numeric"].indexOf(typeof t.valueN)?t.valueN:"N";r&&(o.name=r),a.required&&(o.required="required"),"select"===i?o.class=o.hasOwnProperty("class")?"form-select form-select-sm "+o.class:"form-select form-select-sm":"switch"===i?(o.class=o.hasOwnProperty("class")?"form-check-input "+o.class:"form-check-input",o.type="checkbox",o.value=s):(o.class=o.hasOwnProperty("class")?"form-control form-control-sm "+o.class:"form-control form-control-sm",o.type=i),l._renderOptions.push({type:i,name:r,attr:o,items:n,valueY:s,valueN:t})})},getOptions:function(){return $.extend(!0,{},this._options)},readonly:function(e){this._value=this.getValue(),this._options.readonly=!!e,$(".content-"+this._hash).html(this.renderContent()),this._options.readonly||this._initEvents()},hide:function(e){$("#coreui-form-"+this._id).hide(e)},show:function(e){$("#coreui-form-"+this._id).show(e)},getValue:function(){if(this._options.readonly)return this._value;{var t=$(".content-"+this._hash);let e=[];return $(".coreui-form__field-dataset-list .coreui-form__field-dataset-item",t).each(function(){let r={};$.each($(this).find("input, select").serializeArray(),function(e,t){t.name&&(r[t.name]=t.value)}),e.push(r)}),e}},setValue:function(e){"object"!=typeof e||Array.isArray(e)||null===e||(this._value.push(e),this._options.readonly?$(".content-"+this._hash+" .coreui-form__field-dataset-list").append(this._renderRowReadonly(e)):this._eventAdd(e))},validate:function(e,t){var r;this._options.readonly||((r=$(".content-"+this._hash)).find(".text-success").remove(),r.find(".text-danger").remove(),null!==e&&(e?"string"==typeof(t=void 0===t&&"string"==typeof this._options.validText?this._options.validText:t)&&r.append('<div class="ps-2 text-success">'+t+"</div>"):(void 0===t&&("string"==typeof this._options.invalidText?t=this._options.invalidText:!t&&this._options.required&&(t=this._form.getLang().required_field)),"string"==typeof t&&r.append('<div class="ps-2 text-danger">'+t+"</div>"))))},isValid:function(){return!(this._options.required&&!this._options.readonly)||0<this.getValue().length},removeItems:function(){$("#coreui-form-"+this._id+" .content-"+this._hash+" .coreui-form__field-dataset-list").empty()},removeItem:function(e){let t="#coreui-form-"+this._id+" .content-"+this._hash;$("#"+e).hide("fast",function(){$("#"+e).remove(),0===$(t+" .coreui-form__field-dataset-item").length&&$(t+" .coreui-form__field-dataset-container").hide()})},render:function(){var e=this.getOptions(),t=CoreUI.form.utils.getAttacheFields(this._form,e);return CoreUI.form.ejs.render(CoreUI.form.tpl["form-field-label.html"],{id:this._id,form:this._form,hash:this._hash,field:e,content:this.renderContent(),attachFields:t})},renderContent:function(){return this._options.readonly?this._renderContentReadonly():this._renderContent()},_renderContent:function(){var e=this.getOptions();let r=[],i=[],o=this;return e.hasOwnProperty("options")&&"object"==typeof e.options&&Array.isArray(e.options)&&($.each(e.options,function(e,t){t=t.hasOwnProperty("title")&&0<=["string","numeric"].indexOf(typeof t.title)?t.title:"";i.push({title:t})}),"object"==typeof this._value)&&Array.isArray(this._value)&&$.each(this._value,function(e,t){"object"!=typeof t||Array.isArray(t)||r.push(o._renderRow(t))}),CoreUI.form.ejs.render(CoreUI.form.tpl["fields/dataset.html"],{field:e,value:this._value,lang:this._form.getLang(),render:{headers:i,rows:r}})},_renderContentReadonly:function(){var e=this.getOptions();let r=[],i=[],o=this;return e.hasOwnProperty("options")&&"object"==typeof e.options&&Array.isArray(e.options)&&($.each(e.options,function(e,t){t=t.hasOwnProperty("title")&&0<=["string","numeric"].indexOf(typeof t.title)?t.title:"";i.push({title:t})}),"object"==typeof this._value)&&Array.isArray(this._value)&&$.each(this._value,function(e,t){"object"!=typeof t||Array.isArray(t)||r.push(o._renderRowReadonly(t))}),CoreUI.form.ejs.render(CoreUI.form.tpl["fields/dataset.html"],{field:e,value:this._value,lang:this._form.getLang(),render:{headers:i,rows:r}})},_initEvents:function(){let e=this;var t="#coreui-form-"+this._id+" .content-"+this._hash;$(t+" .btn-dataset-remove").click(function(){e.removeItem($(this).data("item-id"))}),$(t+" .btn-dataset-add").click(function(){e._eventAdd()})},_eventAdd:function(e){let t=this;var r="#coreui-form-"+this._id+" .content-"+this._hash;e=e||{},0===$(r+" .coreui-form__field-dataset-item").length&&$(r+" .coreui-form__field-dataset-container").show(),$(r+" .coreui-form__field-dataset-list").append(this._renderRow(e)),$(r+" .coreui-form__field-dataset-item:last-child .btn-dataset-remove").click(function(){t.removeItem($(this).data("item-id"))})},_renderRow:function(i){let o=[],a=[];return $.each(this._renderOptions,function(e,t){let s=i.hasOwnProperty(t.name)?i[t.name]:"",r=("select"===t.type?$.each(t.items,function(e,t){var r=t.hasOwnProperty("title")&&0<=["string","numeric"].indexOf(typeof t.title)?t.title:"";let i=t.hasOwnProperty("value")&&0<=["string","numeric"].indexOf(typeof t.value)?t.value:"",o={},n=($.each(t,function(e,t){"title"!==e&&(o[e]=t)}),"object"==typeof s&&Array.isArray(s)?$.each(s,function(e,t){if(t==i)return!(o.selected="selected")}):s==t.value&&(o.selected="selected"),[]);$.each(o,function(e,t){n.push(e+'="'+t+'"')}),a.push({attr:0<n.length?" "+n.join(" "):"",title:r})}):"switch"===t.type?s==t.valueY&&(t.attr.checked="checked"):0<=["string","number"].indexOf(typeof s)&&(t.attr.value=s),[]);$.each(t.attr,function(e,t){r.push(e+'="'+t+'"')}),o.push({type:t.type,attr:0<r.length?" "+r.join(" "):"",items:a})}),CoreUI.form.ejs.render(CoreUI.form.tpl["fields/dataset-row.html"],{hashItem:CoreUI.form.utils.hashCode(),options:o})},_renderRowReadonly:function(i){let n=[],s=this._form.getLang();return $.each(this._renderOptions,function(e,t){let r="",o=i.hasOwnProperty(t.name)?i[t.name]:"";if("select"===t.type){let i=[];$.each(t.items,function(e,t){t.hasOwnProperty("title")&&0<=["string","numeric"].indexOf(typeof t.title)&&t.title;let r=t.hasOwnProperty("value")&&0<=["string","numeric"].indexOf(typeof t.value)?t.value:"";"object"==typeof o&&Array.isArray(o)?$.each(o,function(e,t){if(t==r)return i.push(r),!1}):o==t.value&&i.push(o)})}else if("switch"===t.type){let e="Y";t.hasOwnProperty("valueY")&&(e=t.valueY),r=o==e?s.switch_yes:s.switch_no}else if(0<=["string","number"].indexOf(typeof o))switch(r=o,t.type){case"date":r=CoreUI.form.utils.formatDate(r);break;case"datetime-local":r=CoreUI.form.utils.formatDateTime(r);break;case"month":r=CoreUI.form.utils.formatDateMonth(r,s);break;case"week":r=CoreUI.form.utils.formatDateWeek(r,s);break;default:r=o}n.push({value:r})}),CoreUI.form.ejs.render(CoreUI.form.tpl["fields/dataset-row-readonly.html"],{options:n})}};;
CoreUI.form.fields.group={_id:"",_form:null,_index:0,_options:{type:"group",label:"",show:!0,showCollapsible:!0,fields:[],column:null},init:function(o,i,e){this._form=o,this._index=e,this._id=o.getId()+"-group-"+e,this._options=$.extend(!0,{},this._options,i);let n=this;o.on("shown.coreui.form",function(){n._initEvents()})},getOptions:function(){return $.extend(!0,{},this._options,options)},collapse:function(o){var i="#coreui-form-"+this._id;$(i+" > .coreui-form__group_label .btn-collapsible .bi").removeClass("bi-chevron-down"),$(i+" > .coreui-form__group_label .btn-collapsible .bi").addClass("bi-chevron-right"),$(i+" .coreui-form__group_content").slideUp(o)},expand:function(o){var i="#coreui-form-"+this._id;$(i+" > .coreui-form__group_label .btn-collapsible .bi").removeClass("bi-chevron-right"),$(i+" > .coreui-form__group_label .btn-collapsible .bi").addClass("bi-chevron-down"),$(i+" .coreui-form__group_content").slideDown(o)},render:function(){return CoreUI.form.ejs.render(CoreUI.form.tpl["form-field-group.html"],{id:this._id,form:this._form,group:this._options,content:this.renderContent()})},renderContent:function(){let e=[],n=this;return $.each(this._options.fields,function(o,i){i=n._form.initField(i);"object"==typeof i&&e.push(i.render())}),e.join("")},_initEvents:function(){if(this._options.showCollapsible){let o=this,i="#coreui-form-"+this._id;$(i+" > .coreui-form__group_label .btn-collapsible").click(function(){$(i+" > .coreui-form__group_content").is(":visible")?o.collapse(80):o.expand(80)})}}};;
CoreUI.form.fields.hidden={_id:"",_form:null,_index:0,_value:"",_options:{type:"hidden",name:null,attr:{},required:null,column:null},init:function(t,e,r){this._form=t,this._id=t.getId()+"-field-"+(e.hasOwnProperty("name")?e.name:r),this._value=CoreUI.form.utils.getFieldValue(t,e),this._options=CoreUI.form.utils.mergeFieldOptions(t,this._options,e)},getOptions:function(){return $.extend(!0,{},this._options)},getValue:function(){return this._options.readonly?this._value:$("#coreui-form-"+this._id).val()},setValue:function(t){["string","number"].indexOf(typeof t)<0||(this._value=t,this._options.readonly)||$("#coreui-form-"+this._id).val(t)},render:function(){return CoreUI.form.ejs.render(CoreUI.form.tpl["form-field-content.html"],{content:this.renderContent()})},renderContent:function(){let r=[];var t=this.getOptions();return t.hasOwnProperty("attr")&&"object"==typeof t.attr&&null!==t.attr&&!Array.isArray(t.attr)||(t.attr={}),t.attr.id="coreui-form-"+this._id,t.name&&(t.attr.name=t.name),t.attr.type="hidden",t.attr.value=this._value,$.each(t.attr,function(t,e){r.push(t+'="'+e+'"')}),CoreUI.form.ejs.render(CoreUI.form.tpl["fields/hidden.html"],{value:this._value,field:t,render:{attr:0<r.length?" "+r.join(" "):""}})}};;
CoreUI.form.fields.input={_id:"",_hash:"",_form:null,_index:0,_value:"",_options:{type:"text",name:null,label:null,labelWidth:null,width:null,outContent:null,description:null,errorText:null,attach:null,attr:{class:"form-control form-control-sm d-inline-block"},required:null,invalidText:null,validText:null,readonly:null,datalist:null,show:!0,column:null},init:function(t,e,i){this._form=t,this._index=i,this._id=t.getId()+"-field-"+(e.hasOwnProperty("name")?e.name:i),this._hash=CoreUI.form.utils.hashCode(),this._value=CoreUI.form.utils.getFieldValue(t,e),this._options=CoreUI.form.utils.mergeFieldOptions(t,this._options,e)},getOptions:function(){return $.extend(!0,{},this._options)},readonly:function(t){this._value=this.getValue(),this._options.readonly=!!t,$(".content-"+this._hash).html(this.renderContent())},hide:function(t){$("#coreui-form-"+this._id).hide(t)},show:function(t){$("#coreui-form-"+this._id).show(t)},getValue:function(){return this._options.readonly?this._value:$(".content-"+this._hash+" input").val()},setValue:function(t){["string","number"].indexOf(typeof t)<0||(this._value=t,this._options.readonly?$(".content-"+this._hash).text(t):$(".content-"+this._hash+" input").val(t))},validate:function(t,e){var i,n;this._options.readonly||(i=$(".content-"+this._hash),n=$("input",i),i.find(".valid-feedback").remove(),i.find(".invalid-feedback").remove(),null===t?(n.removeClass("is-invalid"),n.removeClass("is-valid")):t?(n.removeClass("is-invalid"),n.addClass("is-valid"),"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&i.append('<div class="valid-feedback">'+e+"</div>")):(n.removeClass("is-valid"),n.addClass("is-invalid"),void 0===e&&("string"==typeof this._options.invalidText?e=this._options.invalidText:!e&&this._options.required&&(e=this._form.getLang().required_field)),"string"==typeof e&&i.append('<div class="invalid-feedback">'+e+"</div>")))},isValid:function(){var t=$(".content-"+this._hash+" input");return t[0]?t.is(":valid"):null},render:function(){var t=this.getOptions(),e=CoreUI.form.utils.getAttacheFields(this._form,t);return CoreUI.form.ejs.render(CoreUI.form.tpl["form-field-label.html"],{id:this._id,form:this._form,hash:this._hash,field:t,content:this.renderContent(),attachFields:e})},renderContent:function(){return this._options.readonly?this._renderContentReadonly():this._renderContent()},_renderContent:function(){let i=[],n=[];var t=this.getOptions(),e=CoreUI.form.utils.hashCode();return t.hasOwnProperty("attr")&&"object"==typeof t.attr&&null!==t.attr&&!Array.isArray(t.attr)||(t.attr={}),t.name&&(t.attr.name=this._options.name),t.attr.type=t.type,t.attr.value=this._value,t.width&&(t.attr=CoreUI.form.utils.mergeAttr({style:"width:"+t.width},t.attr)),t.required&&(t.attr.required="required"),t.hasOwnProperty("datalist")&&"object"==typeof t.datalist&&Array.isArray(t.datalist)&&(t.attr.list=e,$.each(t.datalist,function(t,e){let i=[];$.each(e,function(t,e){i.push(t+'="'+e+'"')}),n.push({attr:0<i.length?" "+i.join(" "):""})})),$.each(t.attr,function(t,e){i.push(t+'="'+e+'"')}),CoreUI.form.ejs.render(CoreUI.form.tpl["fields/input.html"],{field:t,datalistId:e,value:this._value,render:{attr:0<i.length?" "+i.join(" "):"",datalist:n}})},_renderContentReadonly:function(){var t=this.getOptions();let e="text",i=this._value;var n=this._form.getLang();t.hasOwnProperty("type")&&"string"==typeof t.type&&(e=t.type);try{switch(e){case"date":i=CoreUI.form.utils.formatDate(i);break;case"datetime-local":i=CoreUI.form.utils.formatDateTime(i);break;case"month":i=CoreUI.form.utils.formatDateMonth(i,n);break;case"week":i=CoreUI.form.utils.formatDateWeek(i,n)}}catch(t){console.error(t)}return CoreUI.form.ejs.render(CoreUI.form.tpl["fields/input.html"],{field:t,value:i,hash:this._hash})}};;
CoreUI.form.fields.mask={_id:"",_hash:"",_form:null,_index:0,_value:"",_options:{type:"mask",name:null,label:null,labelWidth:null,width:null,outContent:null,description:null,errorText:null,attach:null,attr:{class:"form-control form-control-sm d-inline-block"},required:null,readonly:null,datalist:null,show:!0,column:null},init:function(t,i,e){this._form=t,this._index=e,this._id=t.getId()+"-field-"+(i.hasOwnProperty("name")?i.name:e),this._value=CoreUI.form.utils.getFieldValue(t,i),this._options=CoreUI.form.utils.mergeFieldOptions(t,this._options,i),this._hash=CoreUI.form.utils.hashCode();let n=this;t.on("shown.coreui.form",function(){n._options.readonly||n._initEvents()})},getOptions:function(){return $.extend(!0,{},this._options)},readonly:function(t){this._value=this.getValue(),this._options.readonly=!!t,$(".content-"+this._hash).html(this.renderContent()),this._options.readonly||this._initEvents()},hide:function(t){$("#coreui-form-"+this._id).hide(t)},show:function(t){$("#coreui-form-"+this._id).show(t)},getValue:function(){return this._options.readonly?this._value:$(".content-"+this._hash+" input").val()},setValue:function(t){["string","number"].indexOf(typeof t)<0||(t=t.replace(/[^\d\w]/g,""),this._value=t,this._options.readonly?$(".content-"+this._hash).text(t):$(".content-"+this._hash+" input").val(t))},validate:function(t,i){var e,n;this._options.readonly||(e=$(".content-"+this._hash),n=$("input",e),e.find(".valid-feedback").remove(),e.find(".invalid-feedback").remove(),null===t?(n.removeClass("is-invalid"),n.removeClass("is-valid")):t?(n.removeClass("is-invalid"),n.addClass("is-valid"),"string"==typeof(i=void 0===i&&"string"==typeof this._options.validText?this._options.validText:i)&&e.append('<div class="valid-feedback">'+i+"</div>")):(n.removeClass("is-valid"),n.addClass("is-invalid"),void 0===i&&("string"==typeof this._options.invalidText?i=this._options.invalidText:!i&&this._options.required&&(i=this._form.getLang().required_field)),"string"==typeof i&&e.append('<div class="invalid-feedback">'+i+"</div>")))},isValid:function(){var t=$(".content-"+this._hash+" input");return t[0]?t.is(":valid"):null},render:function(){var t=this.getOptions(),i=CoreUI.form.utils.getAttacheFields(this._form,t);return CoreUI.form.ejs.render(CoreUI.form.tpl["form-field-label.html"],{id:this._id,form:this._form,hash:this._hash,field:t,content:this.renderContent(),attachFields:i})},renderContent:function(){return this._options.readonly?this._renderContentReadonly():this._renderContent()},_renderContent:function(){let e=[],n=[];var t=this.getOptions(),i=CoreUI.form.utils.hashCode();return t.hasOwnProperty("attr")&&"object"==typeof t.attr&&null!==t.attr&&!Array.isArray(t.attr)||(t.attr={}),t.name&&(t.attr.name=this._options.name),t.attr.type="text",t.attr.value=this._value,t.width&&(t.attr=CoreUI.form.utils.mergeAttr({style:"width:"+t.width},t.attr)),t.required&&(t.attr.required="required"),t.hasOwnProperty("datalist")&&"object"==typeof t.datalist&&Array.isArray(t.datalist)&&(t.attr.list=i,$.each(t.datalist,function(t,i){let e=[];$.each(i,function(t,i){e.push(t+'="'+i+'"')}),n.push({attr:0<e.length?" "+e.join(" "):""})})),$.each(t.attr,function(t,i){e.push(t+'="'+i+'"')}),CoreUI.form.ejs.render(CoreUI.form.tpl["fields/input.html"],{field:t,datalistId:i,value:this._value,render:{attr:0<e.length?" "+e.join(" "):"",datalist:n}})},_renderContentReadonly:function(){var t=this.getOptions();return CoreUI.form.ejs.render(CoreUI.form.tpl["fields/input.html"],{field:t,value:this._value})},_initEvents:function(){$("#coreui-form-"+this._id+" .content-"+this._hash+" input").mask(this._options.mask,this._options.options)}};;
CoreUI.form.fields.modal={_id:"",_hash:"",_form:null,_value:"",_text:"",_options:{type:"modal",name:null,label:null,labelWidth:null,width:null,outContent:null,description:null,errorText:null,fields:[],options:{title:"",size:"lg",url:"",onHidden:null,onClear:null,onChange:null},required:null,readonly:null,show:!0,column:null},init:function(t,o,e){var n=t.getRecord();this._form=t,this._id=t.getId()+"-field-"+(o.hasOwnProperty("name")?o.name:e),this._options=CoreUI.form.utils.mergeFieldOptions(t,this._options,o),this._hash=CoreUI.form.utils.hashCode(),"string"==typeof o.name&&n.hasOwnProperty(o.name)&&0<=["object"].indexOf(typeof n[o.name])&&(e=n[o.name],this._value=e.hasOwnProperty("value")&&0<=["number","string"].indexOf(typeof e.value)?e.value:"",this._text=e.hasOwnProperty("text")&&0<=["number","string"].indexOf(typeof e.text)?e.text:"");let i=this;t.on("shown.coreui.form",function(){i._initEvents()})},getOptions:function(){return $.extend(!0,{},this._options)},readonly:function(t){this._value=this.getValue(),this._options.readonly=!!t,$(".content-"+this._hash).html(this.renderContent()),this._options.readonly||this._initEvents()},hide:function(t){$("#coreui-form-"+this._id).hide(t)},show:function(t){$("#coreui-form-"+this._id).show(t)},getValue:function(){return this._options.readonly?this._value:$(".content-"+this._hash+" input.coreui-form-modal-value").val()},setValue:function(value,text){if(!(["string","number"].indexOf(typeof value)<0))if(this._value=value,this._options.readonly)$(".content-"+this._hash).text(text);else{let elementValue=$(".content-"+this._hash+" .coreui-form-modal-value"),elementText=$(".content-"+this._hash+" .coreui-form-modal-text"),oldValue=elementValue.val();if(elementValue.val(value),elementText.val(text),oldValue!=value){let modal=this._options.hasOwnProperty("options")&&"object"==typeof this._options.options?this._options.options:{};if(modal.hasOwnProperty("onChange"))if("function"==typeof modal.onChange)modal.onChange(this);else if("string"==typeof modal.onChange){let func=CoreUI.form.utils.getFunctionByName(modal.onChange);"function"==typeof func?func(this):eval(modal.onChange)}this._form._trigger("change-modal.coreui.form",this,[this])}}},validate:function(t,o){var e;this._options.readonly||((e=$(".content-"+this._hash)).find(".text-success").remove(),e.find(".text-danger").remove(),null!==t&&(t?"string"==typeof(o=void 0===o&&"string"==typeof this._options.validText?this._options.validText:o)&&e.append('<div class="ps-2 text-success">'+o+"</div>"):(void 0===o&&("string"==typeof this._options.invalidText?o=this._options.invalidText:!o&&this._options.required&&(o=this._form.getLang().required_field)),"string"==typeof o&&e.append('<div class="ps-2 text-danger">'+o+"</div>"))))},isValid:function(){return!(this._options.required&&!this._options.readonly&&!this.getValue())},render:function(){var t=this.getOptions(),o=CoreUI.form.utils.getAttacheFields(this._form,t);return CoreUI.form.ejs.render(CoreUI.form.tpl["form-field-label.html"],{id:this._id,form:this._form,hash:this._hash,field:t,content:this.renderContent(),attachFields:o})},renderContent:function(){var t=this.getOptions();let e=[],o={type:"text",readonly:"readonly",class:"form-control form-control-sm coreui-form-modal-text",value:this._text};return t.required&&(o.required="required"),t.hasOwnProperty("attr")&&"object"==typeof t.attr&&Array.isArray(t.attr)&&(o=CoreUI.form.utils.mergeAttr(o,t.attr)),$.each(o,function(t,o){e.push(t+'="'+o+'"')}),CoreUI.form.ejs.render(CoreUI.form.tpl["fields/modal.html"],{field:t,value:this._value,text:this._text,lang:this._form.getLang(),render:{width:this._options.width,attr:0<e.length?e.join(" "):""}})},_initEvents:function(){let that=this,modal=this._options.hasOwnProperty("options")&&"object"==typeof this._options.options?this._options.options:{};$(".content-"+this._hash+" .btn-modal-clear").click(function(e){if(modal.hasOwnProperty("onClear"))if("function"==typeof modal.onClear)modal.onClear(that);else if("string"==typeof modal.onClear){let func=CoreUI.form.utils.getFunctionByName(modal.onClear);"function"==typeof func?func(that):eval(modal.onClear)}that._form._trigger("clear-modal.coreui.form",that,[that,e]),that.setValue("","")}),$(".content-"+this._hash+" .btn-modal-select").click(function(t){var n=modal.hasOwnProperty("title")&&"string"==typeof modal.title?modal.title:"",i=modal.hasOwnProperty("size")&&"string"==typeof modal.size?modal.size:"lg",o=modal.hasOwnProperty("url")&&"string"==typeof modal.url?modal.url:"";if(o){let e=CoreUI.form.utils.hashCode();var r,l=CoreUI.form.ejs.render(CoreUI.form.tpl["fields/modal-loading.html"],{lang:that._form.getLang()});if(CoreUI.hasOwnProperty("modal")){let t=null,o=null;modal.hasOwnProperty("onHidden")&&("function"==typeof modal.onHidden?o=modal.onHidden:"string"==typeof modal.onHidden&&"function"==typeof(r=CoreUI.form.utils.getFunctionByName(modal.onHidden))&&(o=r)),modal.hasOwnProperty("onShow")&&("function"==typeof modal.onShow?t=modal.onShow:"string"==typeof modal.onShow&&"function"==typeof(r=CoreUI.form.utils.getFunctionByName(modal.onShow))&&(t=r)),CoreUI.modal.show(n,l,{id:e,size:i,onShow:t,onHidden:o})}$.ajax({url:o,method:"GET",beforeSend:function(t){that._form._trigger("before-load-modal.coreui.form",that,[that,t])},success:function(t){$("#modal-"+e+" .modal-body").html(t),that._form._trigger("success-load-modal.coreui.form",that,[that,t])},error:function(t,o,e){that._form._trigger("error-load-modal.coreui.form",that,[that,t,o,e])},complete:function(t,o){that._form._trigger("complete-load-modal.coreui.form",that,[that,t,o])}}),that._form._trigger("select-modal.coreui.form",that,[that,t])}})}};;
CoreUI.form.fields.number={_id:"",_hash:"",_form:null,_index:0,_value:"",_options:{type:"number",name:null,label:null,labelWidth:null,width:null,outContent:null,description:null,errorText:null,attach:null,attr:{class:"form-control form-control-sm d-inline-block",step:"any"},required:null,readonly:null,datalist:null,show:!0,column:null,precision:null},init:function(t,i,n){if(this._form=t,this._index=n,this._id=t.getId()+"-field-"+(i.hasOwnProperty("name")?i.name:n),this._hash=CoreUI.form.utils.hashCode(),this._value=CoreUI.form.utils.getFieldValue(t,i),this._options=CoreUI.form.utils.mergeFieldOptions(t,this._options,i),null===this._options.precision){let t=0;this._options.attr.hasOwnProperty("step")&&"any"!==this._options.attr.step&&0<=["string","number"].indexOf(typeof this._options.attr.step)&&(n=$.trim(this._options.attr.step.toString()).match(/\.(\d+)$/))&&n.hasOwnProperty(1)&&(t=n?n[1].length:t),this._options.precision=t}let e=this;t.on("shown.coreui.form",function(){e._options.readonly||e._initEvents()})},getOptions:function(){return $.extend(!0,{},this._options)},readonly:function(t){this._value=this.getValue(),this._options.readonly=!!t,$(".content-"+this._hash).html(this.renderContent()),this._options.readonly||this._initEvents()},hide:function(t){$("#coreui-form-"+this._id).hide(t)},show:function(t){$("#coreui-form-"+this._id).show(t)},getValue:function(){return this._options.readonly?this._value:$(".content-"+this._hash+" input").val()},setValue:function(t){["string","number"].indexOf(typeof t)<0||!t.toString().match(/^\-?\d+\.?\d*$/)||(0<=this._options.precision&&(t=CoreUI.form.utils.round(t,this._options.precision)),this._options.attr.hasOwnProperty("min")&&(t=t<Number(this._options.attr.min)?Number(this._options.attr.min):t),this._options.attr.hasOwnProperty("max")&&(t=t>Number(this._options.attr.max)?Number(this._options.attr.max):t),this._value=t,this._options.readonly?$(".content-"+this._hash).text(t):$(".content-"+this._hash+" input").val(t))},validate:function(t,i){var n,e;this._options.readonly||(n=$(".content-"+this._hash),e=$("input",n),n.find(".valid-feedback").remove(),n.find(".invalid-feedback").remove(),null===t?(e.removeClass("is-invalid"),e.removeClass("is-valid")):t?(e.removeClass("is-invalid"),e.addClass("is-valid"),"string"==typeof(i=void 0===i&&"string"==typeof this._options.validText?this._options.validText:i)&&n.append('<div class="valid-feedback">'+i+"</div>")):(e.removeClass("is-valid"),e.addClass("is-invalid"),void 0===i&&("string"==typeof this._options.invalidText?i=this._options.invalidText:!i&&this._options.required&&(i=this._form.getLang().required_field)),"string"==typeof i&&n.append('<div class="invalid-feedback">'+i+"</div>")))},isValid:function(){var t=$(".content-"+this._hash+" input");return t[0]?t.is(":valid"):null},render:function(){var t=$.extend(!0,{},this._options),i=CoreUI.form.utils.getAttacheFields(this._form,t);return CoreUI.form.ejs.render(CoreUI.form.tpl["form-field-label.html"],{id:this._id,form:this._form,hash:this._hash,field:t,content:this.renderContent(),attachFields:i})},renderContent:function(){let n=[],e=[];var t=this.getOptions(),i=CoreUI.form.utils.hashCode();return t.hasOwnProperty("attr")&&"object"==typeof t.attr&&null!==t.attr&&!Array.isArray(t.attr)||(t.attr={}),t.name&&(t.attr.name=this._options.name),t.attr.type="number",t.attr.value=this._value,t.width&&(t.attr=CoreUI.form.utils.mergeAttr({style:"width:"+t.width},t.attr)),t.required&&(t.attr.required="required"),t.hasOwnProperty("datalist")&&"object"==typeof t.datalist&&Array.isArray(t.datalist)&&(t.attr.list=i,$.each(t.datalist,function(t,i){let n=[];$.each(i,function(t,i){n.push(t+'="'+i+'"')}),e.push({attr:0<n.length?" "+n.join(" "):""})})),$.each(t.attr,function(t,i){n.push(t+'="'+i+'"')}),CoreUI.form.ejs.render(CoreUI.form.tpl["fields/input.html"],{field:t,datalistId:i,value:this._value,render:{attr:0<n.length?" "+n.join(" "):"",datalist:e}})},_initEvents:function(){$(".content-"+this._hash+" input").keydown(function(t){var i=t.keyCode||t.which;(!(35<=i&&i<=40||96<=i&&i<=105||189===i||109===i||110===i||190===i||9===i||46===i||8===i||!t.shiftKey&&48<=i&&i<=57)||t.ctrlKey&&t.altKey)&&t.preventDefault()});let n=this;$(".content-"+this._hash+" input").blur(function(t){let i=$(this).val();0<=n._options.precision&&(i=CoreUI.form.utils.round(i,n._options.precision)),n._options.attr.hasOwnProperty("min")&&(i=i<Number(n._options.attr.min)?Number(n._options.attr.min):i),n._options.attr.hasOwnProperty("max")&&(i=i>Number(n._options.attr.max)?Number(n._options.attr.max):i),$(this).val(i)})}};;
CoreUI.form.fields.radio={_id:"",_hash:"",_form:null,_index:0,_value:"",_options:{type:"radio",name:null,label:null,labelWidth:null,inline:!1,outContent:null,description:null,errorText:null,options:[],fields:[],required:null,readonly:null,show:!0,column:null},init:function(e,t,i){this._form=e,this._id=e.getId()+"-field-"+(t.hasOwnProperty("name")?t.name:i),this._hash=CoreUI.form.utils.hashCode(),this._value=CoreUI.form.utils.getFieldValue(e,t),this._options=CoreUI.form.utils.mergeFieldOptions(e,this._options,t)},getOptions:function(){return $.extend(!0,{},this._options)},readonly:function(e){this._value=this.getValue(),this._options.readonly=!!e,$(".content-"+this._hash).html(this.renderContent())},hide:function(e){$("#coreui-form-"+this._id).hide(e)},show:function(e){$("#coreui-form-"+this._id).show(e)},getValue:function(){return this._options.readonly?this._value:$(".content-"+this._hash+" input[type=radio]:checked").val()},setValue:function(o){if(!(["string","number"].indexOf(typeof o)<0))if(this._options.readonly){let i=this;var e=this.getOptions();e.hasOwnProperty("options")&&"object"==typeof e.options&&Array.isArray(e.options)&&$.each(e.options,function(e,t){if(t.hasOwnProperty("value")&&t.value==o)return t=t.hasOwnProperty("text")&&0<=["string","number"].indexOf(typeof t.text)?t.text:"",$(".content-"+i._hash).text(t),i._value=o,!1})}else{e=$(".content-"+this._hash+' input[type=radio][value="'+o+'"]');e[0]&&(e.prop("checked",!0),this._value=o)}},validate:function(e,t){var i,o,n;this._options.readonly||(i=$(".content-"+this._hash),o=$(".form-check:last-child",i),n=$("input",i),i.find(".valid-feedback").remove(),i.find(".invalid-feedback").remove(),null===e?(n.removeClass("is-invalid"),n.removeClass("is-valid")):e?(n.removeClass("is-invalid"),n.addClass("is-valid"),"string"==typeof(t=void 0===t&&"string"==typeof this._options.validText?this._options.validText:t)&&o.append('<div class="valid-feedback">'+t+"</div>")):(n.removeClass("is-valid"),n.addClass("is-invalid"),void 0===t&&("string"==typeof this._options.invalidText?t=this._options.invalidText:!t&&this._options.required&&(t=this._form.getLang().required_field)),"string"==typeof t&&o.append('<div class="invalid-feedback">'+t+"</div>")))},isValid:function(){var e;return!(this._options.required&&!this._options.readonly)||"string"==typeof(e=this.getValue())&&""!==e},render:function(){var e=this.getOptions(),e=CoreUI.form.utils.getAttacheFields(this._form,e);return CoreUI.form.ejs.render(CoreUI.form.tpl["form-field-label.html"],{id:this._id,form:this._form,hash:this._hash,field:this._options,content:this.renderContent(),attachFields:e})},renderContent:function(){let s=this,r=[],a=this.getOptions(),l=[];return a.hasOwnProperty("options")&&"object"==typeof a.options&&Array.isArray(a.options)&&$.each(a.options,function(e,t){let i=[],o={type:"radio",class:"form-check-input"};var n=t.hasOwnProperty("text")&&0<=["string","number"].indexOf(typeof t.text)?t.text:"";a.name&&(o.name=s._options.name),a.required&&(o.required="required"),$.each(t,function(e,t){"text"!==e&&(o[e]="class"===e?o[e]+" "+t:t)}),o.id=CoreUI.form.utils.hashCode(),s._value==t.value&&(t.hasOwnProperty("text")&&t.text&&l.push(t.text),o.checked="checked"),$.each(o,function(e,t){i.push(e+'="'+t+'"')}),r.push({id:o.id,text:n,attr:0<i.length?" "+i.join(" "):""})}),CoreUI.form.ejs.render(CoreUI.form.tpl["fields/radio.html"],{field:a,value:this._value,render:{options:r,selectedItem:l}})}};;
CoreUI.form.fields.range={_id:"",_hash:"",_form:null,_index:0,_value:"",_options:{type:"range",name:null,label:null,labelWidth:null,width:null,outContent:null,description:null,errorText:null,attach:null,attr:{class:"form-range d-inline-block pt-1"},required:null,readonly:null,datalist:null,show:!0,column:null},init:function(t,i,e){this._form=t,this._index=e,this._id=t.getId()+"-field-"+(i.hasOwnProperty("name")?i.name:e),this._hash=CoreUI.form.utils.hashCode(),this._value=CoreUI.form.utils.getFieldValue(t,i),this._options=CoreUI.form.utils.mergeFieldOptions(t,this._options,i)},getOptions:function(){return $.extend(!0,{},this._options)},readonly:function(t){this._value=this.getValue(),this._options.readonly=!!t,$(".content-"+this._hash).html(this.renderContent())},hide:function(t){$("#coreui-form-"+this._id).hide(t)},show:function(t){$("#coreui-form-"+this._id).show(t)},getValue:function(){return this._options.readonly?this._value:$(".content-"+this._hash+" input").val()},setValue:function(t){["string","number"].indexOf(typeof t)<0||(this._value=t,this._options.readonly?$(".content-"+this._hash).text(t):$(".content-"+this._hash+" input").val(t))},validate:function(t,i){var e,n;this._options.readonly||(e=$(".content-"+this._hash),n=$("input",e),e.find(".valid-feedback").remove(),e.find(".invalid-feedback").remove(),null===t?(n.removeClass("is-invalid"),n.removeClass("is-valid")):t?(n.removeClass("is-invalid"),n.addClass("is-valid"),"string"==typeof(i=void 0===i&&"string"==typeof this._options.validText?this._options.validText:i)&&e.append('<div class="valid-feedback">'+i+"</div>")):(n.removeClass("is-valid"),n.addClass("is-invalid"),void 0===i&&("string"==typeof this._options.invalidText?i=this._options.invalidText:!i&&this._options.required&&(i=this._form.getLang().required_field)),"string"==typeof i&&e.append('<div class="invalid-feedback">'+i+"</div>")))},isValid:function(){var t=$(".content-"+this._hash+" input");return t[0]?t.is(":valid"):null},render:function(){var t=this.getOptions(),i=CoreUI.form.utils.getAttacheFields(this._form,t);return CoreUI.form.ejs.render(CoreUI.form.tpl["form-field-label.html"],{id:this._id,form:this._form,hash:this._hash,field:t,content:this.renderContent(),attachFields:i})},renderContent:function(){let e=[],n=[];var t=this.getOptions(),i=CoreUI.form.utils.hashCode();return t.hasOwnProperty("attr")&&"object"==typeof t.attr&&null!==t.attr&&!Array.isArray(t.attr)||(t.attr={}),t.name&&(t.attr.name=this._options.name),t.attr.type="range",t.attr.value=this._value,t.width&&(t.attr=CoreUI.form.utils.mergeAttr({style:"width:"+t.width},t.attr)),t.required&&(t.attr.required="required"),t.hasOwnProperty("datalist")&&"object"==typeof t.datalist&&Array.isArray(t.datalist)&&(t.attr.list=i,$.each(t.datalist,function(t,i){let e=[];$.each(i,function(t,i){e.push(t+'="'+i+'"')}),n.push({attr:0<e.length?" "+e.join(" "):""})})),$.each(t.attr,function(t,i){e.push(t+'="'+i+'"')}),CoreUI.form.ejs.render(CoreUI.form.tpl["fields/input.html"],{field:t,datalistId:i,value:this._value,render:{attr:0<e.length?" "+e.join(" "):"",datalist:n}})}};;
CoreUI.form.fields.select={_id:"",_hash:"",_form:null,_index:0,_value:[],_options:{type:"select",name:null,label:null,labelWidth:null,width:null,outContent:null,description:null,errorText:null,attach:null,attr:{class:"form-select form-select-sm d-inline-block"},required:null,readonly:null,datalist:null,show:!0,column:null},init:function(t,e,n){this._form=t,this._index=n,this._id=t.getId()+"-field-"+(e.hasOwnProperty("name")?e.name:n),this._hash=CoreUI.form.utils.hashCode(),this._value=CoreUI.form.utils.getFieldValue(t,e),this._options=CoreUI.form.utils.mergeFieldOptions(t,this._options,e)},getOptions:function(){return $.extend(!0,{},this._options)},readonly:function(t){this._value=this.getValue(),this._options.readonly=!!t,$(".content-"+this._hash).html(this.renderContent())},hide:function(t){$("#coreui-form-"+this._id).hide(t)},show:function(t){$("#coreui-form-"+this._id).show(t)},getValue:function(){if(this._options.readonly)return this._value;if(this._options.hasOwnProperty("attr")&&"object"==typeof this._options.attr&&null!==this._options.attr&&!Array.isArray(this._options.attr)&&this._options.attr.hasOwnProperty("multiple")){let t=[];return $(".content-"+this._hash+" select option:selected").each(function(){t.push($(this).val())}),t}return $(".content-"+this._hash+" select option:selected").val()},setValue:function(e){if(!(["string","number","object"].indexOf(typeof e)<0)){if("object"==typeof e){if(null!==e&&!Array.isArray(e))return}else e=[e];let r=this;if(this._value=[],this._options.readonly){$(".content-"+r._hash).empty();var t=this.getOptions();if(t.hasOwnProperty("options")&&"object"==typeof t.options&&Array.isArray(t.options)&&Array.isArray(e)){let i=[];$.each(t.options,function(t,n){n.hasOwnProperty("value")&&$.each(e,function(t,e){if(n.value==e)return n.hasOwnProperty("text")&&0<=["string","number"].indexOf(typeof n.text)&&i.push(n.text),r._value.push(e),!1})}),$(".content-"+r._hash).text(i.join(", "))}}else $(".content-"+this._hash+" select > option").prop("selected",!1),Array.isArray(e)&&$(".content-"+this._hash+" select > option").each(function(t,n){$.each(e,function(t,e){if(e==$(n).val())return $(n).prop("selected",!0),r._value.push(e),!1})})}},validate:function(t,e){var n,i;this._options.readonly||(n=$(".content-"+this._hash),i=$("select",n),n.find(".valid-feedback").remove(),n.find(".invalid-feedback").remove(),null===t?(i.removeClass("is-invalid"),i.removeClass("is-valid")):t?(i.removeClass("is-invalid"),i.addClass("is-valid"),"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&n.append('<div class="valid-feedback">'+e+"</div>")):(i.removeClass("is-valid"),i.addClass("is-invalid"),void 0===e&&("string"==typeof this._options.invalidText?e=this._options.invalidText:!e&&this._options.required&&(e=this._form.getLang().required_field)),"string"==typeof e&&n.append('<div class="invalid-feedback">'+e+"</div>")))},isValid:function(){var t=$(".content-"+this._hash+" input");return t[0]?t.is(":valid"):null},render:function(){var t=this.getOptions(),e=CoreUI.form.utils.getAttacheFields(this._form,t);return CoreUI.form.ejs.render(CoreUI.form.tpl["form-field-label.html"],{id:this._id,form:this._form,hash:this._hash,field:t,content:this.renderContent(),attachFields:e})},renderContent:function(){return this._options.readonly?this._renderContentReadonly():this._renderContent()},_renderContent:function(){let r=this;var t=this.getOptions();let n=[],o=[];return t.hasOwnProperty("attr")&&"object"==typeof t.attr&&null!==t.attr&&!Array.isArray(t.attr)||(t.attr={}),t.name&&(t.attr.name=this._options.name),t.width&&(t.attr=CoreUI.form.utils.mergeAttr({style:"width:"+t.width},t.attr)),t.required&&(t.attr.required="required"),t.hasOwnProperty("options")&&"object"==typeof t.options&&Array.isArray(t.options)&&$.each(t.options,function(t,e){if("group"===(e.hasOwnProperty("type")&&"string"==typeof e.type?e.type:"option")){let n=[],t={},i=[];e.hasOwnProperty("attr")&&"object"==typeof e.attr&&null!==e.attr&&!Array.isArray(e.attr)&&(t=e.attr),e.hasOwnProperty("label")&&0<=["string","number"].indexOf(typeof e.label)&&(t.label=e.label),$.each(t,function(t,e){n.push(t+'="'+e+'"')}),Array.isArray(e.options)&&$.each(e.options,function(t,e){i.push(r._renderOption(e))}),o.push({type:"group",attr:0<n.length?" "+n.join(" "):"",options:i})}else o.push(r._renderOption(e))}),$.each(t.attr,function(t,e){n.push(t+'="'+e+'"')}),CoreUI.form.ejs.render(CoreUI.form.tpl["fields/select.html"],{field:t,value:this._value,render:{attr:0<n.length?" "+n.join(" "):"",options:o}})},_renderContentReadonly:function(){let e=this;var t=this.getOptions();let r=[];return t.hasOwnProperty("options")&&"object"==typeof t.options&&Array.isArray(t.options)&&$.each(t.options,function(t,i){if("group"===(i.hasOwnProperty("type")&&"string"==typeof i.type?i.type:"option"))Array.isArray(i.options)&&$.each(i.options,function(t,n){let i=n.hasOwnProperty("text")&&0<=["string","number"].indexOf(typeof n.text)?n.text:"";i&&""!==i&&(Array.isArray(e._value)?$.each(e._value,function(t,e){if(e==n.value)return r.push(i),!1}):e._value==n.value&&r.push(i))});else{let n=i.hasOwnProperty("text")&&0<=["string","number"].indexOf(typeof i.text)?i.text:"";n&&""!==n&&(Array.isArray(e._value)?$.each(e._value,function(t,e){if(e==i.value)return r.push(n),!1}):e._value==i.value&&r.push(n))}}),CoreUI.form.ejs.render(CoreUI.form.tpl["fields/select.html"],{field:t,render:{selectedOptions:r}})},_renderOption:function(n){let i=[];var t=n.hasOwnProperty("text")&&0<=["string","number"].indexOf(typeof n.text)?n.text:"";return $.each(n,function(t,e){"text"!==t&&i.push(t+'="'+e+'"')}),Array.isArray(this._value)?$.each(this._value,function(t,e){if(e==n.value)return i.push('selected="selected"'),!1}):this._value==n.value&&i.push('selected="selected"'),{type:"option",text:t,attr:0<i.length?" "+i.join(" "):""}}};;
CoreUI.form.fields.switch={_id:"",_hash:"",_form:null,_index:0,_value:"",_options:{type:"switch",name:null,label:null,labelWidth:null,outContent:null,description:null,errorText:null,valueY:"Y",valueN:"N",fields:[],required:null,readonly:null,show:!0,column:null},init:function(e,t,i){this._form=e,this._index=i,this._id=e.getId()+"-field-"+(t.hasOwnProperty("name")?t.name:i),this._hash=CoreUI.form.utils.hashCode(),this._value=CoreUI.form.utils.getFieldValue(e,t),this._options=CoreUI.form.utils.mergeFieldOptions(e,this._options,t)},getOptions:function(){return $.extend(!0,{},this._options)},readonly:function(e){this._value=this.getValue(),this._options.readonly=!!e,$(".content-"+this._hash).html(this.renderContent())},hide:function(e){$("#coreui-form-"+this._id).hide(e)},show:function(e){$("#coreui-form-"+this._id).show(e)},getValue:function(){return this._options.readonly?this._value:$(".content-"+this._hash+" input").val()},setValue:function(e){["string","number"].indexOf(typeof e)<0||(this._value=e,this._options.readonly?$(".content-"+this._hash).text(e):$(".content-"+this._hash+" input[type=checkbox]").prop("checked",e===this._options.valueY))},validate:function(e,t){var i,n,s;this._options.readonly||(i=$(".content-"+this._hash),n=$(".form-switch",i),s=$("input",i),i.find(".valid-feedback").remove(),i.find(".invalid-feedback").remove(),null===e?(s.removeClass("is-invalid"),s.removeClass("is-valid")):e?(s.removeClass("is-invalid"),s.addClass("is-valid"),"string"==typeof(t=void 0===t&&"string"==typeof this._options.validText?this._options.validText:t)&&n.append('<div class="valid-feedback">'+t+"</div>")):(s.removeClass("is-valid"),s.addClass("is-invalid"),"string"==typeof(t=void 0===t?"string"==typeof this._options.invalidText?this._options.invalidText:t||this._form.getLang().required_field:t)&&n.append('<div class="invalid-feedback">'+t+"</div>")))},isValid:function(){return null},render:function(){var e=this.getOptions(),t=CoreUI.form.utils.getAttacheFields(this._form,e);return CoreUI.form.ejs.render(CoreUI.form.tpl["form-field-label.html"],{id:this._id,form:this._form,hash:this._hash,field:e,content:this.renderContent(),attachFields:t})},renderContent:function(){let i=[];var e=this.getOptions();let t={type:"checkbox",class:"form-check-input",value:e.valueY};return e.name&&(t.name=this._options.name),e.required&&(t.required="required"),e.hasOwnProperty("attr")&&"object"==typeof e.attr&&Array.isArray(e.attr)&&(t=CoreUI.form.utils.mergeAttr(t,e.attr)),this._value===this.valueY&&(t.checked="checked"),$.each(t,function(e,t){i.push(e+'="'+t+'"')}),CoreUI.form.ejs.render(CoreUI.form.tpl["fields/switch.html"],{field:e,value:this._value,lang:this._form.getLang(),render:{attr:0<i.length?i.join(" "):""}})}};;
CoreUI.form.fields.textarea={_id:"",_form:null,_index:0,_value:"",_options:{type:"textarea",name:null,label:null,labelWidth:null,width:null,outContent:null,description:null,errorText:null,attach:null,attr:{class:"form-control form-control-sm d-inline-block"},required:null,readonly:null,datalist:null,show:!0,column:null},init:function(t,e,i){this._form=t,this._index=i,this._id=t.getId()+"-field-"+(e.hasOwnProperty("name")?e.name:i),this._hash=CoreUI.form.utils.hashCode(),this._value=CoreUI.form.utils.getFieldValue(t,e),this._options=CoreUI.form.utils.mergeFieldOptions(t,this._options,e)},getOptions:function(){return $.extend(!0,{},this._options)},readonly:function(t){this._value=this.getValue(),this._options.readonly=!!t,$(".content-"+this._hash).html(this.renderContent())},hide:function(t){$("#coreui-form-"+this._id).hide(t)},show:function(t){$("#coreui-form-"+this._id).show(t)},getValue:function(){return this._options.readonly?this._value:$(".content-"+this._hash+" textarea").val()},setValue:function(t){["string","number"].indexOf(typeof t)<0||(this._value=t,this._options.readonly?$(".content-"+this._hash).text(t):$(".content-"+this._hash+" textarea").val(t))},validate:function(t,e){var i,n;this._options.readonly||(i=$(".content-"+this._hash),n=$("textarea",i),i.find(".valid-feedback").remove(),i.find(".invalid-feedback").remove(),null===t?(n.removeClass("is-invalid"),n.removeClass("is-valid")):t?(n.removeClass("is-invalid"),n.addClass("is-valid"),"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&i.append('<div class="valid-feedback">'+e+"</div>")):(n.removeClass("is-valid"),n.addClass("is-invalid"),void 0===e&&("string"==typeof this._options.invalidText?e=this._options.invalidText:!e&&this._options.required&&(e=this._form.getLang().required_field)),"string"==typeof e&&i.append('<div class="invalid-feedback">'+e+"</div>")))},isValid:function(){var t=$(".content-"+this._hash+" textarea");if(t[0])return t.is(":valid")},render:function(){var t=this.getOptions(),e=CoreUI.form.utils.getAttacheFields(this._form,t);return CoreUI.form.ejs.render(CoreUI.form.tpl["form-field-label.html"],{id:this._id,form:this._form,hash:this._hash,field:t,content:this.renderContent(),attachFields:e})},renderContent:function(){let i=[];var t=this.getOptions();return t.hasOwnProperty("attr")&&"object"==typeof t.attr&&null!==t.attr&&!Array.isArray(t.attr)||(t.attr={}),t.name&&(t.attr.name=this._options.name),t.width&&(t.attr=CoreUI.form.utils.mergeAttr({style:"width:"+t.width},t.attr)),t.required&&(t.attr.required="required"),$.each(t.attr,function(t,e){i.push(t+'="'+e+'"')}),CoreUI.form.ejs.render(CoreUI.form.tpl["fields/textarea.html"],{field:t,value:this._value,render:{attr:0<i.length?" "+i.join(" "):""}})}};;
CoreUI.form.fields.wysiwyg={_id:"",_hash:"",_form:null,_value:null,_editor:null,_editorHash:null,_options:{type:"wysiwyg",label:null,labelWidth:null,width:null,minWidth:null,maxWidth:null,height:null,minHeight:null,maxHeight:null,options:{},outContent:null,description:null,required:null,readonly:!1,show:!0,column:null},init:function(t,i,e){this._form=t,this._index=e,this._id=t.getId()+"-field-"+(i.hasOwnProperty("name")?i.name:e),this._hash=CoreUI.form.utils.hashCode(),this._editorHash=CoreUI.form.utils.hashCode(),this._value=CoreUI.form.utils.getFieldValue(t,i),this._options=CoreUI.form.utils.mergeFieldOptions(t,this._options,i);let o=this;t.on("shown.coreui.form",function(){o._options.readonly||o._initEvents()})},getOptions:function(){return $.extend(!0,{},this._options)},readonly:function(t){this._value=this.getValue(),this._options.readonly=!!t,$(".content-"+this._hash).html(this.renderContent()),this._options.readonly||this._initEvents()},hide:function(t){$("#coreui-form-"+this._id).hide(t||0)},show:function(t){$("#coreui-form-"+this._id).show(t||0)},getValue:function(){return!this._options.readonly&&this._editor?this._editor.getContent():this._value},setValue:function(t){this._value=t,this._options.readonly?$(".content-"+this._hash).text(t):this._editor&&this._editor.setContent(t)},validate:function(t,i){var e;this._options.readonly||((e=$(".content-"+this._hash)).find(".text-success").remove(),e.find(".text-danger").remove(),null!==t&&(t?"string"==typeof(i=void 0===i&&"string"==typeof this._options.validText?this._options.validText:i)&&e.append('<div class="ps-2 text-success">'+i+"</div>"):(void 0===i&&("string"==typeof this._options.invalidText?i=this._options.invalidText:!i&&this._options.required&&(i=this._form.getLang().required_field)),"string"==typeof i&&e.append('<div class="ps-2 text-danger">'+i+"</div>"))))},isValid:function(){return!(this._options.required&&!this._options.readonly&&!this.getValue())},render:function(){var t=this.getOptions(),i=CoreUI.form.utils.getAttacheFields(this._form,t);return CoreUI.form.ejs.render(CoreUI.form.tpl["form-field-label.html"],{id:this._id,form:this._form,hash:this._hash,field:t,content:this.renderContent(),attachFields:i})},renderContent:function(){var t=this.getOptions();return CoreUI.form.ejs.render(CoreUI.form.tpl["fields/wysiwyg.html"],{field:t,value:this._value,editorHash:this._editorHash})},_initEvents:function(){if(!this._options.readonly){let t={},i=this,e="editor-"+this._editorHash;(t="object"==typeof this._options.options&&!Array.isArray(this._options.options)&&0<Object.keys(this._options.options).length?this._options.options:"simple"===this._options.options?{plugins:"image lists anchor charmap",toolbar:"blocks | bold italic underline | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | forecolor backcolor removeformat",menubar:!1,branding:!1}:{promotion:!1,branding:!1,plugins:"preview importcss searchreplace autolink autosave save directionality code visualblocks visualchars fullscreen image link media template codesample table charmap pagebreak nonbreaking anchor insertdatetime advlist lists wordcount help charmap quickbars emoticons",menubar:"file edit view insert format tools table help",toolbar:"undo redo | bold italic underline strikethrough | fontfamily fontsize blocks | alignleft aligncenter alignright alignjustify | outdent indent | numlist bullist | forecolor backcolor removeformat | pagebreak | charmap emoticons | fullscreen preview save print | insertfile image media template link anchor codesample | ltr rtl"}).selector="#editor-"+this._editorHash,0<=["string","number"].indexOf(typeof this._options.width)&&(t.width=this._options.width),0<=["string","number"].indexOf(typeof this._options.minWidth)&&(t.min_width=this._options.minWidth),0<=["string","number"].indexOf(typeof this._options.maxWidth)&&(t.max_width=this._options.maxWidth),0<=["string","number"].indexOf(typeof this._options.height)&&(t.height=this._options.height),0<=["string","number"].indexOf(typeof this._options.minHeight)&&(t.min_height=this._options.minHeight),0<=["string","number"].indexOf(typeof this._options.maxHeight)&&(t.max_height=this._options.maxHeight),tinymce.init(t).then(function(){i._editor=tinymce.get(e)})}}};;
CoreUI.form.controls.button={_form:null,_index:null,_options:{type:"button",href:null,content:null,onClick:null,attr:{class:"btn btn-sm btn-secondary"}},init:function(t,n,o){this._options=$.extend({},this._options,n),this._form=t,this._index=o;let i=this;t.on("shown.coreui.form",function(){i._initEvents()})},getOptions:function(){return $.extend(!0,{},this._options)},render:function(){let o=[];var t=this.getOptions();return t.attr.type="button",$.each(t.attr,function(t,n){o.push(t+'="'+n+'"')}),CoreUI.form.ejs.render(CoreUI.form.tpl["controls/button.html"],{control:this._options,render:{attr:0<o.length?" "+o.join(" "):""}})},show:function(t){$("#coreui-form-"+this._form.getId()+"-control-"+this._index).show(t||0)},hide:function(t){$("#coreui-form-"+this._form.getId()+"-control-"+this._index).hide(t||0)},lock:function(){var t=$("#coreui-form-"+this._form.getId()+"-control-"+this._index+" > button");t.find(".spinner-border")[0]||t.prepend('<span class="spinner-border spinner-border-sm"></span> '),t.attr("disabled")||t.attr("disabled","disabled")},_initEvents:function(){let that=this;0<=["function","string"].indexOf(typeof this._options.onClick)&&$("#coreui-form-"+this._form.getId()+"-control-"+this._index+" > button").click(function(event){if("function"==typeof that._options.onClick)that._options.onClick(that._form,event);else{let callback=CoreUI.form.utils.getFunctionByName(that._options.onClick);"function"==typeof callback?callback(that._form,event):eval(that._options.onClick)}})}};;
CoreUI.form.controls.custom={_form:null,_index:null,_options:{type:"custom",content:null},init:function(o,t,n){this._options=$.extend({},this._options,t),this._form=o,this._index=n},getOptions:function(){return $.extend(!0,{},this._options)},show:function(o){$("#coreui-form-"+form.getId()+"-control-"+this._index).show(o||0)},hide:function(o){$("#coreui-form-"+form.getId()+"-control-"+this._index).hide(o||0)},render:function(){return this._options.content}};;
CoreUI.form.controls.link={_form:null,_index:null,_options:{type:"link",href:null,content:null,onClick:null,attr:{class:"btn btn-sm btn-link"}},init:function(t,n,o){this._options=$.extend({},this._options,n),this._form=t,this._index=o;let i=this;t.on("shown.coreui.form",function(){i._initEvents()})},getOptions:function(){return $.extend(!0,{},this._options)},show:function(t){$("#coreui-form-"+this._form.getId()+"-control-"+this._index).show(t||0)},hide:function(t){$("#coreui-form-"+this._form.getId()+"-control-"+this._index).hide(t||0)},lock:function(){var t=$("#coreui-form-"+this._form.getId()+"-control-"+this._index+" > button");t.find(".spinner-border")[0]||t.prepend('<span class="spinner-border spinner-border-sm"></span> '),t.attr("disabled")||t.attr("disabled","disabled")},render:function(){let o=[];var t=this.getOptions();return $.each(t.attr,function(t,n){o.push(t+'="'+n+'"')}),CoreUI.form.ejs.render(CoreUI.form.tpl["controls/link.html"],{control:this._options,render:{attr:0<o.length?" "+o.join(" "):""}})},_initEvents:function(){let that=this;0<=["function","string"].indexOf(typeof this._options.onClick)&&$("#coreui-form-"+this._form.getId()+"-control-"+this._index+" > a").click(function(event){if("function"==typeof that._options.onClick)that._options.onClick(that._form,event);else{let callback=CoreUI.form.utils.getFunctionByName(that._options.onClick);"function"==typeof callback?callback(that._form,event):eval(that._options.onClick)}})}};;
CoreUI.form.controls.submit={_form:null,_index:null,_options:{type:"submit",href:null,content:null,onClick:null,show:!0,attr:{class:"btn btn-sm btn-primary"}},init:function(t,n,o){this._options=$.extend({},this._options,n),this._form=t,this._index=o;let i=this;t.on("shown.coreui.form",function(){i._initEvents()})},getOptions:function(){return $.extend(!0,{},this._options)},show:function(t){$("#coreui-form-"+this._form.getId()+"-control-"+this._index).show(t||0)},hide:function(t){$("#coreui-form-"+this._form.getId()+"-control-"+this._index).hide(t||0)},lock:function(){var t=$("#coreui-form-"+this._form.getId()+"-control-"+this._index+" > button");t.find(".spinner-border")[0]||t.prepend('<span class="spinner-border spinner-border-sm"></span> '),t.attr("disabled")||t.attr("disabled","disabled")},unlock:function(){var t=$("#coreui-form-"+this._form.getId()+"-control-"+this._index+" > button");t.find(".spinner-border").remove(),t.removeAttr("disabled")},render:function(){let o=[];var t=this.getOptions();return t.attr.type="submit",$.each(t.attr,function(t,n){o.push(t+'="'+n+'"')}),CoreUI.form.ejs.render(CoreUI.form.tpl["controls/button.html"],{control:this._options,render:{attr:0<o.length?" "+o.join(" "):""}})},_initEvents:function(){let that=this;0<=["function","string"].indexOf(typeof this._options.onClick)&&$("#coreui-form-"+this._form.getId()+"-control-"+this._index+" > button").click(function(event){if("function"==typeof that._options.onClick)that._options.onClick(that._form,event);else{let callback=CoreUI.form.utils.getFunctionByName(that._options.onClick);"function"==typeof callback?callback(that._form,event):eval(that._options.onClick)}})}};;
CoreUI.form.lang.en={modal_select:"Select",modal_loading:"Loading...",switch_yes:"Yes",switch_no:"No",dataset_add:"Add",date_months:["January","February","March","April","May","June","July","August","September","October","November","December"],date_week:"week",send_error:"An error has occurred. Please try again or contact your administrator",required_field:"Required field"};;
CoreUI.form.lang.ru={modal_select:"Выбрать",modal_loading:"Загрузка...",switch_yes:"Да",switch_no:"Нет",dataset_add:"Добавить",date_months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],date_week:"неделя",send_error:"Произошла ошибка. Попробуйте снова или обратитесь к администратору",required_field:"Обязательное поле"};
//# sourceMappingURL=coreui-form.min.js.map
