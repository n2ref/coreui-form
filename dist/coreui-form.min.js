!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):((t="undefined"!=typeof globalThis?globalThis:t||self).CoreUI=t.CoreUI||{},t.CoreUI.form=e())}(this,function(){"use strict";function q(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,U(i.key),i)}}function t(t,e,n){return e&&D(t.prototype,e),n&&D(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t,e,n){(e=U(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function e(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F(t,e)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function F(t,e){return(F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function h(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");e=t;if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n(){return(n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(i)return(i=Object.getOwnPropertyDescriptor(i,e)).get?i.get.call(arguments.length<3?t:n):i.value}).apply(this,arguments)}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,o,r,s,l=[],a=!0,u=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;a=!1}else for(;!(a=(i=r.call(n)).done)&&(l.push(i.value),l.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{if(!a&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw o}}return l}}(t,e)||N(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(t,e){var n;if(t)return"string"==typeof t?z(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(t,e):void 0}function z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function W(t,e){var n,i,o,r,s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(s)return i=!(n=!0),{s:function(){s=s.call(t)},n:function(){var t=s.next();return n=t.done,t},e:function(t){i=!0,o=t},f:function(){try{n||null==s.return||s.return()}finally{if(i)throw o}}};if(Array.isArray(t)||(s=N(t))||e&&t&&"number"==typeof t.length)return s&&(t=s),r=0,{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function U(t){t=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);if("object"!=typeof(n=n.call(t,e||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==typeof t?t:String(t)}var d=Object.create(null);d["form-control.html"]=' <div id="coreui-form-<%= form.id %>-control-<%= control.index %>" class="coreui-form__control_container" <% if ( ! control.show) { %>style="display:none"<% } %>> <%- control.content %> </div>',d["form-error.html"]='<div class="coreui-form__error alert alert-danger alert-dismissible fade show mb-3 <%= options.class %>"> <%- message %> <% if (options.dismiss) { %> <button type="button" class="btn-close" data-bs-dismiss="alert"></button> <% } %> </div>',d["form-field-attach.html"]='<div class="<%= directionClass %> content-<%= contentId %>"></div>',d["form-field-group.html"]='<div id="coreui-form-<%= id %>" class="coreui-form__group_container mb-3"> <div class="coreui-form__group_label pe-2"> <h6 class="coreui-form__field_label_text col-form-label"> <%- group.label %> <% if (group.showCollapsible) { %> <button type="button" class="btn btn-link btn-collapsible text-dark"> <% if ( ! group.show) { %> <i class="bi bi-chevron-right"></i> <% } else { %> <i class="bi bi-chevron-down"></i> <% } %> </button> <% } %> </h6> </div> <div class="coreui-form__group_content"<% if ( ! group.show) { %> style="display:none"<% } %>></div> </div>',d["form-field-label.html"]='<div id="coreui-form-<%= id %>" class="coreui-form__field_container d-flex flex-column flex-md-row mb-3<% if ( ! field.show) { %> d-none<% } %>"> <% if (field.labelWidth !== 0 && field.labelWidth !== \'0px\') { %> <div class="coreui-form__field_label text-md-end text-sm-start pe-2"<% if (field.labelWidth) { %> style="min-width:<%= field.labelWidth %>;width:<%= field.labelWidth %>"<% } %>> <div class="coreui-form__field_label_content col-form-label"> <% if (field.required) { %> <span class="coreui-form__field_label_req text-danger">*</span> <% } %> <% if (field.help) { %> <span class="coreui-form__field_label_help text-body-secondary" title="<%- field.help %>" data-bs-toggle="tooltip" data-bs-placement="bottom"> <i class="bi bi-question-circle"></i> </span> <% } %> <span class="coreui-form__field_label_text fw-medium"><%- field.label %></span> <% if (field.descriptionLabel) { %> <div class="coreui-form__field_label_description text-muted"> <small><%- field.descriptionLabel %></small> </div> <% } %> </div> </div> <% } %> <div class="coreui-form__field_content flex-fill"> <% if (field.prefix) { %> <span class="coreui-form__field-prefix d-inline-block align-top ps-1"> <%- field.prefix %> </span> <% } %> <div class="d-inline-block content-<%= contentId %>"></div> <% if (field.suffix) { %> <span class="coreui-form__field-suffix d-inline-block align-top ps-1"> <%- field.suffix %> </span> <% } %> <% if (issetAttachFields) { %> <div class="coreui-form__attach-fields <%= directionClass %>"></div> <% } %> <% if (field.description) { %> <div class="coreui-form__field_description text-muted"> <small><%- field.description %></small> </div> <% } %> </div> </div>',d["form.html"]='<div id="coreui-form-<%= form.id %>" class="coreui-form mb-2" <% if (widthSizes) { %>style="<%= widthSizes.join(\';\') %>"<% } %>> <% if (form.title) { %> <h5 class="mb-4"><%- form.title %></h5> <% } %> <form action="<%= form.send.url %>" method="<%= form.send.method %>"<%- formAttr %>> <div class="coreui-form__fields d-flex justify-content-start flex-column flex-wrap"></div> <% if (controls) { %> <div class="coreui-form__controls d-flex justify-content-start flex-sm-wrap flex-md-nowrap"> <% if (form.controlsOffset !== 0 && form.controlsOffset !== \'0px\') { %> <div class="d-none d-md-block" style="width:<%= form.controlsOffset %>;min-width:<%= form.controlsOffset %>"></div> <% } %> <div class="d-flex justify-content-start flex-wrap gap-2"> <% $.each(controls, function(key, control) { %> <% if (control.content !== null) { %> <div id="coreui-form-<%= form.id %>-control-<%= control.index %>" class="coreui-form__control_container" <% if ( ! control.show) { %>style="display:none"<% } %>> </div> <% } %> <% }); %> </div> </div> <% } %> </form> </div>',d["controls/button.html"]="<button <%- attr %>><%- content %></button>",d["controls/link.html"]='<a href="<%- url %>"<%- attr %>><%- content %></a>',d["fields/checkbox-btn.html"]='<% if (readonly) { %> <div class="coreui-form__field-readonly col-form-label"><%- selectedItems.join(\', \') %></div> <% } else { %> <div class="pt-2"> <div class="btn-group" role="group" aria-label="Basic checkbox toggle button group"> <% $.each(options, function(key, option) { %> <input <%- option.attr %>> <label class="<%= field.optionsClass %>" for="<%= option.id %>"><%= option.text %></label> <% }); %> </div> </div> <% } %>',d["fields/checkbox.html"]='<% if (readonly) { %> <div class="coreui-form__field-readonly col-form-label"><%- selectedItems.join(\', \') %></div> <% } else { %> <div class="pt-2"> <% $.each(options, function(key, option) { %> <div class="form-check<% if (field.inline) { %> form-check-inline<% } %>"> <input <%- option.attr %>/> <label class="form-check-label" for="<%= option.id %>"><%= option.text %></label> </div> <% }); %> </div> <% } %>',d["fields/color.html"]='<% if (readonly) { %> <div class="coreui-form__field-readonly col-form-label rounded-1" style="width: 14px;height: 14px;background-color: <%= value %>"></div> <% } else { %> <input <%- attr %>/> <% if (datalist.length > 0) { %> <datalist id="<%= datalistId %>"> <% $.each(datalist, function(key, item) { %> <option <%- item.attr %>/> <% }); %> </datalist> <% } %> <% } %>',d["fields/dataset-row-readonly.html"]='<tr class="coreui-form__field-dataset-item"> <% $.each(options, function(key, option) { %> <td class="pe-2 pb-1"> <%- option.value %> </td> <% }); %> </tr>',d["fields/dataset-row.html"]='<tr class="coreui-form__field-dataset-item" id="dataset-item-<%= hashItem %>"> <% $.each(options, function(key, option) { %> <td class="pe-1 pb-1"> <% if (option.type === \'select\') { %> <select <%- option.attr %>> <% $.each(option.items, function(key, item) { %> <option <%- item.attr %>><%- item.text %></option> <% }); %> </select> <% } else if (option.type === \'switch\') { %> <div class="form-check form-switch"> <input <%- option.attr %>/> </div> <% } else { %> <input <%- option.attr %>> <% } %> </td> <% }); %> <td class="pb-1"> <button type="button" class="btn btn-link btn-dataset-remove" data-item-id="dataset-item-<%= hashItem %>"> <i class="bi bi-x text-muted"></i> </button> </td> </tr>',d["fields/dataset.html"]='<% if (readonly) { %> <table class="coreui-form__field-dataset-container" <% if (rows.length == 0) { %> style="display:none"<% } %>> <thead> <tr> <% $.each(headers, function(key, item) { %> <td class="text-muted pe-2"><small><%= item.title %></small></td> <% }); %> </tr> </thead> <tbody class="coreui-form__field-dataset-list"> <% $.each(rows, function(key, row) { %> <%- row %> <% }); %> </tbody> </table> <% } else { %> <table class="coreui-form__field-dataset-container" <% if (rows.length == 0) { %> style="display:none"<% } %>> <thead> <tr> <% $.each(headers, function(key, item) { %> <td class="text-muted"><small><%= item.title %></small></td> <% }); %> <td></td> </tr> </thead> <tbody class="coreui-form__field-dataset-list"> <% $.each(rows, function(key, row) { %> <%- row %> <% }); %> </tbody> </table> <button type="button" class="btn btn-link btn-dataset-add"><%= lang.dataset_add %></button> <% } %>',d["fields/file-upload.html"]=' <% if (showButton) { %> <button type="button" class="btn btn-outline-secondary fileup-btn"> <%= lang.file_upload_select %> <input type="file" id="fileup-<%= id %>"<% if (isMultiple) { %> multiple<% } %><% if (accept) { %> accept="<%= accept %>"<% } %>> </button> <% } else { %> <input type="file" id="fileup-<%= id %>"<% if (isMultiple) { %> multiple<% } %><% if (accept) { %> accept="<%= accept %>"<% } %> style="display:none"> <% } %> <% if (showDropzone) { %> <div id="fileup-<%= id %>-dropzone" class="fileup-dropzone p-4 d-inline-block text-primary-emphasis fs-5 rounded-4 text-center <% if (showButton) { %>mt-2<% } %>>"> <i class="bi bi-folder2-open"></i> <%= lang.file_upload_dropzone %> </div> <% } %> <div id="fileup-<%= id %>-queue"></div>',d["fields/hidden.html"]="<% if ( ! readonly) { %> <input <%- attr %>/> <% } %>",d["fields/input.html"]='<% if (readonly) { %> <div class="coreui-form__field-readonly col-form-label"><%- value %></div> <% } else { %> <input <%- attr %>/> <% if (datalist.length > 0) { %> <datalist id="<%= datalistId %>"> <% $.each(datalist, function(key, item) { %> <option <%- item.attr %>/> <% }); %> </datalist> <% } %> <% } %>',d["fields/modal-loading.html"]='<div class="py-4 d-flex justify-content-center align-items-center gap-2"> <div class="spinner-border mr-2"></div> <%= lang.modal_loading %> </div> ',d["fields/modal.html"]='<% if (readonly) { %> <div class="coreui-form__field-readonly col-form-label"><%= text %></div> <% } else { %> <div class="input-group"<% if (width) { %> style="width:<%= width %>"<% } %>> <input <%- attr %>/> <input type="hidden" name="<%= name %>" value="<%= value %>" class="coreui-form-modal-value"/> <% if ( ! required) { %> <button class="btn btn-outline-secondary btn-modal-clear border-secondary-subtle" type="button"> <i class="bi bi-x"></i> </button> <% } %> <button class="btn btn-outline-secondary btn-modal-select border-secondary-subtle" type="button"><%= lang.modal_select %></button> </div> <% } %>',d["fields/passwordRepeat.html"]='<% if (readonly) { %> <div class="coreui-form__field-readonly col-form-label"><%- value %></div> <% } else { %> <div class="d-flex gap-1 align-items-center"> <input <%- attr %>/> <% if (showBtn) { %> <div class="input-group flex-nowrap"> <input <%- attr2 %>/> <button class="btn btn-outline-secondary border-secondary-subtle btn-password-change" type="button" data-change="<%- lang.change %>" data-cancel="<%- lang.cancel %>"><%= btn_text %></button> </div> <% } else { %> <input <%- attr2 %>/> <% } %> </div> <% } %>',d["fields/radio-btn.html"]='<% if (readonly) { %> <div class="coreui-form__field-readonly col-form-label"><%- selectedItem %></div> <% } else { %> <div class="pt-2"> <div class="btn-group" role="group"> <% $.each(options, function(key, option) { %> <input <%- option.attr %>> <label class="<%= optionsClass %>" for="<%= option.id %>"><%= option.text %></label> <% }); %> </div> </div> <% } %>',d["fields/radio.html"]='<% if (readonly) { %> <div class="coreui-form__field-readonly col-form-label"><%- selectedItem %></div> <% } else { %> <div class="pt-2"> <% $.each(options, function(key, option) { %> <div class="form-check<% if (inline) { %> form-check-inline<% } %>"> <input <%- option.attr %>/> <label class="form-check-label" for="<%= option.id %>"><%= option.text %></label> </div> <% }); %> </div> <% } %>',d["fields/select.html"]="<% if (readonly) { %> <div class=\"coreui-form__field-readonly col-form-label\"><%= readonlyOptions.join(', ') %></div> <% } else { %> <select <%- attr %>> <% $.each(options, function(key, option) { %> <% if (option.type === 'group') { %> <optgroup<%- option.attr %>/> <% $.each(option.options, function(key, groupOption) { %> <option <%- groupOption.attr %>/><%= groupOption.text %></option> <% }); %> </optgroup> <% } else { %> <option <%- option.attr %>/><%= option.text %></option> <% } %> <% }); %> </select> <% } %>",d["fields/switch.html"]='<% if (readonly) { %> <div class="coreui-form__field-readonly col-form-label"><%= valueY == value ? lang.switch_yes : lang.switch_no %></div> <% } else { %> <div class="form-check form-switch pt-2"> <input <%- attr %>/> </div> <% } %>',d["fields/textarea.html"]='<% if (readonly) { %> <div class="coreui-form__field-readonly col-form-label"><%- value %></div> <% } else { %> <textarea <%- attr %>><%- value %></textarea> <% } %>',d["fields/wysiwyg.html"]='<% if (readonly) { %> <div class="coreui-form__field-readonly col-form-label"><%- value %></div> <% } else { %> <textarea name="<%= name %>" id="editor-<%= editorHash %>"><%- value %></textarea> <% } %>',function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ejs=t()}(function(){return function i(o,r,s){function l(e,t){if(!r[e]){if(!o[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(a)return a(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}n=r[e]={exports:{}},o[e][0].call(n.exports,function(t){return l(o[e][1][t]||t)},n,n.exports,i,o,r,s)}return r[e].exports}for(var a="function"==typeof require&&require,t=0;t<s.length;t++)l(s[t]);return l}({1:[function(t,e,a){var r=t("fs"),c=t("path"),f=t("./utils"),n=!1,t=t("../package.json").version,i=["delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace","strict","filename","async"],u=i.concat("cache"),s=/^\uFEFF/,h=/^[a-zA-Z_$][0-9a-zA-Z_$]*$/;function l(e,t){var n;if(t.some(function(t){return n=a.resolveInclude(e,t,!0),r.existsSync(n)}))return n}function d(t,e){var n,i=t.filename,o=1<arguments.length;if(t.cache){if(!i)throw new Error("cache option requires a filename");if(n=a.cache.get(i))return n;o||(e=p(i).toString().replace(s,""))}else if(!o){if(!i)throw new Error("Internal EJS error: no file name or template provided");e=p(i).toString().replace(s,"")}return n=a.compile(e,t),t.cache&&a.cache.set(i,n),n}function p(t){return a.fileLoader(t)}function _(t,e){var n=f.shallowCopy(f.createNullProtoObjWherePossible(),e);if(n.filename=function(t,e){var n,i=e.views,o=/^[A-Za-z]+:\\|^\//.exec(t);if(o&&o.length)t=t.replace(/^\/*/,""),n=Array.isArray(e.root)?l(t,e.root):a.resolveInclude(t,e.root||"/",!0);else if(!(n=!(n=e.filename&&(o=a.resolveInclude(t,e.filename),r.existsSync(o))?o:n)&&Array.isArray(i)?l(t,i):n)&&"function"!=typeof e.includer)throw new Error('Could not find the include file "'+e.escapeFunction(t)+'"');return n}(t,n),"function"==typeof e.includer){e=e.includer(t,n.filename);if(e&&(e.filename&&(n.filename=e.filename),e.template))return d(n,e.template)}return d(n)}function y(t,e,n,i,o){var e=e.split("\n"),r=Math.max(i-3,0),s=Math.min(e.length,i+3),o=o(n),n=e.slice(r,s).map(function(t,e){e=e+r+1;return(e==i?" >> ":"    ")+e+"| "+t}).join("\n");throw t.path=o,t.message=(o||"ejs")+":"+i+"\n"+n+"\n\n"+t.message,t}function v(t){return t.replace(/;(\s*$)/,"$1")}function m(t,e){var e=f.hasOwnOnlyObject(e),n=f.createNullProtoObjWherePossible();this.templateText=t,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",n.client=e.client||!1,n.escapeFunction=e.escape||e.escapeFunction||f.escapeXML,n.compileDebug=!1!==e.compileDebug,n.debug=!!e.debug,n.filename=e.filename,n.openDelimiter=e.openDelimiter||a.openDelimiter||"<",n.closeDelimiter=e.closeDelimiter||a.closeDelimiter||">",n.delimiter=e.delimiter||a.delimiter||"%",n.strict=e.strict||!1,n.context=e.context,n.cache=e.cache||!1,n.rmWhitespace=e.rmWhitespace,n.root=e.root,n.includer=e.includer,n.outputFunctionName=e.outputFunctionName,n.localsName=e.localsName||a.localsName||"locals",n.views=e.views,n.async=e.async,n.destructuredLocals=e.destructuredLocals,n.legacyInclude=void 0===e.legacyInclude||!!e.legacyInclude,n.strict?n._with=!1:n._with=void 0===e._with||e._with,this.opts=n,this.regex=this.createRegex()}a.cache=f.cache,a.fileLoader=r.readFileSync,a.localsName="locals",a.promiseImpl=new Function("return this;")().Promise,a.resolveInclude=function(t,e,n){var i=c.dirname,o=c.extname,n=(0,c.resolve)(n?e:i(e),t);return o(t)||(n+=".ejs"),n},a.compile=function(t,e){return e&&e.scope&&(n||(console.warn("`scope` option is deprecated and will be removed in EJS 3"),n=!0),e.context||(e.context=e.scope),delete e.scope),new m(t,e).compile()},a.render=function(t,e,n){e=e||f.createNullProtoObjWherePossible(),n=n||f.createNullProtoObjWherePossible();return 2==arguments.length&&f.shallowCopyFromList(n,e,i),d(n,t)(e)},a.renderFile=function(){var t,e,n,i=Array.prototype.slice.call(arguments),o=i.shift(),r={filename:o},s=("function"==typeof arguments[arguments.length-1]&&(t=i.pop()),i.length?(e=i.shift(),i.length?f.shallowCopy(r,i.pop()):(e.settings&&(e.settings.views&&(r.views=e.settings.views),e.settings["view cache"]&&(r.cache=!0),i=e.settings["view options"])&&f.shallowCopy(r,i),f.shallowCopyFromList(r,e,u)),r.filename=o):e=f.createNullProtoObjWherePossible(),r),l=e,i=t;if(!i){if("function"==typeof a.promiseImpl)return new a.promiseImpl(function(t,e){try{t(n=d(s)(l))}catch(t){e(t)}});throw new Error("Please provide a callback function")}try{n=d(s)(l)}catch(t){return i(t)}i(null,n)},a.Template=m,a.clearCache=function(){a.cache.reset()},m.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"},m.prototype={createRegex:function(){var t="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",e=f.escapeRegExpChars(this.opts.delimiter),n=f.escapeRegExpChars(this.opts.openDelimiter),i=f.escapeRegExpChars(this.opts.closeDelimiter),t=t.replace(/%/g,e).replace(/</g,n).replace(/>/g,i);return new RegExp(t)},compile:function(){var t,o=this.opts,e="",n="",r=o.escapeFunction,i=o.filename?JSON.stringify(o.filename):"undefined";if(!this.source){if(this.generateSource(),e+='  var __output = "";\n  function __append(s) { if (s !== undefined && s !== null) __output += s }\n',o.outputFunctionName){if(!h.test(o.outputFunctionName))throw new Error("outputFunctionName is not a valid JS identifier.");e+="  var "+o.outputFunctionName+" = __append;\n"}if(o.localsName&&!h.test(o.localsName))throw new Error("localsName is not a valid JS identifier.");if(o.destructuredLocals&&o.destructuredLocals.length){for(var s="  var __locals = ("+o.localsName+" || {}),\n",l=0;l<o.destructuredLocals.length;l++){var a=o.destructuredLocals[l];if(!h.test(a))throw new Error("destructuredLocals["+l+"] is not a valid JS identifier.");0<l&&(s+=",\n  "),s+=a+" = __locals."+a}e+=s+";\n"}!1!==o._with&&(e+="  with ("+o.localsName+" || {}) {\n",n+="  }\n"),this.source=e+this.source+(n+="  return __output;\n")}e=o.compileDebug?"var __line = 1\n  , __lines = "+JSON.stringify(this.templateText)+"\n  , __filename = "+i+";\ntry {\n"+this.source+"} catch (e) {\n  rethrow(e, __lines, __filename, __line, escapeFn);\n}\n":this.source,o.client&&(e="escapeFn = escapeFn || "+r.toString()+";\n"+e,o.compileDebug)&&(e="rethrow = rethrow || "+y.toString()+";\n"+e),o.strict&&(e='"use strict";\n'+e),o.debug&&console.log(e),o.compileDebug&&o.filename&&(e=e+"\n//# sourceURL="+i+"\n");try{if(o.async)try{u=new Function("return (async function(){}).constructor;")()}catch(t){throw t instanceof SyntaxError?new Error("This environment does not support async/await"):t}else u=Function;t=new u(o.localsName+", escapeFn, include, rethrow",e)}catch(t){throw t instanceof SyntaxError&&(o.filename&&(t.message+=" in "+o.filename),t.message+=" while compiling ejs\n\n",t.message+="If the above error is not helpful, you may want to try EJS-Lint:\n",t.message+="https://github.com/RyanZim/EJS-Lint",o.async||(t.message+="\n",t.message+="Or, if you meant to create an async function, pass `async: true` as an option.")),t}n=o.client?t:function(i){return t.apply(o.context,[i||f.createNullProtoObjWherePossible(),r,function(t,e){var n=f.shallowCopy(f.createNullProtoObjWherePossible(),i);return e&&(n=f.shallowCopy(n,e)),_(t,o)(n)},y])};if(o.filename&&"function"==typeof Object.defineProperty){var i=o.filename,u=c.basename(i,c.extname(i));try{Object.defineProperty(n,"name",{value:u,writable:!1,enumerable:!1,configurable:!0})}catch(t){}}return n},generateSource:function(){this.opts.rmWhitespace&&(this.templateText=this.templateText.replace(/[\r\n]+/g,"\n").replace(/^\s+|\s+$/gm,"")),this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var n=this,i=this.parseTemplateText(),o=this.opts.delimiter,r=this.opts.openDelimiter,s=this.opts.closeDelimiter;i&&i.length&&i.forEach(function(t,e){if(0===t.indexOf(r+o)&&0!==t.indexOf(r+o+o)&&(e=i[e+2])!=o+s&&e!="-"+o+s&&e!="_"+o+s)throw new Error('Could not find matching close tag for "'+t+'".');n.scanLine(t)})},parseTemplateText:function(){for(var t,e=this.templateText,n=this.regex,i=n.exec(e),o=[];i;)0!==(t=i.index)&&(o.push(e.substring(0,t)),e=e.slice(t)),o.push(i[0]),e=e.slice(i[0].length),i=n.exec(e);return e&&o.push(e),o},_addOutput:function(t){if(this.truncate&&(t=t.replace(/^(?:\r\n|\r|\n)/,""),this.truncate=!1),!t)return t;t=(t=(t=(t=t.replace(/\\/g,"\\\\")).replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/"/g,'\\"'),this.source+='    ; __append("'+t+'")\n'},scanLine:function(t){var e=this.opts.delimiter,n=this.opts.openDelimiter,i=this.opts.closeDelimiter,o=t.split("\n").length-1;switch(t){case n+e:case n+e+"_":this.mode=m.modes.EVAL;break;case n+e+"=":this.mode=m.modes.ESCAPED;break;case n+e+"-":this.mode=m.modes.RAW;break;case n+e+"#":this.mode=m.modes.COMMENT;break;case n+e+e:this.mode=m.modes.LITERAL,this.source+='    ; __append("'+t.replace(n+e+e,n+e)+'")\n';break;case e+e+i:this.mode=m.modes.LITERAL,this.source+='    ; __append("'+t.replace(e+e+i,e+i)+'")\n';break;case e+i:case"-"+e+i:case"_"+e+i:this.mode==m.modes.LITERAL&&this._addOutput(t),this.mode=null,this.truncate=0===t.indexOf("-")||0===t.indexOf("_");break;default:if(this.mode){switch(this.mode){case m.modes.EVAL:case m.modes.ESCAPED:case m.modes.RAW:t.lastIndexOf("//")>t.lastIndexOf("\n")&&(t+="\n")}switch(this.mode){case m.modes.EVAL:this.source+="    ; "+t+"\n";break;case m.modes.ESCAPED:this.source+="    ; __append(escapeFn("+v(t)+"))\n";break;case m.modes.RAW:this.source+="    ; __append("+v(t)+")\n";break;case m.modes.COMMENT:break;case m.modes.LITERAL:this._addOutput(t)}}else this._addOutput(t)}this.opts.compileDebug&&o&&(this.currentLine+=o,this.source+="    ; __line = "+this.currentLine+"\n")}},a.escapeXML=f.escapeXML,a.__express=a.renderFile,a.VERSION=t,a.name="ejs","undefined"!=typeof window&&(window.ejs=a)},{"../package.json":6,"./utils":2,fs:3,path:4}],2:[function(t,e,i){function r(t,e){return o.apply(t,[e])}var n=/[|\\{}()[\]^$+*?.]/g,o=Object.prototype.hasOwnProperty,s=(i.escapeRegExpChars=function(t){return t?String(t).replace(n,"\\$&"):""},{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"}),l=/[&<>'"]/g;function a(t){return s[t]||t}function u(){return Function.prototype.toString.call(this)+';\nvar _ENCODE_HTML_RULES = {\n      "&": "&amp;"\n    , "<": "&lt;"\n    , ">": "&gt;"\n    , \'"\': "&#34;"\n    , "\'": "&#39;"\n    }\n  , _MATCH_HTML = /[&<>\'"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n'}i.escapeXML=function(t){return null==t?"":String(t).replace(l,a)};try{"function"==typeof Object.defineProperty?Object.defineProperty(i.escapeXML,"toString",{value:u}):i.escapeXML.toString=u}catch(t){console.warn("Unable to set escapeXML.toString (is the Function prototype frozen?)")}i.shallowCopy=function(t,e){if(e=e||{},null!=t)for(var n in e)r(e,n)&&"__proto__"!==n&&"constructor"!==n&&(t[n]=e[n]);return t},i.shallowCopyFromList=function(t,e,n){if(n=n||[],e=e||{},null!=t)for(var i=0;i<n.length;i++){var o=n[i];void 0!==e[o]&&r(e,o)&&"__proto__"!==o&&"constructor"!==o&&(t[o]=e[o])}return t},i.cache={_data:{},set:function(t,e){this._data[t]=e},get:function(t){return this._data[t]},remove:function(t){delete this._data[t]},reset:function(){this._data={}}},i.hyphenToCamel=function(t){return t.replace(/-[a-z]/g,function(t){return t[1].toUpperCase()})},i.createNullProtoObjWherePossible="function"==typeof Object.create?function(){return Object.create(null)}:{__proto__:null}instanceof Object?function(){return{}}:function(){return{__proto__:null}},i.hasOwnOnlyObject=function(t){var e,n=i.createNullProtoObjWherePossible();for(e in t)r(t,e)&&(n[e]=t[e]);return n}},{}],3:[function(t,e,n){},{}],4:[function(t,e,u){!function(o){function r(t,e){for(var n=0,i=t.length-1;0<=i;i--){var o=t[i];"."===o?t.splice(i,1):".."===o?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;)t.unshift("..");return t}function s(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}u.resolve=function(){for(var t="",e=!1,n=arguments.length-1;-1<=n&&!e;n--){var i=0<=n?arguments[n]:o.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(t=i+"/"+t,e="/"===i.charAt(0))}return(e?"/":"")+(t=r(s(t.split("/"),function(t){return!!t}),!e).join("/"))||"."},u.normalize=function(t){var e=u.isAbsolute(t),n="/"===i(t,-1);return(t=(t=r(s(t.split("/"),function(t){return!!t}),!e).join("/"))||e?t:".")&&n&&(t+="/"),(e?"/":"")+t},u.isAbsolute=function(t){return"/"===t.charAt(0)},u.join=function(){var t=Array.prototype.slice.call(arguments,0);return u.normalize(s(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},u.relative=function(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;0<=n&&""===t[n];n--);return n<e?[]:t.slice(e,n-e+1)}t=u.resolve(t).substr(1),e=u.resolve(e).substr(1);for(var i=n(t.split("/")),o=n(e.split("/")),r=Math.min(i.length,o.length),s=r,l=0;l<r;l++)if(i[l]!==o[l]){s=l;break}for(var a=[],l=s;l<i.length;l++)a.push("..");return(a=a.concat(o.slice(s))).join("/")},u.sep="/",u.delimiter=":",u.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=47===t.charCodeAt(0),n=-1,i=!0,o=t.length-1;1<=o;--o)if(47===t.charCodeAt(o)){if(!i){n=o;break}}else i=!1;return-1===n?e?"/":".":e&&1===n?"/":t.slice(0,n)},u.basename=function(t,e){t=function(t){"string"!=typeof t&&(t+="");for(var e=0,n=-1,i=!0,o=t.length-1;0<=o;--o)if(47===t.charCodeAt(o)){if(!i){e=o+1;break}}else-1===n&&(i=!1,n=o+1);return-1===n?"":t.slice(e,n)}(t);return t=e&&t.substr(-1*e.length)===e?t.substr(0,t.length-e.length):t},u.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,n=0,i=-1,o=!0,r=0,s=t.length-1;0<=s;--s){var l=t.charCodeAt(s);if(47===l){if(o)continue;n=s+1;break}-1===i&&(o=!1,i=s+1),46===l?-1===e?e=s:1!==r&&(r=1):-1!==e&&(r=-1)}return-1===e||-1===i||0===r||1===r&&e===i-1&&e===n+1?"":t.slice(e,i)};var i="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}.call(this,t("_process"))},{_process:5}],5:[function(t,e,n){var i,o,e=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}try{i="function"==typeof setTimeout?setTimeout:r}catch(t){i=r}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(t){o=s}function l(e){if(i===setTimeout)return setTimeout(e,0);if((i===r||!i)&&setTimeout)return(i=setTimeout)(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}var a,u=[],c=!1,f=-1;function h(){c&&a&&(c=!1,a.length?u=a.concat(u):f=-1,u.length)&&d()}function d(){if(!c){for(var t=l(h),e=(c=!0,u.length);e;){for(a=u,u=[];++f<e;)a&&a[f].run();f=-1,e=u.length}a=null,c=!1,!function(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return(o=clearTimeout)(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function _(){}e.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new p(t,e)),1!==u.length||c||l(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=_,e.addListener=_,e.once=_,e.off=_,e.removeListener=_,e.removeAllListeners=_,e.emit=_,e.prependListener=_,e.prependOnceListener=_,e.listeners=function(t){return[]},e.binding=function(t){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(t){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},{}],6:[function(t,e,n){e.exports={name:"ejs",description:"Embedded JavaScript templates",keywords:["template","engine","ejs"],version:"3.1.9",author:"Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)",license:"Apache-2.0",bin:{ejs:"./bin/cli.js"},main:"./lib/ejs.js",jsdelivr:"ejs.min.js",unpkg:"ejs.min.js",repository:{type:"git",url:"git://github.com/mde/ejs.git"},bugs:"https://github.com/mde/ejs/issues",homepage:"https://github.com/mde/ejs",dependencies:{jake:"^10.8.5"},devDependencies:{browserify:"^16.5.1",eslint:"^6.8.0","git-directory-deploy":"^1.5.1",jsdoc:"^4.0.2","lru-cache":"^4.0.1",mocha:"^10.2.0","uglify-js":"^3.3.16"},engines:{node:">=0.10.0"},scripts:{test:"npx jake test"}}},{}]},{},[1])(1)});var m=function(t,e,n,i){n=n||[];var o=[];if(t._events[e]instanceof Object&&0<t._events[e].length)for(var r=0;r<t._events[e].length;r++){var s=t._events[e][r].callback,l=t._events[e][r].context||i||t;o.push(s.apply(l,n)),t._events[e][r].singleExec&&(t._events[e].splice(r,1),r--)}return o},V=function(t,e){if("object"!==y(e))return null;var n=e.hasOwnProperty("type")&&"string"==typeof e.type?e.type:"input";if("group"===n)return null;t._controller.fields.hasOwnProperty(n)||(n="input"),t._readonly&&(e.readonly=!0);var i=t._fieldsIndex++,o=e.hasOwnProperty("name")&&"string"==typeof e.name&&e.name?e.name:null,r=e.hasOwnProperty("id")&&"string"==typeof e.id&&e.id?e.id:null,s=(e.hasOwnProperty("width")&&e.width?(s="number"==typeof e.width?"px":"",e.width=e.width+s):t._options.fieldWidth&&"color"!==e.type&&(s="number"==typeof t._options.fieldWidth?"px":"",e.width=t._options.fieldWidth+s),e.value=g.getFieldValue(t,o),e.contentId=g.hashCode(),e.id=t.getId()+"-"+(r||o||i),new t._controller.fields[n](t,e));return t._fields.push(s),s},H=function(t,e){var n,i;return"object"!==y(e)||"group"!==(e.hasOwnProperty("type")&&"string"==typeof e.type?e.type:"")?null:(n=t._groupsIndex++,i=e.hasOwnProperty("id")&&"string"==typeof e.id&&e.id?e.id:null,e.id=t.getId()+"-"+(i||n),i=new t._controller.fields.group(t,e),t._groups.push(i),i)},Y=function(t,e){if("object"!==y(e))return null;var n=e.hasOwnProperty("type")&&"string"==typeof e.type?e.type:null;if(!n||!t._controller.controls.hasOwnProperty(n))return null;"submit"===n&&t._readonly&&(e.show=!1);var i=t._controlsIndex++,o=e.hasOwnProperty("name")&&"string"==typeof e.name&&e.name?e.name:null,r=e.hasOwnProperty("id")&&"string"==typeof e.id&&e.id?e.id:null,r=((e=$.extend(!0,{},e)).id=t.getId()+"-control-"+(r||o||i),new t._controller.controls[n](t,e));return t._controls.push(r),r},J=function(t){var e=$(g.render(d["form-field-group.html"],{id:t.getId(),group:t.getOptions()})),n=e.find(".coreui-form__group_content");return t.renderContent().map(function(t){n.append(t)}),e},X=function(t,e){if(!e||"object"!==y(e))return null;var n,i,o=e.getOptions(),r=e.getContentId(),s=g.getAttacheFields(t,o),l="column"===(o.hasOwnProperty("fieldsDirection")&&"string"==typeof o.fieldsDirection?o.fieldsDirection:"row")?"d-block mt-2":"d-inline-block",t=(o.hasOwnProperty("labelWidth")&&o.labelWidth?(n="number"==typeof o.labelWidth?"px":"",o.labelWidth=o.labelWidth+n):t._options.labelWidth&&(n="number"==typeof t._options.labelWidth?"px":"",o.labelWidth=t._options.labelWidth+n),$(g.render(d["form-field-label.html"],{id:e.getId(),field:o,contentId:r,issetAttachFields:0<s.length,directionClass:l}))),a=$(".content-"+r,t),u=e.renderContent();if(Array.isArray(u))u.map(function(t){a.append(t)});else if(g.isObject(u))for(var c=0;c<=u.length;c++)a.append(u[c]);else u&&a.append(u);return 0<s.length&&(i=$(".coreui-form__attach-fields",t),s.map(function(t){var e=$(g.render(d["form-field-attach.html"],{contentId:t.contentId,directionClass:l}));e.append(t.content),i.append(e)})),t},g={_templates:{},assign:function(t,e){var n=Object.create(e.prototype);Object.assign(t,n);var i,o=W(Object.getOwnPropertyNames(e.prototype));try{for(o.s();!(i=o.n()).done;){var r=i.value;"constructor"!==r&&(t[r]=n[r].bind(t))}}catch(t){o.e(t)}finally{o.f()}},getFieldValue:function(t,e){t=t.getRecord();return t&&"string"==typeof e&&t.hasOwnProperty(e)&&0<=["string","number","object"].indexOf(y(t[e]))?t[e]:""},getFunctionByName:function(t,e){var n=t.split("."),t=n.pop();e=e||window;for(var i=0;i<n.length;i++){if(!e.hasOwnProperty(n[i]))return null;e=e[n[i]]}return"function"==typeof e[t]?e[t]:null},mergeAttr:function(t,e){var n=Object.assign({},t);return"object"===y(e)&&$.each(e,function(t,e){n.hasOwnProperty(t)?"class"===t?n[t]+=" "+e:"style"===t?n[t]+=";"+e:n[t]=e:n[t]=e}),n},getAttacheFields:function(n,t){var i=[];return"object"===y(t)&&"object"===y(t.fields)&&Array.isArray(t.fields)&&$.each(t.fields,function(t,e){e=V(n,e);"object"===y(e)&&i.push({contentId:e.getContentId(),content:e.renderContent()})}),i},formatDate:function(t){var e,n,i;return t&&10===t.length&&(e=(n=new Date(t)).getFullYear(),i=n.getMonth()+1,t=(n=(n=n.getDate())<10?"0"+n:n)+"."+(i=i<10?"0"+i:i)+"."+e),t},formatDateTime:function(t){var e,n,i,o;return t&&10<=t.length&&(n=(e=new Date(t)).getFullYear(),o=e.getMonth()+1,t=(i=(i=e.getDate())<10?"0"+i:i)+"."+(o=o<10?"0"+o:o)+"."+n+" "+("00"+e.getHours()).slice(-2)+":"+("00"+e.getMinutes()).slice(-2)+":"+("00"+e.getSeconds()).slice(-2)),t},formatDateMonth:function(t,e){var n,i;return t&&7===t.length&&(n=(i=new Date(t)).getFullYear(),i=i.getMonth(),t=(e.date_months.hasOwnProperty(i)?e.date_months[i]:"")+" "+n),t},formatDateWeek:function(t,e){var n,i;return t&&7<=t.length&&(n=t.substring(0,4),i=t.substring(6),t=n+" "+e.date_week+" "+i),t},getObjValue:function(t,e){for(var n=0,i=(e=e.split(".")).length;n<i;n++)t=t[e[n]];return t},isJson:function(t){if("string"!=typeof t)return!1;try{var e=JSON.parse(t);return"object"===y(e)||Array.isArray(e)}catch(t){return!1}},isObject:function(t){return"object"===y(t)&&!Array.isArray(t)&&null!==t},isNumeric:function(t){return("number"==typeof t||"string"==typeof t&&""!==t.trim())&&!isNaN(t)},hashCode:function(){return this.crc32(((new Date).getTime()+Math.random()).toString()).toString(16)},crc32:function(t){for(var e=[],n=0;n<256;n++){for(var i=n,o=0;o<8;o++)i=1&i?3988292384^i>>>1:i>>>1;e[n]=i}for(var r=-1,s=0;s<t.length;s++)r=r>>>8^e[255&(r^t.charCodeAt(s))];return(-1^r)>>>0},round:function(t,e){var n;return 0===(e=void 0!==e?parseInt(e):0)?Math.round(t):0<e?(n=Math.pow(10,e),Math.round(t*n)/n):(n=Math.pow(10,e),Math.round(t/n)*n)},render:function(t,e){var n=this.crc32(t);return this._templates.hasOwnProperty(n)||(this._templates[n]=ejs.compile(t)),this._templates[n](e)}},G=function(){return t(function t(e){l(this,t),c(this,"_id",null),this.setId(e)},[{key:"setId",value:function(t){return"string"==typeof t&&t&&(this._id=t),this}},{key:"getId",value:function(){return this._id}}])}();var Z=function(){function o(t){var e,n,i;return l(this,o),e=this,n=f(n=o),c(n=h(e,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(n,i||[],f(e).constructor):n.apply(e,i)),"_content",null),c(n,"_onclick",null),c(n,"_attr",{}),n.setContent(t),n}return e(o,G),t(o,[{key:"setContent",value:function(t){return this._content=t,this}},{key:"getContent",value:function(){return this._content}},{key:"setOnClick",value:function(t){return this._onclick=t,this}},{key:"getOnClick",value:function(){return this._onclick}},{key:"setAttr",value:function(t){for(var e=0,n=Object.entries(t);e<n.length;e++){var i=v(n[e],2),o=i[0],i=i[1];this._attr[o]=i}return this}},{key:"getAttr",value:function(t){return this._attr[t]||null}},{key:"toObject",value:function(){return{type:"button",id:this.getId(),content:this.getContent(),onClick:this.getOnClick(),attr:this._attr}}}])}();var K=function(){function r(t,e){var n,i,o;return l(this,r),n=this,i=f(i=r),c(i=h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(i,o||[],f(n).constructor):i.apply(n,o)),"_url",null),c(i,"_content",null),c(i,"_onclick",null),c(i,"_attr",{}),i.setContent(t),i.setUrl(e),i}return e(r,G),t(r,[{key:"setContent",value:function(t){return this._content=t,this}},{key:"getContent",value:function(){return this._content}},{key:"setUrl",value:function(t){return this._url=t,this}},{key:"getUrl",value:function(){return this._url}},{key:"setOnClick",value:function(t){return this._onclick=t,this}},{key:"getOnClick",value:function(){return this._onclick}},{key:"setAttr",value:function(t){for(var e=0,n=Object.entries(t);e<n.length;e++){var i=v(n[e],2),o=i[0],i=i[1];this._attr[o]=i}return this}},{key:"getAttr",value:function(t){return this._attr[t]||null}},{key:"toObject",value:function(){return{type:"link",id:this.getId(),url:this.getUrl(),content:this.getContent(),onClick:this.getOnClick(),attr:this._attr}}}])}();var Q=function(){function o(t){var e,n,i;return l(this,o),e=this,n=f(n=o),c(n=h(e,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(n,i||[],f(e).constructor):n.apply(e,i)),"_content",null),c(n,"_onclick",null),c(n,"_attr",{}),n.setContent(t),n}return e(o,G),t(o,[{key:"setContent",value:function(t){return this._content=t,this}},{key:"getContent",value:function(){return this._content}},{key:"setOnClick",value:function(t){return this._onclick=t,this}},{key:"getOnClick",value:function(){return this._onclick}},{key:"setAttr",value:function(t){for(var e=0,n=Object.entries(t);e<n.length;e++){var i=v(n[e],2),o=i[0],i=i[1];this._attr[o]=i}return this}},{key:"getAttr",value:function(t){return this._attr[t]||null}},{key:"toObject",value:function(){return{type:"submit",id:this.getId(),content:this.getContent(),onClick:this.getOnClick(),attr:this._attr}}}])}();var tt=function(){function o(t){var e,n,i;return l(this,o),e=this,n=f(n=o),c(n=h(e,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(n,i||[],f(e).constructor):n.apply(e,i)),"_content",null),n.setContent(t),n}return e(o,G),t(o,[{key:"setContent",value:function(t){return this._content=t,this}},{key:"getContent",value:function(){return this._content}},{key:"toObject",value:function(){return{type:"custom",id:this.getId(),content:this.getContent()}}}])}(),et={_position:null,setPosition:function(){return this._position=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this},getPosition:function(){return this._position}},i=function(){return t(function t(){l(this,t),c(this,"_id",null),Object.assign(this,et)},[{key:"getId",value:function(){return this._id}},{key:"setId",value:function(t){return"string"==typeof t&&t&&(this._id=t),this}},{key:"toObject",value:function(){var t={id:this._id};return null!==this._position&&(t.position=this._position),t}}])}(),s={_name:null,setName:function(){return this._name=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this},getName:function(){return this._name}},a={_label:null,setLabel:function(){return this._label=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this},getLabel:function(){return this._label}},u={_description:null,setDescription:function(){return this._description=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this},getDescription:function(){return this._description}},p={_descriptionLabel:null,setDescriptionLabel:function(){return this._descriptionLabel=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this},getDescriptionLabel:function(){return this._descriptionLabel}},_={_help:null,setHelp:function(){return this._help=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this},getHelp:function(){return this._help}},b={_width:null,setWidth:function(){return this._width=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this},getWidth:function(){return this._width}},O={_widthLabel:null,setWidthLabel:function(){return this._widthLabel=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this},getWidthLabel:function(){return this._widthLabel}},w={_attributes:null,setAttr:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return g.isObject(t)?this._attributes=$.extend(!0,this._attributes,t):null===t&&(this._attributes=null),this},getAttr:function(){return this._attributes}},x={_required:null,setRequired:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return this._required=null===t?null:!!t,this},getRequired:function(){return this._required}},k={_readonly:null,setReadonly:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return this._readonly=null===t?null:!!t,this},getReadonly:function(){return this._readonly}},j={_invalidText:null,setInvalidText:function(){return this._invalidText=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this},getInvalidText:function(){return this._invalidText}},R={_validTextText:null,setValidTextText:function(){return this._validTextText=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this},getValidTextText:function(){return this._validTextText}},C={_prefix:null,setPrefix:function(){return this._prefix=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this},getPrefix:function(){return this._prefix}},A={_suffix:null,setSuffix:function(){return this._suffix=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this},getSuffix:function(){return this._suffix}},P={_show:null,setShow:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return this._show=null===t?null:!!t,this},getShow:function(){return this._show}},nt={_datalist:null,setDatalist:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(null===t)this._datalist=null;else{var e,n=[],i=W(t);try{for(i.s();!(e=i.n()).done;){var o,r=e.value;"string"==typeof r||"number"==typeof r?n.push({value:r}):"object"===y(r)&&null!==r&&"value"in r&&("string"==typeof r.value||"number"==typeof r.value)&&(o={value:r.value},"label"in r&&("string"==typeof r.label||"number"==typeof r.label)&&(o.label=r.label),n.push(o))}}catch(t){i.e(t)}finally{i.f()}this._datalist=0<n.length?n:null}return this},getDatalist:function(){return this._datalist}},L={_fields:null,_fieldsDirection:null,attachFields:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(Array.isArray(t))return null===this._fields&&(this._fields=[]),e=this,t.map(function(t){e._fields.push(t)}),this;this._fields=null},getAttachFields:function(){return this._fields},clearAttachFields:function(){return this._fields=null,this},setFieldDirection:function(){return this._fieldsDirection=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this},getFieldDirection:function(){return this._fieldsDirection}},S={_noSend:null,setNoSend:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return this._noSend=null===t?null:!!t,this},getNoSend:function(){return this._noSend}},T={_on:null,on:function(t,e){return t&&e&&"string"==typeof t&&"function"==typeof e&&(null===this._on&&(this._on={}),this._on[t]=e),this}};var o=function(){function r(t,e){var n,i,o;return l(this,r),n=this,i=f(i=r),i=h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(i,o||[],f(n).constructor):i.apply(n,o)),Object.assign(i,s),Object.assign(i,a),Object.assign(i,u),Object.assign(i,p),Object.assign(i,_),Object.assign(i,b),Object.assign(i,O),Object.assign(i,w),Object.assign(i,x),Object.assign(i,k),Object.assign(i,j),Object.assign(i,R),Object.assign(i,C),Object.assign(i,A),Object.assign(i,P),Object.assign(i,nt),Object.assign(i,L),Object.assign(i,S),Object.assign(i,T),i.setName(t),i.setLabel(e),i}return e(r,i),t(r,[{key:"toObject",value:function(){var e,t={type:"text"};return null!==this._name&&(t.name=this._name),null!==this._label&&(t.label=this._label),null!==this._help&&(t.help=this._help),null!==this._description&&(t.description=this._description),null!==this._descriptionLabel&&(t.descriptionLabel=this._descriptionLabel),null!==this._required&&(t.required=this._required),null!==this._readonly&&(t.readonly=this._readonly),null!==this._width&&(t.width=this._width),null!==this._widthLabel&&(t.widthLabel=this._widthLabel),null!==this._invalidText&&(t.invalidText=this._invalidText),null!==this._validText&&(t.validText=this._validText),null!==this._prefix&&(t.prefix=this._prefix),null!==this._suffix&&(t.suffix=this._suffix),null!==this._show&&(t.show=this._show),null!==this._position&&(t.position=this._position),null!==this.datalist&&(t.datalist=this.datalist),null!==this._attr&&(t.attr=this._attr),null!==this._noSend&&(t.noSend=this._noSend),null!==this._on&&(t.on=this._on),Array.isArray(this._fields)&&(e=[],this._fields.map(function(t){g.isObject(t)&&("function"==typeof t.toObject?e.push(t.toObject()):e.push(t))}),t.fields=e),t}}])}();var it=function(){function i(){return l(this,i),t=this,e=i,n=arguments,e=f(e),h(t,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,n||[],f(t).constructor):e.apply(t,n));var t,e,n}return e(i,o),t(i,[{key:"setValidPattern",value:function(t){return this.setAttr({pattern:t}),this}},{key:"toObject",value:function(){var t=n(f(i.prototype),"toObject",this).call(this);return t.type="text",t}}])}(),ot={_optionsList:null,setOptions:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(null===t)this._optionsList=null;else{for(var e=[],n=0,i=Object.entries(t);n<i.length;n++){var o=v(i[n],2),r=o[0],o=o[1];"string"==typeof o||"number"==typeof o?e.push({value:r,text:String(o)}):"object"===y(o)&&null!==o&&"value"in o&&("string"==typeof o.value||"number"==typeof o.value)&&e.push(M({},o))}this._optionsList=0<e.length?e:null}return this},getOptions:function(){return this._optionsList}},rt={_inline:null,setInline:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return this._inline=null===t?null:!!t,this},getInline:function(){return this._inline}};var st=function(){function r(t,e){var n,i,o;return l(this,r),n=this,i=f(i=r),i=h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(i,o||[],f(n).constructor):i.apply(n,o)),Object.assign(i,s),Object.assign(i,a),Object.assign(i,u),Object.assign(i,p),Object.assign(i,_),Object.assign(i,O),Object.assign(i,x),Object.assign(i,k),Object.assign(i,j),Object.assign(i,R),Object.assign(i,C),Object.assign(i,A),Object.assign(i,ot),Object.assign(i,P),Object.assign(i,rt),Object.assign(i,L),Object.assign(i,S),Object.assign(i,T),i.setName(t),i.setLabel(e),i}return e(r,i),t(r,[{key:"toObject",value:function(){var e,t={type:"radio"};return null!==this._name&&(t.name=this._name),null!==this._label&&(t.label=this._label),null!==this._help&&(t.help=this._help),null!==this._description&&(t.description=this._description),null!==this._descriptionLabel&&(t.descriptionLabel=this._descriptionLabel),null!==this._required&&(t.required=this._required),null!==this._readonly&&(t.readonly=this._readonly),null!==this._widthLabel&&(t.widthLabel=this._widthLabel),null!==this._invalidText&&(t.invalidText=this._invalidText),null!==this._validText&&(t.validText=this._validText),null!==this._prefix&&(t.prefix=this._prefix),null!==this._suffix&&(t.suffix=this._suffix),null!==this._show&&(t.show=this._show),null!==this._inline&&(t.inline=this._inline),null!==this._position&&(t.position=this._position),null!==this._optionsList&&(t.options=this._optionsList),null!==this._noSend&&(t.noSend=this._noSend),null!==this._on&&(t.on=this._on),Array.isArray(this._fields)&&(e=[],this._fields.map(function(t){g.isObject(t)&&("function"==typeof t.toObject?e.push(t.toObject()):e.push(t))}),t.fields=e),t}}])}();var lt=function(){function i(){return l(this,i),t=this,e=i,n=arguments,e=f(e),h(t,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,n||[],f(t).constructor):e.apply(t,n));var t,e,n}return e(i,st),t(i,[{key:"toObject",value:function(){var t=n(f(i.prototype),"toObject",this).call(this);return t.type="checkbox",t}}])}(),at={_optionsClass:null,setOptionsClass:function(){return this._optionsClass=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this},getOptionsClass:function(){return this._optionsClass}};var ut=function(){function r(t,e){var n,i,o;return l(this,r),n=this,i=f(i=r),i=h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(i,o||[],f(n).constructor):i.apply(n,o)),Object.assign(i,at),i.setName(t),i.setLabel(e),i}return e(r,lt),t(r,[{key:"toObject",value:function(){var t=n(f(r.prototype),"toObject",this).call(this);return t.type="checkboxBtn",null!==this._optionsClass&&(t.optionsClass=this._optionsClass),t}}])}();var ct=function(){function r(t,e){var n,i,o;return l(this,r),n=this,i=f(i=r),c(i=h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(i,o||[],f(n).constructor):i.apply(n,o)),"_content",null),Object.assign(i,s),Object.assign(i,a),Object.assign(i,u),Object.assign(i,p),Object.assign(i,_),Object.assign(i,O),Object.assign(i,x),Object.assign(i,P),Object.assign(i,L),Object.assign(i,S),i.setName(t),i.setLabel(e),i}return e(r,i),t(r,[{key:"setContent",value:function(){return this._content=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this}},{key:"getContent",value:function(){return this._content}},{key:"toObject",value:function(){var e,t={type:"custom"};return null!==this._name&&(t.name=this._name),null!==this._label&&(t.label=this._label),null!==this._help&&(t.help=this._help),null!==this._description&&(t.description=this._description),null!==this._descriptionLabel&&(t.descriptionLabel=this._descriptionLabel),null!==this._required&&(t.required=this._required),null!==this._widthLabel&&(t.widthLabel=this._widthLabel),null!==this._show&&(t.show=this._show),null!==this._position&&(t.position=this._position),null!==this._noSend&&(t.noSend=this._noSend),null!==this._content&&(t.content=this._content),Array.isArray(this._fields)&&(e=[],this._fields.map(function(t){g.isObject(t)&&("function"==typeof t.toObject?e.push(t.toObject()):e.push(t))}),t.fields=e),t}}])}(),ft=function(){return t(function t(e,n){l(this,t),c(this,"_name",null),c(this,"_title",null),this._name=e,this._title=n},[{key:"toObject",value:function(){return{name:this._name,title:this._title}}}])}();var ht=function(){function o(t,e,n){var i;return l(this,o),i=this,e=[e,n],n=f(n=o),c(n=h(i,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(n,e||[],f(i).constructor):n.apply(i,e)),"_type",null),Object.assign(n,b),Object.assign(n,w),n._type=t,n}return e(o,ft),t(o,[{key:"toObject",value:function(){var t=n(f(o.prototype),"toObject",this).call(this);return t.type=this._type,null!==this._width&&(t.width=this._width),null!==this._attr&&(t.attr=this._attr),t}}])}();var dt=function(){function i(t,e){return l(this,i),n=this,t=["text",t,e],e=f(e=i),h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,t||[],f(n).constructor):e.apply(n,t));var n}return e(i,ht),t(i)}();var pt=function(){function i(t,e){return l(this,i),n=this,t=["number",t,e],e=f(e=i),h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,t||[],f(n).constructor):e.apply(n,t));var n}return e(i,ht),t(i)}();var _t=function(){function i(t,e){return l(this,i),n=this,t=["date",t,e],e=f(e=i),h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,t||[],f(n).constructor):e.apply(n,t));var n}return e(i,ht),t(i)}();var yt=function(){function i(t,e){return l(this,i),n=this,t=["week",t,e],e=f(e=i),h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,t||[],f(n).constructor):e.apply(n,t));var n}return e(i,ht),t(i)}();var vt=function(){function i(t,e){return l(this,i),n=this,t=["month",t,e],e=f(e=i),h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,t||[],f(n).constructor):e.apply(n,t));var n}return e(i,ht),t(i)}();var mt=function(){function i(t,e){return l(this,i),n=this,t=["datetime-local",t,e],e=f(e=i),h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,t||[],f(n).constructor):e.apply(n,t));var n}return e(i,ht),t(i)}(),gt={_valueY:null,setValueY:function(){return this._valueY=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this},getValueY:function(){return this._valueY}},bt={_valueN:null,setValueN:function(){return this._valueN=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this},getValueN:function(){return this._valueN}};var Ot=function(){function o(t,e,n){var i;return l(this,o),i=this,e=[e,n],n=f(n=o),n=h(i,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(n,e||[],f(i).constructor):n.apply(i,e)),Object.assign(n,w),Object.assign(n,gt),Object.assign(n,bt),n}return e(o,ft),t(o,[{key:"toObject",value:function(){var t=n(f(o.prototype),"toObject",this).call(this);return t.type="switch",null!==this._valueY&&(t.valueY=this._valueY),null!==this._valueN&&(t.valueN=this._valueN),null!==this._attr&&(t.attr=this._attr),t}}])}();var wt=function(){function o(t,e,n){var i;return l(this,o),i=this,e=[e,n],n=f(n=o),n=h(i,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(n,e||[],f(i).constructor):n.apply(i,e)),Object.assign(n,w),Object.assign(n,ot),Object.assign(n,b),n}return e(o,ft),t(o,[{key:"toObject",value:function(){var t=n(f(o.prototype),"toObject",this).call(this);return t.type="select",null!==this._optionsList&&(t.items=this._optionsList),null!==this._width&&(t.width=this._width),null!==this._attr&&(t.attr=this._attr),t}}])}();var xt=function(){function r(t,e){var n,i,o;return l(this,r),n=this,i=f(i=r),c(i=h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(i,o||[],f(n).constructor):i.apply(n,o)),"_options",null),c(i,"options",{input:function(t,e,n){new ht(t,e,n)},text:function(t,e){new dt(t,e)},number:function(t,e){new pt(t,e)},date:function(t,e){new _t(t,e)},dateWeek:function(t,e){new yt(t,e)},dateMonth:function(t,e){new vt(t,e)},datetime:function(t,e){new mt(t,e)},switch:function(t,e){new Ot(t,e)},select:function(t,e){new wt(t,e)}}),Object.assign(i,s),Object.assign(i,a),Object.assign(i,u),Object.assign(i,p),Object.assign(i,_),Object.assign(i,O),Object.assign(i,x),Object.assign(i,k),Object.assign(i,j),Object.assign(i,R),Object.assign(i,C),Object.assign(i,A),Object.assign(i,P),Object.assign(i,L),Object.assign(i,S),Object.assign(i,T),i.setName(t),i.setLabel(e),i}return e(r,i),t(r,[{key:"addOptions",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return Array.isArray(t)?(null===this._options&&(this._options=[]),e=this,t.map(function(t){g.isObject(t)&&e._options.push(t)})):this._options=null,this}},{key:"getOptions",value:function(){return this._options}},{key:"clearOptions",value:function(){return this._options=null,this}},{key:"toObject",value:function(){var e,n,t={type:"dataset"};return null!==this._name&&(t.name=this._name),null!==this._label&&(t.label=this._label),null!==this._help&&(t.help=this._help),null!==this._description&&(t.description=this._description),null!==this._descriptionLabel&&(t.descriptionLabel=this._descriptionLabel),null!==this._required&&(t.required=this._required),null!==this._readonly&&(t.readonly=this._readonly),null!==this._widthLabel&&(t.widthLabel=this._widthLabel),null!==this._invalidText&&(t.invalidText=this._invalidText),null!==this._validText&&(t.validText=this._validText),null!==this._prefix&&(t.prefix=this._prefix),null!==this._suffix&&(t.suffix=this._suffix),null!==this._show&&(t.show=this._show),null!==this._position&&(t.position=this._position),null!==this._noSend&&(t.noSend=this._noSend),null!==this._on&&(t.on=this._on),Array.isArray(this._options)&&(e=[],this._options.map(function(t){g.isObject(t)&&("function"==typeof t.toObject?e.push(t.toObject()):e.push(t))}),t.options=e),Array.isArray(this._fields)&&(n=[],this._fields.map(function(t){g.isObject(t)&&("function"==typeof t.toObject?n.push(t.toObject()):n.push(t))}),t.fields=n),t}}])}();var kt=function(){function r(t,e){var n,i,o;return l(this,r),n=this,i=f(i=r),i=h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(i,o||[],f(n).constructor):i.apply(n,o)),Object.assign(i,s),Object.assign(i,a),Object.assign(i,u),Object.assign(i,p),Object.assign(i,_),Object.assign(i,b),Object.assign(i,O),Object.assign(i,w),Object.assign(i,x),Object.assign(i,j),Object.assign(i,R),Object.assign(i,C),Object.assign(i,A),Object.assign(i,P),Object.assign(i,L),Object.assign(i,S),Object.assign(i,T),i.setName(t),i.setLabel(e),i}return e(r,i),t(r,[{key:"toObject",value:function(){var e,t={type:"file"};return null!==this._name&&(t.name=this._name),null!==this._label&&(t.label=this._label),null!==this._help&&(t.help=this._help),null!==this._description&&(t.description=this._description),null!==this._descriptionLabel&&(t.descriptionLabel=this._descriptionLabel),null!==this._required&&(t.required=this._required),null!==this._width&&(t.width=this._width),null!==this._widthLabel&&(t.widthLabel=this._widthLabel),null!==this._invalidText&&(t.invalidText=this._invalidText),null!==this._validText&&(t.validText=this._validText),null!==this._prefix&&(t.prefix=this._prefix),null!==this._suffix&&(t.suffix=this._suffix),null!==this._show&&(t.show=this._show),null!==this._position&&(t.position=this._position),null!==this._attr&&(t.attr=this._attr),null!==this._noSend&&(t.noSend=this._noSend),null!==this._on&&(t.on=this._on),Array.isArray(this._fields)&&(e=[],this._fields.map(function(t){g.isObject(t)&&("function"==typeof t.toObject?e.push(t.toObject()):e.push(t))}),t.fields=e),t}}])}(),jt=function(){return t(function t(e){l(this,t),c(this,"_type",null),c(this,"_size",null),c(this,"_urlPreview",null),c(this,"_urlDownload",null),Object.assign(this,s),this.setName(e)},[{key:"setMimeType",value:function(t){return this._type=t,this}},{key:"getMimeType",value:function(){return this._type}},{key:"setSize",value:function(){return this._size=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this}},{key:"getSize",value:function(){return this._size}},{key:"setUrlPreview",value:function(){return this._urlUreview=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this}},{key:"getUrlPreview",value:function(){return this._urlUreview}},{key:"setUrlDownload",value:function(){return this._urlDownload=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this}},{key:"getUrlDownload",value:function(){return this._urlDownload}},{key:"toObject",value:function(){var t={name:this._name};return null!==this._size&&(t.size=this._size),null!==this._type&&(t.type=this._type),null!==this._urlPreview&&(t.urlPreview=this._urlPreview),null!==this._urlDownload&&(t.urlDownload=this._urlDownload),t}}])}();var Rt=function(){function r(t,e){var n,i,o;return l(this,r),n=this,i=f(i=r),c(i=h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(i,o||[],f(n).constructor):i.apply(n,o)),"_url",null),c(i,"_httpMethod",null),c(i,"_accept",null),c(i,"_showInput",null),c(i,"_showDropzone",null),c(i,"_autostart",null),c(i,"_sizeLimit",null),c(i,"_filesLimit",null),c(i,"_templateFile",null),c(i,"_extraFields",null),c(i,"_files",null),Object.assign(i,s),Object.assign(i,a),Object.assign(i,u),Object.assign(i,p),Object.assign(i,_),Object.assign(i,k),Object.assign(i,x),Object.assign(i,O),Object.assign(i,j),Object.assign(i,R),Object.assign(i,L),Object.assign(i,C),Object.assign(i,A),Object.assign(i,P),Object.assign(i,S),Object.assign(i,T),i.setName(t),i.setLabel(e),i}return e(r,i),t(r,[{key:"setUrl",value:function(){return this._url=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this}},{key:"getUrl",value:function(){return this._url}},{key:"setHttpMethod",value:function(){return this._httpMethod=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this}},{key:"getHttpMethod",value:function(){return this._httpMethod}},{key:"setFileTemplate",value:function(){return this._templateFile=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this}},{key:"getFileTemplate",value:function(){return this._templateFile}},{key:"setAccept",value:function(){return this._accept=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this}},{key:"setAcceptImage",value:function(){return this._accept="image/*",this}},{key:"setAcceptVideo",value:function(){return this._accept="video/*",this}},{key:"setAcceptAudio",value:function(){return this._accept="audio/*",this}},{key:"setAcceptPDF",value:function(){return this._accept="application/pdf",this}},{key:"setAcceptZip",value:function(){return this._accept="application/zip, application/zip-compressed, application/x-zip-compressed, multipart/x-zip, application/octet-stream",this}},{key:"getAccept",value:function(){return this._accept}},{key:"setFilesLimit",value:function(){return this._filesLimit=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this}},{key:"getFilesLimit",value:function(){return this._filesLimit}},{key:"setSizeLimit",value:function(){return this._sizeLimit=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this}},{key:"getSizeLimit",value:function(){return this._sizeLimit}},{key:"setAutostart",value:function(){return this._autostart=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this}},{key:"getAutostart",value:function(){return this._autostart}},{key:"setShowInput",value:function(){return this._showInput=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this}},{key:"getShowInput",value:function(){return this._showInput}},{key:"setShowDropzone",value:function(){return this._showDropzone=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this}},{key:"getShowDropzone",value:function(){return this._showDropzone}},{key:"setExtraFields",value:function(){return this._extraFields=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this}},{key:"getExtraFields",value:function(){return this._extraFields}},{key:"addFile",value:function(t){t=new jt(t);return Array.isArray(this._files)||(this._files=[]),this._files.push(t),t}},{key:"addFiles",value:function(t){var n;return Array.isArray(t)&&(n=this,t.map(function(t){var e;g.isObject(t)&&t.name&&(e=new jt(t.name),t.size&&g.isNumeric(t.size)&&e.setSize(t.size),t.type&&"string"==typeof t.type&&e.setMimeType(t.type),t.urlPreview&&"string"==typeof t.urlPreview&&e.setUrlPreview(t.urlPreview),t.urlDownload&&"string"==typeof t.urlDownload&&e.setUrlDownload(t.urlDownload),n._files.push(e))})),this}},{key:"clearFiles",value:function(){return this._files=[],this}},{key:"toObject",value:function(){var e,n={type:"fileUpload"};return null!==this._name&&(n.name=this._name),null!==this._label&&(n.label=this._label),null!==this._help&&(n.help=this._help),null!==this._description&&(n.description=this._description),null!==this._descriptionLabel&&(n.descriptionLabel=this._descriptionLabel),null!==this._required&&(n.required=this._required),null!==this._readonly&&(n.readonly=this._readonly),null!==this._widthLabel&&(n.widthLabel=this._widthLabel),null!==this._invalidText&&(n.invalidText=this._invalidText),null!==this._validText&&(n.validText=this._validText),null!==this._prefix&&(n.prefix=this._prefix),null!==this._suffix&&(n.suffix=this._suffix),null!==this._show&&(n.show=this._show),null!==this._position&&(n.position=this._position),null!==this._noSend&&(n.noSend=this._noSend),null!==this._on&&(n.on=this._on),n.options={},null!==this._url&&(n.options.url=this._url),null!==this._httpMethod&&(n.options.httpMethod=this._httpMethod),null!==this._accept&&(n.options.accept=this._accept),null!==this._filesLimit&&(n.options.filesLimit=this._filesLimit),null!==this._sizeLimit&&(n.options.sizeLimit=this._sizeLimit),null!==this._showInput&&(n.options.showInput=this._showInput),null!==this._showDropzone&&(n.options.showDropzone=this._showDropzone),null!==this._extraFields&&(n.options.extraFields=this._extraFields),null!==this._autostart&&(n.options.autostart=this._autostart),null!==this._templateFile&&(n.options.templateFile=this._templateFile),Array.isArray(this._files)&&(n.options.files=[],this._files.map(function(t){g.isObject(t)&&("function"==typeof t.toObject?n.options.files.push(t.toObject()):n.options.files.push(t))})),Array.isArray(this._fields)&&(e=[],this._fields.map(function(t){g.isObject(t)&&("function"==typeof t.toObject?e.push(t.toObject()):e.push(t))}),n.fields=e),n}}])}();var Ct=function(){function r(t,e){var n,i,o;return l(this,r),n=this,i=f(i=r),i=h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(i,o||[],f(n).constructor):i.apply(n,o)),Object.assign(i,s),Object.assign(i,w),Object.assign(i,S),Object.assign(i,T),i.setName(t),i.setLabel(e),i}return e(r,i),t(r,[{key:"toObject",value:function(){var t=n(f(r.prototype),"toObject",this).call(this);return t.type="hidden",null!==this._name&&(t.name=this._name),null!==this._attr&&(t.attr=this._attr),null!==this._noSend&&(t.noSend=this._noSend),null!==this._on&&(t.on=this._on),t}}])}();var At=function(){function s(){l(this,s);for(var t,e,n,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=this,e=s,n=[].concat(o),e=f(e),c(e=h(t,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,n||[],f(t).constructor):e.apply(t,n)),"_mask",null),c(e,"_options",null),e}return e(s,o),t(s,[{key:"setMask",value:function(){return this._mask=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this}},{key:"getMask",value:function(){return this._mask}},{key:"setMaskPlaceholder",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return null===this._options&&(this._options={}),this._options.placeholder=t,this}},{key:"setMaskReverse",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return null===this._options&&(this._options={}),this._options.reverse=t,this}},{key:"setMaskTranslation",value:function(t,e){return null===this._options&&(this._options={}),g.isObject(this._options.translation)||(this._options.translation={}),this._options.translation[t]=e,this}},{key:"setMaskClearIfNotMatch",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return null===this._options&&(this._options={}),this._options.clearIfNotMatch=t,this}},{key:"setMaskSelectOnFocus",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return null===this._options&&(this._options={}),this._options.selectOnFocus=t,this}},{key:"setMaskOptions",value:function(){return this._options=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this}},{key:"getMaskOptions",value:function(){return this._options}},{key:"toObject",value:function(){var t=n(f(s.prototype),"toObject",this).call(this);return t.type="mask",null!==this._mask&&(t.mask=this._mask),null!==this._options&&(t.options=this._options),t}}])}();var $t=function(){function r(t,e){var n,i,o;return l(this,r),n=this,i=f(i=r),c(i=h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(i,o||[],f(n).constructor):i.apply(n,o)),"_title",null),c(i,"_size",null),c(i,"_url",null),c(i,"_onHidden",null),c(i,"_onClear",null),c(i,"_onChange",null),c(i,"size",{SM:"sm",MD:"",LG:"lg",XL:"xl",FULL:"fullscreen"}),Object.assign(i,s),Object.assign(i,a),Object.assign(i,u),Object.assign(i,p),Object.assign(i,_),Object.assign(i,b),Object.assign(i,O),Object.assign(i,w),Object.assign(i,x),Object.assign(i,k),Object.assign(i,j),Object.assign(i,R),Object.assign(i,C),Object.assign(i,A),Object.assign(i,P),Object.assign(i,L),Object.assign(i,S),Object.assign(i,T),i.setName(t),i.setLabel(e),i}return e(r,i),t(r,[{key:"setUrl",value:function(t){return this._url=t,this}},{key:"getUrl",value:function(){return this._url}},{key:"setSize",value:function(t){return this._size=t,this}},{key:"getSize",value:function(){return this._size}},{key:"setTitle",value:function(t){return this._title=t,this}},{key:"getTitle",value:function(){return this._title}},{key:"setOnHidden",value:function(){return this._onHidden=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this}},{key:"getOnHidden",value:function(){return this._onHidden}},{key:"setOnClear",value:function(){return this._onClear=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this}},{key:"getOnClear",value:function(){return this._onClear}},{key:"setOnChange",value:function(){return this._onChange=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this}},{key:"getOnChange",value:function(){return this._onChange}},{key:"toObject",value:function(){var e,t={type:"modal",options:{title:this._title,size:this._size,url:this._url}};return null!==this._onHidden&&(t.onHidden=this._onHidden),null!==this._onClear&&(t.onClear=this._onClear),null!==this._onChange&&(t.onChange=this._onChange),null!==this._name&&(t.name=this._name),null!==this._label&&(t.label=this._label),null!==this._help&&(t.help=this._help),null!==this._description&&(t.description=this._description),null!==this._descriptionLabel&&(t.descriptionLabel=this._descriptionLabel),null!==this._required&&(t.required=this._required),null!==this._readonly&&(t.readonly=this._readonly),null!==this._width&&(t.width=this._width),null!==this._widthLabel&&(t.widthLabel=this._widthLabel),null!==this._invalidText&&(t.invalidText=this._invalidText),null!==this._validText&&(t.validText=this._validText),null!==this._prefix&&(t.prefix=this._prefix),null!==this._suffix&&(t.suffix=this._suffix),null!==this._show&&(t.show=this._show),null!==this._position&&(t.position=this._position),null!==this._options&&(t.options=this._options),null!==this._attr&&(t.attr=this._attr),null!==this._noSend&&(t.noSend=this._noSend),null!==this._on&&(t.on=this._on),null!==this._multiple&&(g.isObject(t.attr)||(t.attr={}),t.attr.multiple="multiple"),Array.isArray(this._fields)&&(e=[],this._fields.map(function(t){g.isObject(t)&&("function"==typeof t.toObject?e.push(t.toObject()):e.push(t))}),t.fields=e),t}}])}();var Pt=function(){function s(){l(this,s);for(var t,e,n,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=this,e=s,n=[].concat(o),e=f(e),c(e=h(t,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,n||[],f(t).constructor):e.apply(t,n)),"_precision",null),e}return e(s,o),t(s,[{key:"setPrecision",value:function(t){return this._precision=t,this}},{key:"getPrecision",value:function(){return this._precision}},{key:"toObject",value:function(){var t=n(f(s.prototype),"toObject",this).call(this);return t.type="number",null!==this._precision&&(t.precision=this._precision),t}}])}();var Lt=function(){function r(t,e){var n,i,o;return l(this,r),n=this,i=f(i=r),i=h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(i,o||[],f(n).constructor):i.apply(n,o)),Object.assign(i,s),Object.assign(i,a),Object.assign(i,u),Object.assign(i,p),Object.assign(i,_),Object.assign(i,b),Object.assign(i,O),Object.assign(i,w),Object.assign(i,x),Object.assign(i,k),Object.assign(i,j),Object.assign(i,R),Object.assign(i,C),Object.assign(i,A),Object.assign(i,P),Object.assign(i,L),Object.assign(i,S),Object.assign(i,T),i.setName(t),i.setLabel(e),i}return e(r,i),t(r,[{key:"toObject",value:function(){var e,t={type:"password"};return null!==this._name&&(t.name=this._name),null!==this._label&&(t.label=this._label),null!==this._help&&(t.help=this._help),null!==this._description&&(t.description=this._description),null!==this._descriptionLabel&&(t.descriptionLabel=this._descriptionLabel),null!==this._required&&(t.required=this._required),null!==this._readonly&&(t.readonly=this._readonly),null!==this._width&&(t.width=this._width),null!==this._widthLabel&&(t.widthLabel=this._widthLabel),null!==this._invalidText&&(t.invalidText=this._invalidText),null!==this._validText&&(t.validText=this._validText),null!==this._prefix&&(t.prefix=this._prefix),null!==this._suffix&&(t.suffix=this._suffix),null!==this._show&&(t.show=this._show),null!==this._position&&(t.position=this._position),null!==this._attr&&(t.attr=this._attr),null!==this._noSend&&(t.noSend=this._noSend),null!==this._on&&(t.on=this._on),Array.isArray(this._fields)&&(e=[],this._fields.map(function(t){g.isObject(t)&&("function"==typeof t.toObject?e.push(t.toObject()):e.push(t))}),t.fields=e),t}}])}();var St=function(){function s(){l(this,s);for(var t,e,n,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=this,e=s,n=[].concat(o),e=f(e),c(e=h(t,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,n||[],f(t).constructor):e.apply(t,n)),"_showBtn",null),e}return e(s,Lt),t(s,[{key:"setShowBtn",value:function(t){return this._showBtn=t,this}},{key:"getShowBtn",value:function(){return this._showBtn}},{key:"toObject",value:function(){var t=n(f(s.prototype),"toObject",this).call(this);return t.type="passwordRepeat",null!==this._showBtn&&(t.showBtn=this._showBtn),t}}])}();var Tt=function(){function r(t,e){var n,i,o;return l(this,r),n=this,i=f(i=r),i=h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(i,o||[],f(n).constructor):i.apply(n,o)),Object.assign(i,at),i.setName(t),i.setLabel(e),i}return e(r,st),t(r,[{key:"toObject",value:function(){var t=n(f(r.prototype),"toObject",this).call(this);return t.type="radioBtn",null!==this._optionsClass&&(t.optionsClass=this._optionsClass),t}}])}();var It=function(){function i(){return l(this,i),t=this,e=i,n=arguments,e=f(e),h(t,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,n||[],f(t).constructor):e.apply(t,n));var t,e,n}return e(i,o),t(i,[{key:"toObject",value:function(){var t=n(f(i.prototype),"toObject",this).call(this);return t.type="range",t}}])}(),Et={_optionsSelect:null,setOptions:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(null===t)this._optionsSelect=null;else{for(var e=[],n=0,i=Object.entries(t);n<i.length;n++){var o=v(i[n],2),r=o[0],o=o[1];"string"==typeof o||"number"==typeof o?e.push({value:r,text:String(o)}):g.isObject(o)&&("group"===o.type&&Array.isArray(o.options)||void 0!==o.value&&("string"==typeof o.value||"number"==typeof o.value))&&e.push(M({},o))}this._optionsSelect=0<e.length?e:null}return this},getOptions:function(){return this._optionsSelect}},Bt={_multiple:null,setMultiple:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return this._multiple=null===t?null:!!t,this},getMultiple:function(){return this._multiple}};var qt=function(){function r(t,e){var n,i,o;return l(this,r),n=this,i=f(i=r),i=h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(i,o||[],f(n).constructor):i.apply(n,o)),Object.assign(i,s),Object.assign(i,a),Object.assign(i,u),Object.assign(i,p),Object.assign(i,_),Object.assign(i,b),Object.assign(i,O),Object.assign(i,w),Object.assign(i,x),Object.assign(i,k),Object.assign(i,j),Object.assign(i,R),Object.assign(i,C),Object.assign(i,A),Object.assign(i,Et),Object.assign(i,P),Object.assign(i,L),Object.assign(i,S),Object.assign(i,Bt),Object.assign(i,T),i.setName(t),i.setLabel(e),i}return e(r,i),t(r,[{key:"toObject",value:function(){var e,t={type:"select"};return null!==this._name&&(t.name=this._name),null!==this._label&&(t.label=this._label),null!==this._help&&(t.help=this._help),null!==this._description&&(t.description=this._description),null!==this._descriptionLabel&&(t.descriptionLabel=this._descriptionLabel),null!==this._required&&(t.required=this._required),null!==this._readonly&&(t.readonly=this._readonly),null!==this._width&&(t.width=this._width),null!==this._widthLabel&&(t.widthLabel=this._widthLabel),null!==this._invalidText&&(t.invalidText=this._invalidText),null!==this._validText&&(t.validText=this._validText),null!==this._prefix&&(t.prefix=this._prefix),null!==this._suffix&&(t.suffix=this._suffix),null!==this._show&&(t.show=this._show),null!==this._position&&(t.position=this._position),null!==this._optionsSelect&&(t.options=this._optionsSelect),null!==this._attr&&(t.attr=this._attr),null!==this._noSend&&(t.noSend=this._noSend),null!==this._on&&(t.on=this._on),!0===this._multiple&&(g.isObject(t.attr)||(t.attr={}),t.attr.multiple="multiple"),Array.isArray(this._fields)&&(e=[],this._fields.map(function(t){g.isObject(t)&&("function"==typeof t.toObject?e.push(t.toObject()):e.push(t))}),t.fields=e),t}}])}();var Mt=function(){function r(t,e){var n,i,o;return l(this,r),n=this,i=f(i=r),i=h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(i,o||[],f(n).constructor):i.apply(n,o)),Object.assign(i,s),Object.assign(i,a),Object.assign(i,u),Object.assign(i,p),Object.assign(i,_),Object.assign(i,O),Object.assign(i,w),Object.assign(i,gt),Object.assign(i,bt),Object.assign(i,x),Object.assign(i,k),Object.assign(i,j),Object.assign(i,R),Object.assign(i,C),Object.assign(i,A),Object.assign(i,P),Object.assign(i,L),Object.assign(i,S),Object.assign(i,T),i.setName(t),i.setLabel(e),i}return e(r,i),t(r,[{key:"toObject",value:function(){var e,t={type:"switch"};return null!==this._name&&(t.name=this._name),null!==this._label&&(t.label=this._label),null!==this._help&&(t.help=this._help),null!==this._description&&(t.description=this._description),null!==this._descriptionLabel&&(t.descriptionLabel=this._descriptionLabel),null!==this._required&&(t.required=this._required),null!==this._readonly&&(t.readonly=this._readonly),null!==this._widthLabel&&(t.widthLabel=this._widthLabel),null!==this._invalidText&&(t.invalidText=this._invalidText),null!==this._validText&&(t.validText=this._validText),null!==this._prefix&&(t.prefix=this._prefix),null!==this._suffix&&(t.suffix=this._suffix),null!==this._show&&(t.show=this._show),null!==this._position&&(t.position=this._position),null!==this._valueY&&(t.valueY=this._valueY),null!==this._valueN&&(t.valueN=this._valueN),null!==this._attr&&(t.attr=this._attr),null!==this._noSend&&(t.noSend=this._noSend),null!==this._on&&(t.on=this._on),Array.isArray(this._fields)&&(e=[],this._fields.map(function(t){g.isObject(t)&&("function"==typeof t.toObject?e.push(t.toObject()):e.push(t))}),t.fields=e),t}}])}();var Dt=function(){function i(){return l(this,i),t=this,e=i,n=arguments,e=f(e),h(t,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,n||[],f(t).constructor):e.apply(t,n));var t,e,n}return e(i,o),t(i,[{key:"toObject",value:function(){var t=n(f(i.prototype),"toObject",this).call(this);return t.type="color",t}}])}();var Ft=function(){function o(t){var e,n,i;return l(this,o),e=this,n=f(n=o),c(n=h(e,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(n,i||[],f(e).constructor):n.apply(e,i)),"_showCollapsible",null),Object.assign(n,a),Object.assign(n,P),Object.assign(n,L),n.setLabel(t),n}return e(o,i),t(o,[{key:"setShowCollapsible",value:function(t){return this._showCollapsible=null!==t?t:null,this}},{key:"getShowCollapsible",value:function(){return this._showCollapsible}},{key:"toObject",value:function(){var e,t=n(f(o.prototype),"toObject",this).call(this);return t.type="group",null!==this._label&&(t.label=this._label),null!==this._show&&(t.show=this._show),null!==this._showCollapsible&&(t.showCollapsible=this._showCollapsible),null!==this._position&&(t.position=this._position),Array.isArray(this._fields)&&(e=[],this._fields.map(function(t){g.isObject(t)&&("function"==typeof t.toObject?e.push(t.toObject()):e.push(t))}),t.fields=e),t}}])}(),Nt={_height:null,setHeight:function(){return this._height=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this},getHeight:function(){return this._height}};var zt=function(){function r(t,e){var n,i,o;return l(this,r),n=this,i=f(i=r),i=h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(i,o||[],f(n).constructor):i.apply(n,o)),Object.assign(i,s),Object.assign(i,a),Object.assign(i,u),Object.assign(i,p),Object.assign(i,_),Object.assign(i,Nt),Object.assign(i,b),Object.assign(i,O),Object.assign(i,w),Object.assign(i,x),Object.assign(i,k),Object.assign(i,j),Object.assign(i,R),Object.assign(i,C),Object.assign(i,A),Object.assign(i,P),Object.assign(i,L),Object.assign(i,S),Object.assign(i,T),i.setName(t),i.setLabel(e),i}return e(r,i),t(r,[{key:"toObject",value:function(){var e,t={type:"textarea"};return null!==this._name&&(t.name=this._name),null!==this._label&&(t.label=this._label),null!==this._help&&(t.help=this._help),null!==this._description&&(t.description=this._description),null!==this._descriptionLabel&&(t.descriptionLabel=this._descriptionLabel),null!==this._required&&(t.required=this._required),null!==this._readonly&&(t.readonly=this._readonly),null!==this._height&&(t.height=this._height),null!==this._width&&(t.width=this._width),null!==this._widthLabel&&(t.widthLabel=this._widthLabel),null!==this._invalidText&&(t.invalidText=this._invalidText),null!==this._validText&&(t.validText=this._validText),null!==this._prefix&&(t.prefix=this._prefix),null!==this._suffix&&(t.suffix=this._suffix),null!==this._show&&(t.show=this._show),null!==this._position&&(t.position=this._position),null!==this._attr&&(t.attr=this._attr),null!==this._noSend&&(t.noSend=this._noSend),null!==this._on&&(t.on=this._on),Array.isArray(this._fields)&&(e=[],this._fields.map(function(t){g.isObject(t)&&("function"==typeof t.toObject?e.push(t.toObject()):e.push(t))}),t.fields=e),t}}])}(),Wt={_heightMin:null,setHeightMin:function(){return this._heightMin=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this},getHeightMin:function(){return this._heightMin}},Ut={_heightMax:null,setHeightMax:function(){return this._heightMax=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this},getHeightMax:function(){return this._heightMax}},Vt={_widthMin:null,setWidthMin:function(){return this._widthMin=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this},getWidthMin:function(){return this._widthMin}},Ht={_widthMax:null,setWidthMax:function(){return this._widthMax=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this},getWidthMax:function(){return this._widthMax}};var Yt=function(){function r(t,e){var n,i,o;return l(this,r),n=this,i=f(i=r),c(i=h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(i,o||[],f(n).constructor):i.apply(n,o)),"_options",null),Object.assign(i,s),Object.assign(i,a),Object.assign(i,u),Object.assign(i,p),Object.assign(i,_),Object.assign(i,Nt),Object.assign(i,Wt),Object.assign(i,Ut),Object.assign(i,b),Object.assign(i,Vt),Object.assign(i,Ht),Object.assign(i,O),Object.assign(i,w),Object.assign(i,x),Object.assign(i,k),Object.assign(i,j),Object.assign(i,R),Object.assign(i,C),Object.assign(i,A),Object.assign(i,P),Object.assign(i,L),Object.assign(i,S),Object.assign(i,T),i.setName(t),i.setLabel(e),i}return e(r,i),t(r,[{key:"setOptions",value:function(){return this._options=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this}},{key:"getOptions",value:function(){return this._options}},{key:"toObject",value:function(){var e,t={type:"wysiwyg"};return null!==this._name&&(t.name=this._name),null!==this._label&&(t.label=this._label),null!==this._help&&(t.help=this._help),null!==this._description&&(t.description=this._description),null!==this._descriptionLabel&&(t.descriptionLabel=this._descriptionLabel),null!==this._required&&(t.required=this._required),null!==this._readonly&&(t.readonly=this._readonly),null!==this._height&&(t.height=this._height),null!==this._heightMax&&(t.heightMax=this._heightMax),null!==this._heightMin&&(t.heightMin=this._heightMin),null!==this._width&&(t.width=this._width),null!==this._widthMax&&(t.widthMax=this._widthMax),null!==this._widthMin&&(t.widthMin=this._widthMin),null!==this._widthLabel&&(t.widthLabel=this._widthLabel),null!==this._invalidText&&(t.invalidText=this._invalidText),null!==this._validText&&(t.validText=this._validText),null!==this._prefix&&(t.prefix=this._prefix),null!==this._suffix&&(t.suffix=this._suffix),null!==this._show&&(t.show=this._show),null!==this._options&&(t.options=this._options),null!==this._position&&(t.position=this._position),null!==this._attr&&(t.attr=this._attr),null!==this._noSend&&(t.noSend=this._noSend),null!==this._on&&(t.on=this._on),Array.isArray(this._fields)&&(e=[],this._fields.map(function(t){g.isObject(t)&&("function"==typeof t.toObject?e.push(t.toObject()):e.push(t))}),t.fields=e),t}}])}();var Jt=function(){function i(){return l(this,i),t=this,e=i,n=arguments,e=f(e),h(t,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,n||[],f(t).constructor):e.apply(t,n));var t,e,n}return e(i,o),t(i,[{key:"toObject",value:function(){var t=n(f(i.prototype),"toObject",this).call(this);return t.type="month",t}}])}();var Xt=function(){function i(){return l(this,i),t=this,e=i,n=arguments,e=f(e),h(t,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,n||[],f(t).constructor):e.apply(t,n));var t,e,n}return e(i,o),t(i,[{key:"toObject",value:function(){var t=n(f(i.prototype),"toObject",this).call(this);return t.type="week",t}}])}();var Gt=function(){function i(){return l(this,i),t=this,e=i,n=arguments,e=f(e),h(t,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,n||[],f(t).constructor):e.apply(t,n));var t,e,n}return e(i,o),t(i,[{key:"toObject",value:function(){var t=n(f(i.prototype),"toObject",this).call(this);return t.type="datetime-local",t}}])}();var Zt=function(){function i(){return l(this,i),t=this,e=i,n=arguments,e=f(e),h(t,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,n||[],f(t).constructor):e.apply(t,n));var t,e,n}return e(i,o),t(i,[{key:"toObject",value:function(){var t=n(f(i.prototype),"toObject",this).call(this);return t.type="email",t}}])}();var Kt=function(){function i(){return l(this,i),t=this,e=i,n=arguments,e=f(e),h(t,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,n||[],f(t).constructor):e.apply(t,n));var t,e,n}return e(i,o),t(i,[{key:"toObject",value:function(){var t=n(f(i.prototype),"toObject",this).call(this);return t.type="time",t}}])}();var Qt=function(){function i(){return l(this,i),t=this,e=i,n=arguments,e=f(e),h(t,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,n||[],f(t).constructor):e.apply(t,n));var t,e,n}return e(i,o),t(i,[{key:"toObject",value:function(){var t=n(f(i.prototype),"toObject",this).call(this);return t.type="date",t}}])}(),te=function(){return t(function t(e){l(this,t),c(this,"_options",{id:null,title:"",lang:"en",langList:{},send:{url:"",method:"POST",format:"json"},validResponse:{headers:null,dataType:null},width:null,minWidth:null,maxWidth:null,labelWidth:200,fieldWidth:null,controlsOffset:null,readonly:!1,validate:!1,successLoadUrl:"",errorClass:"",layout:"[position_default]",onSubmit:null,onSubmitSuccess:null,errorMessageScrollOffset:70,record:{},fields:[],controls:[]}),c(this,"field",{input:function(t,e,n){return new o(t,e,n)},text:function(t,e){return new it(t,e)},checkbox:function(t,e){return new lt(t,e)},checkboxBtn:function(t,e){return new ut(t,e)},color:function(t,e){return new Dt(t,e)},date:function(t,e){return new Qt(t,e)},dateMonth:function(t,e){return new Jt(t,e)},dateWeek:function(t,e){return new Xt(t,e)},datetime:function(t,e){return new Gt(t,e)},time:function(t,e){return new Kt(t,e)},custom:function(t,e){return new ct(t,e)},email:function(t,e){return new Zt(t,e)},dataset:function(t,e){return new xt(t,e)},file:function(t,e){return new kt(t,e)},fileUpload:function(t,e){return new Rt(t,e)},group:function(t){return new Ft(t)},hidden:function(t){return new Ct(t)},mask:function(t,e){return new At(t,e)},modal:function(t,e){return new $t(t,e)},number:function(t,e){return new Pt(t,e)},password:function(t,e){return new Lt(t,e)},passwordRepeat:function(t,e){return new St(t,e)},radio:function(t,e){return new st(t,e)},radioBtn:function(t,e){return new Tt(t,e)},range:function(t,e){return new It(t,e)},select:function(t,e){return new qt(t,e)},switch:function(t,e){return new Mt(t,e)},textarea:function(t,e){return new zt(t,e)},wysiwyg:function(t,e){return new Yt(t,e)}}),c(this,"control",{submit:function(t){return new Q(t)},link:function(t,e){return new K(t,e)},button:function(t){return new Z(t)},custom:function(t){return new tt(t)}}),c(this,"_controller",null),c(this,"_lock",!1),c(this,"_readonly",!1),c(this,"_fieldsIndex",0),c(this,"_groupsIndex",0),c(this,"_controlsIndex",0),c(this,"_groups",[]),c(this,"_fields",[]),c(this,"_controls",[]),c(this,"_events",{}),this._options=$.extend(!0,this._options,e),this._options.id||(this._options.id=g.hashCode())},[{key:"initEvents",value:function(){var t=this,e="#coreui-form-"+this._options.id+" > form";$(e).on("submit",function(){return setTimeout(function(){t.send.apply(t)},0),!1}),window.hasOwnProperty("bootstrap")&&bootstrap.hasOwnProperty("Tooltip")&&$(".coreui-form__field_label_help",e).each(function(){new bootstrap.Tooltip(this)}),m(this,"show")}},{key:"getId",value:function(){return this._options.hasOwnProperty("id")?this._options.id:null}},{key:"setOptions",value:function(t){g.isObject(t)&&(this._options=$.extend(!0,this._options,t))}},{key:"onSubmit",value:function(t){"function"==typeof t&&(this._options.onSubmit=t)}},{key:"onSubmitSuccess",value:function(t){"function"==typeof t&&(this._options.onSubmitSuccess=t)}},{key:"setHandler",value:function(t,e,n){"string"==typeof t&&(this._options.send.url=t,"string"==typeof e&&e&&(this._options.send.method=e),"string"==typeof n)&&n&&(this._options.send.format=n)}},{key:"setValidResponseHeaders",value:function(t){g.isObject(t)&&(this._options.validResponse.headers=t)}},{key:"setValidResponseType",value:function(t){Array.isArray(t)&&(this._options.validResponse.dataType=t)}},{key:"setRecord",value:function(t){g.isObject(t)&&(this._options.record=t)}},{key:"addFields",value:function(t){var e;Array.isArray(t)&&(Array.isArray(this._options.fields)||(this._options.fields=[]),e=this,t.map(function(t){t&&t.constructor?t.constructor.name&&"function"==typeof t.toObject&&e._options.fields.push(t.toObject()):g.isObject(t)&&e._options.fields.push(t)}))}},{key:"addControls",value:function(t){var e;Array.isArray(t)&&(Array.isArray(this._options.controls)||(this._options.controls=[]),e=this,t.map(function(t){t&&t.constructor?t.constructor.name&&"function"==typeof t.toObject&&e._options.controls.push(t.toObject()):g.isObject(t)&&e._options.controls.push(t)}))}},{key:"render",value:function(t){this._controller=I,this._options.hasOwnProperty("lang")||(this._options.lang=this._controller.getSetting("lang"));var o,e=this._controller.lang.hasOwnProperty(this._options.lang)?this._controller.lang[this._options.lang]:{},r=(this._options.langList=this._options.hasOwnProperty("langList")&&g.isObject(this._options.langList)?$.extend(!0,{},e,this._options.langList):e,this._options.errorMessageScrollOffset=this._options.hasOwnProperty("errorMessageScrollOffset")&&g.isNumeric(this._options.errorMessageScrollOffset)?this._options.errorMessageScrollOffset:this._controller.getSetting("errorMessageScrollOffset"),this._options.labelWidth=this._options.hasOwnProperty("labelWidth")?this._options.labelWidth:this._controller.getSetting("labelWidth"),this._options.errorClass=this._options.hasOwnProperty("errorClass")&&"string"==typeof this._options.errorClass?this._options.errorClass:this._controller.getSetting("errorClass"),this._options.hasOwnProperty("send")&&g.isObject(this._options.send)&&this._options.send.hasOwnProperty("format")&&"string"==typeof this._options.send.format||(this._options.hasOwnProperty("send")&&g.isObject(this._options.send)||(this._options.send={}),this._options.send.format=this._controller.getSetting("sendDataFormat")),this._readonly=!(!this._options.hasOwnProperty("readonly")||"boolean"!=typeof this._options.readonly)&&this._options.readonly,this._options.hasOwnProperty("labelWidth")&&0<=this._options.labelWidth&&null!==this._options.labelWidth&&(e="number"==typeof this._options.labelWidth?"px":"",this._options.labelWidth=this._options.labelWidth+e),this._options.hasOwnProperty("controlsOffset")&&null!==this._options.controlsOffset?0<=this._options.controlsOffset&&(e="number"==typeof this._options.controlsOffset?"px":"",this._options.controlsOffset=this._options.controlsOffset+e):this._options.controlsOffset=this._options.labelWidth,this),e=[],n=this._options.layout&&"string"==typeof this._options.layout?this._options.layout:"[position_default]",i=[],s=[],l=(this._options.width&&(a="number"==typeof this._options.width?"px":"",e.push("width:"+this._options.width+a)),this._options.minWidth&&(a="number"==typeof this._options.minWidth?"px":"",e.push("min-width:"+this._options.minWidth+a)),this._options.maxWidth&&(a="number"==typeof this._options.maxWidth?"px":"",e.push("max-width:"+this._options.maxWidth+a)),[]),a=Array.from(n.matchAll(/\[position_([\w_\d]+)\]/g)),u=(0<a.length&&a.map(function(t){l.push(t[1]),n=n.replace("[position_"+t[1]+"]",'<div class="coreui-form-position-'+t[1]+'"></div>')}),$(n)),c=("object"===y(this._options.fields)&&Array.isArray(this._options.fields)&&0<this._options.fields.length&&(o={},0<l.length&&this._options.fields.map(function(t){var e,n,i=!t.hasOwnProperty("position")||"string"!=typeof t.position&&"number"!=typeof t.position?"default":0<=l.indexOf(t.position)?t.position:null;"string"==typeof i&&(e=null,e="group"===(t.hasOwnProperty("type")&&"string"==typeof t.type?t.type:"")?(n=H(r,t),J(n)):(n=V(r,t),X(r,n)),o.hasOwnProperty(i)||(o[i]=[]),o[i].push(e))}),0<=Object.keys(o).length)&&$.each(o,function(i,t){$.each(t,function(t,e){var n=u.closest(".coreui-form-position-"+i);(n=n[0]?n:u.find(".coreui-form-position-"+i)).append(e)})}),"object"===y(this._options.controls)&&Array.isArray(this._options.controls)&&0<this._options.controls.length&&this._options.controls.map(function(t){var e=Y(r,t);e&&"object"===y(e)&&i.push({show:!t.hasOwnProperty("show")||t.show,index:r._controlsIndex-1,content:e.render()})}),"boolean"==typeof this._options.validate&&this._options.validate&&s.push("novalidate"),$(g.render(d["form.html"],{form:this._options,formAttr:s?" "+s.join(" "):"",widthSizes:e,controls:i}))),f=(c.find(".coreui-form__fields").append(u),this.getId());if(i.map(function(t){c.find("#coreui-form-"+f+"-control-"+t.index).append(t.content)}),void 0===t)return c;a=null;"string"==typeof t?a=document.getElementById(t):t instanceof HTMLElement&&(a=t),a&&($(a).html(c),this.initEvents())}},{key:"lock",value:function(){this._lock=!0,this._controls.map(function(t){var e=t.getOptions();e.hasOwnProperty("type")&&"submit"===e.type&&t.lock()})}},{key:"unlock",value:function(){this._lock=!1,this._controls.map(function(t){var e=t.getOptions();e.hasOwnProperty("type")&&"submit"===e.type&&t.unlock()})}},{key:"send",value:function(){if(!this._lock){if("boolean"==typeof this._options.validate&&this._options.validate)if(!this.validate())return;var t=null,e=this.getData();if(this._fields.map(function(t){t.isAlloySend()||(t=t.getOptions()).hasOwnProperty("name")&&t.name&&e.hasOwnProperty(t.name)&&delete e[t.name]}),"function"==typeof this._options.onSubmit?t=this._options.onSubmit:"string"==typeof this._options.onSubmit&&this._options.onSubmit&&("function"==typeof(n=g.getFunctionByName(this._options.onSubmit))?t=n:"string"==typeof this._options.onSubmit&&(t=new Function("form","data",this._options.onSubmit))),"function"==typeof t)if(!1===t(this,e))return;var p,_,n=m(this,"send",[this,e]),i=!1;n.map(function(t){if(!1===t)return!(i=!0)}),i||(this.lock(),p=this,n=t=null,"json"===(0<=["form","json"].indexOf(this._options.send.format)?this._options.send.format:"form")?(n="application/json; charset=utf-8",t=JSON.stringify(e)):(n=!1,function e(n,i,o){i&&(Array.isArray(i)||g.isObject(i))?Object.keys(i).forEach(function(t){e(n,i[t],o?o+"["+t+"]":t)}):n.append(o,null==i?"":i)}(t=new FormData,e)),_=function(t,e,n){var i=p.getLang().send_error||"",o={};try{var r=JSON.parse(t.responseText);"object"!==y(r)||null===r||Array.isArray(r)||(o=r)}catch(t){}o.hasOwnProperty("error_message")&&"string"==typeof o.error_message&&""!==o.error_message&&(i=o.error_message),p.showError(i),m(p,"send_error",[p,t,e,n])},$.ajax({url:this._options.send.url,method:this._options.send.method,data:t,contentType:n,processData:!1,beforeSend:function(t){m(p,"send_start",[p,t])},success:function(n,t,i){var o=!0;if("object"===y(p._options.validResponse)&&(Array.isArray(p._options.validResponse.headers)&&$.each(p._options.validResponse.headers,function(t,e){if("string"==typeof e){if(i.getResponseHeader(t)!=e)return o=!1}else if(Array.isArray(e)&&e.indexOf(i.getResponseHeader(t))<0)return o=!1}),o)&&("string"==typeof p._options.validResponse.dataType?"json"!==p._options.validResponse.dataType||"object"===y(n)||Array.isArray(n)||g.isJson(n)||(o=!1):Array.isArray(p._options.validResponse.dataType)&&$.each(p._options.validResponse.dataType,function(t,e){if("json"===e&&"object"!==y(n)&&!Array.isArray(n)&&!g.isJson(n))return o=!1})),o){var e=n,r=(p.hideError(),m(p,"send_success",[p,e]),null);if("string"==typeof e)try{var s=JSON.parse(e);"object"!==y(s)||null===s||Array.isArray(s)||(r=s)}catch(t){}else r=e;if(null!==r&&"object"===y(r)&&(r.hasOwnProperty("scripts")&&Array.isArray(r.scripts)&&r.scripts.map(function(t){"string"==typeof t&&new Function(t)()}),r.hasOwnProperty("loadUrl"))&&"string"==typeof r.loadUrl&&(location.href=r.loadUrl),p._options.hasOwnProperty("onSubmitSuccess")&&("function"==typeof p._options.onSubmitSuccess?p._options.onSubmitSuccess(r):"string"==typeof p._options.onSubmitSuccess&&new Function(p._options.onSubmitSuccess)(r)),p._options.hasOwnProperty("successLoadUrl")&&"string"==typeof p._options.successLoadUrl&&""!==p._options.successLoadUrl){var l=p._options.successLoadUrl;if(null!==r&&"object"===y(r)){for(var a=new RegExp("\\[response\\.([\\d\\w\\.]+)\\]","uig"),u={};e=a.exec(l);)u[e[0]]=e[1];if(0<Object.keys(u).length)for(var c=0,f=Object.entries(u);c<f.length;c++)var h=v(f[c],2),d=h[0],h=h[1],h=void 0!==(h=g.getObjValue(r,h))?h:"",l=l.replace(new RegExp(d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),h)}s=location.hash===l;location.href=l,s&&window.onhashchange()}}else _(i,t)},error:_,complete:function(t,e){p.unlock(),m(p,"send_end",[p,t,e])}}))}}},{key:"getOptions",value:function(){return this._options}},{key:"getRecord",value:function(){return this._options.hasOwnProperty("record")&&"object"===y(this._options.record)?this._options.record:{}}},{key:"getData",value:function(){var n={};return this._fields.map(function(t){var e=t.getOptions();e.hasOwnProperty("name")&&e.name&&null!==(t=t.getValue())&&(n[e.name]=t)}),n}},{key:"getFields",value:function(){return this._fields}},{key:"getControls",value:function(){return this._controls}},{key:"getGroups",value:function(){return this._groups}},{key:"getField",value:function(n){var i={};return this._fields.map(function(t){var e=t.getOptions();e.hasOwnProperty("name")&&e.name===n&&(i=t)}),i}},{key:"readonly",value:function(n){this._fields.map(function(t){t.readonly(n)}),this._controls.map(function(t){var e=t.getOptions();e.hasOwnProperty("type")&&"submit"===e.type&&(n?t.hide():t.show())})}},{key:"showControls",value:function(){this._controls.map(function(t){t.show()})}},{key:"hideControls",value:function(){this._controls.map(function(t){t.hide()})}},{key:"validate",value:function(){var e=!0;return this._fields.map(function(t){!1===t.isValid()?(t.validate(!1),e=!1):t.validate(null)}),e}},{key:"showError",value:function(t,e){var n=$("#coreui-form-"+this._options.id+" > form"),i=n.find("> .coreui-form__error"),i=(i[0]&&i.remove(),e="object"!==y(e)||Array.isArray(e)||null===e?{}:e,"string"==typeof this._options.errorClass&&""!==this._options.errorClass&&(e.class=e.hasOwnProperty("class")?e.class:"",e.class+=" "+this._options.errorClass),{class:e.hasOwnProperty("class")&&"string"==typeof e.class?e.class:"",dismiss:!e.hasOwnProperty("dismiss")||!!e.dismiss});n.prepend(g.render(d["form-error.html"],{message:t,options:i})),e.hasOwnProperty("scroll")&&!e.scroll||$("html,body").animate({scrollTop:n.offset().top-e.errorMessageScrollOffset},"fast")}},{key:"hideError",value:function(){$("#coreui-form-"+this._options.id+" > form > .coreui-form__error").remove()}},{key:"on",value:function(t,e,n){"object"!==y(this._events[t])&&(this._events[t]=[]),this._events[t].push({context:n||this,callback:e,singleExec:!1})}},{key:"one",value:function(t,e,n){"object"!==y(this._events[t])&&(this._events[t]=[]),this._events[t].push({context:n||this,callback:e,singleExec:!0})}},{key:"destruct",value:function(){$("#coreui-form-"+this._options.id).remove(),delete I._instances[this.getId()]}},{key:"getLang",value:function(){return $.extend(!0,{},this._options.langList)}}])}(),I={lang:{},fields:{},controls:{},abstract:{},_instances:{},_settings:{labelWidth:200,lang:"en",class:"",sendDataFormat:"json",errorMessageScrollOffset:70},create:function(t){g.isObject(t)||(t={});var t=new te(t),e=t.getId();return this._instances[e]=t},get:function(t){return this._instances.hasOwnProperty(t)?$("#coreui-form-"+t)[0]?this._instances[t]:(delete this._instances[t],null):null},setSettings:function(t){this._settings=$.extend({},this._settings,t)},getSetting:function(t){var e=null;return e=this._settings.hasOwnProperty(t)?this._settings[t]:e}},E=function(){return t(function t(e,n){l(this,t),c(this,"_id",null),c(this,"_form",null),c(this,"_contentId",""),c(this,"_readonly",null),c(this,"_value",null),c(this,"_options",{type:"",name:null,noSend:null,required:null,show:!0,position:null,readonly:null}),this._form=e,this._id=n.hasOwnProperty("id")&&"string"==typeof n.id?n.id:"",this._contentId=n.hasOwnProperty("contentId")&&"string"==typeof n.contentId?n.contentId:"",this._readonly=!(!n.hasOwnProperty("readonly")||"boolean"!=typeof n.readonly)&&n.readonly,this._value=n.hasOwnProperty("value")&&0<=["string","number","object"].indexOf(y(n.value))?n.value:null,this._options=$.extend(!0,this._options,n)},[{key:"getId",value:function(){return this._id}},{key:"getContentId",value:function(){return this._contentId}},{key:"getOptions",value:function(){return $.extend(!0,{},this._options)}},{key:"show",value:function(t){$("#coreui-form-"+this.getId()).addClass("d-flex").removeClass("d-none").css("opacity",0).animate({opacity:1},t||200,function(){$(this).css("opacity","")})}},{key:"hide",value:function(t){$("#coreui-form-"+this.getId()).animate({opacity:0},t||200,function(){$(this).removeClass("d-flex").addClass("d-none").css("opacity","")})}},{key:"readonly",value:function(t){this._value=this.getValue(),this._readonly=!!t,$(".content-"+this._contentId).html(this.renderContent())}},{key:"getValue",value:function(){return null}},{key:"setValue",value:function(t){}},{key:"validate",value:function(t,e){}},{key:"isValid",value:function(){return null}},{key:"isAlloySend",value:function(){return!this._options.noSend}},{key:"renderContent",value:function(){return""}}])}(),ee=function(){return t(function t(e,n){l(this,t),c(this,"_id",null),c(this,"_form",null),c(this,"_options",{type:"",id:""}),this._form=e,this._id=n.hasOwnProperty("id")&&"string"==typeof n.id?n.id:"",this._options=$.extend(!0,this._options,n)},[{key:"getId",value:function(){return this._id}},{key:"getOptions",value:function(){return $.extend(!0,{},this._options)}},{key:"show",value:function(t){$("#coreui-form-"+this.getId()).show(t||0)}},{key:"hide",value:function(t){$("#coreui-form-"+this.getId()).hide(t||0)}},{key:"render",value:function(){return null}}])}();var ne=function(){function r(t,e){var n,i,o;return l(this,r),e=$.extend(!0,{type:"button",content:null,onClick:null,attr:{class:"btn btn-secondary"}},e),n=this,e=[t,e],i=f(i=r),i=h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(i,e||[],f(n).constructor):i.apply(n,e)),0<=["function","string"].indexOf(y(i._options.onClick))&&(o=i,t.on("show",function(){$("#coreui-form-"+o.getId()+" > button").click(function(t){"function"==typeof o._options.onClick?o._options.onClick(o._form,t):new Function("form","event",o._options.onClick)(o._form,t)})})),i}return e(r,ee),t(r,[{key:"lock",value:function(){var t=$("#coreui-form-"+this.getId()+" > button");t.find(".spinner-border")[0]||t.prepend('<span class="spinner-border spinner-border-sm"></span> '),t.attr("disabled")||t.attr("disabled","disabled")}},{key:"unlock",value:function(){var t=$("#coreui-form-"+this.getId()+" > button");t.find(".spinner-border").remove(),t.removeAttr("disabled")}},{key:"render",value:function(){var n=[],t=this.getOptions();return t.attr.type="button",$.each(t.attr,function(t,e){n.push(t+'="'+e+'"')}),g.render(d["controls/button.html"],{content:this._options.content,attr:0<n.length?" "+n.join(" "):""})}}])}();var ie=function(){function i(t,e){return l(this,i),e=$.extend(!0,{type:"submit",content:null,onClick:null,show:!0,attr:{class:"btn btn-primary"}},e),n=this,t=[t,e],e=f(e=i),h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,t||[],f(n).constructor):e.apply(n,t));var n}return e(i,ne),t(i,[{key:"render",value:function(){var n=[],t=this.getOptions();return t.attr.type="submit",$.each(t.attr,function(t,e){n.push(t+'="'+e+'"')}),g.render(d["controls/button.html"],{content:this._options.content,attr:0<n.length?" "+n.join(" "):""})}}])}();var oe=function(){function r(t,e){var n,i,o;return l(this,r),e=$.extend(!0,{type:"link",url:null,content:null,onClick:null,attr:{class:"btn btn-link"}},e),n=this,e=[t,e],i=f(i=r),i=h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(i,e||[],f(n).constructor):i.apply(n,e)),0<=["function","string"].indexOf(y(i._options.onClick))&&(o=i,t.on("show",function(){$("#coreui-form-"+o.getId()+" > a").click(function(t){"function"==typeof o._options.onClick?o._options.onClick(o._form,t):new Function("form","event",o._options.onClick)(o._form,t)})})),i}return e(r,ne),t(r,[{key:"lock",value:function(){var t=$("#coreui-form-"+this.getId()+" > a");t.find(".spinner-border")[0]||t.prepend('<span class="spinner-border spinner-border-sm"></span> '),t.attr("disabled")||t.attr("disabled","disabled")}},{key:"unlock",value:function(){var t=$("#coreui-form-"+this.getId()+" > a");t.find(".spinner-border").remove(),t.removeAttr("disabled")}},{key:"render",value:function(){var n=[],t=this.getOptions();return $.each(t.attr,function(t,e){n.push(t+'="'+e+'"')}),g.render(d["controls/link.html"],{url:this._options.url,content:this._options.content,attr:0<n.length?" "+n.join(" "):""})}}])}();var re=function(){function i(t,e){return l(this,i),e=$.extend(!0,{type:"custom",content:null},e),n=this,t=[t,e],e=f(e=i),h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,t||[],f(n).constructor):e.apply(n,t));var n}return e(i,ee),t(i,[{key:"render",value:function(){return this._options.content}}])}();var se=function(){function i(t,e){return l(this,i),e=$.extend(!0,{type:"checkbox",name:null,label:null,labelWidth:null,inline:!1,prefix:null,suffix:null,description:null,errorText:null,options:[],fields:null,required:null,readonly:null,show:!0,on:null},e),n=this,t=[t,e],e=f(e=i),h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,t||[],f(n).constructor):e.apply(n,t));var n}return e(i,E),t(i,[{key:"getValue",value:function(){var t;return this._readonly?this._value:(t=[],$(".content-"+this.getContentId()+" input[type=checkbox]:checked").each(function(){t.push($(this).val())}),t)}},{key:"setValue",value:function(e){if(!(["string","number","object"].indexOf(y(e))<0)){if("object"===y(e)){if(null!==e&&!Array.isArray(e))return}else e=[e];var t,i,o=this,n=this.getContentId();this._value=[],this._readonly?($(".content-"+n).empty(),(t=this.getOptions()).hasOwnProperty("options")&&"object"===y(t.options)&&Array.isArray(t.options)&&Array.isArray(e)&&(i=[],$.each(t.options,function(t,n){n.hasOwnProperty("value")&&$.each(e,function(t,e){if(n.value==e)return n.hasOwnProperty("text")&&0<=["string","number"].indexOf(y(n.text))&&i.push(n.text),o._value.push(e),!1})}),$(".content-"+n).text(i.join(", ")))):($(".content-"+n+" input[type=radio]").prop("checked",!1),Array.isArray(e)&&$(".content-"+n+" input[type=radio]").each(function(t,n){$.each(e,function(t,e){if(e==$(n).val())return $(n).prop("checked",!0),o._value.push(e),!1})}))}}},{key:"validate",value:function(t,e){var n,i,o;this._readonly||(n=$(".content-"+this.getContentId()),i=$(".form-check:last-child",n),o=$("input",n),n.find(".valid-feedback").remove(),n.find(".invalid-feedback").remove(),null===t?(o.removeClass("is-invalid"),o.removeClass("is-valid")):t?(o.removeClass("is-invalid"),o.addClass("is-valid"),"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&i.append('<div class="valid-feedback">'+e+"</div>")):(o.removeClass("is-valid"),o.addClass("is-invalid"),void 0===e&&("string"==typeof this._options.invalidText?e=this._options.invalidText:!e&&this._options.required&&(e=this._form.getLang().required_field)),"string"==typeof e&&i.append('<div class="invalid-feedback">'+e+"</div>")))}},{key:"isValid",value:function(){return!(this._options.required&&!this._readonly)||0<this.getValue().length}},{key:"renderContent",value:function(){var r=this,s=[],l=this.getOptions(),a=[],t=(l.hasOwnProperty("options")&&"object"===y(l.options)&&Array.isArray(l.options)&&$.each(l.options,function(t,n){var i=[],o={type:"checkbox",class:"form-check-input"},e=n.hasOwnProperty("text")&&0<=["string","number"].indexOf(y(n.text))?n.text:"";l.name&&(o.name=r._options.name),l.required&&(o.required="required"),$.each(n,function(t,e){"text"!==t&&(o[t]="class"===t?o[t]+" "+e:e)}),o.id=g.hashCode(),"object"===y(r._value)&&Array.isArray(r._value)?$.each(r._value,function(t,e){if(e==n.value)return o.checked="checked",n.hasOwnProperty("text")&&n.text&&a.push(n.text),!1}):r._value==n.value&&(n.hasOwnProperty("text")&&n.text&&a.push(n.text),o.checked="checked"),$.each(o,function(t,e){i.push(t+'="'+e+'"')}),s.push({id:o.id,text:e,attr:0<i.length?" "+i.join(" "):""})}),"object"===y(this._value)&&Array.isArray(this._value)?this._value.join(", "):this._value),t=$(g.render(d["fields/checkbox.html"],{readonly:this._readonly,field:l,value:t,options:s,selectedItems:a}));if(this._options.on&&g.isObject(this._options.on))for(var i=t.find("input").addBack("input"),o=this,u=0,c=Object.entries(this._options.on);u<c.length;u++)!function(){var t=v(c[u],2),e=t[0],n=t[1];"string"==typeof e&&"function"==typeof n&&i.on(e,function(t){n({field:o,event:t})})}();return t}}])}();var le=function(){function i(t,e){return l(this,i),e=$.extend(!0,{type:"checkboxBtn",name:null,label:null,labelWidth:null,optionsClass:"btn btn-outline-secondary",inline:!1,prefix:null,suffix:null,description:null,errorText:null,options:[],fields:null,required:null,readonly:null,show:!0},e),n=this,t=[t,e],e=f(e=i),h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,t||[],f(n).constructor):e.apply(n,t));var n}return e(i,se),t(i,[{key:"renderContent",value:function(){var r=this,s=[],l=this.getOptions(),a=[],t=(l.hasOwnProperty("options")&&"object"===y(l.options)&&Array.isArray(l.options)&&$.each(l.options,function(t,n){var i=[],o={type:"checkbox",class:"btn-check",autocomplete:"off"},e=n.hasOwnProperty("text")&&0<=["string","number"].indexOf(y(n.text))?n.text:"";l.name&&(o.name=r._options.name),l.required&&(o.required="required"),$.each(n,function(t,e){"text"!==t&&(o[t]="class"===t?o[t]+" "+e:e)}),o.id=g.hashCode(),"object"===y(r._value)&&Array.isArray(r._value)?$.each(r._value,function(t,e){if(e==n.value)return o.checked="checked",n.hasOwnProperty("text")&&n.text&&a.push(n.text),!1}):r._value==n.value&&(n.hasOwnProperty("text")&&n.text&&a.push(n.text),o.checked="checked"),$.each(o,function(t,e){i.push(t+'="'+e+'"')}),s.push({id:o.id,text:e,attr:0<i.length?" "+i.join(" "):""})}),"object"===y(this._value)&&Array.isArray(this._value)?this._value.join(", "):this._value),t=$(g.render(d["fields/checkbox-btn.html"],{readonly:this._readonly,field:l,value:t,options:s,selectedItems:a}));if(this._options.on&&g.isObject(this._options.on))for(var i=t.find("input").addBack("input"),o=this,u=0,c=Object.entries(this._options.on);u<c.length;u++)!function(){var t=v(c[u],2),e=t[0],n=t[1];"string"==typeof e&&"function"==typeof n&&i.on(e,function(t){n({field:o,event:t})})}();return t}}])}();var ae=function(){function i(t,e){return l(this,i),e=$.extend(!0,{type:"text",name:null,label:null,labelWidth:null,width:null,prefix:null,suffix:null,description:null,errorText:null,fields:null,attr:{class:"form-control d-inline-block"},required:null,invalidText:null,validText:null,readonly:null,datalist:null,show:!0,position:null,noSend:null,on:null},e),n=this,t=[t,e],e=f(e=i),h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,t||[],f(n).constructor):e.apply(n,t));var n}return e(i,E),t(i,[{key:"getValue",value:function(){return this._readonly?this._value:$(".content-"+this.getContentId()+" input").val()}},{key:"setValue",value:function(t){["string","number"].indexOf(y(t))<0||(this._value=t,this._readonly?$(".content-"+this.getContentId()).text(t):$(".content-"+this.getContentId()+" input").val(t))}},{key:"validate",value:function(t,e){var n,i;this._readonly||(n=$(".content-"+this.getContentId()),i=$("input",n),n.find(".valid-feedback").remove(),n.find(".invalid-feedback").remove(),null===t?(i.removeClass("is-invalid"),i.removeClass("is-valid")):t?(i.removeClass("is-invalid"),i.addClass("is-valid"),"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&n.append('<div class="valid-feedback">'+e+"</div>")):(i.removeClass("is-valid"),i.addClass("is-invalid"),void 0===e&&("string"==typeof this._options.invalidText?e=this._options.invalidText:!e&&this._options.required&&(e=this._form.getLang().required_field)),"string"==typeof e&&n.append('<div class="invalid-feedback">'+e+"</div>")))}},{key:"isValid",value:function(){var t=$(".content-"+this.getContentId()+" input");return t[0]?t.is(":valid"):null}},{key:"renderContent",value:function(){return this._readonly?this._renderContentReadonly():this._renderContent()}},{key:"_renderContent",value:function(){var t=[],i=[],e=this.getOptions(),n=g.hashCode();e.hasOwnProperty("attr")&&"object"===y(e.attr)&&null!==e.attr&&!Array.isArray(e.attr)||(e.attr={}),e.name&&(e.attr.name=this._options.name),e.attr.type=e.type,e.attr.value=null!==this._value?this._value:"",e.width&&(e.attr=g.mergeAttr({style:"width:"+e.width},e.attr)),e.required&&(e.attr.required="required"),e.hasOwnProperty("datalist")&&"object"===y(e.datalist)&&Array.isArray(e.datalist)&&(e.attr.list=n,$.each(e.datalist,function(t,e){var n=[];$.each(e,function(t,e){n.push(t+'="'+e+'"')}),i.push({attr:0<n.length?" "+n.join(" "):""})}));for(var o=0,r=Object.entries(e.attr);o<r.length;o++){var s=v(r[o],2),l=s[0],s=s[1];t.push(l+'="'+s+'"')}e=$(g.render(d["fields/input.html"],{readonly:this._readonly,datalistId:n,value:null!==this._value?this._value:"",attr:0<t.length?" "+t.join(" "):"",datalist:i}));if(this._options.on&&g.isObject(this._options.on))for(var a=e.find("input").addBack("input"),u=this,c=0,f=Object.entries(this._options.on);c<f.length;c++)!function(){var t=v(f[c],2),e=t[0],n=t[1];"string"==typeof e&&"function"==typeof n&&a.on(e,function(t){n({field:u,event:t})})}();return e}},{key:"_renderContentReadonly",value:function(){var t=this.getOptions(),e="text",n=this._value,i=this._form.getLang();t.hasOwnProperty("type")&&"string"==typeof t.type&&(e=t.type);try{switch(e){case"date":n=g.formatDate(n);break;case"datetime-local":n=g.formatDateTime(n);break;case"month":n=g.formatDateMonth(n,i);break;case"week":n=g.formatDateWeek(n,i)}}catch(t){console.error(t)}return g.render(d["fields/input.html"],{readonly:this._readonly,value:n})}}])}();var ue=function(){function i(t,e){return l(this,i),e=$.extend(!0,{type:"color",name:null,label:null,labelWidth:null,width:null,prefix:null,suffix:null,description:null,errorText:null,fields:null,attr:{class:"form-control form-control-color d-inline-block"},required:null,readonly:null,datalist:null,show:!0,position:null,noSend:null},e),n=this,t=[t,e],e=f(e=i),h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,t||[],f(n).constructor):e.apply(n,t));var n}return e(i,ae),t(i,[{key:"_renderContent",value:function(){var n=[],i=[],t=this.getOptions(),e=g.hashCode(),t=(t.hasOwnProperty("attr")&&"object"===y(t.attr)&&null!==t.attr&&!Array.isArray(t.attr)||(t.attr={}),t.name&&(t.attr.name=this._options.name),t.attr.type=t.type,t.attr.value=this._value,t.width&&(t.attr=g.mergeAttr({style:"width:"+t.width},t.attr)),t.required&&(t.attr.required="required"),t.hasOwnProperty("datalist")&&"object"===y(t.datalist)&&Array.isArray(t.datalist)&&(t.attr.list=e,$.each(t.datalist,function(t,e){var n=[];$.each(e,function(t,e){n.push(t+'="'+e+'"')}),i.push({attr:0<n.length?" "+n.join(" "):""})})),$.each(t.attr,function(t,e){n.push(t+'="'+e+'"')}),$(g.render(d["fields/color.html"],{readonly:this._readonly,field:t,value:this._value,attr:0<n.length?" "+n.join(" "):"",datalistId:e,datalist:i})));if(this._options.on&&g.isObject(this._options.on))for(var o=t.find("input").addBack("input"),r=this,s=0,l=Object.entries(this._options.on);s<l.length;s++)!function(){var t=v(l[s],2),e=t[0],n=t[1];"string"==typeof e&&"function"==typeof n&&o.on(e,function(t){n({field:r,event:t})})}();return t}},{key:"_renderContentReadonly",value:function(){return g.render(d["fields/color.html"],{readonly:this._readonly,value:this._value})}}])}();I.fields.color=ue;var ce=function(){function i(t,e){return l(this,i),e=$.extend(!0,{type:"custom",label:null,labelWidth:null,width:null,content:"",prefix:null,suffix:null,description:null,required:null,show:!0},e),n=this,t=[t,e],e=f(e=i),h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,t||[],f(n).constructor):e.apply(n,t));var n}return e(i,E),t(i,[{key:"readonly",value:function(t){this._readonly=!!t}},{key:"getValue",value:function(){var t,e,n;return this._readonly?this._value:(t=null,1===(e=$(".content-"+this.getContentId()+" input,select,textarea")).length?t=$(e).val():(n={},e.each(function(){var t=$(this).attr("name");t&&(n[t]=$(this).val())}),0<Object.keys(n).length&&(t=n)),t)}},{key:"renderContent",value:function(){var t=this.getOptions().content,e=[];if("string"==typeof t)e.push(t);else if(t instanceof Object){Array.isArray(t)||(t=[t]);for(var n,i=0;i<t.length;i++)"string"==typeof t[i]?e.push(t[i]):t[i]instanceof Object&&"function"==typeof t[i].render&&"function"==typeof t[i].initEvents?(e.push(t[i].render()),this._form.on("show",t[i].initEvents,t[i],!0)):!Array.isArray(t[i])&&t[i].hasOwnProperty("component")&&"string"==typeof t[i].component&&"coreui"===t[i].component.substring(0,6)?(n=t[i].component.split(".")[1],CoreUI.hasOwnProperty(n)&&g.isObject(CoreUI[n])&&(n=CoreUI[n].create(t[i]),e.push(n.render()),this._form.on("show",n.initEvents,n,!0))):e.push(JSON.stringify(t[i]))}return e}}])}();var fe=function(){function o(t,a){l(this,o),a=$.extend(!0,{type:"dataset",name:null,label:null,labelWidth:null,prefix:null,suffix:null,description:null,errorText:null,fields:null,required:null,readonly:null,show:!0,position:null,noSend:null,on:null},a),e=this,i=[t,a],n=f(n=o),c(n=h(e,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(n,i||[],f(e).constructor):n.apply(e,i)),"_renderOptions",[]);var e,n,i,u=n;return t.on("show",function(){u._readonly||u._initEvents()}),a.hasOwnProperty("options")&&"object"===y(a.options)&&Array.isArray(a.options)&&$.each(a.options,function(t,e){var n=e.hasOwnProperty("name")&&0<=["string","number"].indexOf(y(e.name))?e.name:"",i=e.hasOwnProperty("type")&&"string"==typeof e.type?e.type:"text",o=e.hasOwnProperty("attr")&&"object"===y(e.attr)&&!Array.isArray(e.attr)?e.attr:{},r=e.hasOwnProperty("items")&&"object"===y(e.items)&&Array.isArray(e.items)?e.items:[],s=e.hasOwnProperty("valueY")&&0<=["string","number"].indexOf(y(e.valueY))?e.valueY:1,l=e.hasOwnProperty("valueN")&&0<=["string","number"].indexOf(y(e.valueN))?e.valueN:0,e=e.hasOwnProperty("width")&&0<=["string","number"].indexOf(y(e.width))?e.width:null;n&&(o.name=n),a.required&&(o.required="required"),"select"===i?o.class=o.hasOwnProperty("class")?"form-select "+o.class:"form-select":"switch"===i?(o.class=o.hasOwnProperty("class")?"form-check-input "+o.class:"form-check-input",o.type="checkbox",o.value=s):(o.class=o.hasOwnProperty("class")?"form-control "+o.class:"form-control",o.type=i),u._renderOptions.push({type:i,name:n,attr:o,items:r,valueY:s,valueN:l,width:e})}),n}return e(o,E),t(o,[{key:"readonly",value:function(t){n(f(o.prototype),"readonly",this).call(this,t),t||this._initEvents()}},{key:"getValue",value:function(){var t,e;return this._readonly?this._value:(t=$(".content-"+this.getContentId()),e=[],$(".coreui-form__field-dataset-list .coreui-form__field-dataset-item",t).each(function(){var n={};$.each($(this).find("input, select").serializeArray(),function(t,e){e.name&&(n[e.name]=e.value)}),e.push(n)}),e)}},{key:"setValue",value:function(t){g.isObject(t)&&(this._value.push(t),this._readonly?$(".content-"+this.getContentId()+" .coreui-form__field-dataset-list").append(this._renderRowReadonly(t)):this._eventAdd(t))}},{key:"validate",value:function(t,e){var n;this._readonly||((n=$(".content-"+this.getContentId())).find(".text-success").remove(),n.find(".text-danger").remove(),null!==t&&(t?"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&n.append('<div class="ps-2 text-success">'+e+"</div>"):(void 0===e&&("string"==typeof this._options.invalidText?e=this._options.invalidText:!e&&this._options.required&&(e=this._form.getLang().required_field)),"string"==typeof e&&n.append('<div class="ps-2 text-danger">'+e+"</div>"))))}},{key:"isValid",value:function(){return!(this._options.required&&!this._readonly)||0<this.getValue().length}},{key:"removeItems",value:function(){$("#coreui-form-"+this.getId()+" .content-"+this.getContentId()+" .coreui-form__field-dataset-list").empty()}},{key:"removeItem",value:function(t){var e="#coreui-form-"+this.getId()+" .content-"+this.getContentId();$("#"+t).hide("fast",function(){$("#"+t).remove(),0===$(e+" .coreui-form__field-dataset-item").length&&$(e+" .coreui-form__field-dataset-container").hide()})}},{key:"renderContent",value:function(){return this._readonly?this._renderContentReadonly():this._renderContent()}},{key:"_renderContent",value:function(){var t=this.getOptions(),n=[],i=[],o=this,t=(t.hasOwnProperty("options")&&"object"===y(t.options)&&Array.isArray(t.options)&&($.each(t.options,function(t,e){e=e.hasOwnProperty("title")&&0<=["string","number"].indexOf(y(e.title))?e.title:"";i.push({title:e})}),"object"===y(this._value))&&Array.isArray(this._value)&&$.each(this._value,function(t,e){"object"!==y(e)||Array.isArray(e)||n.push(o._renderRow(e))}),$(g.render(d["fields/dataset.html"],{readonly:this._readonly,value:null!==this._value?this._value:"",lang:this._form.getLang(),headers:i,rows:n})));if(this._options.on&&g.isObject(this._options.on))for(var r=t.find("input, select").addBack("input, select"),s=this,l=0,a=Object.entries(this._options.on);l<a.length;l++)!function(){var t=v(a[l],2),e=t[0],n=t[1];"string"==typeof e&&"function"==typeof n&&r.on(e,function(t){n({field:s,event:t})})}();return t}},{key:"_renderContentReadonly",value:function(){var t=this.getOptions(),n=[],i=[],o=this;return t.hasOwnProperty("options")&&"object"===y(t.options)&&Array.isArray(t.options)&&($.each(t.options,function(t,e){e=e.hasOwnProperty("title")&&0<=["string","number"].indexOf(y(e.title))?e.title:"";i.push({title:e})}),"object"===y(this._value))&&Array.isArray(this._value)&&$.each(this._value,function(t,e){"object"!==y(e)||Array.isArray(e)||n.push(o._renderRowReadonly(e))}),g.render(d["fields/dataset.html"],{readonly:this._readonly,field:t,value:null!==this._value?this._value:"",lang:this._form.getLang(),headers:i,rows:n})}},{key:"_initEvents",value:function(){var t=this,e="#coreui-form-"+this.getId()+" .content-"+this.getContentId();$(e+" .btn-dataset-remove").click(function(){t.removeItem($(this).data("item-id"))}),$(e+" .btn-dataset-add").click(function(){t._eventAdd()})}},{key:"_eventAdd",value:function(t){var e=this,n="#coreui-form-"+this.getId()+" .content-"+this.getContentId();t=t||{},0===$(n+" .coreui-form__field-dataset-item").length&&$(n+" .coreui-form__field-dataset-container").show(),$(n+" .coreui-form__field-dataset-list").append(this._renderRow(t)),$(n+" .coreui-form__field-dataset-item:last-child .btn-dataset-remove").click(function(){e.removeItem($(this).data("item-id"))})}},{key:"_renderRow",value:function(o){var r=[],l=[];return $.each(this._renderOptions,function(t,e){var n,s=o.hasOwnProperty(e.name)?o[e.name]:"",i=("select"===e.type?$.each(e.items,function(t,e){var n=e.hasOwnProperty("text")&&0<=["string","number"].indexOf(y(e.text))?e.text:"",i=e.hasOwnProperty("value")&&0<=["string","number"].indexOf(y(e.value))?e.value:"",o={},r=($.each(e,function(t,e){"text"!==t&&(o[t]=e)}),"object"===y(s)&&Array.isArray(s)?$.each(s,function(t,e){if(e==i)return!(o.selected="selected")}):s==e.value&&(o.selected="selected"),[]);$.each(o,function(t,e){r.push(t+'="'+e+'"')}),l.push({attr:0<r.length?" "+r.join(" "):"",text:n})}):"switch"===e.type?s==e.valueY&&(e.attr.checked="checked"):0<=["string","number"].indexOf(y(s))&&(e.attr.value=null!==s?s:""),0<e.width&&null!==e.width&&(n="number"==typeof e.width?"px":"",n=e.width+n,e.attr=g.mergeAttr(e.attr||{},{style:"width:"+n})),[]);$.each(e.attr,function(t,e){i.push(t+'="'+e+'"')}),r.push({type:e.type,attr:0<i.length?" "+i.join(" "):"",items:l})}),g.render(d["fields/dataset-row.html"],{hashItem:g.hashCode(),options:r})}},{key:"_renderRowReadonly",value:function(s){var l=[],a=this._form.getLang();return $.each(this._renderOptions,function(t,e){var n="",o=s.hasOwnProperty(e.name)?s[e.name]:"";if("select"===e.type){var r=[];$.each(e.items,function(t,e){var n=e.hasOwnProperty("text")&&0<=["string","number"].indexOf(y(e.text))?e.text:"",i=e.hasOwnProperty("value")&&0<=["string","number"].indexOf(y(e.value))?e.value:"";Array.isArray(o)?$.each(o,function(t,e){if(e==i)return r.push(n),!1}):o==i&&r.push(n)})}else if("switch"===e.type){var i=1;e.hasOwnProperty("valueY")&&(i=e.valueY),n=o==i?a.switch_yes:a.switch_no}else if(0<=["string","number"].indexOf(y(o)))switch(n=o,e.type){case"date":n=g.formatDate(n);break;case"datetime-local":n=g.formatDateTime(n);break;case"month":n=g.formatDateMonth(n,a);break;case"week":n=g.formatDateWeek(n,a);break;default:n=o}l.push({value:n})}),g.render(d["fields/dataset-row-readonly.html"],{options:l})}}])}(),he=function(){return t(function t(e,n){l(this,t),c(this,"_id",""),c(this,"_form",null),c(this,"_options",{type:"group",label:"",show:!0,showCollapsible:!0,fields:[],column:null}),this._form=e,this._id=n.id,this._options=$.extend(!0,{},this._options,n);var i=this;e.on("show",function(){i._initEvents()})},[{key:"getId",value:function(){return this._id}},{key:"getOptions",value:function(){return $.extend(!0,{},this._options,options)}},{key:"collapse",value:function(t){var e="#coreui-form-"+this._id;$(e+" > .coreui-form__group_label .btn-collapsible .bi").removeClass("bi-chevron-down"),$(e+" > .coreui-form__group_label .btn-collapsible .bi").addClass("bi-chevron-right"),$(e+" .coreui-form__group_content").slideUp(t)}},{key:"expand",value:function(t){var e="#coreui-form-"+this._id;$(e+" > .coreui-form__group_label .btn-collapsible .bi").removeClass("bi-chevron-right"),$(e+" > .coreui-form__group_label .btn-collapsible .bi").addClass("bi-chevron-down"),$(e+" .coreui-form__group_content").slideDown(t)}},{key:"renderContent",value:function(){var n=[],i=this;return $.each(this._options.fields,function(t,e){e=V(i._form,e);"object"===y(e)&&n.push(X(i._form,e))}),n}},{key:"_initEvents",value:function(){var t,e;this._options.showCollapsible&&(e="#coreui-form-"+(t=this)._id,$(e+" > .coreui-form__group_label .btn-collapsible").click(function(){$(e+" > .coreui-form__group_content").is(":visible")?t.collapse(80):t.expand(80)}))}}])}();var de=function(){function i(t,e){return l(this,i),e=$.extend(!0,{type:"hidden",name:null,attr:{},required:null,on:null},e),n=this,t=[t,e],e=f(e=i),h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,t||[],f(n).constructor):e.apply(n,t));var n}return e(i,E),t(i,[{key:"getValue",value:function(){return this._readonly?this._value:$("#coreui-form-"+this.getId()).val()}},{key:"setValue",value:function(t){["string","number"].indexOf(y(t))<0||(this._value=t,this._readonly)||$("#coreui-form-"+this.getId()).val(t)}},{key:"render",value:function(){return this.renderContent()}},{key:"renderContent",value:function(){var n=[],t=this.getOptions(),t=(t.hasOwnProperty("attr")&&"object"===y(t.attr)&&null!==t.attr&&!Array.isArray(t.attr)||(t.attr={}),t.attr.id="coreui-form-"+this.getId(),t.name&&(t.attr.name=t.name),t.attr.type="hidden",t.attr.value=null!==this._value?this._value:"",$.each(t.attr,function(t,e){n.push(t+'="'+e+'"')}),$(g.render(d["fields/hidden.html"],{readonly:this._readonly,attr:0<n.length?" "+n.join(" "):""})));if(this._options.on&&g.isObject(this._options.on))for(var i=t.find("input").addBack("input"),o=this,r=0,s=Object.entries(this._options.on);r<s.length;r++)!function(){var t=v(s[r],2),e=t[0],n=t[1];"string"==typeof e&&"function"==typeof n&&i.on(e,function(t){n({field:o,event:t})})}();return t}}])}();pe=function(s){function l(c,g,b){var o,O={invalid:[],getCaret:function(){try{var t,e=0,n=c.get(0),i=document.selection,o=n.selectionStart;return i&&-1===navigator.appVersion.indexOf("MSIE 10")?((t=i.createRange()).moveStart("character",-O.val().length),e=t.text.length):!o&&"0"!==o||(e=o),e}catch(t){}},setCaret:function(t){try{var e,n;c.is(":focus")&&((n=c.get(0)).setSelectionRange?n.setSelectionRange(t,t):((e=n.createTextRange()).collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select()))}catch(t){}},events:function(){c.on("keydown.mask",function(t){c.data("mask-keycode",t.keyCode||t.which),c.data("mask-previus-value",c.val()),c.data("mask-previus-caret-pos",O.getCaret()),O.maskDigitPosMapOld=O.maskDigitPosMap}).on(s.jMaskGlobals.useInput?"input.mask":"keyup.mask",O.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){c.keydown().keyup()},100)}).on("change.mask",function(){c.data("changed",!0)}).on("blur.mask",function(){r===O.val()||c.data("changed")||c.trigger("change"),c.data("changed",!1)}).on("blur.mask",function(){r=O.val()}).on("focus.mask",function(t){!0===b.selectOnFocus&&s(t.target).select()}).on("focusout.mask",function(){b.clearIfNotMatch&&!o.test(O.val())&&O.val("")})},getRegexMask:function(){for(var t,e,n,i,o,r=[],s=0;s<g.length;s++)(n=w.translation[g.charAt(s)])?(t=n.pattern.toString().replace(/.{1}$|^.{1}/g,""),e=n.optional,(n=n.recursive)?(r.push(g.charAt(s)),i={digit:g.charAt(s),pattern:t}):r.push(e||n?t+"?":t)):r.push(g.charAt(s).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return o=r.join(""),i&&(o=o.replace(new RegExp("("+i.digit+"(.*"+i.digit+")?)"),"($1)?").replace(new RegExp(i.digit,"g"),i.pattern)),new RegExp(o)},destroyEvents:function(){c.off(["input","keydown","keyup","paste","drop","blur","focusout",""].join(".mask "))},val:function(t){var e=c.is("input")?"val":"text",t=0<arguments.length?(c[e]()!==t&&c[e](t),c):c[e]();return t},calculateCaretPosition:function(t){var e=O.getMasked(),n=O.getCaret();if(t!==e){for(var i=c.data("mask-previus-caret-pos")||0,o=e.length,e=t.length,r=0,s=0,l=0,a=0,u=0,u=n;u<o&&O.maskDigitPosMap[u];u++)s++;for(u=n-1;0<=u&&O.maskDigitPosMap[u];u--)r++;for(u=n-1;0<=u;u--)O.maskDigitPosMap[u]&&l++;for(u=i-1;0<=u;u--)O.maskDigitPosMapOld[u]&&a++;e<n?n=10*o:n<=i&&i!==e?O.maskDigitPosMapOld[n]||(t=n,O.maskDigitPosMap[n=n-(a-l)-r]&&(n=t)):i<n&&(n=n+(l-a)+s)}return n},behaviour:function(t){t=t||window.event,O.invalid=[];var e,n,i=c.data("mask-keycode");if(-1===s.inArray(i,w.byPassKeys))return i=O.getMasked(),e=O.getCaret(),n=c.data("mask-previus-value")||"",setTimeout(function(){O.setCaret(O.calculateCaretPosition(n))},s.jMaskGlobals.keyStrokeCompensation),O.val(i),O.setCaret(e),O.callbacks(t)},getMasked:function(t,e){for(var n,i,o=[],r=void 0===e?O.val():e+"",s=0,l=g.length,a=0,u=r.length,c=1,f="push",h=-1,d=0,p=[],_=b.reverse?(f="unshift",c=-1,n=0,s=l-1,a=u-1,function(){return-1<s&&-1<a}):(n=l-1,function(){return s<l&&a<u});_();){var y=g.charAt(s),v=r.charAt(a),m=w.translation[y];m?(v.match(m.pattern)?(o[f](v),m.recursive&&(-1===h?h=s:s===n&&s!==h&&(s=h-c),n===h)&&(s-=c),s+=c):v===i?(d--,i=void 0):m.optional?(s+=c,a-=c):m.fallback?(o[f](m.fallback),s+=c,a-=c):O.invalid.push({p:a,v:v,e:m.pattern}),a+=c):(t||o[f](y),v===y?(p.push(a),a+=c):(i=y,p.push(a+d),d++),s+=c)}e=g.charAt(n),l!==u+1||w.translation[e]||o.push(e),e=o.join("");return O.mapMaskdigitPositions(e,p,u),e},mapMaskdigitPositions:function(t,e,n){var i=b.reverse?t.length-n:0;O.maskDigitPosMap={};for(var o=0;o<e.length;o++)O.maskDigitPosMap[e[o]+i]=1},callbacks:function(t){function e(t,e,n){"function"==typeof b[t]&&e&&b[t].apply(this,n)}var n=O.val(),i=n!==r,o=[n,t,c,b];e("onChange",!0==i,o),e("onKeyPress",!0==i,o),e("onComplete",n.length===g.length,o),e("onInvalid",0<O.invalid.length,[n,t,c,O.invalid,b])}},w=(c=s(c),this),r=O.val();g="function"==typeof g?g(O.val(),void 0,c,b):g,w.mask=g,w.options=b,w.remove=function(){var t=O.getCaret();return w.options.placeholder&&c.removeAttr("placeholder"),c.data("mask-maxlength")&&c.removeAttr("maxlength"),O.destroyEvents(),O.val(w.getCleanVal()),O.setCaret(t),c},w.getCleanVal=function(){return O.getMasked(!0)},w.getMaskedVal=function(t){return O.getMasked(!1,t)},w.init=function(t){if(t=t||!1,b=b||{},w.clearIfNotMatch=s.jMaskGlobals.clearIfNotMatch,w.byPassKeys=s.jMaskGlobals.byPassKeys,w.translation=s.extend({},s.jMaskGlobals.translation,b.translation),w=s.extend(!0,{},w,b),o=O.getRegexMask(),t)O.events(),O.val(O.getMasked());else{b.placeholder&&c.attr("placeholder",b.placeholder),c.data("mask")&&c.attr("autocomplete","off");for(var e=0,n=!0;e<g.length;e++){var i=w.translation[g.charAt(e)];if(i&&i.recursive){n=!1;break}}n&&c.attr("maxlength",g.length).data("mask-maxlength",!0),O.destroyEvents(),O.events();t=O.getCaret();O.val(O.getMasked()),O.setCaret(t)}},w.init(!c.is("input"))}function e(){var t=s(this),e={},n="data-mask-",i=t.attr("data-mask");if(t.attr(n+"reverse")&&(e.reverse=!0),t.attr(n+"clearifnotmatch")&&(e.clearIfNotMatch=!0),"true"===t.attr(n+"selectonfocus")&&(e.selectOnFocus=!0),a(t,i,e))return t.data("mask",new l(this,i,e))}function a(t,e,n){n=n||{};var i=s(t).data("mask"),o=JSON.stringify,t=s(t).val()||s(t).text();try{return"function"==typeof e&&(e=e(t)),"object"!=typeof i||o(i.options)!==o(n)||i.mask!==e}catch(t){}}s.maskWatchers={};s.fn.mask=function(t,e){e=e||{};function n(){if(a(this,t,e))return s(this).data("mask",new l(this,t,e))}var i=this.selector,o=s.jMaskGlobals,r=o.watchInterval,o=e.watchInputs||o.watchInputs;return s(this).each(n),i&&""!==i&&o&&(clearInterval(s.maskWatchers[i]),s.maskWatchers[i]=setInterval(function(){s(document).find(i).each(n)},r)),this},s.fn.masked=function(t){return this.data("mask").getMaskedVal(t)},s.fn.unmask=function(){return clearInterval(s.maskWatchers[this.selector]),delete s.maskWatchers[this.selector],this.each(function(){var t=s(this).data("mask");t&&t.remove().removeData("mask")})},s.fn.cleanVal=function(){return this.data("mask").getCleanVal()},s.applyDataMask=function(t){((t=t||s.jMaskGlobals.maskElements)instanceof s?t:s(t)).filter(s.jMaskGlobals.dataMaskAttr).each(e)};var t,n,i={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&(i="input",n=document.createElement("div"),(t=(i="on"+i)in n)||(n.setAttribute(i,"return;"),t="function"==typeof n[i]),n=null,t),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};s.jMaskGlobals=s.jMaskGlobals||{},(i=s.jMaskGlobals=s.extend(!0,{},i,s.jMaskGlobals)).dataMask&&s.applyDataMask(),setInterval(function(){s.jMaskGlobals.watchDataMask&&s.applyDataMask()},i.watchInterval)},_e=window.jQuery,ye=window.Zepto,"function"==typeof define&&define.amd?define(["jquery"],pe):"object"==typeof exports&&"undefined"==typeof Meteor?module.exports=pe(require("jquery")):pe(_e||ye);var pe=function(){function i(t,e){var n;return l(this,i),e=$.extend(!0,{type:"mask",name:null,label:null,labelWidth:null,width:null,prefix:null,suffix:null,description:null,errorText:null,fields:null,attr:{class:"form-control d-inline-block"},required:null,readonly:null,datalist:null,show:!0,position:null,noSend:null,on:null},e),n=this,t=[t,e],e=f(e=i),h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,t||[],f(n).constructor):e.apply(n,t))}return e(i,ae),t(i,[{key:"setValue",value:function(t){["string","number"].indexOf(y(t))<0||(t=t.replace(/[^\d\w]/g,""),this._value=t,this._readonly?$(".content-"+this.getContentId()).text(t):$(".content-"+this.getContentId()+" input").val(t))}},{key:"_renderContent",value:function(){var n=[],i=[],t=this.getOptions(),e=g.hashCode(),t=(t.hasOwnProperty("attr")&&"object"===y(t.attr)&&null!==t.attr&&!Array.isArray(t.attr)||(t.attr={}),t.name&&(t.attr.name=this._options.name),t.attr.type="text",t.attr.value=null!==this._value?this._value:"",t.width&&(t.attr=g.mergeAttr({style:"width:"+t.width},t.attr)),t.required&&(t.attr.required="required"),t.hasOwnProperty("datalist")&&"object"===y(t.datalist)&&Array.isArray(t.datalist)&&(t.attr.list=e,$.each(t.datalist,function(t,e){var n=[];$.each(e,function(t,e){n.push(t+'="'+e+'"')}),i.push({attr:0<n.length?" "+n.join(" "):""})})),$.each(t.attr,function(t,e){n.push(t+'="'+e+'"')}),g.render(d["fields/input.html"],{readonly:this._readonly,value:null!==this._value?this._value:"",attr:0<n.length?" "+n.join(" "):"",datalistId:e,datalist:i}));if($("#coreui-form-"+this.getId()+" .content-"+this.getContentId()+" input").mask(this._options.mask,this._options.options),this._options.on&&g.isObject(this._options.on))for(var o=t.find("input").addBack("input"),r=this,s=0,l=Object.entries(this._options.on);s<l.length;s++)!function(){var t=v(l[s],2),e=t[0],n=t[1];"string"==typeof e&&"function"==typeof n&&o.on(e,function(t){n({field:r,event:t})})}();return t}},{key:"_renderContentReadonly",value:function(){return g.render(d["fields/input.html"],{readonly:this._readonly,value:null!==this._value?this._value:""})}}])}();var _e=function(){function s(t,e){l(this,s),e=$.extend(!0,{type:"modal",name:null,label:null,labelWidth:null,width:null,prefix:null,suffix:null,description:null,errorText:null,fields:[],options:{title:"",size:"lg",url:"",onHidden:null,onClear:null,onChange:null},required:null,readonly:null,show:!0,position:null,noSend:null,on:null},e),o=this,i=[t,e],n=f(n=s),c(n=h(o,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(n,i||[],f(o).constructor):n.apply(o,i)),"_text","");var n,i,o=t.getRecord(),r=("string"==typeof e.name&&o.hasOwnProperty(e.name)&&0<=["object"].indexOf(y(o[e.name]))&&(i=o[e.name],n._value=i.hasOwnProperty("value")&&0<=["number","string"].indexOf(y(i.value))?i.value:"",n._text=i.hasOwnProperty("text")&&0<=["number","string"].indexOf(y(i.text))?i.text:""),n);return t.on("show",function(){r._initEvents()}),n}return e(s,E),t(s,[{key:"readonly",value:function(t){n(f(s.prototype),"readonly",this).call(this,t),t||this._initEvents()}},{key:"getValue",value:function(){return this._readonly?this._value:$(".content-"+this.getContentId()+" input.coreui-form-modal-value").val()}},{key:"setValue",value:function(t){var e,n,i,o;g.isObject(t)&&(e=t.hasOwnProperty("text")&&"string"==typeof t.text?t.text:"",n=this.getContentId(),t=t.hasOwnProperty("value")&&"string"==typeof t.value?t.value:"",this._value=t,this._readonly?$(".content-"+n).text(e):(o=$(".content-"+n+" .coreui-form-modal-value"),n=$(".content-"+n+" .coreui-form-modal-text"),i=o.val(),o.val(t),n.val(e),i!=t&&((o=this._options.hasOwnProperty("options")&&"object"===y(this._options.options)?this._options.options:{}).hasOwnProperty("onChange")&&("function"==typeof o.onChange?o.onChange(this):"string"==typeof o.onChange&&new Function("modal",o.onChange)(this)),m(this._form,"change-modal.coreui.form",[this],this))))}},{key:"validate",value:function(t,e){var n;this._readonly||((n=$(".content-"+this.getContentId())).find(".text-success").remove(),n.find(".text-danger").remove(),null!==t&&(t?"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&n.append('<div class="ps-2 text-success">'+e+"</div>"):(void 0===e&&("string"==typeof this._options.invalidText?e=this._options.invalidText:!e&&this._options.required&&(e=this._form.getLang().required_field)),"string"==typeof e&&n.append('<div class="ps-2 text-danger">'+e+"</div>"))))}},{key:"isValid",value:function(){return!(this._options.required&&!this._readonly&&!this.getValue())}},{key:"renderContent",value:function(){var t=this.getOptions(),n=[],e={type:"text",readonly:"readonly",class:"form-control coreui-form-modal-text",value:null!==this._text?this._text:""},e=(t.required&&(e.required="required"),t.hasOwnProperty("attr")&&"object"===y(t.attr)&&Array.isArray(t.attr)&&(e=g.mergeAttr(e,t.attr)),$.each(e,function(t,e){n.push(t+'="'+e+'"')}),$(g.render(d["fields/modal.html"],{readonly:this._readonly,required:t.required,name:t.name,value:null!==this._value?this._value:"",text:null!==this._text?this._text:"",lang:this._form.getLang(),width:this._options.width,attr:0<n.length?n.join(" "):""})));if(this._options.on&&g.isObject(this._options.on))for(var i=e.find("input").addBack("input"),o=this,r=0,s=Object.entries(this._options.on);r<s.length;r++)!function(){var t=v(s[r],2),e=t[0],n=t[1];"string"==typeof e&&"function"==typeof n&&i.on(e,function(t){n({field:o,event:t})})}();return e}},{key:"_initEvents",value:function(){var a=this,t=this.getContentId(),u=this._options.hasOwnProperty("options")&&"object"===y(this._options.options)?this._options.options:{};$(".content-"+t+" .btn-modal-clear").click(function(t){u.hasOwnProperty("onClear")&&("function"==typeof u.onClear?u.onClear(a):"string"==typeof u.onClear&&new Function("field",u.onClear)(a)),m(a._form,"modal_clear",[a,t],a),a.setValue({value:"",text:""})}),$(".content-"+t+" .btn-modal-select").click(function(t){var e,n,i,o,r=u.hasOwnProperty("title")&&"string"==typeof u.title?u.title:"",s=u.hasOwnProperty("size")&&"string"==typeof u.size?u.size:"lg",l=u.hasOwnProperty("url")&&"string"==typeof u.url?u.url:"";l&&(e=g.hashCode(),n=g.render(d["fields/modal-loading.html"],{lang:a._form.getLang()}),CoreUI.hasOwnProperty("modal")&&(o=i=null,u.hasOwnProperty("onHidden")&&("function"==typeof u.onHidden?o=u.onHidden:"string"==typeof u.onHidden&&(o=new Function(u.onHidden))),u.hasOwnProperty("onShow")&&("function"==typeof u.onShow?i=u.onShow:"string"==typeof u.onShow&&(i=new Function(u.onShow))),CoreUI.modal.show(r,n,{id:e,size:s,onShow:i,onHidden:o})),$.ajax({url:l,method:"GET",beforeSend:function(t){m(a._form,"modal_load_before",[a,t],a)},success:function(t){$("#modal-"+e+" .modal-body").html(t),m(a._form,"modal_load_success",[a,t],a)},error:function(t,e,n){m(a._form,"modal_load_error",[a,t,e,n],a)},complete:function(t,e){m(a._form,"modal_load_complete",[a,t,e],a)}}),m(a._form,"modal_select",[a,t],a))})}}])}();var ye=function(){function r(t,e){l(this,r),e=$.extend(!0,{type:"number",name:null,label:null,labelWidth:null,width:null,prefix:null,suffix:null,description:null,errorText:null,fields:null,attr:{class:"form-control d-inline-block",step:"any"},required:null,readonly:null,datalist:null,show:!0,position:null,precision:null,noSend:null,on:null},e),i=this,e=[t,e],n=f(n=r),null===(n=h(i,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(n,e||[],f(i).constructor):n.apply(i,e)))._options.precision&&(i=0,n._options.attr.hasOwnProperty("step")&&"any"!==n._options.attr.step&&0<=["string","number"].indexOf(y(n._options.attr.step))&&(e=$.trim(n._options.attr.step.toString()).match(/\.(\d+)$/))&&e.hasOwnProperty(1)&&(i=e?e[1].length:i),n._options.precision=i);var n,i,o=n;return t.on("show",function(){o._readonly||o._initEvents()}),n}return e(r,E),t(r,[{key:"readonly",value:function(t){n(f(r.prototype),"readonly",this).call(this,t),t||this._initEvents()}},{key:"getValue",value:function(){return this._readonly?this._value:$(".content-"+this.getContentId()+" input").val()}},{key:"setValue",value:function(t){["string","number"].indexOf(y(t))<0||!t.toString().match(/^\-?\d+\.?\d*$/)||(0<=this._options.precision&&(t=g.round(t,this._options.precision)),this._options.attr.hasOwnProperty("min")&&(t=t<Number(this._options.attr.min)?Number(this._options.attr.min):t),this._options.attr.hasOwnProperty("max")&&(t=t>Number(this._options.attr.max)?Number(this._options.attr.max):t),this._value=t,this._readonly?$(".content-"+this.getContentId()).text(t):$(".content-"+this.getContentId()+" input").val(t))}},{key:"validate",value:function(t,e){var n,i;this._readonly||(n=$(".content-"+this.getContentId()),i=$("input",n),n.find(".valid-feedback").remove(),n.find(".invalid-feedback").remove(),null===t?(i.removeClass("is-invalid"),i.removeClass("is-valid")):t?(i.removeClass("is-invalid"),i.addClass("is-valid"),"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&n.append('<div class="valid-feedback">'+e+"</div>")):(i.removeClass("is-valid"),i.addClass("is-invalid"),void 0===e&&("string"==typeof this._options.invalidText?e=this._options.invalidText:!e&&this._options.required&&(e=this._form.getLang().required_field)),"string"==typeof e&&n.append('<div class="invalid-feedback">'+e+"</div>")))}},{key:"isValid",value:function(){var t=$(".content-"+this.getContentId()+" input");return t[0]?t.is(":valid"):null}},{key:"renderContent",value:function(){var n=[],i=[],t=this.getOptions(),e=g.hashCode(),t=(t.hasOwnProperty("attr")&&"object"===y(t.attr)&&null!==t.attr&&!Array.isArray(t.attr)||(t.attr={}),t.name&&(t.attr.name=this._options.name),t.attr.type="number",t.attr.value=null!==this._value?this._value:"",t.width&&(t.attr=g.mergeAttr({style:"width:"+t.width},t.attr)),t.required&&(t.attr.required="required"),t.hasOwnProperty("datalist")&&"object"===y(t.datalist)&&Array.isArray(t.datalist)&&(t.attr.list=e,$.each(t.datalist,function(t,e){var n=[];$.each(e,function(t,e){n.push(t+'="'+e+'"')}),i.push({attr:0<n.length?" "+n.join(" "):""})})),$.each(t.attr,function(t,e){n.push(t+'="'+e+'"')}),$(g.render(d["fields/input.html"],{readonly:this._readonly,value:null!==this._value?this._value:"",attr:0<n.length?" "+n.join(" "):"",datalistId:e,datalist:i})));if(this._options.on&&g.isObject(this._options.on))for(var o=t.find("input").addBack("input"),r=this,s=0,l=Object.entries(this._options.on);s<l.length;s++)!function(){var t=v(l[s],2),e=t[0],n=t[1];"string"==typeof e&&"function"==typeof n&&o.on(e,function(t){n({field:r,event:t})})}();return t}},{key:"_initEvents",value:function(){var t=this.getContentId(),n=($(".content-"+t+" input").keydown(function(t){var e=t.keyCode||t.which;(!(35<=e&&e<=40||96<=e&&e<=105||189===e||109===e||110===e||190===e||9===e||46===e||8===e||!t.shiftKey&&48<=e&&e<=57)||t.ctrlKey&&t.altKey)&&t.preventDefault()}),this);$(".content-"+t+" input").blur(function(t){var e=$(this).val();0<=n._options.precision&&(e=g.round(e,n._options.precision)),n._options.attr.hasOwnProperty("min")&&(e=e<Number(n._options.attr.min)?Number(n._options.attr.min):e),n._options.attr.hasOwnProperty("max")&&(e=e>Number(n._options.attr.max)?Number(n._options.attr.max):e),$(this).val(e)})}}])}();var ve=function(){function i(t,e){return l(this,i),e=$.extend(!0,{type:"radio",name:null,label:null,labelWidth:null,inline:!1,prefix:null,suffix:null,description:null,errorText:null,options:[],fields:[],required:null,readonly:null,show:!0,position:null,noSend:null,on:null},e),n=this,t=[t,e],e=f(e=i),h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,t||[],f(n).constructor):e.apply(n,t));var n}return e(i,E),t(i,[{key:"getValue",value:function(){return this._readonly?this._value:$(".content-"+this.getContentId()+" input[type=radio]:checked").val()}},{key:"setValue",value:function(n){var i,t;["string","number"].indexOf(y(n))<0||(this._readonly?(t=(i=this).getOptions()).hasOwnProperty("options")&&"object"===y(t.options)&&Array.isArray(t.options)&&$.each(t.options,function(t,e){if(e.hasOwnProperty("value")&&e.value==n)return e=e.hasOwnProperty("text")&&0<=["string","number"].indexOf(y(e.text))?e.text:"",$(".content-"+i.getContentId()).text(e),i._value=n,!1}):(t=$(".content-"+this.getContentId()+' input[type=radio][value="'+n+'"]'))[0]&&(t.prop("checked",!0),this._value=n))}},{key:"validate",value:function(t,e){var n,i,o;this._readonly||(n=$(".content-"+this.getContentId()),i=$(".form-check:last-child",n),o=$("input",n),n.find(".valid-feedback").remove(),n.find(".invalid-feedback").remove(),null===t?(o.removeClass("is-invalid"),o.removeClass("is-valid")):t?(o.removeClass("is-invalid"),o.addClass("is-valid"),"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&i.append('<div class="valid-feedback">'+e+"</div>")):(o.removeClass("is-valid"),o.addClass("is-invalid"),void 0===e&&("string"==typeof this._options.invalidText?e=this._options.invalidText:!e&&this._options.required&&(e=this._form.getLang().required_field)),"string"==typeof e&&i.append('<div class="invalid-feedback">'+e+"</div>")))}},{key:"isValid",value:function(){var t;return!(this._options.required&&!this._readonly)||"string"==typeof(t=this.getValue())&&""!==t}},{key:"renderContent",value:function(){var r=this,s=[],l=this.getOptions(),a=[],t=(l.hasOwnProperty("options")&&"object"===y(l.options)&&Array.isArray(l.options)&&$.each(l.options,function(t,e){var n=[],i={type:"radio",class:"form-check-input"},o=e.hasOwnProperty("text")&&0<=["string","number"].indexOf(y(e.text))?e.text:"";l.name&&(i.name=r._options.name),l.required&&(i.required="required"),$.each(e,function(t,e){"text"!==t&&(i[t]="class"===t?i[t]+" "+e:e)}),i.id=g.hashCode(),r._value==e.value&&(e.hasOwnProperty("text")&&e.text&&a.push(e.text),i.checked="checked"),$.each(i,function(t,e){n.push(t+'="'+e+'"')}),s.push({id:i.id,text:o,attr:0<n.length?" "+n.join(" "):""})}),$(g.render(d["fields/radio.html"],{readonly:this._readonly,inline:l.inline,value:this._value,options:s,selectedItem:a})));if(this._options.on&&g.isObject(this._options.on))for(var i=t.find("input").addBack("input"),o=this,u=0,c=Object.entries(this._options.on);u<c.length;u++)!function(){var t=v(c[u],2),e=t[0],n=t[1];"string"==typeof e&&"function"==typeof n&&i.on(e,function(t){n({field:o,event:t})})}();return t}}])}();var me=function(){function i(t,e){return l(this,i),e=$.extend(!0,{type:"radioBtn",name:null,label:null,labelWidth:null,optionsClass:"btn btn-outline-secondary",inline:!1,prefix:null,suffix:null,description:null,errorText:null,options:[],fields:[],required:null,readonly:null,show:!0,position:null,noSend:null},e),n=this,t=[t,e],e=f(e=i),h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,t||[],f(n).constructor):e.apply(n,t));var n}return e(i,ve),t(i,[{key:"renderContent",value:function(){var r=this,s=[],l=this.getOptions(),a=[],t=(l.hasOwnProperty("options")&&"object"===y(l.options)&&Array.isArray(l.options)&&$.each(l.options,function(t,e){var n=[],i={type:"radio",class:"btn-check",autocomplete:"off"},o=e.hasOwnProperty("text")&&0<=["string","number"].indexOf(y(e.text))?e.text:"";l.name&&(i.name=r._options.name),l.required&&(i.required="required"),$.each(e,function(t,e){"text"!==t&&(i[t]="class"===t?i[t]+" "+e:e)}),i.id=g.hashCode(),r._value==e.value&&(e.hasOwnProperty("text")&&e.text&&a.push(e.text),i.checked="checked"),$.each(i,function(t,e){n.push(t+'="'+e+'"')}),s.push({id:i.id,text:o,attr:0<n.length?" "+n.join(" "):""})}),$(g.render(d["fields/radio-btn.html"],{readonly:this._readonly,inline:l.inline,optionsClass:l.optionsClass,value:this._value,options:s,selectedItem:a})));if(this._options.on&&g.isObject(this._options.on))for(var i=t.find("input").addBack("input"),o=this,u=0,c=Object.entries(this._options.on);u<c.length;u++)!function(){var t=v(c[u],2),e=t[0],n=t[1];"string"==typeof e&&"function"==typeof n&&i.on(e,function(t){n({field:o,event:t})})}();return t}}])}();var ge=function(){function i(t,e){return l(this,i),e=$.extend(!0,{type:"range",name:null,label:null,labelWidth:null,width:null,prefix:null,suffix:null,description:null,errorText:null,fields:null,attr:{class:"form-range d-inline-block pt-1"},required:null,readonly:null,datalist:null,show:!0,position:null,noSend:null,on:null},e),n=this,t=[t,e],e=f(e=i),h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,t||[],f(n).constructor):e.apply(n,t));var n}return e(i,E),t(i,[{key:"getValue",value:function(){return this._readonly?this._value:$(".content-"+this.getContentId()+" input").val()}},{key:"setValue",value:function(t){["string","number"].indexOf(y(t))<0||(this._value=t,this._readonly?$(".content-"+this.getContentId()).text(t):$(".content-"+this.getContentId()+" input").val(t))}},{key:"validate",value:function(t,e){var n,i;this._readonly||(n=$(".content-"+this.getContentId()),i=$("input",n),n.find(".valid-feedback").remove(),n.find(".invalid-feedback").remove(),null===t?(i.removeClass("is-invalid"),i.removeClass("is-valid")):t?(i.removeClass("is-invalid"),i.addClass("is-valid"),"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&n.append('<div class="valid-feedback">'+e+"</div>")):(i.removeClass("is-valid"),i.addClass("is-invalid"),void 0===e&&("string"==typeof this._options.invalidText?e=this._options.invalidText:!e&&this._options.required&&(e=this._form.getLang().required_field)),"string"==typeof e&&n.append('<div class="invalid-feedback">'+e+"</div>")))}},{key:"isValid",value:function(){var t=$(".content-"+this.getContentId()+" input");return t[0]?t.is(":valid"):null}},{key:"renderContent",value:function(){var n=[],i=[],t=this.getOptions(),e=g.hashCode(),t=(t.hasOwnProperty("attr")&&"object"===y(t.attr)&&null!==t.attr&&!Array.isArray(t.attr)||(t.attr={}),t.name&&(t.attr.name=this._options.name),t.attr.type="range",t.attr.value=this._value,t.width&&(t.attr=g.mergeAttr({style:"width:"+t.width},t.attr)),t.required&&(t.attr.required="required"),t.hasOwnProperty("datalist")&&"object"===y(t.datalist)&&Array.isArray(t.datalist)&&(t.attr.list=e,$.each(t.datalist,function(t,e){var n=[];$.each(e,function(t,e){n.push(t+'="'+e+'"')}),i.push({attr:0<n.length?" "+n.join(" "):""})})),$.each(t.attr,function(t,e){n.push(t+'="'+e+'"')}),$(g.render(d["fields/input.html"],{readonly:this._readonly,value:this._value,attr:0<n.length?" "+n.join(" "):"",datalistId:e,datalist:i})));if(this._options.on&&g.isObject(this._options.on))for(var o=t.find("input").addBack("input"),r=this,s=0,l=Object.entries(this._options.on);s<l.length;s++)!function(){var t=v(l[s],2),e=t[0],n=t[1];"string"==typeof e&&"function"==typeof n&&o.on(e,function(t){n({field:r,event:t})})}();return t}}])}();var be=function(){function o(t,e){l(this,o);var n,i=[];return(e=$.extend(!0,{type:"select",name:null,label:null,labelWidth:null,width:null,prefix:null,suffix:null,description:null,errorText:null,fields:null,attr:{class:"form-select d-inline-block"},required:null,readonly:null,show:!0,position:null,noSend:null,on:null},e)).hasOwnProperty("options")&&(Array.isArray(e.options)||g.isObject(e.options))&&(i=e.options,e.options=[]),n=this,t=[t,e],e=f(e=o),c(e=h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,t||[],f(n).constructor):e.apply(n,t)),"_selectOptions",[]),e._selectOptions=i,e}return e(o,E),t(o,[{key:"getValue",value:function(){var t;return this._readonly?this._value:this._options.hasOwnProperty("attr")&&"object"===y(this._options.attr)&&null!==this._options.attr&&!Array.isArray(this._options.attr)&&this._options.attr.hasOwnProperty("multiple")?(t=[],$(".content-"+this.getContentId()+" select option:selected").each(function(){t.push($(this).val())}),t):$(".content-"+this.getContentId()+" select option:selected").val()}},{key:"setValue",value:function(e){if(!(["string","number","object"].indexOf(y(e))<0)){if("object"===y(e)){if(null!==e&&!Array.isArray(e))return}else e=[e];var i,o=this,t=this.getContentId();this._value=[],this._readonly?($(".content-"+t).empty(),Array.isArray(this._selectOptions)&&Array.isArray(e)&&(i=[],$.each(this._selectOptions,function(t,n){n.hasOwnProperty("value")&&$.each(e,function(t,e){if(n.value==e)return n.hasOwnProperty("text")&&0<=["string","number"].indexOf(y(n.text))&&i.push(n.text),o._value.push(e),!1})}),$(".content-"+t).text(i.join(", ")))):($(".content-"+t+" select > option").prop("selected",!1),Array.isArray(e)&&$(".content-"+t+" select > option").each(function(t,n){$.each(e,function(t,e){if(e==$(n).val())return $(n).prop("selected",!0),o._value.push(e),!1})}))}}},{key:"validate",value:function(t,e){var n,i;this._readonly||(n=$(".content-"+this.getContentId()),i=$("select",n),n.find(".valid-feedback").remove(),n.find(".invalid-feedback").remove(),null===t?(i.removeClass("is-invalid"),i.removeClass("is-valid")):t?(i.removeClass("is-invalid"),i.addClass("is-valid"),"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&n.append('<div class="valid-feedback">'+e+"</div>")):(i.removeClass("is-valid"),i.addClass("is-invalid"),void 0===e&&("string"==typeof this._options.invalidText?e=this._options.invalidText:!e&&this._options.required&&(e=this._form.getLang().required_field)),"string"==typeof e&&n.append('<div class="invalid-feedback">'+e+"</div>")))}},{key:"isValid",value:function(){var t=$(".content-"+this.getContentId()+" select");return(!this._options.required||""!==t.val())&&(t[0]?t.is(":valid"):null)}},{key:"renderContent",value:function(){return this._readonly?this._renderContentReadonly():this._renderContent()}},{key:"_renderContent",value:function(){var o=this,t=this.getOptions(),n=[],r=[],t=(t.hasOwnProperty("attr")&&"object"===y(t.attr)&&null!==t.attr&&!Array.isArray(t.attr)||(t.attr={}),t.name&&(t.attr.name=this._options.name),t.width&&(t.attr=g.mergeAttr({style:"width:"+t.width},t.attr)),t.required&&(t.attr.required="required"),$.each(this._selectOptions,function(t,e){var n,i;"string"==typeof e||"number"==typeof e?r.push(o._renderOption({type:"option",value:t,text:e})):"object"===y(e)&&("group"===(e.hasOwnProperty("type")&&"string"==typeof e.type?e.type:"option")?(n=[],t={},i=[],e.hasOwnProperty("attr")&&"object"===y(e.attr)&&null!==e.attr&&!Array.isArray(e.attr)&&(t=e.attr),e.hasOwnProperty("label")&&0<=["string","number"].indexOf(y(e.label))&&(t.label=e.label),$.each(t,function(t,e){n.push(t+'="'+e+'"')}),Array.isArray(e.options)&&$.each(e.options,function(t,e){i.push(o._renderOption(e))}),r.push({type:"group",attr:0<n.length?" "+n.join(" "):"",options:i})):r.push(o._renderOption(e)))}),$.each(t.attr,function(t,e){n.push(t+'="'+e+'"')}),$(g.render(d["fields/select.html"],{readonly:!1,options:r,attr:0<n.length?" "+n.join(" "):""})));if(this._options.on&&g.isObject(this._options.on))for(var i=t.find("select").addBack("select"),s=this,l=0,a=Object.entries(this._options.on);l<a.length;l++)!function(){var t=v(a[l],2),e=t[0],n=t[1];"string"==typeof e&&"function"==typeof n&&i.on(e,function(t){n({field:s,event:t})})}();return t}},{key:"_renderContentReadonly",value:function(){var e=this,o=[];return $.each(this._selectOptions,function(t,n){var i;"group"===(n.hasOwnProperty("type")&&"string"==typeof n.type?n.type:"option")?Array.isArray(n.options)&&$.each(n.options,function(t,n){var i=n.hasOwnProperty("text")&&0<=["string","number"].indexOf(y(n.text))?n.text:"";i&&""!==i&&(Array.isArray(e._value)?$.each(e._value,function(t,e){if(e==n.value)return o.push(i),!1}):e._value==n.value&&o.push(i))}):(i=n.hasOwnProperty("text")&&0<=["string","number"].indexOf(y(n.text))?n.text:"")&&""!==i&&(Array.isArray(e._value)?$.each(e._value,function(t,e){if(e==n.value)return o.push(i),!1}):e._value==n.value&&o.push(i))}),g.render(d["fields/select.html"],{readonly:!0,readonlyOptions:o})}},{key:"_renderOption",value:function(n){var i=[],t=n.hasOwnProperty("text")&&0<=["string","number"].indexOf(y(n.text))?n.text:"";return $.each(n,function(t,e){"text"!==t&&i.push(t+'="'+e+'"')}),Array.isArray(this._value)?$.each(this._value,function(t,e){if(e==n.value)return i.push('selected="selected"'),!1}):this._value==n.value&&i.push('selected="selected"'),{type:"option",text:t,attr:0<i.length?" "+i.join(" "):""}}}])}();var Oe=function(){function i(t,e){return l(this,i),e=$.extend(!0,{type:"switch",name:null,label:null,labelWidth:null,prefix:null,suffix:null,description:null,errorText:null,valueY:1,valueN:0,fields:[],required:null,readonly:null,show:!0,position:null,noSend:null,on:null},e),n=this,t=[t,e],e=f(e=i),h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,t||[],f(n).constructor):e.apply(n,t));var n}return e(i,E),t(i,[{key:"getValue",value:function(){var t=this._readonly?this._value:$(".content-"+this.getContentId()+" input").prop("checked")?this._options.valueY:this._options.valueN;return t}},{key:"setValue",value:function(t){["string","number"].indexOf(y(t))<0||(this._value=t,this._readonly?$(".content-"+this.getContentId()).text(t):$(".content-"+this.getContentId()+" input[type=checkbox]").prop("checked",t===this._options.valueY))}},{key:"validate",value:function(t,e){var n,i,o;this._readonly||(n=$(".content-"+this.getContentId()),i=$(".form-switch",n),o=$("input",n),n.find(".valid-feedback").remove(),n.find(".invalid-feedback").remove(),null===t?(o.removeClass("is-invalid"),o.removeClass("is-valid")):t?(o.removeClass("is-invalid"),o.addClass("is-valid"),"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&i.append('<div class="valid-feedback">'+e+"</div>")):(o.removeClass("is-valid"),o.addClass("is-invalid"),"string"==typeof(e=void 0===e?"string"==typeof this._options.invalidText?this._options.invalidText:e||this._form.getLang().required_field:e)&&i.append('<div class="invalid-feedback">'+e+"</div>")))}},{key:"renderContent",value:function(){var n=[],t=this.getOptions(),e={type:"checkbox",class:"form-check-input",value:t.valueY},e=(t.name&&(e.name=this._options.name),t.required&&(e.required="required"),t.hasOwnProperty("attr")&&"object"===y(t.attr)&&Array.isArray(t.attr)&&(e=g.mergeAttr(e,t.attr)),this._value===t.valueY&&(e.checked="checked"),$.each(e,function(t,e){n.push(t+'="'+e+'"')}),$(g.render(d["fields/switch.html"],{readonly:this._readonly,valueY:t.valueY,value:this._value,lang:this._form.getLang(),attr:0<n.length?n.join(" "):""})));if(this._options.on&&g.isObject(this._options.on))for(var i=e.find("input").addBack("input"),o=this,r=0,s=Object.entries(this._options.on);r<s.length;r++)!function(){var t=v(s[r],2),e=t[0],n=t[1];"string"==typeof e&&"function"==typeof n&&i.on(e,function(t){n({field:o,event:t})})}();return e}}])}();var we=function(){function i(t,e){return l(this,i),e=$.extend(!0,{type:"textarea",name:null,label:null,labelWidth:null,width:null,height:null,prefix:null,suffix:null,description:null,errorText:null,fields:null,attr:{class:"form-control d-inline-block"},required:null,readonly:null,show:!0,position:null,noSend:null,on:null},e),n=this,t=[t,e],e=f(e=i),h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,t||[],f(n).constructor):e.apply(n,t));var n}return e(i,E),t(i,[{key:"getValue",value:function(){return this._readonly?this._value:$(".content-"+this.getContentId()+" textarea").val()}},{key:"setValue",value:function(t){["string","number"].indexOf(y(t))<0||(this._value=t,this._readonly?$(".content-"+this.getContentId()).text(t):$(".content-"+this.getContentId()+" textarea").val(t))}},{key:"validate",value:function(t,e){var n,i;this._readonly||(n=$(".content-"+this.getContentId()),i=$("textarea",n),n.find(".valid-feedback").remove(),n.find(".invalid-feedback").remove(),null===t?(i.removeClass("is-invalid"),i.removeClass("is-valid")):t?(i.removeClass("is-invalid"),i.addClass("is-valid"),"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&n.append('<div class="valid-feedback">'+e+"</div>")):(i.removeClass("is-valid"),i.addClass("is-invalid"),void 0===e&&("string"==typeof this._options.invalidText?e=this._options.invalidText:!e&&this._options.required&&(e=this._form.getLang().required_field)),"string"==typeof e&&n.append('<div class="invalid-feedback">'+e+"</div>")))}},{key:"isValid",value:function(){var t=$(".content-"+this.getContentId()+" textarea");if(t[0])return t.is(":valid")}},{key:"renderContent",value:function(){var n=[],t=this.getOptions(),e=(t.hasOwnProperty("attr")&&"object"===y(t.attr)&&null!==t.attr&&!Array.isArray(t.attr)||(t.attr={}),t.name&&(t.attr.name=this._options.name),t.width&&(e=g.isNumeric(t.width)?"px":"",t.attr=g.mergeAttr(t.attr,{style:"width:"+t.width+e})),t.height&&(e=g.isNumeric(t.height)?"px":"",t.attr=g.mergeAttr(t.attr,{style:"height:"+t.height+e})),t.required&&(t.attr.required="required"),$.each(t.attr,function(t,e){n.push(t+'="'+e+'"')}),$(g.render(d["fields/textarea.html"],{readonly:this._readonly,value:null!==this._value?this._value:"",attr:0<n.length?" "+n.join(" "):""})));if(this._options.on&&g.isObject(this._options.on))for(var i=e.find("textarea").addBack("textarea"),o=this,r=0,s=Object.entries(this._options.on);r<s.length;r++)!function(){var t=v(s[r],2),e=t[0],n=t[1];"string"==typeof e&&"function"==typeof n&&i.on(e,function(t){n({field:o,event:t})})}();return e}}])}();var xe=function(){function r(t,e,n){l(this,r),e=$.extend(!0,{type:"wysiwyg",label:null,labelWidth:null,width:null,minWidth:null,maxWidth:null,height:null,minHeight:null,maxHeight:null,options:{},prefix:null,suffix:null,description:null,required:null,readonly:!1,show:!0,positions:null,noSend:null,on:null},e),i=this,e=[t,e,n],n=f(n=r),c(n=h(i,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(n,e||[],f(i).constructor):n.apply(i,e)),"_editor",null),c(n,"_editorHash",null),n._editorHash=g.hashCode();var i,o=n;return t.on("show",function(){o._readonly||o._initEvents()}),n}return e(r,E),t(r,[{key:"readonly",value:function(t){n(f(r.prototype),"readonly",this).call(this,t),t||this._initEvents()}},{key:"getValue",value:function(){return!this._readonly&&this._editor?this._editor.getContent():this._value}},{key:"setValue",value:function(t){this._value=t,this._readonly?$(".content-"+this.getContentId()).text(t):this._editor&&this._editor.setContent(t)}},{key:"validate",value:function(t,e){var n;this._readonly||((n=$(".content-"+this.getContentId())).find(".text-success").remove(),n.find(".text-danger").remove(),null!==t&&(t?"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&n.append('<div class="ps-2 text-success">'+e+"</div>"):(void 0===e&&("string"==typeof this._options.invalidText?e=this._options.invalidText:!e&&this._options.required&&(e=this._form.getLang().required_field)),"string"==typeof e&&n.append('<div class="ps-2 text-danger">'+e+"</div>"))))}},{key:"isValid",value:function(){return!(this._options.required&&!this._readonly&&!this.getValue())}},{key:"renderContent",value:function(){var t=g.render(d["fields/wysiwyg.html"],{readonly:this._readonly,value:null!==this._value?this._value:"",editorHash:this._editorHash});if(this._options.on&&g.isObject(this._options.on))for(var i=t.find("textarea").addBack("textarea"),o=this,r=0,s=Object.entries(this._options.on);r<s.length;r++)!function(){var t=v(s[r],2),e=t[0],n=t[1];"string"==typeof e&&"function"==typeof n&&i.on(e,function(t){n({field:o,event:t})})}();return t}},{key:"_initEvents",value:function(){var t,e,n;this._readonly||(n={},e="editor-"+(t=this)._editorHash,(n="object"===y(this._options.options)&&!Array.isArray(this._options.options)&&0<Object.keys(this._options.options).length?this._options.options:"simple"===this._options.options?{plugins:"image lists anchor charmap",toolbar:"blocks | bold italic underline | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | forecolor backcolor removeformat",menubar:!1,branding:!1}:{promotion:!1,branding:!1,plugins:"preview importcss searchreplace autolink autosave save directionality code visualblocks visualchars fullscreen image link media template codesample table charmap pagebreak nonbreaking anchor insertdatetime advlist lists wordcount help charmap quickbars emoticons",menubar:"file edit view insert format tools table help",toolbar:"undo redo | bold italic underline strikethrough | fontfamily fontsize blocks | alignleft aligncenter alignright alignjustify | outdent indent | numlist bullist | forecolor backcolor removeformat | pagebreak | charmap emoticons | fullscreen preview save print | insertfile image media template link anchor codesample | ltr rtl"}).selector="#editor-"+this._editorHash,0<=["string","number"].indexOf(y(this._options.width))&&(n.width=this._options.width),0<=["string","number"].indexOf(y(this._options.minWidth))&&(n.min_width=this._options.minWidth),0<=["string","number"].indexOf(y(this._options.maxWidth))&&(n.max_width=this._options.maxWidth),0<=["string","number"].indexOf(y(this._options.height))&&(n.height=this._options.height),0<=["string","number"].indexOf(y(this._options.minHeight))&&(n.min_height=this._options.minHeight),0<=["string","number"].indexOf(y(this._options.maxHeight))&&(n.max_height=this._options.maxHeight),tinymce.init(n).then(function(){t._editor=tinymce.get(e)}))}}])}();var ke=function(){function r(t,e){l(this,r),e=$.extend(!0,{type:"password_repeat",name:null,label:null,labelWidth:null,width:null,prefix:null,suffix:null,description:null,errorText:null,fields:null,attr:{type:"password",class:"form-control d-inline-block flex-shrink-0"},required:null,invalidText:null,validText:null,readonly:null,show:!0,showBtn:!0,position:null,noSend:null,on:null},e),n=this,e=[t,e],i=f(i=r),c(i=h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(i,e||[],f(n).constructor):i.apply(n,e)),"_isChangeState",!0);var n,i,o=i;return t.on("show",function(){o._initEvents()}),i}return e(r,E),t(r,[{key:"readonly",value:function(t){n(f(r.prototype),"readonly",this).call(this,t),t||this._initEvents()}},{key:"getValue",value:function(){var t;return this._readonly?this._value:void 0!==(t=$(".content-"+this.getContentId()+' input[type="password"]').eq(0)).attr("disabled")&&!1!==t.attr("disabled")?null:t.val()}},{key:"setValue",value:function(t){["string","number"].indexOf(y(t))<0||(this._value=t,this._readonly?$(".content-"+this.getContentId()).text(t?"******":""):$(".content-"+this.getContentId()+' input[type="password"]').val(t))}},{key:"validate",value:function(t,e){var n,i;this._readonly||(n=$(".content-"+this.getContentId()),i=$('input[type="password"]',n),n.find(".valid-feedback").remove(),n.find(".invalid-feedback").remove(),null===t?(i.removeClass("is-invalid"),i.removeClass("is-valid")):t?(i.removeClass("is-invalid"),i.addClass("is-valid"),"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&n.append('<div class="valid-feedback d-block">'+e+"</div>")):(i.removeClass("is-valid"),i.addClass("is-invalid"),void 0===e&&("string"==typeof this._options.invalidText?e=this._options.invalidText:!e&&this._options.required&&(e=this._form.getLang().required_field)),"string"==typeof e&&n.append('<div class="invalid-feedback d-block">'+e+"</div>")))}},{key:"isValid",value:function(){var t;return!(this._isChangeState&&!this._readonly)||(t=$(".content-"+this.getContentId()+' input[type="password"]')).eq(0).val()===t.eq(1).val()&&(t[0]?t.eq(0).is(":valid"):null)}},{key:"renderContent",value:function(){return this._readonly?this._renderContentReadonly():this._renderContent()}},{key:"_renderContent",value:function(){var n=[],i=[],t=this.getOptions(),e=(this._isChangeState=!t.showBtn||!this._value,t.hasOwnProperty("attr")&&"object"===y(t.attr)&&null!==t.attr&&!Array.isArray(t.attr)||(t.attr={}),this._isChangeState||(t.attr.disabled=""),t.name&&(t.attr.name=this._options.name),t.attr.value=this._value?"******":"",t.width&&(t.attr=g.mergeAttr({style:"width:"+t.width},t.attr)),t.required&&(t.attr.required="required"),$.each(t.attr,function(t,e){n.push(t+'="'+e+'"')}),$.each(t.attr,function(t,e){["name","value"].indexOf(t)<0&&i.push(t+'="'+e+'"')}),this._form.getLang()),t=g.render(d["fields/passwordRepeat.html"],{readonly:this._readonly,value:null!==this._value?this._value:"",lang:e,showBtn:t.showBtn,btn_text:this._isChangeState?e.cancel:e.change,attr:0<n.length?" "+n.join(" "):"",attr2:0<i.length?" "+i.join(" "):""});if(this._options.on&&g.isObject(this._options.on))for(var o=t.find("input").addBack("input"),r=this,s=0,l=Object.entries(this._options.on);s<l.length;s++)!function(){var t=v(l[s],2),e=t[0],n=t[1];"string"==typeof e&&"function"==typeof n&&o.on(e,function(t){n({field:r,event:t})})}();return t}},{key:"_renderContentReadonly",value:function(){return g.render(d["fields/passwordRepeat.html"],{readonly:this._readonly,value:this._value?"******":""})}},{key:"_initEvents",value:function(){var i=this,o=i._options.noSend;$(".content-"+this.getContentId()+" .btn-password-change").click(function(t){var e=$(this).data("change"),n=$(this).data("cancel");i._isChangeState?($(".content-"+i.getContentId()+' [type="password"]').attr("disabled","disabled"),$(this).text(e),i._isChangeState=!1,i._options.noSend=!0):($(".content-"+i.getContentId()+' [type="password"]').removeAttr("disabled"),$(this).text(n),i._isChangeState=!0,i._options.noSend=o)})}}])}();var je=function(){function i(t,e){return l(this,i),e=$.extend(!0,{type:"file",name:null,label:null,labelWidth:null,width:null,prefix:null,suffix:null,description:null,errorText:null,field:null,attr:{class:"form-control d-inline-block"},required:null,invalidText:null,validText:null,readonly:null,show:!0,position:null,noSend:null,on:null},e),n=this,t=[t,e],e=f(e=i),h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(e,t||[],f(n).constructor):e.apply(n,t));var n}return e(i,E),t(i,[{key:"getValue",value:function(){return this._readonly?this._value:$(".content-"+this.getContentId()+" input")[0].files}},{key:"setValue",value:function(n){var i;(n instanceof File||n instanceof FileList)&&(this._value=n,this._readonly?$(".content-"+this.getContentId()).text(""):(i=new DataTransfer,n instanceof File?i.items.add(n):$.each(n,function(t,e){n instanceof File&&i.items.add(e)}),$(".content-"+this.getContentId()+" input")[0].files=i.files))}},{key:"validate",value:function(t,e){var n,i;this._readonly||(n=$(".content-"+this.getContentId()),i=$("input",n),n.find(".valid-feedback").remove(),n.find(".invalid-feedback").remove(),null===t?(i.removeClass("is-invalid"),i.removeClass("is-valid")):t?(i.removeClass("is-invalid"),i.addClass("is-valid"),"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&n.append('<div class="valid-feedback">'+e+"</div>")):(i.removeClass("is-valid"),i.addClass("is-invalid"),void 0===e&&("string"==typeof this._options.invalidText?e=this._options.invalidText:!e&&this._options.required&&(e=this._form.getLang().required_field)),"string"==typeof e&&n.append('<div class="invalid-feedback">'+e+"</div>")))}},{key:"isValid",value:function(){var t=$(".content-"+this.getContentId()+" input");return t[0]?t.is(":valid"):null}},{key:"renderContent",value:function(){return this._readonly?this._renderContentReadonly():this._renderContent()}},{key:"_renderContent",value:function(){var n=[],t=this.getOptions(),t=(t.hasOwnProperty("attr")&&"object"===y(t.attr)&&null!==t.attr&&!Array.isArray(t.attr)||(t.attr={}),t.name&&(t.attr.name=this._options.name),t.attr.type=t.type,t.attr.value=null!==this._value?this._value:"",t.width&&(t.attr=g.mergeAttr({style:"width:"+t.width},t.attr)),t.required&&(t.attr.required="required"),$.each(t.attr,function(t,e){n.push(t+'="'+e+'"')}),$(g.render(d["fields/input.html"],{readonly:this._readonly,value:null!==this._value?this._value:"",attr:0<n.length?" "+n.join(" "):"",datalistId:"",datalist:[]})));if(this._options.on&&g.isObject(this._options.on))for(var i=$("input",t),o=this,r=0,s=Object.entries(this._options.on);r<s.length;r++)!function(){var t=v(s[r],2),e=t[0],n=t[1];"string"==typeof e&&"function"==typeof n&&i.on(e,function(t){n({field:o,event:t})})}();return t}},{key:"_renderContentReadonly",value:function(){var t=this.getOptions(),e="text",n=this._value,i=this._form.getLang();t.hasOwnProperty("type")&&"string"==typeof t.type&&(e=t.type);try{switch(e){case"date":n=g.formatDate(n);break;case"datetime-local":n=g.formatDateTime(n);break;case"month":n=g.formatDateMonth(n,i);break;case"week":n=g.formatDateWeek(n,i)}}catch(t){console.error(t)}return g.render(d["fields/input.html"],{readonly:this._readonly,value:n})}}])}();let B={isObject:function(t){return"object"==typeof t&&!Array.isArray(t)&&null!==t},isNumeric:function(t){return("number"==typeof t||"string"==typeof t&&""!==t.trim())&&!isNaN(t)},getFileSize:function(t){return t instanceof File?t.size||t.fileSize:null},getFileName:function(t){return t instanceof File?t.name||t.fileName:null},getSizeHuman:function(t){if(!B.isNumeric(t))return"";let e="";return 1073741824<=(t=Number(t))?e=(t/1073741824).toFixed(2)+" Gb":1048576<=t?e=(t/1048576).toFixed(2)+" Mb":1024<=t?e=(t/1024).toFixed(2)+" Kb":0<=t&&(e=t+" bytes"),e},hashCode:function(){return this.crc32(((new Date).getTime()+Math.random()).toString()).toString(16)},crc32:function(t){for(var e=[],n=0;n<256;n++){for(var i=n,o=0;o<8;o++)i=1&i?3988292384^i>>>1:i>>>1;e[n]=i}for(var r=-1,s=0;s<t.length;s++)r=r>>>8^e[255&(r^t.charCodeAt(s))];return(-1^r)>>>0}},Re={onLoadStart:function(t){t=t.getElement();t&&(t.find(".fileup-upload").hide(),t.find(".fileup-abort").show(),t.find(".fileup-result").removeClass("fileup-error").removeClass("fileup-success").text(""))},onLoadProgress:function(t,e){e.lengthComputable&&(e=Math.ceil(e.loaded/e.total*100),t=t.getElement())&&t.find(".fileup-progress-bar").css("width",e+"%")},onLoadAbort:function(t){t=t.getElement();t&&(t.find(".fileup-abort").hide(),t.find(".fileup-upload").show(),t.find(".fileup-result").removeClass("fileup-error").removeClass("fileup-success").text(""))},onSuccess:function(t){var e,t=t.getElement();t&&(e=this.getLang(),t.find(".fileup-abort").hide(),t.find(".fileup-upload").hide(),t.find(".fileup-result").removeClass("fileup-error").addClass("fileup-success").text(e.complete))},onError:function(e,n){var i=this.getLang();switch(e){case"files_limit":alert(i.errorFilesLimit.replace(/%filesLimit%/g,n.filesLimit));break;case"size_limit":var o=B.getSizeHuman(n.sizeLimit);let t=i.errorSizeLimit;t=(t=t.replace(/%sizeLimit%/g,o)).replace(/%fileName%/g,B.getFileName(n.fileData)),alert(t);break;case"file_type":alert(i.errorFileType.replace(/%fileName%/g,B.getFileName(n.fileData)));break;case"load_bad_status":case"load_error":case"load_timeout":var r,o=n.file.getElement();o&&(r="load_bad_status"===e?i.errorBadStatus:i.errorLoad,o.find(".fileup-abort").hide(),o.find(".fileup-upload").show(),o.find(".fileup-result").addClass("fileup-error").text(r));break;case"old_browser":alert(i.errorOldBrowser)}},onDragOver:function(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy";t=this.getDropzone();t&&t.addClass("over")},onDragLeave:function(t){var e=this.getDropzone();e&&e.removeClass("over")},onDragEnd:function(t){var e=this.getDropzone();e&&e.removeClass("over")},onDragEnter:function(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}},r={initInput:function(t){let e=null;if(t._options.input instanceof HTMLElement||t._options.input instanceof jQuery?e=$(t._options.input):"string"==typeof t._options.input&&t._options.input&&(e=$("#"+t._options.input)),!e||!$(e)[0]||"file"!==$(e)[0].type)throw new Error("Not found input element");t._input=e},initQueue:function(t){let e=null;if(t._options.queue instanceof HTMLElement||t._options.queue instanceof jQuery?e=$(t._options.queue):"string"==typeof t._options.queue&&t._options.queue&&(e=$("#"+t._options.queue)),!e||!$(e)[0])throw new Error("Not found queue element");t._queue=e},initDropzone:function(n){let t=null;if(n._options.dropzone instanceof HTMLElement||n._options.dropzone instanceof jQuery?t=$(n._options.dropzone):"string"==typeof n._options.dropzone&&n._options.dropzone&&(t=$("#"+n._options.dropzone)),t){n._dropzone=t;let e=this;t.on("click",function(){n.getInput().click()}),t[0].addEventListener("dragover",function(t){e.trigger(n,"drag_over",[t])}),t[0].addEventListener("dragleave",function(t){e.trigger(n,"drag_leave",[t])}),t[0].addEventListener("dragenter",function(t){e.trigger(n,"drag_enter",[t])}),t[0].addEventListener("dragend",function(t){e.trigger(n,"drag_end",[t])}),t[0].addEventListener("drop",function(t){n.getInput()[0].files=t.target.files||t.dataTransfer.files,e.appendFiles(n,t)})}},initEvents:function(i){function t(t,e){let n=null;"function"==typeof e?n=e:"string"==typeof e&&(n=new Function(e)),n&&i.on(t,n)}var e=i.getOptions();let n=this;t("load_start",Re.onLoadStart),t("load_progress",Re.onLoadProgress),t("load_abort",Re.onLoadAbort),t("load_success",Re.onSuccess),t("error",Re.onError),t("drag_over",Re.onDragOver),t("drag_leave",Re.onDragEnter),t("drag_end",Re.onDragLeave),t("drag_enter",Re.onDragEnd),e.onSelect&&t("select",e.onSelect),e.onRemove&&t("remove",e.onRemove),e.onBeforeStart&&t("load_before_start",e.onBeforeStart),e.onStart&&t("load_start",e.onStart),e.onProgress&&t("load_progress",e.onProgress),e.onAbort&&t("load_abort",e.onAbort),e.onSuccess&&t("load_success",e.onSuccess),e.onFinish&&t("load_finish",e.onFinish),e.onError&&t("error",e.onError),e.onDragOver&&t("drag_over",e.onDragOver),e.onDragLeave&&t("drag_leave",e.onDragLeave),e.onDragEnd&&t("drag_end",e.onDragEnd),e.onDragEnter&&t("drag_enter",e.onDragEnter),i.getInput().on("change",function(t){n.appendFiles(i,t)})},renderFiles:function(t){var e=t.getOptions();if(Array.isArray(e.files)&&0<e.files.length)for(var n=0;n<e.files.length;n++)B.isObject(e.files[n])&&t.appendFileByData(e.files[n])},trigger:function(t,e,n){n=n||[];var i=[];if(t._events[e]instanceof Object&&0<t._events[e].length)for(var o=0;o<t._events[e].length;o++){var r=t._events[e][o].callback;i.push(r.apply(t._events[e][o].context||t,n)),t._events[e][o].singleExec&&(t._events[e].splice(o,1),o--)}return i},appendFiles:function(e,t){t.preventDefault(),t.stopPropagation();var n=e.getOptions(),i=e.getInput(),o=i[0].files,r=i.is("[multiple]");if(0<o.length){for(var s=0;s<o.length;s++){var l=o[s];if(0<n.sizeLimit&&B.getFileSize(l)>n.sizeLimit)this.trigger(e,"error",["size_limit",{fileData:l,sizeLimit:n.sizeLimit}]);else{if(0<n.filesLimit&&Object.keys(e._files).length>=n.filesLimit){this.trigger(e,"error",["files_limit",{fileData:l,filesLimit:n.filesLimit}]);break}if("string"==typeof i[0].accept){var a=i[0].accept;if(a&&/[^\w]+/.test(a)){let t=!1;var u=a.split(",");if(0<u.length)for(var c=0;c<u.length;c++)if(u[c]=u[c].replace(/\s/g,""),new RegExp(u[c].replace("*",".*")).test(l.type)||new RegExp(u[c].replace(".",".*/")).test(l.type)){t=!0;break}if(!t){this.trigger(e,"error",["file_type",{fileData:l}]);continue}}}a=this.trigger(e,"select",[l]);if(a){let n=!1;if($.each(a,function(t,e){if(!1===e)return!(n=!0)}),n)continue}if(r||e.removeAll(),e.appendFile(l),!r)break}}i.val("")}this.trigger(e,"dragEnd",[t])}},Ce={_options:{name:null,size:null,urlPreview:null,urlDownload:null},_id:"",_status:"stand_by",_fileElement:null,_file:null,_fileUp:null,_xhr:null,_init:function(n,t,e,i){if(!B.isObject(e))throw new Error("File incorrect options param");if("number"!=typeof t||t<0)throw new Error("File dont set or incorrect id param");if("string"!=typeof e.name||!e.name)throw new Error("File dont set name param");if(this._fileUp=n,this._options=$.extend(!0,{},this._options,e),this._id=t,i instanceof File){let e=null;if(window.XMLHttpRequest)e=new("onload"in new XMLHttpRequest?XMLHttpRequest:XDomainRequest);else if(window.ActiveXObject)try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){r.trigger(n,"error",["old_browser",{file:this}])}}else r.trigger(n,"error",["old_browser",{file:this}]);if(!e)throw new Error("xhr dont created. Check your browser");this._xhr=e,this._file=i}else this._status="finish"},getId:function(){return this._id},getName:function(){return this._file?B.getFileName(this._file):this._options.name},getElement:function(){return this._fileElement},getUrlPreview:function(){return this._options.urlPreview},getUrlDownload:function(){return this._options.urlDownload},getSize:function(){return this._file?B.getFileSize(this._file):this._options.size},getSizeHuman:function(){var t=this.getSize();return B.getSizeHuman(t)},getXhr:function(){return this._xhr},getFile:function(){return this._file instanceof File?this._file:null},getStatus:function(){return this._status},setStatus:function(t){"string"==typeof t&&(this._status=t)},getOptions:function(){return this._options},getOption:function(t){return"string"==typeof t&&this._options.hasOwnProperty(t)?this._options[t]:null},setOption:function(t,e){"string"==typeof t&&(this._options[t]=e)},showError:function(t){var e;"string"==typeof t&&(e=this.getElement())&&e.find(".fileup-result").removeClass("fileup-success").addClass("fileup-error").text(t)},showSuccess:function(t){var e;"string"==typeof t&&(e=this.getElement())&&e.find(".fileup-result").removeClass("fileup-error").addClass("fileup-success").text(t)},remove:function(){this.abort(),this._fileElement&&this._fileElement.fadeOut("fast",function(){this.remove()});var t=this.getId();this._fileUp._files.hasOwnProperty(t)&&delete this._fileUp._files[t],r.trigger(this._fileUp,"remove",[this])},upload:function(){let e=this.getFile(),t=this.getXhr();if(!e||!t)return!1;var i=this._fileUp.getOptions();let n=this;if("number"==typeof i.timeout&&(t.timeout=i.timeout),t.onloadstart=function(){n.setStatus("load_start"),r.trigger(n._fileUp,"load_start",[n])},t.upload.onprogress=function(t){r.trigger(n._fileUp,"load_progress",[n,t])},t.onload=function(){n.setStatus("loaded"),200===t.status?r.trigger(n._fileUp,"load_success",[n,t.responseText]):r.trigger(n._fileUp,"error",["load_bad_status",{file:n,fileData:e,response:t.responseText,xhr:t}])},t.onloadend=function(){n.setStatus("finish"),r.trigger(n._fileUp,"load_finish",[n])},t.onabort=function(){n.setStatus("stand_by"),r.trigger(n._fileUp,"load_abort",[n])},t.ontimeout=function(){n.setStatus("stand_by"),r.trigger(n._fileUp,"error",["load_timeout",{file:n,fileData:e}])},t.onerror=function(t){n.setStatus("stand_by"),r.trigger(n._fileUp,"error",["load_error",{file:n,fileData:e,event:t}])},t.open(i.httpMethod||"post",i.url,!0),t.setRequestHeader("Cache-Control","no-cache"),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.trigger(n._fileUp,"load_before_start",[n,t]),void 0===window.FormData)return t.send(e);{let n=new FormData;return n.append(i.fieldName,e),Object.keys(i.extraFields).length&&$.each(i.extraFields,function(t,e){n.append(t,e)}),t.send(n)}},abort:function(){this._xhr&&this._xhr.abort()},render:function(t){if(!t||"string"!=typeof t)return null;var e=this._fileUp.getLang(),n=this._fileUp.getOptions();let i=this,o=!1;var r=B.isObject(n.mimeTypes)?n.mimeTypes:{},s="string"==typeof n.iconDefault?n.iconDefault:"",n="boolean"!=typeof n.showRemove||n.showRemove,l=this.getSizeHuman();let a=null,u=null,c=null;return t=(t=(t=(t=(t=t.replace(/\[NAME\]/g,this.getName())).replace(/\[SIZE\]/g,l)).replace(/\[UPLOAD\]/g,e.upload)).replace(/\[REMOVE\]/g,e.remove)).replace(/\[ABORT\]/g,e.abort),this._file&&this._file instanceof File?this._file.type&&"string"==typeof this._file.type&&this._file.type.match(/^image\/.*/)?("undefined"!=typeof FileReader&&((e=new FileReader).onload=function(t){i._fileElement&&i._fileElement.find(".fileup-preview").removeClass("no-preview").find("img").attr("src",t.target.result)},e.readAsDataURL(this._file)),o=!0,t=(t=t.replace(/\[PREVIEW_SRC\]/g,"")).replace(/\[TYPE\]/g,"fileup-image fileup-no-preview")):(t=(t=t.replace(/\[PREVIEW_SRC\]/g,"")).replace(/\[TYPE\]/g,"fileup-doc"),u=this._file.type,c=this.getName().split(".").pop()):(e=this.getUrlPreview(),t=(t=t.replace(/\[PREVIEW_SRC\]/g,e||"")).replace(/\[TYPE\]/g,e?"fileup-image":"fileup-doc"),c=this.getName()?this.getName().split(".").pop().toLowerCase():""),this._fileElement=$(t),o&&this._fileElement.find(".fileup-preview").addClass("no-preview"),l||this._fileElement.find(".fileup-size").hide(),(u||c)&&$.each(r,function(t,n){if(B.isObject(n)&&n.hasOwnProperty("icon")&&"string"==typeof n.icon&&""!==n.icon){if(u&&n.hasOwnProperty("mime"))if("string"==typeof n.mime){if(n.mime===u)return a=n.icon,!1}else if(Array.isArray(n.mime)){if($.each(n.mime,function(t,e){if("string"==typeof e&&e===u)return a=n.icon,!1}),a)return!1}else if(n.mime instanceof RegExp&&n.mime.test(u))return a=n.icon,!1;return!(c&&n.hasOwnProperty("ext")&&Array.isArray(n.ext)&&($.each(n.ext,function(t,e){if("string"==typeof e&&e===c)return a=n.icon,!1}),a))&&void 0}}),a=a||s,this._fileElement.find(".fileup-icon").addClass(a),n||this._fileElement.find(".fileup-remove").hide(),this.getUrlDownload()&&(e=this._fileElement.find(".fileup-name"))[0]&&e.replaceWith('<a href="'+this.getUrlDownload()+'" class="fileup-name" download="'+this.getName()+'">'+this.getName()+"</a>"),"finish"===this._status?(this._fileElement.find(".fileup-upload").hide(),this._fileElement.find(".fileup-abort").hide(),this._fileElement.find(".fileup-progress").hide()):(this._fileElement.find(".fileup-upload").click(function(){i.upload()}),this._fileElement.find(".fileup-abort").click(function(){i.abort()})),this._fileElement.find(".fileup-remove").click(function(){i.remove()}),this._fileElement}},Ae=Object.create(null),$e={_options:{id:null,url:null,input:null,queue:null,dropzone:null,files:[],fieldName:"file",extraFields:{},lang:"en",langItems:null,sizeLimit:0,filesLimit:0,httpMethod:"post",timeout:null,autostart:!(Ae["file.html"]='<div class="fileup-file [TYPE] mb-2 p-1 d-flex flex-nowrap gap-2 bg-light border border-secondary-subtle rounded rounded-1"> <div class="fileup-preview"> <img src="[PREVIEW_SRC]" alt="[NAME]" class="border rounded"/> <i class="fileup-icon fs-4 text-secondary"></i> </div> <div class="flex-fill"> <div class="fileup-description"> <span class="fileup-name">[NAME]</span> <small class="fileup-size text-nowrap text-secondary">([SIZE])</small> </div> <div class="fileup-controls mt-1 d-flex gap-2"> <span class="fileup-remove" title="[REMOVE]">✕</span> <span class="fileup-upload link-primary">[UPLOAD]</span> <span class="fileup-abort link-primary" style="display:none">[ABORT]</span> </div> <div class="fileup-result"></div> <div class="fileup-progress progress mt-2 mb-1"> <div class="fileup-progress-bar progress-bar"></div> </div> </div> </div>'),showRemove:!0,templateFile:null,onSelect:null,onRemove:null,onBeforeStart:null,onStart:null,onProgress:null,onAbort:null,onSuccess:null,onFinish:null,onError:null,onDragOver:null,onDragLeave:null,onDragEnd:null,onDragEnter:null,iconDefault:"bi bi-file-earmark-text",mimeTypes:{archive:{mime:["application/zip","application/gzip","application/x-bzip","application/x-bzip2","application/x-7z-compressed"],ext:["zip","7z","bz","bz2","gz","jar","rar","tar"],icon:"bi bi-file-earmark-zip"},word:{mime:["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],ext:["doc","docx"],icon:"bi bi-file-earmark-word"},excel:{mime:["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],ext:["xls","xlsx"],icon:"bi bi-file-earmark-excel"},image:{mime:/image\/.*/,ext:["jpg","jpeg","png","bmp","gif","raw","webp","heic","ico"],icon:"bi bi-file-earmark-image"},video:{mime:/video\/.*/,ext:["avi","mp4","mpeg","ogv","ts","webm","3gp","3g2","mkv"],icon:"bi bi-file-earmark-play"},audio:{mime:/audio\/.*/,ext:["avi","mp4","mpeg","ogv","ts","webm","3gp","3g2","mkv"],icon:"bi bi-file-earmark-music"},pdf:{mime:["application/pdf"],ext:["pdf"],icon:"bi bi-file-earmark-pdf"},binary:{mime:["application/octet-stream"],ext:["bin","exe","dat","dll"],icon:"bi bi-file-earmark-binary"}}},_id:null,_fileUp:null,_fileIndex:0,_input:null,_queue:null,_dropzone:null,_files:{},_events:{},_init:function(t,e){if("string"!=typeof e.url||!e.url)throw new Error("Dont set url param");this._fileUp=t,this._options=$.extend(!0,{},this._options,e),this._id="string"==typeof this._options.id&&this._options.id?this._options.id:B.hashCode(),this._options.templateFile&&"string"==typeof this._options.templateFile||(this._options.templateFile=Ae["file.html"]),r.initInput(this),r.initQueue(this),r.initDropzone(this),r.initEvents(this),r.renderFiles(this)},destruct:function(){var t=this.getId();this._fileUp._instances.hasOwnProperty(t)&&delete this._fileUp._instances[t]},getOptions:function(){return this._options},getId:function(){return this._id},getInput:function(){return this._input},getQueue:function(){return this._queue},getDropzone:function(){return this._dropzone},on:function(t,e,n){"object"!=typeof this._events[t]&&(this._events[t]=[]),this._events[t].push({context:n||this,callback:e,singleExec:!1})},one:function(t,e,n){"object"!=typeof this._events[t]&&(this._events[t]=[]),this._events[t].push({context:n||this,callback:e,singleExec:!0})},getLang:function(){return $.extend(!0,{},this._options.langItems)},getFiles:function(){return this._files},getFileById:function(n){let i=null;return $.each(this._files,function(t,e){n===e.getId()&&(i=e)}),i},removeAll:function(){$.each(this._files,function(t,e){e.remove()})},uploadAll:function(){$.each(this._files,function(t,e){e.upload()})},abortAll:function(){$.each(this._files,function(t,e){e.abort()})},appendFile:function(t){var e,n;return t instanceof File&&(e=$.extend(!0,{},Ce),n={name:B.getFileName(t),size:B.getFileSize(t),type:t.type},e._init(this,this._fileIndex,n,t),this._files[this._fileIndex]=e,(n=this.getQueue())&&n.append(e.render(this._options.templateFile)),this._fileIndex++,"boolean"==typeof this._options.autostart&&this._options.autostart&&e.upload(),!0)},appendFileByData:function(t){var e;return!!B.isObject(t)&&((e=$.extend(!0,{},Ce))._init(this,this._fileIndex,t),e.setStatus("finish"),this._files[this._fileIndex]=e,(t=this.getQueue())&&t.append(e.render(this._options.templateFile)),this._fileIndex++,!0)}},Pe={lang:{},_instances:{},create:function(t){(t=B.isObject(t)?t:{}).hasOwnProperty("lang")||(t.lang="en");var e=this.lang.hasOwnProperty(t.lang)?this.lang[t.lang]:{},e=(t.langItems=t.hasOwnProperty("langItems")&&B.isObject(t.langItems)?$.extend(!0,{},e,t.langItems):e,$.extend(!0,{},$e)),t=(e._init(this,t),e.getId());return this._instances[t]=e},get:function(t){return this._instances.hasOwnProperty(t)?$.contains(document,this._instances[t]._input[0])?this._instances[t]:(delete this._instances[t],null):null}};Pe.lang.en={upload:"Upload",abort:"Abort",remove:"Remove",complete:"Complete",error:"Error",errorLoad:"Error uploading file",errorBadStatus:"Error uploading file. Bad request.",errorFilesLimit:"The number of selected files exceeds the limit (%filesLimit%)",errorSizeLimit:'File "%fileName%" exceeds the size limit (%sizeLimit%)',errorFileType:'File "%fileName%" is incorrect',errorOldBrowser:"Your browser can not upload files. Update to the latest version"},Pe.lang.ru={upload:"Загрузить",abort:"Остановить",remove:"Удалить",complete:"Готово",error:"Ошибка",errorLoad:"Ошибка при загрузке файла",errorBadStatus:"Ошибка при загрузке файла. Некорректный запрос.",errorFilesLimit:"Количество выбранных файлов превышает лимит (%filesLimit%)",errorSizeLimit:'Файл "%fileName%" превышает предельный размер (%sizeLimit%)',errorFileType:'Файл "%fileName%" является некорректным',errorOldBrowser:"Обновите ваш браузер до последней версии"},Pe.lang.es={upload:"Subir",abort:"Cancelar",remove:"Eliminar",complete:"Cargado",error:"Error",errorLoad:"Error al cargar el archivo",errorBadStatus:"Error al cargar el archivo. Solicitud no válida.",errorFilesLimit:"El número de archivo selecccionados excede el límite (%filesLimit%)",errorSizeLimit:'El archivo "%fileName%" excede el limite de tamaño (%sizeLimit%)',errorFileType:'El archivo "%fileName%" es inválido',errorOldBrowser:"Tu navegador no puede subir archivos. Actualiza a la última versión"},Pe.lang.pt={upload:"Enviar",abort:"Cancelar",remove:"Remover",complete:"Enviado",error:"Erro",errorLoad:"Erro ao carregar o arquivo",errorBadStatus:"Erro ao carregar o arquivo. Pedido inválido.",errorFilesLimit:"O número de arquivos selecionados excede o limite (%filesLimit%)",errorSizeLimit:'Arquivo "%fileName%" excede o limite (%sizeLimit%)',errorFileType:'Arquivo "%fileName%" inválido',errorOldBrowser:"Seu navegador não pode enviar os arquivos. Atualize para a versão mais recente"};var Le=function(){function r(t,e){l(this,r),e=$.extend(!0,{type:"fileUpload",name:null,label:null,labelWidth:null,width:null,prefix:null,suffix:null,description:null,errorText:null,fields:null,required:null,invalidText:null,validText:null,readonly:null,show:!0,position:null,noSend:null,options:{url:"",httpMethod:"post",fieldName:"file",showButton:!0,showDropzone:!1,autostart:!0,extraFields:!0,accept:null,timeout:null,filesLimit:null,sizeLimit:null,templateFile:null},on:null},e),n=this,e=[t,e],i=f(i=r),c(i=h(n,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}}}()?Reflect.construct(i,e||[],f(n).constructor):i.apply(n,e)),"_fileUp",null);var n,i,o=i;return t.on("show",function(){o._initEvents()}),i}return e(r,E),t(r,[{key:"readonly",value:function(t){this._value=this._getFiles(),this._readonly=!!t,this._fileUp&&this._fileUp.destruct(),$(".content-"+this.getContentId()).html(this.renderContent()),this._initEvents()}},{key:"getValue",value:function(){var t=this._getFiles();return $.each(t,function(t,e){e.hasOwnProperty("urlPreview")&&delete e.urlPreview,e.hasOwnProperty("urlDownload")&&delete e.urlDownload}),t}},{key:"setValue",value:function(t){var n;Array.isArray(t)&&((n=this)._fileUp.removeAll(),$.each(t,function(t,e){e instanceof File?n._fileUp.appendFile(e):g.isObject(e)&&n._fileUp.appendFileByData(e)}))}},{key:"validate",value:function(t,e){var n;this._readonly||((n=$(".content-"+this.getContentId())).find("> .validate-content").remove(),t?"string"==typeof(e=void 0===e&&"string"==typeof this._options.validText?this._options.validText:e)&&n.append('<div class="validate-content text-success">'+e+"</div>"):!1===t&&(void 0===e&&("string"==typeof this._options.invalidText?e=this._options.invalidText:!e&&this._options.required&&(e=this._form.getLang().required_field)),"string"==typeof e)&&n.append('<div class="validate-content text-danger">'+e+"</div>"))}},{key:"isValid",value:function(){return this._options.required&&this._fileUp?0<this._getFiles().length:null}},{key:"getFileUp",value:function(){return this._fileUp}},{key:"renderContent",value:function(){return this._readonly?this._renderContentReadonly():this._renderContent()}},{key:"_renderContent",value:function(){var t=this._form.getLang(),e=g.isObject(this._options.options)?this._options.options:{},n=!(g.isNumeric(e.filesLimit)&&1===Number(e.filesLimit)),i="string"==typeof e.accept&&e.accept?e.accept:null,e=$(g.render(d["fields/file-upload.html"],{id:this.getContentId(),showButton:!!e.showButton,showDropzone:!!e.showDropzone,isMultiple:n,accept:i,lang:t}));if(this._options.on&&g.isObject(this._options.on))for(var o=e.find("input").addBack("input"),r=this,s=0,l=Object.entries(this._options.on);s<l.length;s++)!function(){var t=v(l[s],2),e=t[0],n=t[1];"string"==typeof e&&"function"==typeof n&&o.on(e,function(t){n({field:r,event:t})})}();return e}},{key:"_renderContentReadonly",value:function(){var t=this._form.getLang(),e=g.isObject(this._options.options)?this._options.options:{},n=!(g.isNumeric(e.filesLimit)&&1===Number(e.filesLimit)),e="string"==typeof e.accept&&e.accept?e.accept:null;return g.render(d["fields/file-upload.html"],{id:this.getContentId(),showButton:!1,showDropzone:!1,isMultiple:n,accept:e,lang:t})}},{key:"_initEvents",value:function(){var t=g.isObject(this._options.options)?this._options.options:{},e=this._form.getOptions(),n=this.getContentId(),i=$("#fileup-"+n+"-queue"),o={url:"string"==typeof t.url?t.url:"",input:"fileup-"+n,queue:i};e.showDropzone&&(o.dropzone="fileup-"+n+"-dropzone"),"string"==typeof e.lang&&(o.lang=e.lang),"string"==typeof t.fieldName&&(o.fieldName=t.fieldName),"string"==typeof t.httpMethod&&(o.httpMethod=t.httpMethod),g.isObject(t.extraFields)&&(o.extraFields=t.extraFields),g.isNumeric(t.sizeLimit)&&(o.sizeLimit=t.sizeLimit),g.isNumeric(t.filesLimit)&&(o.filesLimit=t.filesLimit),g.isNumeric(t.timeout)&&(o.timeout=t.timeout),"boolean"==typeof t.autostart&&(o.autostart=t.autostart),"string"==typeof t.templateFile&&(o.templateFile=t.templateFile),this._readonly&&(o.showRemove=!1),Array.isArray(this._value)&&(o.files=this._value),this._fileUp=Pe.create(o),Array.isArray(this._value)&&0<this._value.length&&i.addClass("mt-2"),this._fileUp.on("select",function(t){i.addClass("mt-2")}),this._fileUp.on("remove",function(t){0===Object.keys(this.getFiles()).length&&setTimeout(function(){i.removeClass("mt-2")},150)}),this._fileUp.on("load_success",function(e,t){var n=null;if(t)try{n=JSON.parse(t)}catch(t){e.showError("Incorrect response JSON format")}n&&e.setOption("upload",n)})}},{key:"_getFiles",value:function(){var t,o;return this._fileUp?(t=this._fileUp.getFiles(),o=[],0<Object.keys(t).length&&$.each(t,function(t,e){var n=e.getFile(),i=e.getOptions();i.name=e.getName(),i.size=e.getSize(),n&&n instanceof File&&(i.type=n.type),o.push(i)}),o):[]}}])}();return I.lang.ru={modal_select:"Выбрать",modal_loading:"Загрузка...",switch_yes:"Да",switch_no:"Нет",dataset_add:"Добавить",date_months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],date_week:"неделя",file_upload_select:"Выберите файл",file_upload_dropzone:"Поместите сюда свои файлы",send_error:"Произошла ошибка. Попробуйте снова или обратитесь к администратору",required_field:"Обязательное поле",change:"изменить",cancel:"отмена"},I.lang.en={modal_select:"Select",modal_loading:"Loading...",switch_yes:"Yes",switch_no:"No",dataset_add:"Add",date_months:["January","February","March","April","May","June","July","August","September","October","November","December"],date_week:"week",file_upload_select:"Выберите файл",file_upload_dropzone:"Drop your files here",send_error:"An error has occurred. Please try again or contact your administrator",required_field:"Required field",change:"change",cancel:"cancel"},I.abstract.field=E,I.abstract.control=ee,I.controls.button=ne,I.controls.submit=ie,I.controls.link=oe,I.controls.custom=re,I.fields.checkboxBtn=le,I.fields.checkbox=se,I.fields.color=ue,I.fields.custom=ce,I.fields.dataset=fe,I.fields.group=he,I.fields.hidden=de,I.fields.input=ae,I.fields.mask=pe,I.fields.modal=_e,I.fields.number=ye,I.fields.radio=ve,I.fields.radioBtn=me,I.fields.range=ge,I.fields.select=be,I.fields.switch=Oe,I.fields.textarea=we,I.fields.wysiwyg=xe,I.fields.passwordRepeat=ke,I.fields.file=je,I.fields.fileUpload=Le,I});
//# sourceMappingURL=coreui-form.min.js.map
